{"parents": [], "prev": null, "next": null, "title": "How to Read Package READMEs", "meta": {"myst_slugs": {"how-to-read-package-readmes": [1, "how-to-read-package-readmes", "How to Read Package READMEs"], "readme-structure-at-a-glance": [7, "readme-structure-at-a-glance", "README Structure at a Glance"], "badge-reference": [30, "badge-reference", "Badge Reference"], "link-types": [49, "link-types", "Link Types"], "when-and-how-to-regenerate-readmes": [64, "when-and-how-to-regenerate-readmes", "When and How to Regenerate READMEs"], "doctoc-integration": [81, "doctoc-integration", "DocToc Integration"], "cli-flags-and-environment-variables": [87, "cli-flags-and-environment-variables", "CLI Flags and Environment Variables"], "examples": [103, "examples", "Examples"], "troubleshooting": [124, "troubleshooting", "Troubleshooting"], "quick-commands": [134, "quick-commands", "Quick Commands"], "relationship-to-navmap-and-testmap": [147, "relationship-to-navmap-and-testmap", "Relationship to NavMap and TestMap"]}, "wordcount": {"words": 541, "minutes": 3}}, "body": "<section id=\"how-to-read-package-readmes\">\n<h1>How to Read Package READMEs<a class=\"headerlink\" href=\"#how-to-read-package-readmes\" title=\"Link to this heading\">#</a></h1>\n<p>The autogenerated package READMEs provide a quick, structured view of every\npublic symbol in a package. This guide explains how to read them, how badges and\nlinks are constructed, and which commands keep the documents fresh.</p>\n<section id=\"readme-structure-at-a-glance\">\n<h2>README Structure at a Glance<a class=\"headerlink\" href=\"#readme-structure-at-a-glance\" title=\"Link to this heading\">#</a></h2>\n<p>Every generated README follows the same layout:</p>\n<ol class=\"arabic\">\n<li><p><strong>H1 Title</strong> \u2013 <code class=\"docutils literal notranslate\"><span class=\"pre\">#</span> <span class=\"pre\">`&lt;package&gt;`</span> </code> where <code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;package&gt;</span></code> is the fully qualified\npackage name.</p></li>\n<li><p><strong>Synopsis</strong> \u2013 The first sentence of the package <code class=\"docutils literal notranslate\"><span class=\"pre\">__init__</span></code> docstring. If\nno docstring exists you will see the fallback sentence\n<em>\u201cPackage synopsis not yet documented.\u201d</em></p></li>\n<li><p><strong>DocToc Markers</strong> \u2013 Two HTML comments that mark where DocToc inserts the\ntable of contents when you run it locally or via <code class=\"docutils literal notranslate\"><span class=\"pre\">--run-doctoc</span></code>.</p></li>\n<li><p><strong>Sections</strong> \u2013 Symbols are grouped deterministically into\n<code class=\"docutils literal notranslate\"><span class=\"pre\">Modules</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">Classes</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">Functions</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">Exceptions</span></code>. Empty sections are\nomitted.</p></li>\n<li><p><strong>Entries</strong> \u2013 Each symbol renders as:</p>\n<div class=\"highlight-markdown notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">-</span><span class=\"w\"> </span><span class=\"gs\">**`package.symbol`**</span> \u2014 First sentence of the symbol docstring\n  <span class=\"sb\">`stability:beta`</span> <span class=\"sb\">`owner:@docs`</span> <span class=\"sb\">`section:getting-started`</span>\n  <span class=\"sb\">`since:0.2.0`</span> <span class=\"sb\">`deprecated:0.5.0`</span> <span class=\"sb\">`tested-by: tests/unit/test_symbol.py:42`</span>\n  \u2192 [<span class=\"nt\">open</span>](<span class=\"na\">vscode://file/ABS:LINE:1</span>) | [<span class=\"nt\">view</span>](<span class=\"na\">https://github.com/org/repo/blob/SHA/path#Lstart-Lend</span>)\n</pre></div>\n</div>\n</li>\n</ol>\n</section>\n<section id=\"badge-reference\">\n<h2>Badge Reference<a class=\"headerlink\" href=\"#badge-reference\" title=\"Link to this heading\">#</a></h2>\n<p>Badges expose metadata captured in the NavMap (<code class=\"docutils literal notranslate\"><span class=\"pre\">site/_build/navmap/navmap.json</span></code>)\nand TestMap (<code class=\"docutils literal notranslate\"><span class=\"pre\">docs/_build/test_map.json</span></code>) artifacts. They always appear in the\nfollowing order:</p>\n<div class=\"pst-scrollable-table-container\"><table class=\"table\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Badge</p></th>\n<th class=\"head\"><p>Meaning</p></th>\n<th class=\"head\"><p>Source</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">stability:&lt;state&gt;</span></code></p></td>\n<td><p>Lifecycle state (<code class=\"docutils literal notranslate\"><span class=\"pre\">stable</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">beta</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">experimental</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">deprecated</span></code>)</p></td>\n<td><p>NavMap <code class=\"docutils literal notranslate\"><span class=\"pre\">meta</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">module_meta</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">owner:&lt;&#64;team&gt;</span></code></p></td>\n<td><p>Responsible team or individual</p></td>\n<td><p>NavMap</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">section:&lt;id&gt;</span></code></p></td>\n<td><p>Documentation section identifier</p></td>\n<td><p>NavMap <code class=\"docutils literal notranslate\"><span class=\"pre\">sections[*].id</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">since:&lt;version&gt;</span></code></p></td>\n<td><p>Version when the symbol was introduced</p></td>\n<td><p>NavMap</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">deprecated:&lt;version&gt;</span></code></p></td>\n<td><p>Version when the symbol became deprecated</p></td>\n<td><p>NavMap</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">tested-by:file[:line]</span></code></p></td>\n<td><p>Up to three test files that cover the symbol</p></td>\n<td><p>TestMap</p></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Badges wrap onto a new line once the combined summary + badge text exceeds 80\ncharacters; continuation lines are indented with four spaces so wrapped badges\nalign visually.</p>\n</section>\n<section id=\"link-types\">\n<h2>Link Types<a class=\"headerlink\" href=\"#link-types\" title=\"Link to this heading\">#</a></h2>\n<p>Two link columns appear to the right of each entry depending on the selected\nlink mode:</p>\n<ul class=\"simple\">\n<li><p><strong>[open]</strong> \u2013 Deep-link into your editor.</p>\n<ul>\n<li><p>VSCode: <code class=\"docutils literal notranslate\"><span class=\"pre\">vscode://file/&lt;abs_path&gt;:&lt;line&gt;:1</span></code></p></li>\n<li><p>Relative: <code class=\"docutils literal notranslate\"><span class=\"pre\">./&lt;repo-relative-path&gt;:&lt;line&gt;:1</span></code></p></li>\n</ul>\n</li>\n<li><p><strong>[view]</strong> \u2013 GitHub permalink to the exact line range in the current commit:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">https://github.com/&lt;org&gt;/&lt;repo&gt;/blob/&lt;sha&gt;/&lt;path&gt;#L&lt;start&gt;-L&lt;end&gt;</span></code></p></li>\n</ul>\n<p>Use <code class=\"docutils literal notranslate\"><span class=\"pre\">--link-mode</span> <span class=\"pre\">editor</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">--link-mode</span> <span class=\"pre\">github</span></code>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">--link-mode</span> <span class=\"pre\">both</span></code> to control\nwhich column appears. Pair <code class=\"docutils literal notranslate\"><span class=\"pre\">--editor</span> <span class=\"pre\">relative</span></code> with <code class=\"docutils literal notranslate\"><span class=\"pre\">--link-mode</span> <span class=\"pre\">editor</span></code> when you\nshare READMEs outside of VSCode.</p>\n</section>\n<section id=\"when-and-how-to-regenerate-readmes\">\n<h2>When and How to Regenerate READMEs<a class=\"headerlink\" href=\"#when-and-how-to-regenerate-readmes\" title=\"Link to this heading\">#</a></h2>\n<p>Regenerate READMEs whenever you:</p>\n<ul class=\"simple\">\n<li><p>modify docstrings or public APIs in a package</p></li>\n<li><p>update NavMap/TestMap metadata (owners, stability, tests)</p></li>\n<li><p>add or remove Python modules, classes, functions, or exceptions</p></li>\n</ul>\n<p>To regenerate all READMEs:</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>python<span class=\"w\"> </span>tools/gen_readmes.py<span class=\"w\"> </span>--link-mode<span class=\"w\"> </span>both<span class=\"w\"> </span>--editor<span class=\"w\"> </span>vscode\n</pre></div>\n</div>\n<p>To regenerate a subset, set <code class=\"docutils literal notranslate\"><span class=\"pre\">DOCS_PKG</span></code> (comma-separated list) or pass\n<code class=\"docutils literal notranslate\"><span class=\"pre\">--packages</span></code> explicitly.</p>\n<section id=\"doctoc-integration\">\n<h3>DocToc Integration<a class=\"headerlink\" href=\"#doctoc-integration\" title=\"Link to this heading\">#</a></h3>\n<p>Pass <code class=\"docutils literal notranslate\"><span class=\"pre\">--run-doctoc</span></code> to invoke DocToc automatically after each README write. The\ncommand checks for the <code class=\"docutils literal notranslate\"><span class=\"pre\">doctoc</span></code> binary (npm) and skips gracefully if it is not\ninstalled.</p>\n</section>\n</section>\n<section id=\"cli-flags-and-environment-variables\">\n<h2>CLI Flags and Environment Variables<a class=\"headerlink\" href=\"#cli-flags-and-environment-variables\" title=\"Link to this heading\">#</a></h2>\n<div class=\"pst-scrollable-table-container\"><table class=\"table\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Flag</p></th>\n<th class=\"head\"><p>Environment Variable</p></th>\n<th class=\"head\"><p>Description</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">--packages</span></code></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">DOCS_PKG</span></code></p></td>\n<td><p>Comma-separated list of packages to document. Auto-detected when omitted.</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">--link-mode</span></code></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">DOCS_LINK_MODE</span></code></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">github</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">editor</span></code>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">both</span></code>. Defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">both</span></code>.</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">--editor</span></code></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">DOCS_EDITOR</span></code></p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">vscode</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">relative</span></code>. Controls editor link format.</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">--fail-on-metadata-miss</span></code></p></td>\n<td><p>\u2013</p></td>\n<td><p>Exit with code 2 when <code class=\"docutils literal notranslate\"><span class=\"pre\">owner</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">stability</span></code> metadata is missing.</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">--dry-run</span></code></p></td>\n<td><p>\u2013</p></td>\n<td><p>Print planned writes without touching the filesystem.</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">--verbose</span></code></p></td>\n<td><p>\u2013</p></td>\n<td><p>Emit timing information and DocToc output.</p></td>\n</tr>\n<tr class=\"row-even\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">--run-doctoc</span></code></p></td>\n<td><p>\u2013</p></td>\n<td><p>Run DocToc after writing each README (requires the <code class=\"docutils literal notranslate\"><span class=\"pre\">doctoc</span></code> CLI).</p></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Additional environment overrides: <code class=\"docutils literal notranslate\"><span class=\"pre\">DOCS_GITHUB_ORG</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">DOCS_GITHUB_REPO</span></code>, and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">DOCS_GITHUB_SHA</span></code> customise the permalink target when working outside of a git\nrepository.</p>\n</section>\n<section id=\"examples\">\n<h2>Examples<a class=\"headerlink\" href=\"#examples\" title=\"Link to this heading\">#</a></h2>\n<p><em>Generate READMEs for two packages and open links in VSCode</em></p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nv\">DOCS_PKG</span><span class=\"o\">=</span>kgfoundry_common,download<span class=\"w\"> </span><span class=\"se\">\\</span>\npython<span class=\"w\"> </span>tools/gen_readmes.py<span class=\"w\"> </span>--link-mode<span class=\"w\"> </span>both<span class=\"w\"> </span>--editor<span class=\"w\"> </span>vscode\n</pre></div>\n</div>\n<p><em>Render GitHub-only links for CI validation</em></p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>python<span class=\"w\"> </span>tools/gen_readmes.py<span class=\"w\"> </span>--link-mode<span class=\"w\"> </span>github<span class=\"w\"> </span>--editor<span class=\"w\"> </span>relative\n</pre></div>\n</div>\n<p><em>Preview without writing to disk</em></p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>python<span class=\"w\"> </span>tools/gen_readmes.py<span class=\"w\"> </span>--dry-run<span class=\"w\"> </span>--packages<span class=\"w\"> </span>kgfoundry_common\n</pre></div>\n</div>\n</section>\n<section id=\"troubleshooting\">\n<h2>Troubleshooting<a class=\"headerlink\" href=\"#troubleshooting\" title=\"Link to this heading\">#</a></h2>\n<div class=\"pst-scrollable-table-container\"><table class=\"table\">\n<thead>\n<tr class=\"row-odd\"><th class=\"head\"><p>Symptom</p></th>\n<th class=\"head\"><p>Likely Cause</p></th>\n<th class=\"head\"><p>Fix</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"row-even\"><td><p>Missing badges</p></td>\n<td><p>NavMap/TestMap not built</p></td>\n<td><p>Run <code class=\"docutils literal notranslate\"><span class=\"pre\">python</span> <span class=\"pre\">tools/navmap/build_navmap.py</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">python</span> <span class=\"pre\">tools/docs/build_test_map.py</span></code></p></td>\n</tr>\n<tr class=\"row-odd\"><td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">tested-by</span></code> empty</p></td>\n<td><p>No tests recorded for the symbol</p></td>\n<td><p>Add coverage to <code class=\"docutils literal notranslate\"><span class=\"pre\">docs/_build/test_map.json</span></code> via <code class=\"docutils literal notranslate\"><span class=\"pre\">build_test_map.py</span></code></p></td>\n</tr>\n<tr class=\"row-even\"><td><p>No README written</p></td>\n<td><p>Package lacks public symbols</p></td>\n<td><p>Add public modules/classes/functions or run with <code class=\"docutils literal notranslate\"><span class=\"pre\">--verbose</span></code> to inspect filtering</p></td>\n</tr>\n<tr class=\"row-odd\"><td><p>Absolute VSCode paths</p></td>\n<td><p>Using default <code class=\"docutils literal notranslate\"><span class=\"pre\">vscode</span></code> editor mode outside repo root</p></td>\n<td><p>Switch to <code class=\"docutils literal notranslate\"><span class=\"pre\">--editor</span> <span class=\"pre\">relative</span></code></p></td>\n</tr>\n<tr class=\"row-even\"><td><p>DocToc skipped</p></td>\n<td><p>CLI not installed</p></td>\n<td><p><code class=\"docutils literal notranslate\"><span class=\"pre\">npm</span> <span class=\"pre\">install</span> <span class=\"pre\">-g</span> <span class=\"pre\">doctoc</span></code></p></td>\n</tr>\n</tbody>\n</table>\n</div>\n</section>\n<section id=\"quick-commands\">\n<h2>Quick Commands<a class=\"headerlink\" href=\"#quick-commands\" title=\"Link to this heading\">#</a></h2>\n<ul>\n<li><p><strong>Regenerate everything:</strong> <code class=\"docutils literal notranslate\"><span class=\"pre\">python</span> <span class=\"pre\">tools/gen_readmes.py</span></code></p></li>\n<li><p><strong>One package only:</strong> <code class=\"docutils literal notranslate\"><span class=\"pre\">DOCS_PKG=kgfoundry_common</span> <span class=\"pre\">python</span> <span class=\"pre\">tools/gen_readmes.py</span></code></p></li>\n<li><p><strong>Run DocToc automatically:</strong> <code class=\"docutils literal notranslate\"><span class=\"pre\">python</span> <span class=\"pre\">tools/gen_readmes.py</span> <span class=\"pre\">--run-doctoc</span></code></p></li>\n<li><p><strong>Enforce metadata completeness:</strong> <code class=\"docutils literal notranslate\"><span class=\"pre\">python</span> <span class=\"pre\">tools/gen_readmes.py</span> <span class=\"pre\">--fail-on-metadata-miss</span></code></p></li>\n<li><p><strong>Validate README freshness (CI-equivalent):</strong></p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>python<span class=\"w\"> </span>tools/gen_readmes.py<span class=\"w\"> </span>--link-mode<span class=\"w\"> </span>github<span class=\"w\"> </span>--editor<span class=\"w\"> </span>relative\ngit<span class=\"w\"> </span>diff<span class=\"w\"> </span>--<span class=\"w\"> </span>src/**/README.md\n</pre></div>\n</div>\n</li>\n</ul>\n</section>\n<section id=\"relationship-to-navmap-and-testmap\">\n<h2>Relationship to NavMap and TestMap<a class=\"headerlink\" href=\"#relationship-to-navmap-and-testmap\" title=\"Link to this heading\">#</a></h2>\n<ul class=\"simple\">\n<li><p>The <strong>NavMap</strong> drives ownership, stability, section, and version badges. If\na symbol lacks metadata the generator falls back to module defaults.</p></li>\n<li><p>The <strong>TestMap</strong> contributes up to three \u201ctested-by\u201d references per symbol,\nprioritising unit tests first. Missing TestMap entries simply omit the badge.</p></li>\n</ul>\n<p>Keep both artifacts current to produce meaningful READMEs.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"]], "sourcename": "how-to/read-package-readmes.md.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">How to Read Package READMEs</a><ul>\n<li><a class=\"reference internal\" href=\"#readme-structure-at-a-glance\">README Structure at a Glance</a></li>\n<li><a class=\"reference internal\" href=\"#badge-reference\">Badge Reference</a></li>\n<li><a class=\"reference internal\" href=\"#link-types\">Link Types</a></li>\n<li><a class=\"reference internal\" href=\"#when-and-how-to-regenerate-readmes\">When and How to Regenerate READMEs</a><ul>\n<li><a class=\"reference internal\" href=\"#doctoc-integration\">DocToc Integration</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#cli-flags-and-environment-variables\">CLI Flags and Environment Variables</a></li>\n<li><a class=\"reference internal\" href=\"#examples\">Examples</a></li>\n<li><a class=\"reference internal\" href=\"#troubleshooting\">Troubleshooting</a></li>\n<li><a class=\"reference internal\" href=\"#quick-commands\">Quick Commands</a></li>\n<li><a class=\"reference internal\" href=\"#relationship-to-navmap-and-testmap\">Relationship to NavMap and TestMap</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".md", "has_maths_elements": false, "current_page_name": "how-to/read-package-readmes", "sidebars": ["sidebar-nav-bs.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "theme_show_toc_level": 1, "generate_toctree_html": "<functools._lru_cache_wrapper object at 0x7628d57321f0>", "generate_toc_html": "<functools._lru_cache_wrapper object at 0x7628d57322a0>", "theme_version": "0.16.1", "theme_logo": {"image_relative": {}}}
