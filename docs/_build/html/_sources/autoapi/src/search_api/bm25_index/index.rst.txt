src.search_api.bm25_index
=========================

.. py:module:: src.search_api.bm25_index

.. autoapi-nested-parse::

   Bm25 Index utilities.

   ..
       !! processed by numpydoc !!






Module Contents
---------------

.. py:function:: toks(text)

   
   Return toks.

   :param text: Description for ``text``.
   :type text: str

   :returns: *List[str]* -- Description of return value.















   ..
       !! processed by numpydoc !!

.. py:class:: BM25Doc

   
   Describe BM25Doc.
















   ..
       !! processed by numpydoc !!

   .. py:attribute:: chunk_id
      :type:  str


   .. py:attribute:: doc_id
      :type:  str


   .. py:attribute:: title
      :type:  str


   .. py:attribute:: section
      :type:  str


   .. py:attribute:: tf
      :type:  dict[str, float]


   .. py:attribute:: dl
      :type:  float


.. py:class:: BM25Index(k1 = 0.9, b = 0.4)

   
   Describe BM25Index.
















   ..
       !! processed by numpydoc !!

   .. py:attribute:: k1
      :value: 0.9



   .. py:attribute:: b
      :value: 0.4



   .. py:attribute:: docs
      :type:  list[BM25Doc]
      :value: []



   .. py:attribute:: df
      :type:  dict[str, int]


   .. py:attribute:: N
      :value: 0



   .. py:attribute:: avgdl
      :value: 0.0



   .. py:method:: build_from_duckdb(db_path)
      :classmethod:


      
      Return build from duckdb.

      :param db_path: Description for ``db_path``.
      :type db_path: str

      :returns: *BM25Index* -- Description of return value.















      ..
          !! processed by numpydoc !!


   .. py:method:: _build(rows)

      
      Return build.

      :param rows: Description for ``rows``.
      :type rows: Iterable[Tuple[str, str, str, str, str]]















      ..
          !! processed by numpydoc !!


   .. py:method:: save(path)

      
      Return save.

      :param path: Description for ``path``.
      :type path: str















      ..
          !! processed by numpydoc !!


   .. py:method:: load(path)
      :classmethod:


      
      Return load.

      :param path: Description for ``path``.
      :type path: str

      :returns: *BM25Index* -- Description of return value.















      ..
          !! processed by numpydoc !!


   .. py:method:: _idf(term)

      
      Return idf.

      :param term: Description for ``term``.
      :type term: str

      :returns: *float* -- Description of return value.















      ..
          !! processed by numpydoc !!


   .. py:method:: search(query, k = 10)

      
      Return search.

      :param query: Description for ``query``.
      :type query: str
      :param k: Description for ``k``.
      :type k: int | None

      :returns: *List[Tuple[int, float]]* -- Description of return value.















      ..
          !! processed by numpydoc !!


   .. py:method:: doc(index)

      
      Return doc.

      :param index: Description for ``index``.
      :type index: int

      :returns: *BM25Doc* -- Description of return value.















      ..
          !! processed by numpydoc !!


