{
  "$id": "https://kgfoundry/schemas/kgfoundry.kgfoundry_common.settings.SearchConfig.json#",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "Configuration for the hybrid search service (``KGFOUNDRY_SEARCH_*``).",
  "examples": [
    {
      "api_url": {},
      "dense_candidates": 200,
      "k": 10,
      "kg_boosts_direct": 0.08,
      "kg_boosts_one_hop": 0.04,
      "rrf_k": 60,
      "sparse_backend": "lucene",
      "sparse_candidates": 200,
      "validate_responses": false
    }
  ],
  "properties": {
    "api_url": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Search API base URL (required if search features are used)",
      "title": "Api Url"
    },
    "dense_candidates": {
      "default": 200,
      "description": "Number of dense candidates for hybrid search",
      "title": "Dense Candidates",
      "type": "integer"
    },
    "k": {
      "default": 10,
      "description": "Default number of results to return",
      "title": "K",
      "type": "integer"
    },
    "kg_boosts_direct": {
      "default": 0.08,
      "description": "Direct KG boost weight",
      "title": "Kg Boosts Direct",
      "type": "number"
    },
    "kg_boosts_one_hop": {
      "default": 0.04,
      "description": "One-hop KG boost weight",
      "title": "Kg Boosts One Hop",
      "type": "number"
    },
    "rrf_k": {
      "default": 60,
      "description": "Reciprocal Rank Fusion parameter",
      "title": "Rrf K",
      "type": "integer"
    },
    "sparse_backend": {
      "default": "lucene",
      "description": "Sparse backend type ('lucene' or 'pure')",
      "title": "Sparse Backend",
      "type": "string"
    },
    "sparse_candidates": {
      "default": 200,
      "description": "Number of sparse candidates for hybrid search",
      "title": "Sparse Candidates",
      "type": "integer"
    },
    "validate_responses": {
      "default": false,
      "description": "Enable response schema validation (dev/staging only)",
      "title": "Validate Responses",
      "type": "boolean"
    }
  },
  "title": "SearchConfig",
  "type": "object"
}
