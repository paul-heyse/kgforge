{
  "path": "__init__.py",
  "repo_path": "codeintel_rev/__init__.py",
  "module_name": "codeintel_rev.codeintel_rev",
  "stable_id": "fc65db7f364d",
  "docstring": "CodeIntel MCP package exposing server, indexing, and retrieval APIs.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "CodeIntel MCP package exposing server, indexing, and retrieval APIs.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 0,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "_lazy_imports.py",
  "repo_path": "codeintel_rev/_lazy_imports.py",
  "module_name": "codeintel_rev._lazy_imports",
  "stable_id": "a996c1fd152b",
  "docstring": "Helpers for lazily importing heavy optional dependencies.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "LazyModule",
      "lineno": 11
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Helpers for lazily importing heavy optional dependencies.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "LazyModule",
      "qualname": "LazyModule",
      "kind": "class",
      "public": true,
      "lineno": 11,
      "doc_summary": "Proxy object that imports a module only when accessed.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 43
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 15,
  "fan_out": 1,
  "cycle_group": 2,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.096,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "app/__init__.py",
  "repo_path": "codeintel_rev/app/__init__.py",
  "module_name": "codeintel_rev.app",
  "stable_id": "d8e35848e1b8",
  "docstring": "FastAPI application wiring for the CodeIntel MCP server.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "FastAPI application wiring for the CodeIntel MCP server.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 0,
  "cycle_group": 3,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.032,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "app/capabilities.py",
  "repo_path": "codeintel_rev/app/capabilities.py",
  "module_name": "codeintel_rev.app.capabilities",
  "stable_id": "1a4e6a68f4f6",
  "docstring": "Capability snapshot helpers for conditional tool registration and /capz.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "hashlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib.util"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Final",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.otel_metrics",
      "names": [
        "GaugeLike",
        "build_gauge"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.typing.heavy_deps",
      "names": [
        "EXTRAS_HINT"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "RuntimeLifecycleError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "as_span",
        "set_current_span_attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 25
    },
    {
      "kind": "function",
      "name": "_build_capability_gauge",
      "lineno": 28
    },
    {
      "kind": "function",
      "name": "_import_optional",
      "lineno": 90
    },
    {
      "kind": "function",
      "name": "_probe_faiss_gpu",
      "lineno": 125
    },
    {
      "kind": "function",
      "name": "_path_exists",
      "lineno": 162
    },
    {
      "kind": "function",
      "name": "_record_metrics",
      "lineno": 184
    },
    {
      "kind": "class",
      "name": "Capabilities",
      "lineno": 191
    }
  ],
  "exports": [
    "Capabilities"
  ],
  "exports_declared": [
    "Capabilities"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Capability snapshot helpers for conditional tool registration and /capz.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_build_capability_gauge",
      "qualname": "_build_capability_gauge",
      "kind": "function",
      "public": false,
      "lineno": 28,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_import_optional",
      "qualname": "_import_optional",
      "kind": "function",
      "public": false,
      "lineno": 90,
      "doc_summary": "Return imported module when available, otherwise ``None``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_probe_faiss_gpu",
      "qualname": "_probe_faiss_gpu",
      "kind": "function",
      "public": false,
      "lineno": 125,
      "doc_summary": "Return FAISS GPU availability and optional reason for failure.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_path_exists",
      "qualname": "_path_exists",
      "kind": "function",
      "public": false,
      "lineno": 162,
      "doc_summary": "Return True when ``path`` is populated and exists on the filesystem.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_record_metrics",
      "qualname": "_record_metrics",
      "kind": "function",
      "public": false,
      "lineno": 184,
      "doc_summary": "Update Prometheus gauges with the latest capability snapshot.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "Capabilities",
      "qualname": "Capabilities",
      "kind": "class",
      "public": true,
      "lineno": 191,
      "doc_summary": "Capability snapshot used for MCP tool gating and the /capz endpoint.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 25,
    "cyclomatic": 26,
    "loc": 382
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 6,
  "fan_out": 5,
  "cycle_group": 41,
  "imports_internal": [
    "app/config_context.py",
    "errors.py",
    "observability/otel.py",
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "errors.py",
    "observability/otel.py",
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.529,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 9,
  "recent_churn_90": 9
}
{
  "path": "app/config_context.py",
  "repo_path": "codeintel_rev/app/config_context.py",
  "module_name": "codeintel_rev.app.config_context",
  "stable_id": "476c3a65fd11",
  "docstring": "Application-level configuration context manager.\n\nThis module provides centralized configuration lifecycle management for the\nCodeIntel MCP application. Instead of loading settings repeatedly from environment\nvariables on each request, configuration is loaded exactly once during FastAPI\napplication startup and shared across all request handlers via explicit dependency\ninjection.\n\nKey Components\n--------------\nResolvedPaths : dataclass\n    Canonicalized absolute filesystem paths for all application resources.\nApplicationContext : dataclass\n    Application-wide context holding configuration and long-lived clients.\nresolve_application_paths : function\n    Validates and resolves all configured paths relative to repository root.\n\nDesign Principles\n-----------------\n- **Load Once**: Configuration parsed from environment exactly once at startup\n- **Explicit Injection**: Context passed as parameter (no global state)\n- **Fail-Fast**: Invalid configuration prevents application startup\n- **Immutable**: Settings frozen after creation (thread-safe)\n- **RFC 9457**: All errors use Problem Details format\n\nExample Usage\n-------------\nDuring FastAPI application startup:\n\n>>> # In lifespan() function\n>>> context = ApplicationContext.create()\n>>> app.state.context = context\n\nIn request handlers:\n\n>>> # In MCP tool wrapper\n>>> context = request.app.state.context\n>>> files_adapter.list_paths(context, path=\"src\")\n\nSee Also\n--------\ncodeintel_rev.app.readiness : Readiness probe system for health checks\ncodeintel_rev.config.settings : Settings dataclasses and environment loading\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager",
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "Lock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "Protocol",
        "TypeVar",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "codeintel_rev.observability.metrics"
      ],
      "aliases": {
        "codeintel_rev.observability.metrics": "_retrieval_metrics"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.capabilities",
      "names": [
        "Capabilities"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.scope_store",
      "names": [
        "ScopeStore"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "IndexConfig",
        "Settings",
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "RuntimeLifecycleError",
        "RuntimeUnavailableError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.evaluation.offline_recall",
      "names": [
        "OfflineRecallEvaluator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.index_lifecycle",
      "names": [
        "IndexLifecycleManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_catalog",
      "names": [
        "DuckDBCatalog"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.faiss_manager",
      "names": [
        "FAISSManager",
        "FAISSRuntimeOptions"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.git_client",
      "names": [
        "AsyncGitClient",
        "GitClient"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.vllm_client",
      "names": [
        "VLLMClient"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime",
      "names": [
        "NullRuntimeCellObserver",
        "RuntimeCell",
        "RuntimeCellObserver"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.factory_adjustment",
      "names": [
        "DefaultFactoryAdjuster",
        "FactoryAdjuster",
        "NoopFactoryAdjuster"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "ConfigurationError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.scope_store",
      "names": [
        "SupportsAsyncRedis"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.hybrid_search",
      "names": [
        "HybridSearchEngine"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.xtr_manager",
      "names": [
        "XTRIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "HybridSearchEngine",
      "lineno": 92
    },
    {
      "kind": "variable",
      "name": "XTRIndex",
      "lineno": 93
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 95
    },
    {
      "kind": "class",
      "name": "_RetrievalMetrics",
      "lineno": 101
    },
    {
      "kind": "variable",
      "name": "retrieval_metrics",
      "lineno": 136
    },
    {
      "kind": "function",
      "name": "_infer_index_root",
      "lineno": 141
    },
    {
      "kind": "function",
      "name": "_build_factory_adjuster",
      "lineno": 171
    },
    {
      "kind": "function",
      "name": "_build_faiss_manager",
      "lineno": 204
    },
    {
      "kind": "function",
      "name": "_build_scope_store",
      "lineno": 247
    },
    {
      "kind": "function",
      "name": "_build_git_clients",
      "lineno": 273
    },
    {
      "kind": "function",
      "name": "_assign_frozen",
      "lineno": 298
    },
    {
      "kind": "function",
      "name": "_faiss_module",
      "lineno": 303
    },
    {
      "kind": "function",
      "name": "_import_faiss_manager_cls",
      "lineno": 319
    },
    {
      "kind": "function",
      "name": "_import_faiss_runtime_opts_cls",
      "lineno": 331
    },
    {
      "kind": "function",
      "name": "_faiss_runtime_options_from_index",
      "lineno": 343
    },
    {
      "kind": "function",
      "name": "_import_hybrid_engine_cls",
      "lineno": 384
    },
    {
      "kind": "function",
      "name": "_import_xtr_index_cls",
      "lineno": 401
    },
    {
      "kind": "function",
      "name": "_require_dependency",
      "lineno": 418
    },
    {
      "kind": "function",
      "name": "_ensure_path_exists",
      "lineno": 477
    },
    {
      "kind": "class",
      "name": "ResolvedPaths",
      "lineno": 537
    },
    {
      "kind": "function",
      "name": "resolve_application_paths",
      "lineno": 596
    },
    {
      "kind": "variable",
      "name": "T",
      "lineno": 711
    },
    {
      "kind": "class",
      "name": "_FaissRuntimeState",
      "lineno": 714
    },
    {
      "kind": "class",
      "name": "_ContextRuntimeState",
      "lineno": 726
    },
    {
      "kind": "class",
      "name": "ApplicationContext",
      "lineno": 766
    }
  ],
  "exports": [
    "ApplicationContext",
    "ResolvedPaths",
    "resolve_application_paths"
  ],
  "exports_declared": [
    "ApplicationContext",
    "ResolvedPaths",
    "resolve_application_paths"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Application-level configuration context manager.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "_RetrievalMetrics",
      "qualname": "_RetrievalMetrics",
      "kind": "class",
      "public": false,
      "lineno": 101,
      "doc_summary": "Protocol defining the interface for retrieval metrics collection.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_infer_index_root",
      "qualname": "_infer_index_root",
      "kind": "function",
      "public": false,
      "lineno": 141,
      "doc_summary": "Return the directory that stores versioned index assets.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_factory_adjuster",
      "qualname": "_build_factory_adjuster",
      "kind": "function",
      "public": false,
      "lineno": 171,
      "doc_summary": "Return a DefaultFactoryAdjuster derived from settings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_faiss_manager",
      "qualname": "_build_faiss_manager",
      "kind": "function",
      "public": false,
      "lineno": 204,
      "doc_summary": "Construct and log the FAISS manager for the main index.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_scope_store",
      "qualname": "_build_scope_store",
      "kind": "function",
      "public": false,
      "lineno": 247,
      "doc_summary": "Return the session scope store backed by redis.asyncio.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_git_clients",
      "qualname": "_build_git_clients",
      "kind": "function",
      "public": false,
      "lineno": 273,
      "doc_summary": "Initialize Git clients for blame and history operations.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_assign_frozen",
      "qualname": "_assign_frozen",
      "kind": "function",
      "public": false,
      "lineno": 298,
      "doc_summary": "Assign attribute on a frozen dataclass instance.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_faiss_module",
      "qualname": "_faiss_module",
      "kind": "function",
      "public": false,
      "lineno": 303,
      "doc_summary": "Return the cached FAISS manager module.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_import_faiss_manager_cls",
      "qualname": "_import_faiss_manager_cls",
      "kind": "function",
      "public": false,
      "lineno": 319,
      "doc_summary": "Import ``FAISSManager`` lazily to keep module import costs low.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_import_faiss_runtime_opts_cls",
      "qualname": "_import_faiss_runtime_opts_cls",
      "kind": "function",
      "public": false,
      "lineno": 331,
      "doc_summary": "Return the FAISS runtime options dataclass.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_faiss_runtime_options_from_index",
      "qualname": "_faiss_runtime_options_from_index",
      "kind": "function",
      "public": false,
      "lineno": 343,
      "doc_summary": "Materialize FAISS runtime options from the structured index config.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_import_hybrid_engine_cls",
      "qualname": "_import_hybrid_engine_cls",
      "kind": "function",
      "public": false,
      "lineno": 384,
      "doc_summary": "Import ``HybridSearchEngine`` lazily for runtime cell initialization.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_import_xtr_index_cls",
      "qualname": "_import_xtr_index_cls",
      "kind": "function",
      "public": false,
      "lineno": 401,
      "doc_summary": "Import ``XTRIndex`` lazily to avoid eager heavy dependencies.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_require_dependency",
      "qualname": "_require_dependency",
      "kind": "function",
      "public": false,
      "lineno": 418,
      "doc_summary": "Ensure a heavy dependency is available, raising RuntimeUnavailableError.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_ensure_path_exists",
      "qualname": "_ensure_path_exists",
      "kind": "function",
      "public": false,
      "lineno": 477,
      "doc_summary": "Validate that a filesystem path exists for a given runtime.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "ResolvedPaths",
      "qualname": "ResolvedPaths",
      "kind": "class",
      "public": true,
      "lineno": 537,
      "doc_summary": "Canonicalized filesystem paths for runtime operations.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    },
    {
      "name": "resolve_application_paths",
      "qualname": "resolve_application_paths",
      "kind": "function",
      "public": true,
      "lineno": 596,
      "doc_summary": "Resolve all configured paths to absolute paths.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_FaissRuntimeState",
      "qualname": "_FaissRuntimeState",
      "kind": "class",
      "public": false,
      "lineno": 714,
      "doc_summary": "Runtime bookkeeping for FAISS initialization.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ContextRuntimeState",
      "qualname": "_ContextRuntimeState",
      "kind": "class",
      "public": false,
      "lineno": 726,
      "doc_summary": "Mutable runtime state backing the frozen ApplicationContext.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ApplicationContext",
      "qualname": "ApplicationContext",
      "kind": "class",
      "public": true,
      "lineno": 766,
      "doc_summary": "Application-wide context holding all configuration and long-lived clients.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": true,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 70,
    "cyclomatic": 71,
    "loc": 1583
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 26,
  "fan_out": 17,
  "cycle_group": 41,
  "imports_internal": [
    "app/capabilities.py",
    "app/scope_store.py",
    "config/settings.py",
    "errors.py",
    "evaluation/offline_recall.py",
    "indexing/index_lifecycle.py",
    "io/duckdb_catalog.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/git_client.py",
    "io/hybrid_search.py",
    "io/vllm_client.py",
    "io/xtr_manager.py",
    "observability/metrics.py",
    "runtime/__init__.py",
    "runtime/factory_adjustment.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/capabilities.py",
    "app/scope_store.py",
    "config/settings.py",
    "errors.py",
    "evaluation/offline_recall.py",
    "indexing/index_lifecycle.py",
    "io/duckdb_catalog.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/git_client.py",
    "io/hybrid_search.py",
    "io/vllm_client.py",
    "io/xtr_manager.py",
    "observability/metrics.py",
    "runtime/__init__.py",
    "runtime/factory_adjustment.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.343,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 36,
  "recent_churn_90": 36
}
{
  "path": "app/gpu_warmup.py",
  "repo_path": "codeintel_rev/app/gpu_warmup.py",
  "module_name": "codeintel_rev.app.gpu_warmup",
  "stable_id": "ce97dca5cc4a",
  "docstring": "GPU warmup and initialization sequence.\n\nPerforms comprehensive GPU availability checks and warmup operations to ensure\nGPU is reachable and functional before expensive operations begin.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "functools",
      "names": [
        "lru_cache"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "SupportsInt",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "GPU_AVAILABLE",
        "GPU_TEMP_SCRATCH_BYTES"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "FaissModule",
        "NumpyModule",
        "TorchModule",
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 17
    },
    {
      "kind": "variable",
      "name": "np",
      "lineno": 25
    },
    {
      "kind": "function",
      "name": "_check_cuda_availability",
      "lineno": 28
    },
    {
      "kind": "function",
      "name": "_check_faiss_gpu_support",
      "lineno": 64
    },
    {
      "kind": "function",
      "name": "_test_torch_gpu_operations",
      "lineno": 97
    },
    {
      "kind": "function",
      "name": "_test_faiss_gpu_resources",
      "lineno": 123
    },
    {
      "kind": "function",
      "name": "warmup_gpu",
      "lineno": 155
    }
  ],
  "exports": [
    "warmup_gpu"
  ],
  "exports_declared": [
    "warmup_gpu"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "GPU warmup and initialization sequence.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "_check_cuda_availability",
      "qualname": "_check_cuda_availability",
      "kind": "function",
      "public": false,
      "lineno": 28,
      "doc_summary": "Check CUDA availability via PyTorch.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_check_faiss_gpu_support",
      "qualname": "_check_faiss_gpu_support",
      "kind": "function",
      "public": false,
      "lineno": 64,
      "doc_summary": "Check FAISS GPU support.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_test_torch_gpu_operations",
      "qualname": "_test_torch_gpu_operations",
      "kind": "function",
      "public": false,
      "lineno": 97,
      "doc_summary": "Test basic GPU tensor operations using PyTorch.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_test_faiss_gpu_resources",
      "qualname": "_test_faiss_gpu_resources",
      "kind": "function",
      "public": false,
      "lineno": 123,
      "doc_summary": "Test FAISS GPU resource initialization.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "warmup_gpu",
      "qualname": "warmup_gpu",
      "kind": "function",
      "public": true,
      "lineno": 155,
      "doc_summary": "Perform GPU warmup sequence to verify GPU availability and functionality.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 20,
    "cyclomatic": 21,
    "loc": 255
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 3,
  "cycle_group": 42,
  "imports_internal": [
    "_lazy_imports.py",
    "metrics/registry.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "metrics/registry.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.118,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 18,
  "recent_churn_90": 18
}
{
  "path": "app/main.py",
  "repo_path": "codeintel_rev/app/main.py",
  "module_name": "codeintel_rev.app.main",
  "stable_id": "9aab31a081fa",
  "docstring": "FastAPI application with MCP server mount.\n\nProvides health/readiness endpoints, CORS, and streaming support.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "signal"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "threading"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "traceback"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "uuid"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "AsyncIterator",
        "Awaitable",
        "Callable",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "asynccontextmanager",
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib.metadata",
      "names": [
        "PackageNotFoundError",
        "version"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "FrameType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "fastapi",
      "names": [
        "FastAPI",
        "HTTPException",
        "Request"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "fastapi.middleware.cors",
      "names": [
        "CORSMiddleware"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "fastapi.responses",
      "names": [
        "JSONResponse",
        "PlainTextResponse",
        "StreamingResponse"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hypercorn.middleware",
      "names": [
        "ProxyFixMiddleware"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hypercorn.typing",
      "names": [
        "ASGIFramework"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "starlette.middleware.trustedhost",
      "names": [
        "TrustedHostMiddleware"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "starlette.responses",
      "names": [
        "Response"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "starlette.types",
      "names": [
        "ASGIApp"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.capabilities",
      "names": [
        "Capabilities"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.gpu_warmup",
      "names": [
        "warmup_gpu"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.middleware",
      "names": [
        "SessionScopeMiddleware"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.readiness",
      "names": [
        "ReadinessProbe"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.routers",
      "names": [
        "index_admin"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.server_settings",
      "names": [
        "get_server_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "RuntimeUnavailableError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.server",
      "names": [
        "app_context",
        "build_http_app"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "as_span",
        "current_trace_id",
        "init_all_telemetry",
        "set_current_span_attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.runtime_observer",
      "names": [
        "TimelineRuntimeObserver"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "bind_timeline",
        "new_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.cells",
      "names": [
        "RuntimeCellObserver"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "current_run_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.logging",
      "names": [
        "install_structured_logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.reporter",
      "names": [
        "build_report"
      ],
      "aliases": {
        "build_report": "build_run_report"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.reporter",
      "names": [
        "build_run_report_v2",
        "render_markdown",
        "render_markdown_v2",
        "render_mermaid",
        "report_to_json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "ConfigurationError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 64
    },
    {
      "kind": "variable",
      "name": "SERVER_SETTINGS",
      "lineno": 65
    },
    {
      "kind": "function",
      "name": "_sse_keepalive_interval",
      "lineno": 76
    },
    {
      "kind": "function",
      "name": "_sse_keepalive_budget",
      "lineno": 94
    },
    {
      "kind": "function",
      "name": "_client_address",
      "lineno": 114
    },
    {
      "kind": "function",
      "name": "_log_request_summary",
      "lineno": 136
    },
    {
      "kind": "function",
      "name": "_stream_log_extra",
      "lineno": 152
    },
    {
      "kind": "function",
      "name": "_preload_faiss_index",
      "lineno": 191
    },
    {
      "kind": "function",
      "name": "_env_flag",
      "lineno": 222
    },
    {
      "kind": "function",
      "name": "_resolve_proxy_trusted_hops",
      "lineno": 239
    },
    {
      "kind": "function",
      "name": "_log_gpu_warmup",
      "lineno": 261
    },
    {
      "kind": "function",
      "name": "_preload_faiss_if_configured",
      "lineno": 282
    },
    {
      "kind": "function",
      "name": "_preload_xtr_if_configured",
      "lineno": 292
    },
    {
      "kind": "function",
      "name": "_preload_hybrid_if_configured",
      "lineno": 306
    },
    {
      "kind": "function",
      "name": "_initialize_context",
      "lineno": 317
    },
    {
      "kind": "function",
      "name": "_shutdown_context",
      "lineno": 405
    },
    {
      "kind": "function",
      "name": "lifespan",
      "lineno": 428
    },
    {
      "kind": "variable",
      "name": "app",
      "lineno": 523
    },
    {
      "kind": "function",
      "name": "observability_run_report",
      "lineno": 557
    },
    {
      "kind": "function",
      "name": "get_run_report",
      "lineno": 594
    },
    {
      "kind": "function",
      "name": "get_run_report_markdown",
      "lineno": 636
    },
    {
      "kind": "function",
      "name": "get_run_report_mermaid",
      "lineno": 679
    },
    {
      "kind": "function",
      "name": "get_run_report_v2",
      "lineno": 711
    },
    {
      "kind": "function",
      "name": "get_run_report_markdown_v2",
      "lineno": 731
    },
    {
      "kind": "function",
      "name": "get_run_report_mermaid_v2",
      "lineno": 753
    },
    {
      "kind": "function",
      "name": "inject_request_id",
      "lineno": 775
    },
    {
      "kind": "function",
      "name": "set_mcp_context",
      "lineno": 802
    },
    {
      "kind": "function",
      "name": "disable_nginx_buffering",
      "lineno": 881
    },
    {
      "kind": "function",
      "name": "healthz",
      "lineno": 917
    },
    {
      "kind": "function",
      "name": "readyz",
      "lineno": 929
    },
    {
      "kind": "function",
      "name": "capz",
      "lineno": 964
    },
    {
      "kind": "function",
      "name": "_stream_with_logging",
      "lineno": 1006
    },
    {
      "kind": "function",
      "name": "sse_demo",
      "lineno": 1068
    },
    {
      "kind": "function",
      "name": "http_exception_handler_with_request_id",
      "lineno": 1121
    },
    {
      "kind": "function",
      "name": "unhandled_exception_handler",
      "lineno": 1153
    },
    {
      "kind": "variable",
      "name": "proxy_wrapped",
      "lineno": 1194
    },
    {
      "kind": "variable",
      "name": "asgi",
      "lineno": 1199
    },
    {
      "kind": "variable",
      "name": "asgi",
      "lineno": 1201
    }
  ],
  "exports": [
    "app",
    "asgi"
  ],
  "exports_declared": [
    "app",
    "asgi"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "fastapi",
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "FastAPI application with MCP server mount.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_sse_keepalive_interval",
      "qualname": "_sse_keepalive_interval",
      "kind": "function",
      "public": false,
      "lineno": 76,
      "doc_summary": "Return the configured SSE keep-alive interval (seconds).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_sse_keepalive_budget",
      "qualname": "_sse_keepalive_budget",
      "kind": "function",
      "public": false,
      "lineno": 94,
      "doc_summary": "Return optional cap on keep-alive frames for long-lived SSE streams.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_client_address",
      "qualname": "_client_address",
      "kind": "function",
      "public": false,
      "lineno": 114,
      "doc_summary": "Return a printable representation of the originating client address.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_log_request_summary",
      "qualname": "_log_request_summary",
      "kind": "function",
      "public": false,
      "lineno": 136,
      "doc_summary": "Emit a structured log describing a completed HTTP request.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_stream_log_extra",
      "qualname": "_stream_log_extra",
      "kind": "function",
      "public": false,
      "lineno": 152,
      "doc_summary": "Return structured logging metadata for streaming lifecycle events.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_preload_faiss_index",
      "qualname": "_preload_faiss_index",
      "kind": "function",
      "public": false,
      "lineno": 191,
      "doc_summary": "Pre-load FAISS index during startup to avoid first-request latency.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_env_flag",
      "qualname": "_env_flag",
      "kind": "function",
      "public": false,
      "lineno": 222,
      "doc_summary": "Return ``True`` when an environment flag is explicitly enabled.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_proxy_trusted_hops",
      "qualname": "_resolve_proxy_trusted_hops",
      "kind": "function",
      "public": false,
      "lineno": 239,
      "doc_summary": "Return ProxyFix trusted hop count with PROXY_TRUSTED_HOPS override.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_log_gpu_warmup",
      "qualname": "_log_gpu_warmup",
      "kind": "function",
      "public": false,
      "lineno": 261,
      "doc_summary": "Log the GPU warmup status summary.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_preload_faiss_if_configured",
      "qualname": "_preload_faiss_if_configured",
      "kind": "function",
      "public": false,
      "lineno": 282,
      "doc_summary": "Preload FAISS indexes when configured to do so.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_preload_xtr_if_configured",
      "qualname": "_preload_xtr_if_configured",
      "kind": "function",
      "public": false,
      "lineno": 292,
      "doc_summary": "Preload XTR runtime when toggle is enabled.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_preload_hybrid_if_configured",
      "qualname": "_preload_hybrid_if_configured",
      "kind": "function",
      "public": false,
      "lineno": 306,
      "doc_summary": "Preload HybridSearchEngine when toggle is enabled.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_initialize_context",
      "qualname": "_initialize_context",
      "kind": "function",
      "public": false,
      "lineno": 317,
      "doc_summary": "Initialize application context, readiness probe, and optional runtimes.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_shutdown_context",
      "qualname": "_shutdown_context",
      "kind": "function",
      "public": false,
      "lineno": 405,
      "doc_summary": "Shut down mutable runtimes and readiness probes.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "lifespan",
      "qualname": "lifespan",
      "kind": "function",
      "public": true,
      "lineno": 428,
      "doc_summary": "Application lifespan manager with explicit configuration initialization.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "observability_run_report",
      "qualname": "observability_run_report",
      "kind": "function",
      "public": true,
      "lineno": 557,
      "doc_summary": "Return RunReport V2 for observability dashboards.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "get_run_report",
      "qualname": "get_run_report",
      "kind": "function",
      "public": true,
      "lineno": 594,
      "doc_summary": "Return JSON run report for the session/run identifier.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "get_run_report_markdown",
      "qualname": "get_run_report_markdown",
      "kind": "function",
      "public": true,
      "lineno": 636,
      "doc_summary": "Return Markdown run report for the session/run identifier.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "get_run_report_mermaid",
      "qualname": "get_run_report_mermaid",
      "kind": "function",
      "public": true,
      "lineno": 679,
      "doc_summary": "Return a Mermaid representation of the run.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "get_run_report_v2",
      "qualname": "get_run_report_v2",
      "kind": "function",
      "public": true,
      "lineno": 711,
      "doc_summary": "Alias for `/reports/{session_id}` retaining backwards compatibility.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "get_run_report_markdown_v2",
      "qualname": "get_run_report_markdown_v2",
      "kind": "function",
      "public": true,
      "lineno": 731,
      "doc_summary": "Alias for `/reports/{session_id}.md`.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "get_run_report_mermaid_v2",
      "qualname": "get_run_report_mermaid_v2",
      "kind": "function",
      "public": true,
      "lineno": 753,
      "doc_summary": "Alias for `/reports/{session_id}.mmd`.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "inject_request_id",
      "qualname": "inject_request_id",
      "kind": "function",
      "public": true,
      "lineno": 775,
      "doc_summary": "Ensure every request carries a stable request identifier.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "set_mcp_context",
      "qualname": "set_mcp_context",
      "kind": "function",
      "public": true,
      "lineno": 802,
      "doc_summary": "Set ApplicationContext in context variable for MCP tool handlers.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "disable_nginx_buffering",
      "qualname": "disable_nginx_buffering",
      "kind": "function",
      "public": true,
      "lineno": 881,
      "doc_summary": "Disable NGINX buffering for streaming responses.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "healthz",
      "qualname": "healthz",
      "kind": "function",
      "public": true,
      "lineno": 917,
      "doc_summary": "Health check endpoint (network-only).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "readyz",
      "qualname": "readyz",
      "kind": "function",
      "public": true,
      "lineno": 929,
      "doc_summary": "Readiness check endpoint.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "capz",
      "qualname": "capz",
      "kind": "function",
      "public": true,
      "lineno": 964,
      "doc_summary": "Return a cached capability snapshot (refreshable via query flag).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_stream_with_logging",
      "qualname": "_stream_with_logging",
      "kind": "function",
      "public": false,
      "lineno": 1006,
      "doc_summary": "Wrap a streaming iterator and emit lifecycle logs for observability.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "sse_demo",
      "qualname": "sse_demo",
      "kind": "function",
      "public": true,
      "lineno": 1068,
      "doc_summary": "SSE streaming demo endpoint with keep-alive comments.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "http_exception_handler_with_request_id",
      "qualname": "http_exception_handler_with_request_id",
      "kind": "function",
      "public": true,
      "lineno": 1121,
      "doc_summary": "Return HTTPException responses with structured payloads and request IDs.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "unhandled_exception_handler",
      "qualname": "unhandled_exception_handler",
      "kind": "function",
      "public": true,
      "lineno": 1153,
      "doc_summary": "Wrap unhandled exceptions in a debuggable envelope.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 87,
    "cyclomatic": 88,
    "loc": 1205
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 18,
  "cycle_group": 55,
  "imports_internal": [
    "app/capabilities.py",
    "app/config_context.py",
    "app/gpu_warmup.py",
    "app/middleware.py",
    "app/readiness.py",
    "app/routers/__init__.py",
    "app/server_settings.py",
    "errors.py",
    "mcp_server/server.py",
    "observability/otel.py",
    "observability/runtime_observer.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "runtime/cells.py",
    "telemetry/context.py",
    "telemetry/logging.py",
    "telemetry/reporter.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/capabilities.py",
    "app/config_context.py",
    "app/gpu_warmup.py",
    "app/middleware.py",
    "app/readiness.py",
    "app/routers/__init__.py",
    "app/server_settings.py",
    "errors.py",
    "mcp_server/server.py",
    "observability/otel.py",
    "observability/runtime_observer.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "runtime/cells.py",
    "telemetry/context.py",
    "telemetry/logging.py",
    "telemetry/reporter.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.071,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 35,
  "recent_churn_90": 35
}
{
  "path": "app/middleware.py",
  "repo_path": "codeintel_rev/app/middleware.py",
  "module_name": "codeintel_rev.app.middleware",
  "stable_id": "b6c840e39b79",
  "docstring": "Session management middleware for CodeIntel MCP.\n\nThis module provides FastAPI middleware for extracting or generating session IDs\nand storing them in thread-local context variables for access by MCP tool adapters.\n\nKey Components\n--------------\nSessionScopeMiddleware : class\n    Middleware that processes X-Session-ID header and populates ContextVar.\nsession_id_var : ContextVar[str | None]\n    Thread-local storage for current request's session ID.\nget_session_id : function\n    Helper to retrieve session ID from ContextVar (raises if not set).\n\nDesign Principles\n-----------------\n- **Thread-Local Isolation**: ContextVar ensures session IDs don't leak across threads\n- **Fail-Safe Defaults**: Auto-generates UUID if client doesn't provide session ID\n- **FastMCP Compatibility**: Works around FastMCP's lack of Request injection in tools\n- **Explicit Dependencies**: No global state; session ID accessed via explicit get_session_id()\n\nMiddleware Flow\n---------------\n1. Extract X-Session-ID header from request\n2. Generate UUID if header absent\n3. Store in request.state.session_id (FastAPI convention)\n4. Store in session_id_var (ContextVar for thread-local access)\n5. Invoke next middleware/handler\n6. Return response (no header modificationFastMCP limitation)\n\nExample Usage\n-------------\nRegister middleware in FastAPI application:\n\n>>> from codeintel_rev.app.middleware import SessionScopeMiddleware\n>>> app.add_middleware(SessionScopeMiddleware)\n\nAccess session ID in adapter:\n\n>>> from codeintel_rev.app.middleware import get_session_id\n>>> async def my_adapter(context: ApplicationContext, ...) -> dict:\n...     session_id = get_session_id()\n...     scope = await context.scope_store.get(session_id)\n...     # ... use scope\n\nSee Also\n--------\ncodeintel_rev.app.scope_store : ScopeStore for storing session scopes\ncodeintel_rev.mcp_server.scope_utils : Utilities for retrieving and merging scopes\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "uuid"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "starlette.middleware.base",
      "names": [
        "BaseHTTPMiddleware",
        "DispatchFunction"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "starlette.types",
      "names": [
        "ASGIApp"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.ledger",
      "names": [
        "RunLedger",
        "dated_run_dir"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "current_trace_id",
        "set_current_span_attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.runtime_observer",
      "names": [
        "bind_run_ledger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "bind_timeline",
        "new_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.request_context",
      "names": [
        "capability_stamp_var",
        "session_id_var"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "telemetry_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.reporter",
      "names": [
        "start_run"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Awaitable",
        "Callable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "starlette.requests",
      "names": [
        "Request"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "starlette.responses",
      "names": [
        "Response"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 79
    },
    {
      "kind": "function",
      "name": "get_session_id",
      "lineno": 82
    },
    {
      "kind": "function",
      "name": "get_capability_stamp",
      "lineno": 133
    },
    {
      "kind": "class",
      "name": "SessionScopeMiddleware",
      "lineno": 145
    }
  ],
  "exports": [
    "SessionScopeMiddleware",
    "capability_stamp_var",
    "get_capability_stamp",
    "get_session_id",
    "session_id_var"
  ],
  "exports_declared": [
    "SessionScopeMiddleware",
    "capability_stamp_var",
    "get_capability_stamp",
    "get_session_id",
    "session_id_var"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Session management middleware for CodeIntel MCP.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "get_session_id",
      "qualname": "get_session_id",
      "kind": "function",
      "public": true,
      "lineno": 82,
      "doc_summary": "Retrieve session ID from thread-local context.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "get_capability_stamp",
      "qualname": "get_capability_stamp",
      "kind": "function",
      "public": true,
      "lineno": 133,
      "doc_summary": "Return the capability stamp associated with the current request.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "SessionScopeMiddleware",
      "qualname": "SessionScopeMiddleware",
      "kind": "class",
      "public": true,
      "lineno": 145,
      "doc_summary": "Middleware for session ID extraction and context storage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 10,
    "cyclomatic": 11,
    "loc": 332
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 6,
  "fan_out": 9,
  "cycle_group": 47,
  "imports_internal": [
    "observability/ledger.py",
    "observability/otel.py",
    "observability/runtime_observer.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "runtime/request_context.py",
    "telemetry/context.py",
    "telemetry/reporter.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "observability/ledger.py",
    "observability/otel.py",
    "observability/runtime_observer.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "runtime/request_context.py",
    "telemetry/context.py",
    "telemetry/reporter.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.401,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 16,
  "recent_churn_90": 16
}
{
  "path": "app/readiness.py",
  "repo_path": "codeintel_rev/app/readiness.py",
  "module_name": "codeintel_rev.app.readiness",
  "stable_id": "9dcf2890118d",
  "docstring": "Application readiness checks for Kubernetes health probes.\n\nThis module provides comprehensive readiness checks for all critical application\nresources including filesystem paths, FAISS indexes, DuckDB catalogs, and\nexternal services (vLLM). The ReadinessProbe class manages these checks and\nexposes results via the /readyz endpoint for Kubernetes integration.\n\nKey Components\n--------------\nCheckResult : dataclass\n    Immutable result of a single readiness check with healthy status and detail.\nReadinessProbe : class\n    Manages readiness checks across all dependencies with async refresh.\n\nDesign Principles\n-----------------\n- **Comprehensive**: Checks all critical resources (files, directories, services)\n- **Non-blocking**: HTTP checks use short timeouts to prevent blocking\n- **Graceful Degradation**: Optional resources (SCIP index) don't fail readiness\n- **Structured Results**: CheckResult provides JSON-serializable payloads\n\nExample Usage\n-------------\nDuring application startup:\n\n>>> # In lifespan() function\n>>> readiness = ReadinessProbe(context)\n>>> await readiness.initialize()\n>>> app.state.readiness = readiness\n\nIn readiness endpoint:\n\n>>> # In /readyz handler\n>>> results = await readiness.refresh()\n>>> return {\"ready\": all(r.healthy for r in results.values()), \"checks\": results}\n\nSee Also\n--------\ncodeintel_rev.app.config_context : ApplicationContext with configuration\ncodeintel_rev.app.main : FastAPI application with /readyz endpoint\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "shutil"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "urllib.parse",
      "names": [
        "urlparse"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "as_span",
        "set_current_span_attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "duckdb"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "httpx"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "duckdb",
      "lineno": 63
    },
    {
      "kind": "variable",
      "name": "httpx",
      "lineno": 64
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 66
    },
    {
      "kind": "variable",
      "name": "HTTP_HEALTH_TIMEOUT_S",
      "lineno": 67
    },
    {
      "kind": "class",
      "name": "CheckResult",
      "lineno": 73
    },
    {
      "kind": "class",
      "name": "ReadinessProbe",
      "lineno": 111
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Application readiness checks for Kubernetes health probes.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "CheckResult",
      "qualname": "CheckResult",
      "kind": "class",
      "public": true,
      "lineno": 73,
      "doc_summary": "Outcome of a single readiness check.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    },
    {
      "name": "ReadinessProbe",
      "qualname": "ReadinessProbe",
      "kind": "class",
      "public": true,
      "lineno": 111,
      "doc_summary": "Manages readiness checks across core dependencies.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": true,
    "subprocess": true,
    "database": true
  },
  "raises": [],
  "complexity": {
    "branches": 39,
    "cyclomatic": 40,
    "loc": 642
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 5,
  "cycle_group": 43,
  "imports_internal": [
    "_lazy_imports.py",
    "app/config_context.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "app/config_context.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.439,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 12,
  "recent_churn_90": 12
}
{
  "path": "app/routers/__init__.py",
  "repo_path": "codeintel_rev/app/routers/__init__.py",
  "module_name": "codeintel_rev.app.routers",
  "stable_id": "1cc5bdacf4e4",
  "docstring": "FastAPI router modules for CodeIntel administrative endpoints.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib",
      "names": [
        "import_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "index_admin",
      "lineno": 7
    }
  ],
  "exports": [
    "index_admin"
  ],
  "exports_declared": [
    "index_admin"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "FastAPI router modules for CodeIntel administrative endpoints.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 10
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 0,
  "cycle_group": 54,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.032,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "app/routers/index_admin.py",
  "repo_path": "codeintel_rev/app/routers/index_admin.py",
  "module_name": "codeintel_rev.app.routers.index_admin",
  "stable_id": "822716b806e9",
  "docstring": "Admin endpoints for staging, publishing, and rolling back index versions.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TypedDict",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "fastapi",
      "names": [
        "APIRouter",
        "Depends",
        "HTTPException",
        "Query",
        "Request"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "fastapi.responses",
      "names": [
        "JSONResponse"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.scope_store",
      "names": [
        "ScopeIn"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "RuntimeLifecycleError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.index_lifecycle",
      "names": [
        "IndexAssets",
        "collect_asset_attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.run_report",
      "names": [
        "build_run_report"
      ],
      "aliases": {
        "build_run_report": "build_ledger_report"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.factory_adjustment",
      "names": [
        "DefaultFactoryAdjuster"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 22
    },
    {
      "kind": "variable",
      "name": "router",
      "lineno": 23
    },
    {
      "kind": "function",
      "name": "_require_admin",
      "lineno": 28
    },
    {
      "kind": "function",
      "name": "_context",
      "lineno": 34
    },
    {
      "kind": "function",
      "name": "_find_ledger_path",
      "lineno": 41
    },
    {
      "kind": "function",
      "name": "get_run_report",
      "lineno": 54
    },
    {
      "kind": "function",
      "name": "_persist_session_tuning",
      "lineno": 82
    },
    {
      "kind": "function",
      "name": "status_endpoint",
      "lineno": 98
    },
    {
      "kind": "class",
      "name": "PublishBody",
      "lineno": 150
    },
    {
      "kind": "class",
      "name": "TuningBody",
      "lineno": 213
    },
    {
      "kind": "class",
      "name": "FaissRuntimeTuningBody",
      "lineno": 262
    },
    {
      "kind": "function",
      "name": "publish_endpoint",
      "lineno": 314
    },
    {
      "kind": "function",
      "name": "rollback_endpoint",
      "lineno": 407
    },
    {
      "kind": "function",
      "name": "tuning_endpoint",
      "lineno": 460
    },
    {
      "kind": "function",
      "name": "faiss_runtime_status",
      "lineno": 516
    },
    {
      "kind": "function",
      "name": "faiss_runtime_tuning_endpoint",
      "lineno": 554
    },
    {
      "kind": "function",
      "name": "faiss_runtime_reset_endpoint",
      "lineno": 633
    }
  ],
  "exports": [
    "router"
  ],
  "exports_declared": [
    "router"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "fastapi",
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Admin endpoints for staging, publishing, and rolling back index versions.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_require_admin",
      "qualname": "_require_admin",
      "kind": "function",
      "public": false,
      "lineno": 28,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_context",
      "qualname": "_context",
      "kind": "function",
      "public": false,
      "lineno": 34,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_find_ledger_path",
      "qualname": "_find_ledger_path",
      "kind": "function",
      "public": false,
      "lineno": 41,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "get_run_report",
      "qualname": "get_run_report",
      "kind": "function",
      "public": true,
      "lineno": 54,
      "doc_summary": "Return structured run report derived from the on-disk ledger.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_persist_session_tuning",
      "qualname": "_persist_session_tuning",
      "kind": "function",
      "public": false,
      "lineno": 82,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "status_endpoint",
      "qualname": "status_endpoint",
      "kind": "function",
      "public": true,
      "lineno": 98,
      "doc_summary": "Return the current index version and health.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "PublishBody",
      "qualname": "PublishBody",
      "kind": "class",
      "public": true,
      "lineno": 150,
      "doc_summary": "Request body schema for index publication endpoint.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "TuningBody",
      "qualname": "TuningBody",
      "kind": "class",
      "public": true,
      "lineno": 213,
      "doc_summary": "Request body schema for runtime tuning endpoint.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FaissRuntimeTuningBody",
      "qualname": "FaissRuntimeTuningBody",
      "kind": "class",
      "public": true,
      "lineno": 262,
      "doc_summary": "Request body schema for FAISS runtime tuning endpoint.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "publish_endpoint",
      "qualname": "publish_endpoint",
      "kind": "function",
      "public": true,
      "lineno": 314,
      "doc_summary": "Stage and publish a new index version, then reload runtimes.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "rollback_endpoint",
      "qualname": "rollback_endpoint",
      "kind": "function",
      "public": true,
      "lineno": 407,
      "doc_summary": "Flip ``CURRENT`` to a previously published version.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "tuning_endpoint",
      "qualname": "tuning_endpoint",
      "kind": "function",
      "public": true,
      "lineno": 460,
      "doc_summary": "Update runtime tuning knobs (nprobe, fusion weights, etc.).",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "faiss_runtime_status",
      "qualname": "faiss_runtime_status",
      "kind": "function",
      "public": true,
      "lineno": 516,
      "doc_summary": "Return the active FAISS runtime tuning profile.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "faiss_runtime_tuning_endpoint",
      "qualname": "faiss_runtime_tuning_endpoint",
      "kind": "function",
      "public": true,
      "lineno": 554,
      "doc_summary": "Apply FAISS runtime tuning overrides or persist them for a specific session.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "faiss_runtime_reset_endpoint",
      "qualname": "faiss_runtime_reset_endpoint",
      "kind": "function",
      "public": true,
      "lineno": 633,
      "doc_summary": "Reset FAISS runtime tuning overrides globally or for a session.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 22,
    "cyclomatic": 23,
    "loc": 683
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 7,
  "cycle_group": 57,
  "imports_internal": [
    "app/config_context.py",
    "app/scope_store.py",
    "errors.py",
    "indexing/index_lifecycle.py",
    "observability/run_report.py",
    "runtime/factory_adjustment.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "app/scope_store.py",
    "errors.py",
    "indexing/index_lifecycle.py",
    "observability/run_report.py",
    "runtime/factory_adjustment.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.332,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 10,
  "recent_churn_90": 10
}
{
  "path": "app/scope_registry.py",
  "repo_path": "codeintel_rev/app/scope_registry.py",
  "module_name": "codeintel_rev.app.scope_registry",
  "stable_id": "9564ef6242c0",
  "docstring": "Session-scoped scope registry for CodeIntel MCP (legacy helper).\n\nThis helper predates the Redis-backed :mod:`codeintel_rev.app.scope_store` that\nApplicationContext wires up automatically today. The registry is still available\nfor standalone tooling, but production adapters should use ``context.scope_store``\ndirectly rather than mutating ``ApplicationContext``.\n\nKey Components\n--------------\nScopeRegistry : class\n    Thread-safe registry mapping session IDs to ScopeIn dictionaries.\n\nDesign Principles\n-----------------\n- **Thread Safety**: Uses threading.RLock for concurrent access protection\n- **LRU Behavior**: Updates timestamps on access for activity-based expiration\n- **Immutable Results**: Returns copies of stored scopes to prevent mutation\n- **Fail-Safe**: Missing sessions return None rather than raising exceptions\n\nExample Usage\n--------------\nInitialize registry manually (e.g., in a short-lived script). When running the\nfull FastAPI app, use ``ApplicationContext.scope_store`` insteadapplication\ncontexts are frozen and cannot be reassigned after creation.\n\n>>> registry = ScopeRegistry()\n>>> registry.set_scope(\"session\", {\"languages\": [\"python\"]})\n\nStore scope for a session:\n\n>>> session_id = \"abc123...\"\n>>> scope = {\"languages\": [\"python\"], \"include_globs\": [\"src/**\"]}\n>>> registry.set_scope(session_id, scope)\n\nRetrieve scope in adapter:\n\n>>> scope = registry.get_scope(session_id)\n>>> if scope:\n...     # Apply scope filters\n...     include_globs = scope.get(\"include_globs\")\n\nPrune expired sessions (background task):\n\n>>> pruned = registry.prune_expired(max_age_seconds=3600)\n>>> logger.info(f\"Pruned {pruned} expired sessions\")\n\nSee Also\n--------\ncodeintel_rev.app.middleware : Session ID extraction and ContextVar management\ncodeintel_rev.mcp_server.scope_utils : Scope merging and filtering utilities\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "copy",
      "names": [
        "deepcopy"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "RLock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.otel_metrics",
      "names": [
        "build_counter",
        "build_gauge"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "ScopeIn"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 66
    },
    {
      "kind": "class",
      "name": "ScopeRegistry",
      "lineno": 81
    }
  ],
  "exports": [
    "ScopeRegistry"
  ],
  "exports_declared": [
    "ScopeRegistry"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Session-scoped scope registry for CodeIntel MCP (legacy helper).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "ScopeRegistry",
      "qualname": "ScopeRegistry",
      "kind": "class",
      "public": true,
      "lineno": 81,
      "doc_summary": "Thread-safe registry for session-scoped query scopes.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 12,
    "cyclomatic": 13,
    "loc": 402
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 3,
  "cycle_group": 58,
  "imports_internal": [
    "mcp_server/schemas.py",
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "mcp_server/schemas.py",
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.893,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 9,
  "recent_churn_90": 9
}
{
  "path": "app/scope_store.py",
  "repo_path": "codeintel_rev/app/scope_store.py",
  "module_name": "codeintel_rev.app.scope_store",
  "stable_id": "98383732d45f",
  "docstring": "Scope store utilities for session state management.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections",
      "names": [
        "OrderedDict"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Awaitable",
        "Callable",
        "Hashable",
        "Iterator",
        "MutableMapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "RLock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "Protocol",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "ScopeIn"
      ],
      "aliases": {
        "ScopeIn": "ScopeMapping"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "ScopeMapping",
      "lineno": 18
    },
    {
      "kind": "variable",
      "name": "ScopeIn",
      "lineno": 20
    },
    {
      "kind": "class",
      "name": "SupportsAsyncRedis",
      "lineno": 23
    },
    {
      "kind": "class",
      "name": "_CacheRecord",
      "lineno": 43
    },
    {
      "kind": "class",
      "name": "LRUCache",
      "lineno": 50
    },
    {
      "kind": "class",
      "name": "AsyncSingleFlight",
      "lineno": 235
    },
    {
      "kind": "class",
      "name": "ScopeStoreMetrics",
      "lineno": 275
    },
    {
      "kind": "class",
      "name": "ScopeStore",
      "lineno": 378
    }
  ],
  "exports": [
    "AsyncSingleFlight",
    "LRUCache",
    "ScopeStore",
    "ScopeStoreMetrics"
  ],
  "exports_declared": [
    "AsyncSingleFlight",
    "LRUCache",
    "ScopeStore",
    "ScopeStoreMetrics"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Scope store utilities for session state management.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "SupportsAsyncRedis",
      "qualname": "SupportsAsyncRedis",
      "kind": "class",
      "public": true,
      "lineno": 23,
      "doc_summary": "Protocol describing the Redis operations required by ``ScopeStore``.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_CacheRecord",
      "qualname": "_CacheRecord",
      "kind": "class",
      "public": false,
      "lineno": 43,
      "doc_summary": "Internal cache record containing a value and its insertion timestamp.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "LRUCache",
      "qualname": "LRUCache",
      "kind": "class",
      "public": true,
      "lineno": 50,
      "doc_summary": "Thread-safe least-recently-used cache with TTL-based eviction.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "AsyncSingleFlight",
      "qualname": "AsyncSingleFlight",
      "kind": "class",
      "public": true,
      "lineno": 235,
      "doc_summary": "Deduplicate concurrent coroutine execution keyed by ``KeyT``.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ScopeStoreMetrics",
      "qualname": "ScopeStoreMetrics",
      "kind": "class",
      "public": true,
      "lineno": 275,
      "doc_summary": "Runtime counters describing scope store cache performance.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ScopeStore",
      "qualname": "ScopeStore",
      "kind": "class",
      "public": true,
      "lineno": 378,
      "doc_summary": "Redis-backed scope store with L1/L2 caching and single-flight coalescing.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 43,
    "cyclomatic": 44,
    "loc": 539
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 2,
  "cycle_group": 36,
  "imports_internal": [
    "mcp_server/schemas.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "mcp_server/schemas.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.332,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "app/serve_hypercorn.py",
  "repo_path": "codeintel_rev/app/serve_hypercorn.py",
  "module_name": "codeintel_rev.app.serve_hypercorn",
  "stable_id": "5597e9eb3c2f",
  "docstring": "Hypercorn runner with graceful signal handling.\n\nExposes helpers so deployments (systemd, tests, dev scripts) can start the\nASGI stack without relying on shell-specific wrappers.\n",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "signal"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Awaitable",
        "Callable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hypercorn.asyncio",
      "names": [
        "serve"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hypercorn.config",
      "names": [
        "Config"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hypercorn.typing",
      "names": [
        "ASGIFramework"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app",
      "names": [
        "main"
      ],
      "aliases": {
        "main": "app_main"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "ShutdownTrigger",
      "lineno": 25
    },
    {
      "kind": "function",
      "name": "_load_config",
      "lineno": 28
    },
    {
      "kind": "function",
      "name": "_build_shutdown_trigger",
      "lineno": 50
    },
    {
      "kind": "function",
      "name": "serve_app",
      "lineno": 67
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 88
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Hypercorn runner with graceful signal handling.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_load_config",
      "qualname": "_load_config",
      "kind": "function",
      "public": false,
      "lineno": 28,
      "doc_summary": "Return a Hypercorn :class:`Config` from the given TOML path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_shutdown_trigger",
      "qualname": "_build_shutdown_trigger",
      "kind": "function",
      "public": false,
      "lineno": 50,
      "doc_summary": "Create an asyncio event and shutdown trigger callable.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "serve_app",
      "qualname": "serve_app",
      "kind": "function",
      "public": true,
      "lineno": 67,
      "doc_summary": "Run Hypercorn with signal-aware shutdown semantics.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 88,
      "doc_summary": "Execute Hypercorn with the repo default configuration.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 8,
    "cyclomatic": 9,
    "loc": 96
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 2,
  "cycle_group": 59,
  "imports_internal": [
    "app/__init__.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/__init__.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.677,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "app/server_settings.py",
  "repo_path": "codeintel_rev/app/server_settings.py",
  "module_name": "codeintel_rev.app.server_settings",
  "stable_id": "511193e049ed",
  "docstring": "Server-facing configuration for FastAPI + Hypercorn deployment.\n\nThis module centralizes HTTP listener parameters, CORS defaults, and proxy\ntrust knobs so deployments can be tuned via environment variables (or a\n``.env`` file) without touching application code. The settings are consumed\nby :mod:`codeintel_rev.app.main` when constructing the FastAPI application\nand when exporting the Hypercorn-facing ASGI callable.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "functools",
      "names": [
        "lru_cache"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "ClassVar",
        "Literal"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pydantic",
      "names": [
        "Field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pydantic_settings",
      "names": [
        "BaseSettings",
        "SettingsConfigDict"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "ServerSettings",
      "lineno": 19
    },
    {
      "kind": "function",
      "name": "get_server_settings",
      "lineno": 106
    }
  ],
  "exports": [
    "ServerSettings",
    "get_server_settings"
  ],
  "exports_declared": [
    "ServerSettings",
    "get_server_settings"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "pydantic"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Server-facing configuration for FastAPI + Hypercorn deployment.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "ServerSettings",
      "qualname": "ServerSettings",
      "kind": "class",
      "public": true,
      "lineno": 19,
      "doc_summary": "Container for server/network level toggles.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "get_server_settings",
      "qualname": "get_server_settings",
      "kind": "function",
      "public": true,
      "lineno": 106,
      "doc_summary": "Return (and cache) :class:`ServerSettings` for reuse.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": true,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 121
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "app/hypercorn.toml"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 46,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.194,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "bin/__init__.py",
  "repo_path": "codeintel_rev/bin/__init__.py",
  "module_name": "codeintel_rev.bin",
  "stable_id": "bdf1a0b2eec0",
  "docstring": "CLI entry points for CodeIntel MCP indexing pipelines.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "CLI entry points for CodeIntel MCP indexing pipelines.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 60,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "bin/eval_coverage.py",
  "repo_path": "codeintel_rev/bin/eval_coverage.py",
  "module_name": "codeintel_rev.bin.eval_coverage",
  "stable_id": "8ba4d560b8cc",
  "docstring": "Command-line entry point for SCIP function coverage evaluation.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "argparse"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "sys"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.evaluation.scip_coverage",
      "names": [
        "SCIPCoverageEvaluator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 16
    },
    {
      "kind": "function",
      "name": "build_parser",
      "lineno": 19
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 46
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Command-line entry point for SCIP function coverage evaluation.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "build_parser",
      "qualname": "build_parser",
      "kind": "function",
      "public": true,
      "lineno": 19,
      "doc_summary": "Return an argument parser for the coverage evaluator CLI.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 46,
      "doc_summary": "Execute the coverage evaluator with the provided CLI arguments.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 1,
    "cyclomatic": 2,
    "loc": 95
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 3,
  "cycle_group": 62,
  "imports_internal": [
    "app/config_context.py",
    "config/settings.py",
    "evaluation/scip_coverage.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "config/settings.py",
    "evaluation/scip_coverage.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.431,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "bin/eval_offline.py",
  "repo_path": "codeintel_rev/bin/eval_offline.py",
  "module_name": "codeintel_rev.bin.eval_offline",
  "stable_id": "40d5c5cffc3c",
  "docstring": "Command-line entry point for offline FAISS recall evaluation.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "argparse"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "sys"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 14
    },
    {
      "kind": "function",
      "name": "build_parser",
      "lineno": 17
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 41
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Command-line entry point for offline FAISS recall evaluation.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "build_parser",
      "qualname": "build_parser",
      "kind": "function",
      "public": true,
      "lineno": 17,
      "doc_summary": "Return an argument parser for the offline evaluator CLI.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 41,
      "doc_summary": "Execute the evaluator using CLI arguments.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 85
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 1,
  "cycle_group": 63,
  "imports_internal": [
    "app/config_context.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.24,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "bin/index_all.py",
  "repo_path": "codeintel_rev/bin/index_all.py",
  "module_name": "codeintel_rev.bin.index_all",
  "stable_id": "66260b04edbe",
  "docstring": "One-shot indexing: SCIP  chunk  embed  Parquet  FAISS.\n\nThis script orchestrates the full indexing pipeline:\n1. Parse SCIP index for symbol definitions\n2. Chunk files using cAST (SCIP-based)\n3. Embed chunks with vLLM\n4. Write to Parquet with embeddings\n5. Build FAISS index with adaptive type selection\n\nThe FAISS index type is automatically selected based on corpus size:\n- Small (<5K vectors): Flat index (exact search, fast training)\n- Medium (5K-50K vectors): IVFFlat (balanced training/recall)\n- Large (>50K vectors): IVF-PQ (memory efficient, fast search)\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "argparse"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections",
      "names": [
        "defaultdict"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "IndexConfig",
        "Settings",
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.embeddings",
      "names": [
        "get_embedding_provider"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.evaluation.offline_recall",
      "names": [
        "OfflineRecallEvaluator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.cast_chunker",
      "names": [
        "Chunk",
        "ChunkOptions",
        "chunk_file"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.scip_reader",
      "names": [
        "SCIPIndex",
        "SymbolDef",
        "extract_definitions",
        "get_top_level_definitions",
        "parse_scip_json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_catalog",
      "names": [
        "DuckDBCatalog"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.faiss_manager",
      "names": [
        "FAISSManager",
        "FAISSRuntimeOptions"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.parquet_store",
      "names": [
        "ParquetWriteOptions",
        "write_chunks_parquet"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.symbol_catalog",
      "names": [
        "SymbolCatalog",
        "SymbolDefRow",
        "SymbolOccurrenceRow"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.vllm_client",
      "names": [
        "VLLMClient"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "np",
      "lineno": 54
    },
    {
      "kind": "variable",
      "name": "logger",
      "lineno": 57
    },
    {
      "kind": "variable",
      "name": "EMBED_PREVIEW_CHARS",
      "lineno": 59
    },
    {
      "kind": "variable",
      "name": "TRAINING_LIMIT",
      "lineno": 60
    },
    {
      "kind": "class",
      "name": "PipelinePaths",
      "lineno": 64
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 74
    },
    {
      "kind": "function",
      "name": "_resolve_paths",
      "lineno": 149
    },
    {
      "kind": "function",
      "name": "_load_scip_index",
      "lineno": 179
    },
    {
      "kind": "function",
      "name": "_group_definitions_by_file",
      "lineno": 206
    },
    {
      "kind": "function",
      "name": "_chunk_repository",
      "lineno": 227
    },
    {
      "kind": "function",
      "name": "_embed_chunks",
      "lineno": 279
    },
    {
      "kind": "function",
      "name": "_write_parquet",
      "lineno": 309
    },
    {
      "kind": "function",
      "name": "_build_faiss_index",
      "lineno": 352
    },
    {
      "kind": "function",
      "name": "_update_faiss_index_incremental",
      "lineno": 413
    },
    {
      "kind": "function",
      "name": "_runtime_options_from_index",
      "lineno": 522
    },
    {
      "kind": "function",
      "name": "_resolve_nlist",
      "lineno": 573
    },
    {
      "kind": "function",
      "name": "_run_offline_evaluation",
      "lineno": 591
    },
    {
      "kind": "function",
      "name": "_initialize_duckdb",
      "lineno": 626
    },
    {
      "kind": "function",
      "name": "_write_symbols",
      "lineno": 657
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "One-shot indexing: SCIP  chunk  embed  Parquet  FAISS.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "PipelinePaths",
      "qualname": "PipelinePaths",
      "kind": "class",
      "public": true,
      "lineno": 64,
      "doc_summary": "Resolved filesystem paths for the indexing pipeline.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 74,
      "doc_summary": "Run the end-to-end indexing pipeline.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_paths",
      "qualname": "_resolve_paths",
      "kind": "function",
      "public": false,
      "lineno": 149,
      "doc_summary": "Resolve and normalize key filesystem paths.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_load_scip_index",
      "qualname": "_load_scip_index",
      "kind": "function",
      "public": false,
      "lineno": 179,
      "doc_summary": "Load and parse the SCIP index from disk.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_group_definitions_by_file",
      "qualname": "_group_definitions_by_file",
      "kind": "function",
      "public": false,
      "lineno": 206,
      "doc_summary": "Group symbol definitions by their relative file path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_chunk_repository",
      "qualname": "_chunk_repository",
      "kind": "function",
      "public": false,
      "lineno": 227,
      "doc_summary": "Chunk all files referenced by the SCIP index.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_embed_chunks",
      "qualname": "_embed_chunks",
      "kind": "function",
      "public": false,
      "lineno": 279,
      "doc_summary": "Generate embeddings for the supplied chunks using vLLM.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_write_parquet",
      "qualname": "_write_parquet",
      "kind": "function",
      "public": false,
      "lineno": 309,
      "doc_summary": "Persist chunk metadata and embeddings to Parquet.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_faiss_index",
      "qualname": "_build_faiss_index",
      "kind": "function",
      "public": false,
      "lineno": 352,
      "doc_summary": "Train and persist the FAISS index with adaptive type selection.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_update_faiss_index_incremental",
      "qualname": "_update_faiss_index_incremental",
      "kind": "function",
      "public": false,
      "lineno": 413,
      "doc_summary": "Update FAISS index incrementally by adding new chunks to secondary index.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_runtime_options_from_index",
      "qualname": "_runtime_options_from_index",
      "kind": "function",
      "public": false,
      "lineno": 522,
      "doc_summary": "Return FAISS runtime options derived from the active index configuration.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_nlist",
      "qualname": "_resolve_nlist",
      "kind": "function",
      "public": false,
      "lineno": 573,
      "doc_summary": "Return an integer ``nlist`` value with legacy fallback.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_run_offline_evaluation",
      "qualname": "_run_offline_evaluation",
      "kind": "function",
      "public": false,
      "lineno": 591,
      "doc_summary": "Execute the offline recall evaluator if enabled.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_initialize_duckdb",
      "qualname": "_initialize_duckdb",
      "kind": "function",
      "public": false,
      "lineno": 626,
      "doc_summary": "Create or refresh the DuckDB catalog and return the chunk count.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_write_symbols",
      "qualname": "_write_symbols",
      "kind": "function",
      "public": false,
      "lineno": 657,
      "doc_summary": "Derive symbol tables and persist them into DuckDB.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 38,
    "cyclomatic": 39,
    "loc": 728
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 13,
  "cycle_group": 66,
  "imports_internal": [
    "_lazy_imports.py",
    "config/settings.py",
    "embeddings/__init__.py",
    "evaluation/offline_recall.py",
    "indexing/cast_chunker.py",
    "indexing/scip_reader.py",
    "io/duckdb_catalog.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/parquet_store.py",
    "io/symbol_catalog.py",
    "io/vllm_client.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "config/settings.py",
    "embeddings/__init__.py",
    "evaluation/offline_recall.py",
    "indexing/cast_chunker.py",
    "indexing/scip_reader.py",
    "io/duckdb_catalog.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/parquet_store.py",
    "io/symbol_catalog.py",
    "io/vllm_client.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.709,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 20,
  "recent_churn_90": 20
}
{
  "path": "cache/__init__.py",
  "repo_path": "codeintel_rev/cache/__init__.py",
  "module_name": "codeintel_rev.cache",
  "stable_id": "f8dc83b9de1c",
  "docstring": "Interfaces for caching results within the CodeIntel MCP stack.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Interfaces for caching results within the CodeIntel MCP stack.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 67,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "cli/__init__.py",
  "repo_path": "codeintel_rev/cli/__init__.py",
  "module_name": "codeintel_rev.cli",
  "stable_id": "3e7ad08f1675",
  "docstring": "Entry point aggregating CodeIntel CLI subcommands.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "sys"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.reporting",
      "names": [
        "render_run_report"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline",
        "bind_timeline",
        "new_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.reporter",
      "names": [
        "finalize_run",
        "start_run"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "app",
      "lineno": 17
    },
    {
      "kind": "function",
      "name": "_load_cli_module",
      "lineno": 24
    },
    {
      "kind": "variable",
      "name": "bm25_cli",
      "lineno": 48
    },
    {
      "kind": "variable",
      "name": "indexctl_cli",
      "lineno": 49
    },
    {
      "kind": "variable",
      "name": "splade_cli",
      "lineno": 50
    },
    {
      "kind": "variable",
      "name": "telemetry_cli",
      "lineno": 51
    },
    {
      "kind": "variable",
      "name": "xtr_cli",
      "lineno": 52
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 81
    },
    {
      "kind": "function",
      "name": "_maybe_write_cli_report",
      "lineno": 119
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Entry point aggregating CodeIntel CLI subcommands.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_load_cli_module",
      "qualname": "_load_cli_module",
      "kind": "function",
      "public": false,
      "lineno": 24,
      "doc_summary": "Import a CLI module lazily to avoid circular imports.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 81,
      "doc_summary": "Run the aggregated CodeIntel CLI.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_maybe_write_cli_report",
      "qualname": "_maybe_write_cli_report",
      "kind": "function",
      "public": false,
      "lineno": 119,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 6,
    "cyclomatic": 7,
    "loc": 128
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 3,
  "cycle_group": 68,
  "imports_internal": [
    "observability/reporting.py",
    "observability/timeline.py",
    "telemetry/reporter.py"
  ],
  "imports_intra_repo": [
    "observability/reporting.py",
    "observability/timeline.py",
    "telemetry/reporter.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.725,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 9,
  "recent_churn_90": 9
}
{
  "path": "cli/bm25.py",
  "repo_path": "codeintel_rev/cli/bm25.py",
  "module_name": "codeintel_rev.cli.bm25",
  "stable_id": "03b1bfa7e0b5",
  "docstring": "Command-line interface for BM25 corpus preparation and index builds.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "tools",
      "names": [
        "CliContext",
        "EnvelopeBuilder",
        "cli_operation",
        "sha256_file"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.bm25_manager",
      "names": [
        "BM25BuildOptions",
        "BM25IndexManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "app",
      "lineno": 13
    },
    {
      "kind": "function",
      "name": "_create_bm25_manager",
      "lineno": 20
    },
    {
      "kind": "function",
      "name": "_add_metadata_artifact",
      "lineno": 31
    },
    {
      "kind": "variable",
      "name": "SOURCE_ARGUMENT",
      "lineno": 37
    },
    {
      "kind": "variable",
      "name": "OVERWRITE_DEFAULT",
      "lineno": 41
    },
    {
      "kind": "variable",
      "name": "OUTPUT_DIR_OPTION",
      "lineno": 42
    },
    {
      "kind": "variable",
      "name": "OVERWRITE_OPTION",
      "lineno": 48
    },
    {
      "kind": "function",
      "name": "prepare_corpus",
      "lineno": 57
    },
    {
      "kind": "variable",
      "name": "JSON_DIR_OPTION",
      "lineno": 105
    },
    {
      "kind": "variable",
      "name": "INDEX_DIR_OPTION",
      "lineno": 111
    },
    {
      "kind": "variable",
      "name": "THREADS_OPTION",
      "lineno": 117
    },
    {
      "kind": "function",
      "name": "build_index",
      "lineno": 127
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 183
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Command-line interface for BM25 corpus preparation and index builds.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_create_bm25_manager",
      "qualname": "_create_bm25_manager",
      "kind": "function",
      "public": false,
      "lineno": 20,
      "doc_summary": "Return an index manager configured from environment settings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_add_metadata_artifact",
      "qualname": "_add_metadata_artifact",
      "kind": "function",
      "public": false,
      "lineno": 31,
      "doc_summary": "Attach metadata artifact information to the CLI envelope.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "prepare_corpus",
      "qualname": "prepare_corpus",
      "kind": "function",
      "public": true,
      "lineno": 57,
      "doc_summary": "Prepare a BM25 JsonCollection from a JSONL source.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "build_index",
      "qualname": "build_index",
      "kind": "function",
      "public": true,
      "lineno": 127,
      "doc_summary": "Build a Lucene BM25 index using Pyserini.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 183,
      "doc_summary": "Run the BM25 CLI directly.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 190
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 2,
  "cycle_group": 69,
  "imports_internal": [
    "config/settings.py",
    "io/bm25_manager.py"
  ],
  "imports_intra_repo": [
    "config/settings.py",
    "io/bm25_manager.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.402,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "cli/build_indexes.py",
  "repo_path": "codeintel_rev/cli/build_indexes.py",
  "module_name": "codeintel_rev.cli.build_indexes",
  "stable_id": "f67873152082",
  "docstring": "CLI helpers for building Lucene indexes and flipping lifecycle pointers.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Annotated"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.index_lifecycle",
      "names": [
        "LuceneAssets",
        "link_current_lucene"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.bm25_manager",
      "names": [
        "BM25BuildOptions",
        "BM25IndexManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.splade_manager",
      "names": [
        "SpladeBuildOptions",
        "SpladeIndexManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "JsonDirOption",
      "lineno": 15
    },
    {
      "kind": "variable",
      "name": "IndexDirOption",
      "lineno": 23
    },
    {
      "kind": "variable",
      "name": "VectorsDirOption",
      "lineno": 31
    },
    {
      "kind": "variable",
      "name": "ThreadsOption",
      "lineno": 39
    },
    {
      "kind": "variable",
      "name": "MaxClauseOption",
      "lineno": 48
    },
    {
      "kind": "variable",
      "name": "OverwriteFlag",
      "lineno": 57
    },
    {
      "kind": "variable",
      "name": "VersionArgument",
      "lineno": 65
    },
    {
      "kind": "variable",
      "name": "BaseDirOption",
      "lineno": 69
    },
    {
      "kind": "variable",
      "name": "Bm25DirOption",
      "lineno": 77
    },
    {
      "kind": "variable",
      "name": "SpladeDirOption",
      "lineno": 81
    },
    {
      "kind": "variable",
      "name": "app",
      "lineno": 86
    },
    {
      "kind": "function",
      "name": "_bm25_manager",
      "lineno": 93
    },
    {
      "kind": "function",
      "name": "_splade_manager",
      "lineno": 104
    },
    {
      "kind": "function",
      "name": "build_bm25_index",
      "lineno": 116
    },
    {
      "kind": "function",
      "name": "build_splade_impact_index",
      "lineno": 142
    },
    {
      "kind": "function",
      "name": "publish_lucene_assets",
      "lineno": 167
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 186
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "CLI helpers for building Lucene indexes and flipping lifecycle pointers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_bm25_manager",
      "qualname": "_bm25_manager",
      "kind": "function",
      "public": false,
      "lineno": 93,
      "doc_summary": "Return a BM25 index manager configured from the active settings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_splade_manager",
      "qualname": "_splade_manager",
      "kind": "function",
      "public": false,
      "lineno": 104,
      "doc_summary": "Return a SPLADE index manager configured from the active settings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "build_bm25_index",
      "qualname": "build_bm25_index",
      "kind": "function",
      "public": true,
      "lineno": 116,
      "doc_summary": "Build a Lucene BM25 index with positional/docvector/raw storage enabled.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "build_splade_impact_index",
      "qualname": "build_splade_impact_index",
      "kind": "function",
      "public": true,
      "lineno": 142,
      "doc_summary": "Build a SPLADE Lucene impact index from JsonVectorCollection shards.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "publish_lucene_assets",
      "qualname": "publish_lucene_assets",
      "kind": "function",
      "public": true,
      "lineno": 167,
      "doc_summary": "Copy Lucene assets into the lifecycle root and flip the CURRENT pointer.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 186,
      "doc_summary": "Execute the build_indexes CLI.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 5,
    "cyclomatic": 6,
    "loc": 193
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 5,
  "cycle_group": 70,
  "imports_internal": [
    "config/settings.py",
    "indexing/index_lifecycle.py",
    "io/bm25_manager.py",
    "io/splade_manager.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "config/settings.py",
    "indexing/index_lifecycle.py",
    "io/bm25_manager.py",
    "io/splade_manager.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.847,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "cli/indexctl.py",
  "repo_path": "codeintel_rev/cli/indexctl.py",
  "module_name": "codeintel_rev.cli.indexctl",
  "stable_id": "28b7e26179af",
  "docstring": "Typer CLI for managing index lifecycle operations.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "hashlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "uuid"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "functools",
      "names": [
        "lru_cache"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Annotated",
        "Literal",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "click"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "duckdb"
      ],
      "aliases": {
        "duckdb": "duckdb_mod"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "Settings",
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.embeddings",
      "names": [
        "EmbeddingProvider",
        "get_embedding_provider"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "RuntimeLifecycleError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.eval.hybrid_evaluator",
      "names": [
        "EvalConfig",
        "HybridPoolEvaluator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.cast_chunker",
      "names": [
        "Chunk"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.index_lifecycle",
      "names": [
        "IndexAssets",
        "IndexLifecycleManager",
        "collect_asset_attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_catalog",
      "names": [
        "DuckDBCatalog"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.faiss_manager",
      "names": [
        "FAISSManager",
        "RefineSearchConfig",
        "SearchRuntimeOverrides"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.parquet_store",
      "names": [
        "ParquetWriteOptions",
        "extract_embeddings",
        "read_chunks_parquet",
        "write_chunks_parquet"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.xtr_manager",
      "names": [
        "XTRIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow.parquet"
      ],
      "aliases": {
        "pyarrow.parquet": "pyarrow_parquet"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "pyarrow_parquet",
      "lineno": 51
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 53
    },
    {
      "kind": "variable",
      "name": "app",
      "lineno": 54
    },
    {
      "kind": "variable",
      "name": "DEFAULT_XTR_ORACLE",
      "lineno": 55
    },
    {
      "kind": "variable",
      "name": "embeddings_app",
      "lineno": 56
    },
    {
      "kind": "function",
      "name": "_get_settings",
      "lineno": 61
    },
    {
      "kind": "variable",
      "name": "RootOption",
      "lineno": 72
    },
    {
      "kind": "variable",
      "name": "ExtraOption",
      "lineno": 73
    },
    {
      "kind": "variable",
      "name": "VersionArg",
      "lineno": 81
    },
    {
      "kind": "variable",
      "name": "PathArg",
      "lineno": 82
    },
    {
      "kind": "variable",
      "name": "QueriesArg",
      "lineno": 83
    },
    {
      "kind": "variable",
      "name": "IndexOption",
      "lineno": 87
    },
    {
      "kind": "variable",
      "name": "AssetsArg",
      "lineno": 88
    },
    {
      "kind": "variable",
      "name": "SidecarOption",
      "lineno": 96
    },
    {
      "kind": "variable",
      "name": "VersionOption",
      "lineno": 104
    },
    {
      "kind": "variable",
      "name": "ParquetOption",
      "lineno": 108
    },
    {
      "kind": "variable",
      "name": "OutputOption",
      "lineno": 111
    },
    {
      "kind": "variable",
      "name": "ChunkBatchOption",
      "lineno": 112
    },
    {
      "kind": "variable",
      "name": "SampleOption",
      "lineno": 116
    },
    {
      "kind": "variable",
      "name": "EpsilonOption",
      "lineno": 117
    },
    {
      "kind": "variable",
      "name": "SweepMode",
      "lineno": 121
    },
    {
      "kind": "class",
      "name": "SearchCommandParams",
      "lineno": 136
    },
    {
      "kind": "variable",
      "name": "SWEEP_OPTION",
      "lineno": 148
    },
    {
      "kind": "variable",
      "name": "IdMapOption",
      "lineno": 153
    },
    {
      "kind": "variable",
      "name": "DuckOption",
      "lineno": 154
    },
    {
      "kind": "variable",
      "name": "OutOption",
      "lineno": 155
    },
    {
      "kind": "variable",
      "name": "ParamSpaceArg",
      "lineno": 156
    },
    {
      "kind": "variable",
      "name": "EvalTopKOption",
      "lineno": 160
    },
    {
      "kind": "variable",
      "name": "EvalKFactorOption",
      "lineno": 164
    },
    {
      "kind": "variable",
      "name": "EvalNProbeOption",
      "lineno": 168
    },
    {
      "kind": "variable",
      "name": "EvalXtrOracleOption",
      "lineno": 172
    },
    {
      "kind": "function",
      "name": "global_options",
      "lineno": 182
    },
    {
      "kind": "function",
      "name": "_default_root",
      "lineno": 187
    },
    {
      "kind": "function",
      "name": "_resolve_root",
      "lineno": 194
    },
    {
      "kind": "function",
      "name": "_manager",
      "lineno": 200
    },
    {
      "kind": "function",
      "name": "_build_assets",
      "lineno": 205
    },
    {
      "kind": "function",
      "name": "_parse_extras",
      "lineno": 223
    },
    {
      "kind": "function",
      "name": "_parse_sidecars",
      "lineno": 234
    },
    {
      "kind": "function",
      "name": "_resolve_version_dir",
      "lineno": 253
    },
    {
      "kind": "function",
      "name": "_manifest_path_for",
      "lineno": 263
    },
    {
      "kind": "function",
      "name": "_load_manifest",
      "lineno": 267
    },
    {
      "kind": "function",
      "name": "_write_manifest",
      "lineno": 277
    },
    {
      "kind": "class",
      "name": "_EmbeddingBuildContext",
      "lineno": 282
    },
    {
      "kind": "function",
      "name": "_build_context",
      "lineno": 292
    },
    {
      "kind": "function",
      "name": "_resolve_duck_path",
      "lineno": 320
    },
    {
      "kind": "function",
      "name": "_resolve_output_path",
      "lineno": 337
    },
    {
      "kind": "function",
      "name": "_parquet_meta",
      "lineno": 357
    },
    {
      "kind": "function",
      "name": "_build_embedding_manifest",
      "lineno": 370
    },
    {
      "kind": "function",
      "name": "_compute_chunk_checksum",
      "lineno": 396
    },
    {
      "kind": "function",
      "name": "_collect_chunks_and_embeddings",
      "lineno": 411
    },
    {
      "kind": "function",
      "name": "_deterministic_sample",
      "lineno": 458
    },
    {
      "kind": "function",
      "name": "_evaluate_drift",
      "lineno": 492
    },
    {
      "kind": "function",
      "name": "_execute_embeddings_build",
      "lineno": 517
    },
    {
      "kind": "function",
      "name": "_run_embedding_validation",
      "lineno": 579
    },
    {
      "kind": "function",
      "name": "_write_embedding_meta",
      "lineno": 616
    },
    {
      "kind": "function",
      "name": "embeddings_build_command",
      "lineno": 631
    },
    {
      "kind": "function",
      "name": "embeddings_validate_command",
      "lineno": 656
    },
    {
      "kind": "function",
      "name": "_parse_tune_overrides",
      "lineno": 718
    },
    {
      "kind": "function",
      "name": "_faiss_manager",
      "lineno": 758
    },
    {
      "kind": "function",
      "name": "_duckdb_catalog",
      "lineno": 772
    },
    {
      "kind": "function",
      "name": "_duckdb_embedding_dim",
      "lineno": 786
    },
    {
      "kind": "function",
      "name": "_count_idmap_rows",
      "lineno": 812
    },
    {
      "kind": "function",
      "name": "_load_xtr_index",
      "lineno": 842
    },
    {
      "kind": "function",
      "name": "_eval_paths",
      "lineno": 858
    },
    {
      "kind": "function",
      "name": "status_command",
      "lineno": 868
    },
    {
      "kind": "function",
      "name": "stage_command",
      "lineno": 878
    },
    {
      "kind": "function",
      "name": "publish_command",
      "lineno": 935
    },
    {
      "kind": "function",
      "name": "rollback_command",
      "lineno": 945
    },
    {
      "kind": "function",
      "name": "list_command",
      "lineno": 955
    },
    {
      "kind": "function",
      "name": "health_command",
      "lineno": 967
    },
    {
      "kind": "function",
      "name": "export_idmap_command",
      "lineno": 1026
    },
    {
      "kind": "function",
      "name": "materialize_join_command",
      "lineno": 1047
    },
    {
      "kind": "function",
      "name": "tune_command",
      "lineno": 1063
    },
    {
      "kind": "function",
      "name": "tune_params_command",
      "lineno": 1133
    },
    {
      "kind": "function",
      "name": "show_profile_command",
      "lineno": 1175
    },
    {
      "kind": "function",
      "name": "_write_tuning_audit",
      "lineno": 1181
    },
    {
      "kind": "function",
      "name": "_run_autotune",
      "lineno": 1192
    },
    {
      "kind": "function",
      "name": "eval_command",
      "lineno": 1218
    },
    {
      "kind": "function",
      "name": "_execute_search",
      "lineno": 1251
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Typer CLI for managing index lifecycle operations.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_get_settings",
      "qualname": "_get_settings",
      "kind": "function",
      "public": false,
      "lineno": 61,
      "doc_summary": "Load settings once and reuse for subsequent commands.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "SearchCommandParams",
      "qualname": "SearchCommandParams",
      "kind": "class",
      "public": true,
      "lineno": 136,
      "doc_summary": "Typed container for CLI-provided semantic search arguments.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "global_options",
      "qualname": "global_options",
      "kind": "function",
      "public": true,
      "lineno": 182,
      "doc_summary": "Configure shared CLI options.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_default_root",
      "qualname": "_default_root",
      "kind": "function",
      "public": false,
      "lineno": 187,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_root",
      "qualname": "_resolve_root",
      "kind": "function",
      "public": false,
      "lineno": 194,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_manager",
      "qualname": "_manager",
      "kind": "function",
      "public": false,
      "lineno": 200,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_assets",
      "qualname": "_build_assets",
      "kind": "function",
      "public": false,
      "lineno": 205,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parse_extras",
      "qualname": "_parse_extras",
      "kind": "function",
      "public": false,
      "lineno": 223,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parse_sidecars",
      "qualname": "_parse_sidecars",
      "kind": "function",
      "public": false,
      "lineno": 234,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_version_dir",
      "qualname": "_resolve_version_dir",
      "kind": "function",
      "public": false,
      "lineno": 253,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_manifest_path_for",
      "qualname": "_manifest_path_for",
      "kind": "function",
      "public": false,
      "lineno": 263,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_load_manifest",
      "qualname": "_load_manifest",
      "kind": "function",
      "public": false,
      "lineno": 267,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_manifest",
      "qualname": "_write_manifest",
      "kind": "function",
      "public": false,
      "lineno": 277,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_EmbeddingBuildContext",
      "qualname": "_EmbeddingBuildContext",
      "kind": "class",
      "public": false,
      "lineno": 282,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_context",
      "qualname": "_build_context",
      "kind": "function",
      "public": false,
      "lineno": 292,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_duck_path",
      "qualname": "_resolve_duck_path",
      "kind": "function",
      "public": false,
      "lineno": 320,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_output_path",
      "qualname": "_resolve_output_path",
      "kind": "function",
      "public": false,
      "lineno": 337,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parquet_meta",
      "qualname": "_parquet_meta",
      "kind": "function",
      "public": false,
      "lineno": 357,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_embedding_manifest",
      "qualname": "_build_embedding_manifest",
      "kind": "function",
      "public": false,
      "lineno": 370,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_compute_chunk_checksum",
      "qualname": "_compute_chunk_checksum",
      "kind": "function",
      "public": false,
      "lineno": 396,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_collect_chunks_and_embeddings",
      "qualname": "_collect_chunks_and_embeddings",
      "kind": "function",
      "public": false,
      "lineno": 411,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_deterministic_sample",
      "qualname": "_deterministic_sample",
      "kind": "function",
      "public": false,
      "lineno": 458,
      "doc_summary": "Return a deterministic pseudo-random selection of indices.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_evaluate_drift",
      "qualname": "_evaluate_drift",
      "kind": "function",
      "public": false,
      "lineno": 492,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_execute_embeddings_build",
      "qualname": "_execute_embeddings_build",
      "kind": "function",
      "public": false,
      "lineno": 517,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_run_embedding_validation",
      "qualname": "_run_embedding_validation",
      "kind": "function",
      "public": false,
      "lineno": 579,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_embedding_meta",
      "qualname": "_write_embedding_meta",
      "kind": "function",
      "public": false,
      "lineno": 616,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "embeddings_build_command",
      "qualname": "embeddings_build_command",
      "kind": "function",
      "public": true,
      "lineno": 631,
      "doc_summary": "Embed chunks from DuckDB and write Parquet + manifest artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "embeddings_validate_command",
      "qualname": "embeddings_validate_command",
      "kind": "function",
      "public": true,
      "lineno": 656,
      "doc_summary": "Sample stored embeddings, recompute vectors, and detect drift.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_parse_tune_overrides",
      "qualname": "_parse_tune_overrides",
      "kind": "function",
      "public": false,
      "lineno": 718,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_faiss_manager",
      "qualname": "_faiss_manager",
      "kind": "function",
      "public": false,
      "lineno": 758,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_duckdb_catalog",
      "qualname": "_duckdb_catalog",
      "kind": "function",
      "public": false,
      "lineno": 772,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_duckdb_embedding_dim",
      "qualname": "_duckdb_embedding_dim",
      "kind": "function",
      "public": false,
      "lineno": 786,
      "doc_summary": "Return the embedding dimension stored in DuckDB.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_count_idmap_rows",
      "qualname": "_count_idmap_rows",
      "kind": "function",
      "public": false,
      "lineno": 812,
      "doc_summary": "Return row count for a FAISS idmap sidecar.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_load_xtr_index",
      "qualname": "_load_xtr_index",
      "kind": "function",
      "public": false,
      "lineno": 842,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_eval_paths",
      "qualname": "_eval_paths",
      "kind": "function",
      "public": false,
      "lineno": 858,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "status_command",
      "qualname": "status_command",
      "kind": "function",
      "public": true,
      "lineno": 868,
      "doc_summary": "Print the active version and available versions.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "stage_command",
      "qualname": "stage_command",
      "kind": "function",
      "public": true,
      "lineno": 878,
      "doc_summary": "Stage a new version by copying assets into the lifecycle root.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "publish_command",
      "qualname": "publish_command",
      "kind": "function",
      "public": true,
      "lineno": 935,
      "doc_summary": "Publish a previously staged version.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "rollback_command",
      "qualname": "rollback_command",
      "kind": "function",
      "public": true,
      "lineno": 945,
      "doc_summary": "Rollback to a previously published version.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "list_command",
      "qualname": "list_command",
      "kind": "function",
      "public": true,
      "lineno": 955,
      "doc_summary": "List all published versions.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "health_command",
      "qualname": "health_command",
      "kind": "function",
      "public": true,
      "lineno": 967,
      "doc_summary": "Validate FAISS, DuckDB, and ID map invariants.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "export_idmap_command",
      "qualname": "export_idmap_command",
      "kind": "function",
      "public": true,
      "lineno": 1026,
      "doc_summary": "Export FAISS ID map to Parquet and optionally refresh DuckDB materialization.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "materialize_join_command",
      "qualname": "materialize_join_command",
      "kind": "function",
      "public": true,
      "lineno": 1047,
      "doc_summary": "Refresh DuckDB's materialized FAISS join if the ID map sidecar changed.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "tune_command",
      "qualname": "tune_command",
      "kind": "function",
      "public": true,
      "lineno": 1063,
      "doc_summary": "Apply FAISS tuning overrides or run an autotune sweep.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "tune_params_command",
      "qualname": "tune_params_command",
      "kind": "function",
      "public": true,
      "lineno": 1133,
      "doc_summary": "Apply FAISS ParameterSpace string (nprobe/efSearch/quantizer/k_factor).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "show_profile_command",
      "qualname": "show_profile_command",
      "kind": "function",
      "public": true,
      "lineno": 1175,
      "doc_summary": "Print the active tuning profile, overrides, and saved ParameterSpace.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_write_tuning_audit",
      "qualname": "_write_tuning_audit",
      "kind": "function",
      "public": false,
      "lineno": 1181,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_run_autotune",
      "qualname": "_run_autotune",
      "kind": "function",
      "public": false,
      "lineno": 1192,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "eval_command",
      "qualname": "eval_command",
      "kind": "function",
      "public": true,
      "lineno": 1218,
      "doc_summary": "Run ANN vs Flat evaluation and optionally rescore with XTR.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_execute_search",
      "qualname": "_execute_search",
      "kind": "function",
      "public": false,
      "lineno": 1251,
      "doc_summary": "Execute ANN + refine search for newline-delimited queries.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": true
  },
  "raises": [],
  "complexity": {
    "branches": 103,
    "cyclomatic": 104,
    "loc": 1330
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 12,
  "cycle_group": 73,
  "imports_internal": [
    "config/settings.py",
    "embeddings/__init__.py",
    "errors.py",
    "eval/hybrid_evaluator.py",
    "indexing/cast_chunker.py",
    "indexing/index_lifecycle.py",
    "io/duckdb_catalog.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/parquet_store.py",
    "io/xtr_manager.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "config/settings.py",
    "embeddings/__init__.py",
    "errors.py",
    "eval/hybrid_evaluator.py",
    "indexing/cast_chunker.py",
    "indexing/index_lifecycle.py",
    "io/duckdb_catalog.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/parquet_store.py",
    "io/xtr_manager.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.969,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 14,
  "recent_churn_90": 14
}
{
  "path": "cli/splade.py",
  "repo_path": "codeintel_rev/cli/splade.py",
  "module_name": "codeintel_rev.cli.splade",
  "stable_id": "173332c4a3aa",
  "docstring": "Command-line interface for SPLADE artifact management.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Annotated"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "tools",
      "names": [
        "CliContext",
        "EnvelopeBuilder",
        "cli_operation",
        "sha256_file"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.splade_manager",
      "names": [
        "SpladeArtifactsManager",
        "SpladeBenchmarkOptions",
        "SpladeBuildOptions",
        "SpladeEncodeOptions",
        "SpladeEncoderService",
        "SpladeExportOptions",
        "SpladeIndexManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "OptimizeFlag",
      "lineno": 23
    },
    {
      "kind": "variable",
      "name": "QuantizeFlag",
      "lineno": 31
    },
    {
      "kind": "variable",
      "name": "OverwriteFlag",
      "lineno": 39
    },
    {
      "kind": "variable",
      "name": "app",
      "lineno": 48
    },
    {
      "kind": "function",
      "name": "_create_artifacts_manager",
      "lineno": 55
    },
    {
      "kind": "function",
      "name": "_create_encoder_service",
      "lineno": 66
    },
    {
      "kind": "function",
      "name": "_create_index_manager",
      "lineno": 77
    },
    {
      "kind": "function",
      "name": "_add_metadata_artifact",
      "lineno": 88
    },
    {
      "kind": "variable",
      "name": "MODEL_ID_OPTION",
      "lineno": 94
    },
    {
      "kind": "variable",
      "name": "QUANTIZATION_OPTION",
      "lineno": 99
    },
    {
      "kind": "function",
      "name": "export_onnx",
      "lineno": 107
    },
    {
      "kind": "variable",
      "name": "SOURCE_ARGUMENT",
      "lineno": 162
    },
    {
      "kind": "variable",
      "name": "OUTPUT_DIR_OPTION",
      "lineno": 166
    },
    {
      "kind": "variable",
      "name": "BATCH_SIZE_OPTION",
      "lineno": 172
    },
    {
      "kind": "variable",
      "name": "QUANTIZATION_OPTION_ENCODE",
      "lineno": 179
    },
    {
      "kind": "variable",
      "name": "SHARD_SIZE_OPTION",
      "lineno": 186
    },
    {
      "kind": "function",
      "name": "encode",
      "lineno": 196
    },
    {
      "kind": "variable",
      "name": "VECTORS_DIR_OPTION",
      "lineno": 254
    },
    {
      "kind": "variable",
      "name": "INDEX_DIR_OPTION",
      "lineno": 260
    },
    {
      "kind": "variable",
      "name": "THREADS_OPTION",
      "lineno": 266
    },
    {
      "kind": "variable",
      "name": "MAX_CLAUSE_OPTION",
      "lineno": 273
    },
    {
      "kind": "variable",
      "name": "QUERY_OPTION",
      "lineno": 280
    },
    {
      "kind": "variable",
      "name": "QUERIES_FILE_OPTION",
      "lineno": 286
    },
    {
      "kind": "variable",
      "name": "WARMUP_OPTION",
      "lineno": 291
    },
    {
      "kind": "variable",
      "name": "RUNS_OPTION",
      "lineno": 298
    },
    {
      "kind": "function",
      "name": "build_index",
      "lineno": 308
    },
    {
      "kind": "function",
      "name": "bench",
      "lineno": 369
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 480
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Command-line interface for SPLADE artifact management.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_create_artifacts_manager",
      "qualname": "_create_artifacts_manager",
      "kind": "function",
      "public": false,
      "lineno": 55,
      "doc_summary": "Construct an artifacts manager using the active settings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_create_encoder_service",
      "qualname": "_create_encoder_service",
      "kind": "function",
      "public": false,
      "lineno": 66,
      "doc_summary": "Construct an encoder service using the active settings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_create_index_manager",
      "qualname": "_create_index_manager",
      "kind": "function",
      "public": false,
      "lineno": 77,
      "doc_summary": "Construct an index manager using the active settings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_add_metadata_artifact",
      "qualname": "_add_metadata_artifact",
      "kind": "function",
      "public": false,
      "lineno": 88,
      "doc_summary": "Attach metadata artifacts to CLI envelopes when available.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "export_onnx",
      "qualname": "export_onnx",
      "kind": "function",
      "public": true,
      "lineno": 107,
      "doc_summary": "Export SPLADE ONNX artifacts (optimized and quantized).",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "encode",
      "qualname": "encode",
      "kind": "function",
      "public": true,
      "lineno": 196,
      "doc_summary": "Encode a corpus into SPLADE JsonVectorCollection shards.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "build_index",
      "qualname": "build_index",
      "kind": "function",
      "public": true,
      "lineno": 308,
      "doc_summary": "Build a SPLADE Lucene impact index from JsonVectorCollection shards.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "bench",
      "qualname": "bench",
      "kind": "function",
      "public": true,
      "lineno": 369,
      "doc_summary": "Benchmark SPLADE query encoding latency.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 480,
      "doc_summary": "Run the SPLADE CLI directly.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 6,
    "cyclomatic": 7,
    "loc": 487
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 3,
  "cycle_group": 74,
  "imports_internal": [
    "config/settings.py",
    "io/splade_manager.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "config/settings.py",
    "io/splade_manager.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.725,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "cli/telemetry.py",
  "repo_path": "codeintel_rev/cli/telemetry.py",
  "module_name": "codeintel_rev.cli.telemetry",
  "stable_id": "dbf50c5d4730",
  "docstring": "Telemetry-focused CLI commands.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "enum",
      "names": [
        "Enum"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Annotated"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.reporting",
      "names": [
        "build_timeline_run_report",
        "render_timeline_markdown",
        "timeline_mermaid"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.runpack",
      "names": [
        "make_runpack"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "app",
      "lineno": 20
    },
    {
      "kind": "variable",
      "name": "SessionArg",
      "lineno": 22
    },
    {
      "kind": "variable",
      "name": "RunIdOption",
      "lineno": 23
    },
    {
      "kind": "variable",
      "name": "TimelineDirOption",
      "lineno": 31
    },
    {
      "kind": "class",
      "name": "OutputFormat",
      "lineno": 41
    },
    {
      "kind": "function",
      "name": "run_report",
      "lineno": 50
    },
    {
      "kind": "function",
      "name": "runpack",
      "lineno": 80
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Telemetry-focused CLI commands.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "OutputFormat",
      "qualname": "OutputFormat",
      "kind": "class",
      "public": true,
      "lineno": 41,
      "doc_summary": "Output formats supported by the run report command.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "run_report",
      "qualname": "run_report",
      "kind": "function",
      "public": true,
      "lineno": 50,
      "doc_summary": "Render a run report from Timeline JSONL artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "runpack",
      "qualname": "runpack",
      "kind": "function",
      "public": true,
      "lineno": 80,
      "doc_summary": "Create a runpack zip for the specified session/run.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 3,
    "cyclomatic": 4,
    "loc": 139
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 4,
  "cycle_group": 75,
  "imports_internal": [
    "app/config_context.py",
    "observability/reporting.py",
    "observability/runpack.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "observability/reporting.py",
    "observability/runpack.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.673,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 5,
  "recent_churn_90": 5
}
{
  "path": "cli/xtr.py",
  "repo_path": "codeintel_rev/cli/xtr.py",
  "module_name": "codeintel_rev.cli.xtr",
  "stable_id": "079dc2144076",
  "docstring": "Backward-compatible entrypoint for the XTR Typer CLI.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.retrieval.xtr_cli",
      "names": [
        "app",
        "main"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "app",
    "main"
  ],
  "exports_declared": [
    "app",
    "main"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Backward-compatible entrypoint for the XTR Typer CLI.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 8
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 1,
  "cycle_group": 78,
  "imports_internal": [
    "mcp_server/retrieval/xtr_cli.py"
  ],
  "imports_intra_repo": [
    "mcp_server/retrieval/xtr_cli.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.032,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "cli_enrich.py",
  "repo_path": "codeintel_rev/cli_enrich.py",
  "module_name": "codeintel_rev.cli_enrich",
  "stable_id": "785e51a9d328",
  "docstring": "CLI entrypoint for repo enrichment and targeted overlay generation.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "ast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Iterator",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "asdict",
        "dataclass",
        "field",
        "replace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "fnmatch",
      "names": [
        "fnmatch"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Annotated",
        "Any",
        "Protocol",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config_indexer",
      "names": [
        "index_config_files"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.coverage_ingest",
      "names": [
        "collect_coverage"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.ast_indexer",
      "names": [
        "AstMetricsRow",
        "AstNodeRow",
        "collect_ast_nodes_from_tree",
        "compute_ast_metrics",
        "empty_metrics_row",
        "stable_module_path",
        "write_ast_parquet"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.duckdb_store",
      "names": [
        "DuckConn",
        "ingest_modules_jsonl"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.errors",
      "names": [
        "IndexingError",
        "IngestError",
        "StageError",
        "TaggingError",
        "TypeSignalError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.graph_builder",
      "names": [
        "ImportGraph",
        "build_import_graph",
        "write_import_graph"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.libcst_bridge",
      "names": [
        "ModuleIndex",
        "index_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.models",
      "names": [
        "ModuleRecord"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.output_writers",
      "names": [
        "write_json",
        "write_jsonl",
        "write_markdown_module",
        "write_parquet",
        "write_parquet_dataset"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.ownership",
      "names": [
        "OwnershipIndex",
        "compute_ownership"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.pathnorm",
      "names": [
        "detect_repo_root",
        "module_name_from_path",
        "stable_id_for_path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.scip_reader",
      "names": [
        "Document",
        "SCIPIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.slices_builder",
      "names": [
        "build_slice_record",
        "write_slice"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.stubs_overlay",
      "names": [
        "OverlayInputs",
        "OverlayPolicy",
        "activate_overlays",
        "deactivate_all",
        "generate_overlay_for_file"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.tagging",
      "names": [
        "ModuleTraits",
        "infer_tags",
        "load_rules"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.tree_sitter_bridge",
      "names": [
        "build_outline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.validators",
      "names": [
        "ModuleRecordModel"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.export_resolver",
      "names": [
        "build_module_name_map",
        "resolve_exports"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.risk_hotspots",
      "names": [
        "compute_hotspot_score"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typedness",
      "names": [
        "FileTypeSignals",
        "collect_type_signals"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.uses_builder",
      "names": [
        "UseGraph",
        "build_use_graph",
        "write_use_graph"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "yaml"
      ],
      "aliases": {
        "yaml": "yaml_module"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "yaml_module",
      "lineno": 75
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 78
    },
    {
      "kind": "function",
      "name": "_format_stage_meta",
      "lineno": 81
    },
    {
      "kind": "function",
      "name": "_stage_span",
      "lineno": 87
    },
    {
      "kind": "class",
      "name": "_YamlDumpFn",
      "lineno": 128
    },
    {
      "kind": "variable",
      "name": "EXPORT_HUB_THRESHOLD",
      "lineno": 132
    },
    {
      "kind": "variable",
      "name": "OVERLAY_PARAM_THRESHOLD",
      "lineno": 133
    },
    {
      "kind": "variable",
      "name": "OVERLAY_FAN_IN_THRESHOLD",
      "lineno": 134
    },
    {
      "kind": "variable",
      "name": "OVERLAY_ERROR_THRESHOLD",
      "lineno": 135
    },
    {
      "kind": "variable",
      "name": "DEFAULT_MIN_ERRORS",
      "lineno": 137
    },
    {
      "kind": "variable",
      "name": "DEFAULT_MAX_OVERLAYS",
      "lineno": 138
    },
    {
      "kind": "variable",
      "name": "DEFAULT_INCLUDE_PUBLIC_DEFS",
      "lineno": 139
    },
    {
      "kind": "variable",
      "name": "DEFAULT_INJECT_GETATTR_ANY",
      "lineno": 140
    },
    {
      "kind": "variable",
      "name": "DEFAULT_DRY_RUN",
      "lineno": 141
    },
    {
      "kind": "variable",
      "name": "DEFAULT_ACTIVATE",
      "lineno": 142
    },
    {
      "kind": "variable",
      "name": "DEFAULT_DEACTIVATE",
      "lineno": 143
    },
    {
      "kind": "variable",
      "name": "DEFAULT_USE_TYPE_ERROR_OVERLAYS",
      "lineno": 144
    },
    {
      "kind": "variable",
      "name": "DEFAULT_EMIT_AST",
      "lineno": 145
    },
    {
      "kind": "variable",
      "name": "DEFAULT_MAX_FILE_BYTES",
      "lineno": 146
    },
    {
      "kind": "variable",
      "name": "DEFAULT_OWNER_HISTORY_DAYS",
      "lineno": 147
    },
    {
      "kind": "variable",
      "name": "DEFAULT_COMMITS_WINDOW",
      "lineno": 148
    },
    {
      "kind": "variable",
      "name": "DEFAULT_ENABLE_OWNERS",
      "lineno": 149
    },
    {
      "kind": "variable",
      "name": "DEFAULT_EMIT_SLICES_FLAG",
      "lineno": 150
    },
    {
      "kind": "class",
      "name": "PipelineOptions",
      "lineno": 156
    },
    {
      "kind": "class",
      "name": "AnalyticsOptions",
      "lineno": 170
    },
    {
      "kind": "class",
      "name": "CLIContextState",
      "lineno": 181
    },
    {
      "kind": "variable",
      "name": "ROOT_OPTION",
      "lineno": 188
    },
    {
      "kind": "variable",
      "name": "SCIP_OPTION",
      "lineno": 197
    },
    {
      "kind": "variable",
      "name": "OUT_OPTION",
      "lineno": 205
    },
    {
      "kind": "variable",
      "name": "PYREFLY_OPTION",
      "lineno": 211
    },
    {
      "kind": "variable",
      "name": "TAGS_OPTION",
      "lineno": 219
    },
    {
      "kind": "variable",
      "name": "COVERAGE_OPTION",
      "lineno": 227
    },
    {
      "kind": "variable",
      "name": "ONLY_OPTION",
      "lineno": 233
    },
    {
      "kind": "variable",
      "name": "MAX_FILE_BYTES_OPTION",
      "lineno": 238
    },
    {
      "kind": "variable",
      "name": "OWNERS_OPTION",
      "lineno": 243
    },
    {
      "kind": "variable",
      "name": "HISTORY_WINDOW_OPTION",
      "lineno": 248
    },
    {
      "kind": "variable",
      "name": "COMMITS_WINDOW_OPTION",
      "lineno": 253
    },
    {
      "kind": "variable",
      "name": "EMIT_SLICES_OPTION",
      "lineno": 258
    },
    {
      "kind": "variable",
      "name": "SLICES_FILTER_OPTION",
      "lineno": 263
    },
    {
      "kind": "variable",
      "name": "EMIT_AST_OPTION",
      "lineno": 268
    },
    {
      "kind": "variable",
      "name": "OVERLAYS_CONFIG_OPTION",
      "lineno": 273
    },
    {
      "kind": "variable",
      "name": "OVERLAYS_SET_OPTION",
      "lineno": 278
    },
    {
      "kind": "variable",
      "name": "DRY_RUN_OPTION",
      "lineno": 284
    },
    {
      "kind": "variable",
      "name": "GLOBAL_OPTIONS_HELP",
      "lineno": 291
    },
    {
      "kind": "variable",
      "name": "app",
      "lineno": 302
    },
    {
      "kind": "function",
      "name": "_ensure_state",
      "lineno": 305
    },
    {
      "kind": "function",
      "name": "_capture_shared_state",
      "lineno": 313
    },
    {
      "kind": "class",
      "name": "OverlayCLIOptions",
      "lineno": 398
    },
    {
      "kind": "class",
      "name": "OverlayContext",
      "lineno": 414
    },
    {
      "kind": "function",
      "name": "_load_overlay_options",
      "lineno": 427
    },
    {
      "kind": "function",
      "name": "_read_overlay_config",
      "lineno": 442
    },
    {
      "kind": "function",
      "name": "_parse_bool",
      "lineno": 458
    },
    {
      "kind": "function",
      "name": "_resolve_path",
      "lineno": 471
    },
    {
      "kind": "function",
      "name": "_parse_int_option",
      "lineno": 477
    },
    {
      "kind": "function",
      "name": "_parse_path_option",
      "lineno": 490
    },
    {
      "kind": "function",
      "name": "_set_overlay_option",
      "lineno": 499
    },
    {
      "kind": "class",
      "name": "ScipContext",
      "lineno": 525
    },
    {
      "kind": "class",
      "name": "ScanInputs",
      "lineno": 533
    },
    {
      "kind": "class",
      "name": "PipelineContext",
      "lineno": 546
    },
    {
      "kind": "class",
      "name": "PipelineResult",
      "lineno": 561
    },
    {
      "kind": "function",
      "name": "_discover_py_files",
      "lineno": 576
    },
    {
      "kind": "function",
      "name": "_load_scip_artifacts",
      "lineno": 600
    },
    {
      "kind": "function",
      "name": "_collect_type_signal_map",
      "lineno": 629
    },
    {
      "kind": "function",
      "name": "_collect_coverage_map",
      "lineno": 669
    },
    {
      "kind": "function",
      "name": "_index_config_records",
      "lineno": 694
    },
    {
      "kind": "function",
      "name": "_load_tagging_rules",
      "lineno": 714
    },
    {
      "kind": "function",
      "name": "_should_skip_candidate",
      "lineno": 747
    },
    {
      "kind": "function",
      "name": "_iter_files",
      "lineno": 758
    },
    {
      "kind": "function",
      "name": "_run_pipeline",
      "lineno": 770
    },
    {
      "kind": "function",
      "name": "_execute_pipeline",
      "lineno": 830
    },
    {
      "kind": "function",
      "name": "_execute_pipeline_or_exit",
      "lineno": 837
    },
    {
      "kind": "function",
      "name": "_handle_dry_run",
      "lineno": 847
    },
    {
      "kind": "function",
      "name": "_scan_modules",
      "lineno": 881
    },
    {
      "kind": "function",
      "name": "run_all",
      "lineno": 907
    },
    {
      "kind": "function",
      "name": "run",
      "lineno": 972
    },
    {
      "kind": "function",
      "name": "scan",
      "lineno": 1013
    },
    {
      "kind": "function",
      "name": "exports",
      "lineno": 1055
    },
    {
      "kind": "function",
      "name": "graph",
      "lineno": 1111
    },
    {
      "kind": "function",
      "name": "uses",
      "lineno": 1154
    },
    {
      "kind": "function",
      "name": "typedness",
      "lineno": 1197
    },
    {
      "kind": "function",
      "name": "doc",
      "lineno": 1240
    },
    {
      "kind": "function",
      "name": "coverage",
      "lineno": 1283
    },
    {
      "kind": "function",
      "name": "config",
      "lineno": 1326
    },
    {
      "kind": "function",
      "name": "hotspots",
      "lineno": 1369
    },
    {
      "kind": "function",
      "name": "overlays",
      "lineno": 1412
    },
    {
      "kind": "function",
      "name": "to_duckdb",
      "lineno": 1620
    },
    {
      "kind": "function",
      "name": "_load_overlay_tagged_paths",
      "lineno": 1645
    },
    {
      "kind": "function",
      "name": "_build_overlay_context",
      "lineno": 1682
    },
    {
      "kind": "function",
      "name": "_build_module_row",
      "lineno": 1733
    },
    {
      "kind": "function",
      "name": "_scip_symbols_and_edges",
      "lineno": 1786
    },
    {
      "kind": "function",
      "name": "_index_module_safe",
      "lineno": 1797
    },
    {
      "kind": "function",
      "name": "_read_module_source",
      "lineno": 1826
    },
    {
      "kind": "function",
      "name": "_collect_outline_nodes",
      "lineno": 1873
    },
    {
      "kind": "function",
      "name": "_apply_index_results",
      "lineno": 1905
    },
    {
      "kind": "function",
      "name": "_outline_nodes_for",
      "lineno": 1945
    },
    {
      "kind": "function",
      "name": "_type_error_count",
      "lineno": 1985
    },
    {
      "kind": "function",
      "name": "_coverage_value",
      "lineno": 1990
    },
    {
      "kind": "function",
      "name": "_augment_module_rows",
      "lineno": 1995
    },
    {
      "kind": "function",
      "name": "_build_tag_index",
      "lineno": 2067
    },
    {
      "kind": "function",
      "name": "_infer_tags",
      "lineno": 2081
    },
    {
      "kind": "function",
      "name": "_apply_tagging",
      "lineno": 2088
    },
    {
      "kind": "function",
      "name": "_traits_from_row",
      "lineno": 2109
    },
    {
      "kind": "function",
      "name": "_build_coverage_rows",
      "lineno": 2170
    },
    {
      "kind": "function",
      "name": "_build_hotspot_rows",
      "lineno": 2181
    },
    {
      "kind": "function",
      "name": "_write_exports_outputs",
      "lineno": 2195
    },
    {
      "kind": "function",
      "name": "_write_graph_outputs",
      "lineno": 2204
    },
    {
      "kind": "function",
      "name": "_write_uses_output",
      "lineno": 2211
    },
    {
      "kind": "function",
      "name": "_apply_ownership",
      "lineno": 2217
    },
    {
      "kind": "function",
      "name": "_write_ownership_output",
      "lineno": 2246
    },
    {
      "kind": "function",
      "name": "_write_slices_output",
      "lineno": 2261
    },
    {
      "kind": "function",
      "name": "_write_typedness_output",
      "lineno": 2298
    },
    {
      "kind": "function",
      "name": "_write_doc_output",
      "lineno": 2312
    },
    {
      "kind": "function",
      "name": "_write_coverage_output",
      "lineno": 2326
    },
    {
      "kind": "function",
      "name": "_write_config_output",
      "lineno": 2330
    },
    {
      "kind": "function",
      "name": "_write_hotspot_output",
      "lineno": 2334
    },
    {
      "kind": "function",
      "name": "_write_ast_outputs",
      "lineno": 2338
    },
    {
      "kind": "function",
      "name": "_write_modules_json",
      "lineno": 2357
    },
    {
      "kind": "function",
      "name": "_write_markdown_modules",
      "lineno": 2366
    },
    {
      "kind": "function",
      "name": "_write_repo_map",
      "lineno": 2380
    },
    {
      "kind": "function",
      "name": "_write_symbol_graph",
      "lineno": 2405
    },
    {
      "kind": "function",
      "name": "_write_tabular_records",
      "lineno": 2412
    },
    {
      "kind": "function",
      "name": "_collect_ast_artifacts",
      "lineno": 2417
    },
    {
      "kind": "function",
      "name": "_write_ast_jsonl",
      "lineno": 2440
    },
    {
      "kind": "function",
      "name": "_normalize_type_signal_map",
      "lineno": 2445
    },
    {
      "kind": "function",
      "name": "_normalize_metric_map",
      "lineno": 2461
    },
    {
      "kind": "function",
      "name": "_normalize_path_key",
      "lineno": 2479
    },
    {
      "kind": "function",
      "name": "_group_configs_by_dir",
      "lineno": 2483
    },
    {
      "kind": "function",
      "name": "_config_refs_for_row",
      "lineno": 2494
    },
    {
      "kind": "function",
      "name": "_ancestor_dirs",
      "lineno": 2510
    },
    {
      "kind": "function",
      "name": "_dir_key_from_path",
      "lineno": 2525
    },
    {
      "kind": "function",
      "name": "_should_mark_overlay",
      "lineno": 2532
    },
    {
      "kind": "function",
      "name": "_ensure_package_overlays",
      "lineno": 2562
    },
    {
      "kind": "function",
      "name": "_normalized_rel_path",
      "lineno": 2648
    },
    {
      "kind": "function",
      "name": "_write_tag_index",
      "lineno": 2652
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "CLI entrypoint for repo enrichment and targeted overlay generation.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_format_stage_meta",
      "qualname": "_format_stage_meta",
      "kind": "function",
      "public": false,
      "lineno": 81,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_stage_span",
      "qualname": "_stage_span",
      "kind": "function",
      "public": false,
      "lineno": 87,
      "doc_summary": "Context manager logging structured stage timings.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_YamlDumpFn",
      "qualname": "_YamlDumpFn",
      "kind": "class",
      "public": false,
      "lineno": 128,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PipelineOptions",
      "qualname": "PipelineOptions",
      "kind": "class",
      "public": true,
      "lineno": 156,
      "doc_summary": "Resolved paths and filters required for pipeline execution.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "AnalyticsOptions",
      "qualname": "AnalyticsOptions",
      "kind": "class",
      "public": true,
      "lineno": 170,
      "doc_summary": "Optional analytics toggles shared across commands.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CLIContextState",
      "qualname": "CLIContextState",
      "kind": "class",
      "public": true,
      "lineno": 181,
      "doc_summary": "CLI-scoped state shared between commands.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ensure_state",
      "qualname": "_ensure_state",
      "kind": "function",
      "public": false,
      "lineno": 305,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_capture_shared_state",
      "qualname": "_capture_shared_state",
      "kind": "function",
      "public": false,
      "lineno": 313,
      "doc_summary": "Persist shared pipeline + analytics options on the Typer context.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "OverlayCLIOptions",
      "qualname": "OverlayCLIOptions",
      "kind": "class",
      "public": true,
      "lineno": 398,
      "doc_summary": "Mutable overlay generation options parsed from CLI/config.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "OverlayContext",
      "qualname": "OverlayContext",
      "kind": "class",
      "public": true,
      "lineno": 414,
      "doc_summary": "Aggregated context used during overlay generation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_load_overlay_options",
      "qualname": "_load_overlay_options",
      "kind": "function",
      "public": false,
      "lineno": 427,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_read_overlay_config",
      "qualname": "_read_overlay_config",
      "kind": "function",
      "public": false,
      "lineno": 442,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parse_bool",
      "qualname": "_parse_bool",
      "kind": "function",
      "public": false,
      "lineno": 458,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_path",
      "qualname": "_resolve_path",
      "kind": "function",
      "public": false,
      "lineno": 471,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parse_int_option",
      "qualname": "_parse_int_option",
      "kind": "function",
      "public": false,
      "lineno": 477,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parse_path_option",
      "qualname": "_parse_path_option",
      "kind": "function",
      "public": false,
      "lineno": 490,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_set_overlay_option",
      "qualname": "_set_overlay_option",
      "kind": "function",
      "public": false,
      "lineno": 499,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ScipContext",
      "qualname": "ScipContext",
      "kind": "class",
      "public": true,
      "lineno": 525,
      "doc_summary": "Cache of SCIP lookups used during scanning.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ScanInputs",
      "qualname": "ScanInputs",
      "kind": "class",
      "public": true,
      "lineno": 533,
      "doc_summary": "Bundle of contextual inputs used during module row construction.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PipelineContext",
      "qualname": "PipelineContext",
      "kind": "class",
      "public": true,
      "lineno": 546,
      "doc_summary": "Aggregated context derived from CLI inputs and repo state.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PipelineResult",
      "qualname": "PipelineResult",
      "kind": "class",
      "public": true,
      "lineno": 561,
      "doc_summary": "Aggregate artifact bundle produced by a pipeline run.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_discover_py_files",
      "qualname": "_discover_py_files",
      "kind": "function",
      "public": false,
      "lineno": 576,
      "doc_summary": "Return ordered Python files under ``root`` honoring include patterns.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_load_scip_artifacts",
      "qualname": "_load_scip_artifacts",
      "kind": "function",
      "public": false,
      "lineno": 600,
      "doc_summary": "Load the SCIP index and derive lookup helpers.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_collect_type_signal_map",
      "qualname": "_collect_type_signal_map",
      "kind": "function",
      "public": false,
      "lineno": 629,
      "doc_summary": "Collect Pyrefly/Pyright summaries and normalize path keys.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_collect_coverage_map",
      "qualname": "_collect_coverage_map",
      "kind": "function",
      "public": false,
      "lineno": 669,
      "doc_summary": "Collect coverage metrics keyed by normalized path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_index_config_records",
      "qualname": "_index_config_records",
      "kind": "function",
      "public": false,
      "lineno": 694,
      "doc_summary": "Return discovered config records under ``root``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_load_tagging_rules",
      "qualname": "_load_tagging_rules",
      "kind": "function",
      "public": false,
      "lineno": 714,
      "doc_summary": "Load YAML tagging rules or fall back to defaults.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_should_skip_candidate",
      "qualname": "_should_skip_candidate",
      "kind": "function",
      "public": false,
      "lineno": 747,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_iter_files",
      "qualname": "_iter_files",
      "kind": "function",
      "public": false,
      "lineno": 758,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_run_pipeline",
      "qualname": "_run_pipeline",
      "kind": "function",
      "public": false,
      "lineno": 770,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_execute_pipeline",
      "qualname": "_execute_pipeline",
      "kind": "function",
      "public": false,
      "lineno": 830,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_execute_pipeline_or_exit",
      "qualname": "_execute_pipeline_or_exit",
      "kind": "function",
      "public": false,
      "lineno": 837,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_handle_dry_run",
      "qualname": "_handle_dry_run",
      "kind": "function",
      "public": false,
      "lineno": 847,
      "doc_summary": "Emit deterministic dry-run summaries and signal whether callers should return.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_scan_modules",
      "qualname": "_scan_modules",
      "kind": "function",
      "public": false,
      "lineno": 881,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "run_all",
      "qualname": "run_all",
      "kind": "function",
      "public": true,
      "lineno": 907,
      "doc_summary": "Run the full enrichment pipeline and emit all artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "run",
      "qualname": "run",
      "kind": "function",
      "public": true,
      "lineno": 972,
      "doc_summary": "Alias for ``all`` to match historical CLI entrypoints.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "scan",
      "qualname": "scan",
      "kind": "function",
      "public": true,
      "lineno": 1013,
      "doc_summary": "Backward-compatible alias for ``all``.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "exports",
      "qualname": "exports",
      "kind": "function",
      "public": true,
      "lineno": 1055,
      "doc_summary": "Emit modules.jsonl, repo map, tag index, and Markdown module sheets.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "graph",
      "qualname": "graph",
      "kind": "function",
      "public": true,
      "lineno": 1111,
      "doc_summary": "Emit symbol and import graph artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "uses",
      "qualname": "uses",
      "kind": "function",
      "public": true,
      "lineno": 1154,
      "doc_summary": "Emit the definition-to-use graph derived from SCIP.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "typedness",
      "qualname": "typedness",
      "kind": "function",
      "public": true,
      "lineno": 1197,
      "doc_summary": "Emit typedness analytics (errors, annotation ratios, untyped defs).",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "doc",
      "qualname": "doc",
      "kind": "function",
      "public": true,
      "lineno": 1240,
      "doc_summary": "Emit doc health analytics for module docstrings.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "coverage",
      "qualname": "coverage",
      "kind": "function",
      "public": true,
      "lineno": 1283,
      "doc_summary": "Emit coverage analytics table.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "config",
      "qualname": "config",
      "kind": "function",
      "public": true,
      "lineno": 1326,
      "doc_summary": "Emit config index (YAML/TOML/JSON/Markdown references).",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "hotspots",
      "qualname": "hotspots",
      "kind": "function",
      "public": true,
      "lineno": 1369,
      "doc_summary": "Emit hotspot analytics (complexity x churn x centrality).",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "overlays",
      "qualname": "overlays",
      "kind": "function",
      "public": true,
      "lineno": 1412,
      "doc_summary": "Generate targeted overlays and optionally activate them into the stub path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "to_duckdb",
      "qualname": "to_duckdb",
      "kind": "function",
      "public": true,
      "lineno": 1620,
      "doc_summary": "Load ``modules.jsonl`` into DuckDB (idempotent on ``path``).",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_load_overlay_tagged_paths",
      "qualname": "_load_overlay_tagged_paths",
      "kind": "function",
      "public": false,
      "lineno": 1645,
      "doc_summary": "Return cached overlay-needed paths from the most recent tag index.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_overlay_context",
      "qualname": "_build_overlay_context",
      "kind": "function",
      "public": false,
      "lineno": 1682,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_module_row",
      "qualname": "_build_module_row",
      "kind": "function",
      "public": false,
      "lineno": 1733,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_scip_symbols_and_edges",
      "qualname": "_scip_symbols_and_edges",
      "kind": "function",
      "public": false,
      "lineno": 1786,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_index_module_safe",
      "qualname": "_index_module_safe",
      "kind": "function",
      "public": false,
      "lineno": 1797,
      "doc_summary": "Run LibCST indexing with structured error reporting.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_read_module_source",
      "qualname": "_read_module_source",
      "kind": "function",
      "public": false,
      "lineno": 1826,
      "doc_summary": "Return module source or record a structured error.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_collect_outline_nodes",
      "qualname": "_collect_outline_nodes",
      "kind": "function",
      "public": false,
      "lineno": 1873,
      "doc_summary": "Return Tree-sitter outline nodes while capturing failures.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_apply_index_results",
      "qualname": "_apply_index_results",
      "kind": "function",
      "public": false,
      "lineno": 1905,
      "doc_summary": "Populate ``record`` with data derived from LibCST/Tree-sitter.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_outline_nodes_for",
      "qualname": "_outline_nodes_for",
      "kind": "function",
      "public": false,
      "lineno": 1945,
      "doc_summary": "Build Tree-sitter outline nodes for ``rel_path``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_type_error_count",
      "qualname": "_type_error_count",
      "kind": "function",
      "public": false,
      "lineno": 1985,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_coverage_value",
      "qualname": "_coverage_value",
      "kind": "function",
      "public": false,
      "lineno": 1990,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_augment_module_rows",
      "qualname": "_augment_module_rows",
      "kind": "function",
      "public": false,
      "lineno": 1995,
      "doc_summary": "Attach graph/usage/export metadata and emit module artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_tag_index",
      "qualname": "_build_tag_index",
      "kind": "function",
      "public": false,
      "lineno": 2067,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_infer_tags",
      "qualname": "_infer_tags",
      "kind": "function",
      "public": false,
      "lineno": 2081,
      "doc_summary": "Apply tagging rules with logging/telemetry.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_apply_tagging",
      "qualname": "_apply_tagging",
      "kind": "function",
      "public": false,
      "lineno": 2088,
      "doc_summary": "Apply tagging rules to module rows and update their tags in-place.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_traits_from_row",
      "qualname": "_traits_from_row",
      "kind": "function",
      "public": false,
      "lineno": 2109,
      "doc_summary": "Extract ModuleTraits from a module metadata row.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_coverage_rows",
      "qualname": "_build_coverage_rows",
      "kind": "function",
      "public": false,
      "lineno": 2170,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_hotspot_rows",
      "qualname": "_build_hotspot_rows",
      "kind": "function",
      "public": false,
      "lineno": 2181,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_exports_outputs",
      "qualname": "_write_exports_outputs",
      "kind": "function",
      "public": false,
      "lineno": 2195,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_graph_outputs",
      "qualname": "_write_graph_outputs",
      "kind": "function",
      "public": false,
      "lineno": 2204,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_uses_output",
      "qualname": "_write_uses_output",
      "kind": "function",
      "public": false,
      "lineno": 2211,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_apply_ownership",
      "qualname": "_apply_ownership",
      "kind": "function",
      "public": false,
      "lineno": 2217,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_ownership_output",
      "qualname": "_write_ownership_output",
      "kind": "function",
      "public": false,
      "lineno": 2246,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_slices_output",
      "qualname": "_write_slices_output",
      "kind": "function",
      "public": false,
      "lineno": 2261,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_typedness_output",
      "qualname": "_write_typedness_output",
      "kind": "function",
      "public": false,
      "lineno": 2298,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_doc_output",
      "qualname": "_write_doc_output",
      "kind": "function",
      "public": false,
      "lineno": 2312,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_coverage_output",
      "qualname": "_write_coverage_output",
      "kind": "function",
      "public": false,
      "lineno": 2326,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_config_output",
      "qualname": "_write_config_output",
      "kind": "function",
      "public": false,
      "lineno": 2330,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_hotspot_output",
      "qualname": "_write_hotspot_output",
      "kind": "function",
      "public": false,
      "lineno": 2334,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_ast_outputs",
      "qualname": "_write_ast_outputs",
      "kind": "function",
      "public": false,
      "lineno": 2338,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_modules_json",
      "qualname": "_write_modules_json",
      "kind": "function",
      "public": false,
      "lineno": 2357,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_markdown_modules",
      "qualname": "_write_markdown_modules",
      "kind": "function",
      "public": false,
      "lineno": 2366,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_repo_map",
      "qualname": "_write_repo_map",
      "kind": "function",
      "public": false,
      "lineno": 2380,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_symbol_graph",
      "qualname": "_write_symbol_graph",
      "kind": "function",
      "public": false,
      "lineno": 2405,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_tabular_records",
      "qualname": "_write_tabular_records",
      "kind": "function",
      "public": false,
      "lineno": 2412,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_collect_ast_artifacts",
      "qualname": "_collect_ast_artifacts",
      "kind": "function",
      "public": false,
      "lineno": 2417,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_ast_jsonl",
      "qualname": "_write_ast_jsonl",
      "kind": "function",
      "public": false,
      "lineno": 2440,
      "doc_summary": "Persist AST artifacts to JSONL for portability.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_type_signal_map",
      "qualname": "_normalize_type_signal_map",
      "kind": "function",
      "public": false,
      "lineno": 2445,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_metric_map",
      "qualname": "_normalize_metric_map",
      "kind": "function",
      "public": false,
      "lineno": 2461,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_path_key",
      "qualname": "_normalize_path_key",
      "kind": "function",
      "public": false,
      "lineno": 2479,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_group_configs_by_dir",
      "qualname": "_group_configs_by_dir",
      "kind": "function",
      "public": false,
      "lineno": 2483,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_config_refs_for_row",
      "qualname": "_config_refs_for_row",
      "kind": "function",
      "public": false,
      "lineno": 2494,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ancestor_dirs",
      "qualname": "_ancestor_dirs",
      "kind": "function",
      "public": false,
      "lineno": 2510,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_dir_key_from_path",
      "qualname": "_dir_key_from_path",
      "kind": "function",
      "public": false,
      "lineno": 2525,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_should_mark_overlay",
      "qualname": "_should_mark_overlay",
      "kind": "function",
      "public": false,
      "lineno": 2532,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ensure_package_overlays",
      "qualname": "_ensure_package_overlays",
      "kind": "function",
      "public": false,
      "lineno": 2562,
      "doc_summary": "Ensure package ``__init__`` overlays exist for ancestors of ``rel_path``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalized_rel_path",
      "qualname": "_normalized_rel_path",
      "kind": "function",
      "public": false,
      "lineno": 2648,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_tag_index",
      "qualname": "_write_tag_index",
      "kind": "function",
      "public": false,
      "lineno": 2652,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 233,
    "cyclomatic": 234,
    "loc": 2669
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 22,
  "cycle_group": 104,
  "imports_internal": [
    "config_indexer.py",
    "coverage_ingest.py",
    "enrich/ast_indexer.py",
    "enrich/duckdb_store.py",
    "enrich/errors.py",
    "enrich/graph_builder.py",
    "enrich/libcst_bridge.py",
    "enrich/models.py",
    "enrich/output_writers.py",
    "enrich/ownership.py",
    "enrich/pathnorm.py",
    "enrich/scip_reader.py",
    "enrich/slices_builder.py",
    "enrich/stubs_overlay.py",
    "enrich/tagging.py",
    "enrich/tree_sitter_bridge.py",
    "enrich/validators.py",
    "export_resolver.py",
    "risk_hotspots.py",
    "typedness.py",
    "typing.py",
    "uses_builder.py"
  ],
  "imports_intra_repo": [
    "config_indexer.py",
    "coverage_ingest.py",
    "enrich/ast_indexer.py",
    "enrich/duckdb_store.py",
    "enrich/errors.py",
    "enrich/graph_builder.py",
    "enrich/libcst_bridge.py",
    "enrich/models.py",
    "enrich/output_writers.py",
    "enrich/ownership.py",
    "enrich/pathnorm.py",
    "enrich/scip_reader.py",
    "enrich/slices_builder.py",
    "enrich/stubs_overlay.py",
    "enrich/tagging.py",
    "enrich/tree_sitter_bridge.py",
    "enrich/validators.py",
    "export_resolver.py",
    "risk_hotspots.py",
    "typedness.py",
    "typing.py",
    "uses_builder.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.439,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 24,
  "recent_churn_90": 24
}
{
  "path": "config/__init__.py",
  "repo_path": "codeintel_rev/config/__init__.py",
  "module_name": "codeintel_rev.config",
  "stable_id": "928f8f27b06d",
  "docstring": "Configuration loading and environment settings for CodeIntel MCP.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Configuration loading and environment settings for CodeIntel MCP.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 105,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "config/settings.py",
  "repo_path": "codeintel_rev/config/settings.py",
  "module_name": "codeintel_rev.config.settings",
  "stable_id": "c02ae6fed395",
  "docstring": "Configuration settings using msgspec for fast, validated config.\n\nNO Pydantic - using msgspec.Struct for performance-critical settings.\nAll configuration loaded from environment variables with sensible defaults.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Literal"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBConfig"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "DEFAULT_RRF_WEIGHTS",
      "lineno": 19
    },
    {
      "kind": "class",
      "name": "_HybridChannelSettings",
      "lineno": 28
    },
    {
      "kind": "function",
      "name": "_env_bool",
      "lineno": 35
    },
    {
      "kind": "function",
      "name": "_parse_int_with_suffix",
      "lineno": 55
    },
    {
      "kind": "function",
      "name": "_parse_int_list",
      "lineno": 99
    },
    {
      "kind": "function",
      "name": "_optional_int",
      "lineno": 145
    },
    {
      "kind": "function",
      "name": "_build_vllm_config",
      "lineno": 182
    },
    {
      "kind": "function",
      "name": "_build_embeddings_config",
      "lineno": 210
    },
    {
      "kind": "function",
      "name": "_build_xtr_config",
      "lineno": 247
    },
    {
      "kind": "function",
      "name": "_build_rerank_config",
      "lineno": 263
    },
    {
      "kind": "class",
      "name": "CodeRankConfig",
      "lineno": 274
    },
    {
      "kind": "class",
      "name": "WarpConfig",
      "lineno": 313
    },
    {
      "kind": "class",
      "name": "XTRConfig",
      "lineno": 340
    },
    {
      "kind": "class",
      "name": "RerankConfig",
      "lineno": 353
    },
    {
      "kind": "class",
      "name": "EvalConfig",
      "lineno": 362
    },
    {
      "kind": "class",
      "name": "CodeRankLLMConfig",
      "lineno": 374
    },
    {
      "kind": "class",
      "name": "VLLMRunMode",
      "lineno": 386
    },
    {
      "kind": "class",
      "name": "VLLMConfig",
      "lineno": 392
    },
    {
      "kind": "class",
      "name": "EmbeddingsConfig",
      "lineno": 459
    },
    {
      "kind": "class",
      "name": "BM25Config",
      "lineno": 511
    },
    {
      "kind": "class",
      "name": "PRFConfig",
      "lineno": 528
    },
    {
      "kind": "class",
      "name": "SpladeConfig",
      "lineno": 540
    },
    {
      "kind": "class",
      "name": "PathsConfig",
      "lineno": 608
    },
    {
      "kind": "class",
      "name": "IndexConfig",
      "lineno": 681
    },
    {
      "kind": "class",
      "name": "ServerLimits",
      "lineno": 755
    },
    {
      "kind": "class",
      "name": "RedisConfig",
      "lineno": 801
    },
    {
      "kind": "class",
      "name": "Settings",
      "lineno": 822
    },
    {
      "kind": "function",
      "name": "load_settings",
      "lineno": 892
    },
    {
      "kind": "function",
      "name": "_build_paths_config",
      "lineno": 1130
    },
    {
      "kind": "function",
      "name": "_load_rrf_weights",
      "lineno": 1151
    },
    {
      "kind": "function",
      "name": "_load_hybrid_prefetch",
      "lineno": 1172
    },
    {
      "kind": "function",
      "name": "_load_hybrid_weights_override",
      "lineno": 1193
    },
    {
      "kind": "function",
      "name": "_build_prf_config",
      "lineno": 1212
    },
    {
      "kind": "function",
      "name": "_load_hybrid_channel_settings",
      "lineno": 1224
    },
    {
      "kind": "function",
      "name": "_build_index_config",
      "lineno": 1233
    },
    {
      "kind": "function",
      "name": "_build_server_limits",
      "lineno": 1273
    },
    {
      "kind": "function",
      "name": "_build_redis_config",
      "lineno": 1283
    },
    {
      "kind": "function",
      "name": "_build_duckdb_config",
      "lineno": 1297
    },
    {
      "kind": "function",
      "name": "_build_eval_config",
      "lineno": 1313
    },
    {
      "kind": "function",
      "name": "_resolve_bm25_analyzer",
      "lineno": 1325
    },
    {
      "kind": "function",
      "name": "_resolve_splade_analyzer",
      "lineno": 1332
    },
    {
      "kind": "function",
      "name": "_build_bm25_config",
      "lineno": 1339
    },
    {
      "kind": "function",
      "name": "_build_splade_config",
      "lineno": 1370
    },
    {
      "kind": "function",
      "name": "_build_coderank_config",
      "lineno": 1393
    },
    {
      "kind": "function",
      "name": "_build_warp_config",
      "lineno": 1411
    },
    {
      "kind": "function",
      "name": "_build_coderank_llm_config",
      "lineno": 1422
    }
  ],
  "exports": [
    "BM25Config",
    "CodeRankConfig",
    "CodeRankLLMConfig",
    "EmbeddingsConfig",
    "IndexConfig",
    "PRFConfig",
    "PathsConfig",
    "RedisConfig",
    "RerankConfig",
    "ServerLimits",
    "Settings",
    "SpladeConfig",
    "VLLMConfig",
    "VLLMRunMode",
    "WarpConfig",
    "XTRConfig",
    "load_settings"
  ],
  "exports_declared": [
    "BM25Config",
    "CodeRankConfig",
    "CodeRankLLMConfig",
    "EmbeddingsConfig",
    "IndexConfig",
    "PRFConfig",
    "PathsConfig",
    "RedisConfig",
    "RerankConfig",
    "ServerLimits",
    "Settings",
    "SpladeConfig",
    "VLLMConfig",
    "VLLMRunMode",
    "WarpConfig",
    "XTRConfig",
    "load_settings"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Configuration settings using msgspec for fast, validated config.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_HybridChannelSettings",
      "qualname": "_HybridChannelSettings",
      "kind": "class",
      "public": false,
      "lineno": 28,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_env_bool",
      "qualname": "_env_bool",
      "kind": "function",
      "public": false,
      "lineno": 35,
      "doc_summary": "Return a boolean flag parsed from environment variables.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_parse_int_with_suffix",
      "qualname": "_parse_int_with_suffix",
      "kind": "function",
      "public": false,
      "lineno": 55,
      "doc_summary": "Return an integer, accepting 1k-style suffixes (k=1_000).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_parse_int_list",
      "qualname": "_parse_int_list",
      "kind": "function",
      "public": false,
      "lineno": 99,
      "doc_summary": "Return a tuple of integers from a comma-separated configuration string.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_optional_int",
      "qualname": "_optional_int",
      "kind": "function",
      "public": false,
      "lineno": 145,
      "doc_summary": "Convert an optional string to ``int`` when possible.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_vllm_config",
      "qualname": "_build_vllm_config",
      "kind": "function",
      "public": false,
      "lineno": 182,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_embeddings_config",
      "qualname": "_build_embeddings_config",
      "kind": "function",
      "public": false,
      "lineno": 210,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_xtr_config",
      "qualname": "_build_xtr_config",
      "kind": "function",
      "public": false,
      "lineno": 247,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_rerank_config",
      "qualname": "_build_rerank_config",
      "kind": "function",
      "public": false,
      "lineno": 263,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CodeRankConfig",
      "qualname": "CodeRankConfig",
      "kind": "class",
      "public": true,
      "lineno": 274,
      "doc_summary": "Configuration for the CodeRank dense retriever.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "WarpConfig",
      "qualname": "WarpConfig",
      "kind": "class",
      "public": true,
      "lineno": 313,
      "doc_summary": "Configuration for the WARP/XTR late-interaction reranker.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "XTRConfig",
      "qualname": "XTRConfig",
      "kind": "class",
      "public": true,
      "lineno": 340,
      "doc_summary": "Configuration for XTR token storage and scoring.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RerankConfig",
      "qualname": "RerankConfig",
      "kind": "class",
      "public": true,
      "lineno": 353,
      "doc_summary": "Configuration for optional late-interaction reranking.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "EvalConfig",
      "qualname": "EvalConfig",
      "kind": "class",
      "public": true,
      "lineno": 362,
      "doc_summary": "Offline evaluation configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CodeRankLLMConfig",
      "qualname": "CodeRankLLMConfig",
      "kind": "class",
      "public": true,
      "lineno": 374,
      "doc_summary": "Configuration for the CodeRank listwise reranker.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "VLLMRunMode",
      "qualname": "VLLMRunMode",
      "kind": "class",
      "public": true,
      "lineno": 386,
      "doc_summary": "Execution mode for the vLLM embedder.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "VLLMConfig",
      "qualname": "VLLMConfig",
      "kind": "class",
      "public": true,
      "lineno": 392,
      "doc_summary": "vLLM embedding service configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "EmbeddingsConfig",
      "qualname": "EmbeddingsConfig",
      "kind": "class",
      "public": true,
      "lineno": 459,
      "doc_summary": "Embedding provider configuration shared by CLIs and services.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "BM25Config",
      "qualname": "BM25Config",
      "kind": "class",
      "public": true,
      "lineno": 511,
      "doc_summary": "BM25 indexing and search configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PRFConfig",
      "qualname": "PRFConfig",
      "kind": "class",
      "public": true,
      "lineno": 528,
      "doc_summary": "Pseudo relevance feedback (RM3) configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeConfig",
      "qualname": "SpladeConfig",
      "kind": "class",
      "public": true,
      "lineno": 540,
      "doc_summary": "SPLADE v3 configuration covering model artifacts and index directories.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PathsConfig",
      "qualname": "PathsConfig",
      "kind": "class",
      "public": true,
      "lineno": 608,
      "doc_summary": "File system paths configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "IndexConfig",
      "qualname": "IndexConfig",
      "kind": "class",
      "public": true,
      "lineno": 681,
      "doc_summary": "Indexing and search configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ServerLimits",
      "qualname": "ServerLimits",
      "kind": "class",
      "public": true,
      "lineno": 755,
      "doc_summary": "Server resource limits and rate limiting configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RedisConfig",
      "qualname": "RedisConfig",
      "kind": "class",
      "public": true,
      "lineno": 801,
      "doc_summary": "Redis configuration for scope storage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Settings",
      "qualname": "Settings",
      "kind": "class",
      "public": true,
      "lineno": 822,
      "doc_summary": "Global settings container for the entire code intelligence system.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "load_settings",
      "qualname": "load_settings",
      "kind": "function",
      "public": true,
      "lineno": 892,
      "doc_summary": "Load settings from environment variables with sensible defaults.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_paths_config",
      "qualname": "_build_paths_config",
      "kind": "function",
      "public": false,
      "lineno": 1130,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_load_rrf_weights",
      "qualname": "_load_rrf_weights",
      "kind": "function",
      "public": false,
      "lineno": 1151,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_load_hybrid_prefetch",
      "qualname": "_load_hybrid_prefetch",
      "kind": "function",
      "public": false,
      "lineno": 1172,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_load_hybrid_weights_override",
      "qualname": "_load_hybrid_weights_override",
      "kind": "function",
      "public": false,
      "lineno": 1193,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_prf_config",
      "qualname": "_build_prf_config",
      "kind": "function",
      "public": false,
      "lineno": 1212,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_load_hybrid_channel_settings",
      "qualname": "_load_hybrid_channel_settings",
      "kind": "function",
      "public": false,
      "lineno": 1224,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_index_config",
      "qualname": "_build_index_config",
      "kind": "function",
      "public": false,
      "lineno": 1233,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_server_limits",
      "qualname": "_build_server_limits",
      "kind": "function",
      "public": false,
      "lineno": 1273,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_redis_config",
      "qualname": "_build_redis_config",
      "kind": "function",
      "public": false,
      "lineno": 1283,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_duckdb_config",
      "qualname": "_build_duckdb_config",
      "kind": "function",
      "public": false,
      "lineno": 1297,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_eval_config",
      "qualname": "_build_eval_config",
      "kind": "function",
      "public": false,
      "lineno": 1313,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_bm25_analyzer",
      "qualname": "_resolve_bm25_analyzer",
      "kind": "function",
      "public": false,
      "lineno": 1325,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_splade_analyzer",
      "qualname": "_resolve_splade_analyzer",
      "kind": "function",
      "public": false,
      "lineno": 1332,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_bm25_config",
      "qualname": "_build_bm25_config",
      "kind": "function",
      "public": false,
      "lineno": 1339,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_splade_config",
      "qualname": "_build_splade_config",
      "kind": "function",
      "public": false,
      "lineno": 1370,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_coderank_config",
      "qualname": "_build_coderank_config",
      "kind": "function",
      "public": false,
      "lineno": 1393,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_warp_config",
      "qualname": "_build_warp_config",
      "kind": "function",
      "public": false,
      "lineno": 1411,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_coderank_llm_config",
      "qualname": "_build_coderank_llm_config",
      "kind": "function",
      "public": false,
      "lineno": 1422,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 47,
    "cyclomatic": 48,
    "loc": 1453
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 23,
  "fan_out": 2,
  "cycle_group": 17,
  "imports_internal": [
    "io/duckdb_manager.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "io/duckdb_manager.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.017,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 28,
  "recent_churn_90": 28
}
{
  "path": "config/utils.py",
  "repo_path": "codeintel_rev/config/utils.py",
  "module_name": "codeintel_rev.config.utils",
  "stable_id": "2ce4da5c31d5",
  "docstring": "Helpers for working with msgspec-based settings structs.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "msgspec",
      "names": [
        "Struct",
        "structs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "Settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "replace_settings",
      "lineno": 10
    },
    {
      "kind": "function",
      "name": "replace_struct",
      "lineno": 45
    }
  ],
  "exports": [
    "replace_settings",
    "replace_struct"
  ],
  "exports_declared": [
    "replace_settings",
    "replace_struct"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Helpers for working with msgspec-based settings structs.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "replace_settings",
      "qualname": "replace_settings",
      "kind": "function",
      "public": true,
      "lineno": 10,
      "doc_summary": "Return a new Settings instance with updates applied.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "replace_struct",
      "qualname": "replace_struct",
      "kind": "function",
      "public": true,
      "lineno": 45,
      "doc_summary": "Clone a struct instance with the provided field overrides applied.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 84
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 1,
  "cycle_group": 106,
  "imports_internal": [
    "config/settings.py"
  ],
  "imports_intra_repo": [
    "config/settings.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.032,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "config_indexer.py",
  "repo_path": "codeintel_rev/config_indexer.py",
  "module_name": "codeintel_rev.config_indexer",
  "stable_id": "9eb096aac6dd",
  "docstring": "Config awareness helpers (YAML/TOML/JSON/Markdown).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "re"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "CONFIG_EXTENSIONS",
      "lineno": 11
    },
    {
      "kind": "function",
      "name": "index_config_files",
      "lineno": 14
    },
    {
      "kind": "function",
      "name": "_extract_keys",
      "lineno": 47
    },
    {
      "kind": "function",
      "name": "_extract_yaml_keys",
      "lineno": 60
    },
    {
      "kind": "function",
      "name": "_extract_toml_keys",
      "lineno": 73
    },
    {
      "kind": "function",
      "name": "_extract_json_keys",
      "lineno": 86
    },
    {
      "kind": "function",
      "name": "_extract_markdown_headings",
      "lineno": 145
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Config awareness helpers (YAML/TOML/JSON/Markdown).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "index_config_files",
      "qualname": "index_config_files",
      "kind": "function",
      "public": true,
      "lineno": 14,
      "doc_summary": "Return config metadata (path + extracted keys/headings).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_extract_keys",
      "qualname": "_extract_keys",
      "kind": "function",
      "public": false,
      "lineno": 47,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_extract_yaml_keys",
      "qualname": "_extract_yaml_keys",
      "kind": "function",
      "public": false,
      "lineno": 60,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_extract_toml_keys",
      "qualname": "_extract_toml_keys",
      "kind": "function",
      "public": false,
      "lineno": 73,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_extract_json_keys",
      "qualname": "_extract_json_keys",
      "kind": "function",
      "public": false,
      "lineno": 86,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_extract_markdown_headings",
      "qualname": "_extract_markdown_headings",
      "kind": "function",
      "public": false,
      "lineno": 145,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 22,
    "cyclomatic": 23,
    "loc": 151
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 94,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.939,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "coverage_ingest.py",
  "repo_path": "codeintel_rev/coverage_ingest.py",
  "module_name": "codeintel_rev.coverage_ingest",
  "stable_id": "d087b550a4c2",
  "docstring": "Coverage ingestion utilities (Cobertura-style XML).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "defusedxml",
      "names": [
        "ElementTree"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "collect_coverage",
      "lineno": 11
    },
    {
      "kind": "function",
      "name": "_parse_int",
      "lineno": 55
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Coverage ingestion utilities (Cobertura-style XML).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "collect_coverage",
      "qualname": "collect_coverage",
      "kind": "function",
      "public": true,
      "lineno": 11,
      "doc_summary": "Collect per-file coverage ratios from ``coverage.xml``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_parse_int",
      "qualname": "_parse_int",
      "kind": "function",
      "public": false,
      "lineno": 55,
      "doc_summary": "Return integer conversion fallback to zero on failure.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 8,
    "cyclomatic": 9,
    "loc": 74
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 0,
  "cycle_group": 98,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.515,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 8,
  "recent_churn_90": 8
}
{
  "path": "cst_build/__init__.py",
  "repo_path": "codeintel_rev/cst_build/__init__.py",
  "module_name": "codeintel_rev.cst_build",
  "stable_id": "f1a48f17aa2f",
  "docstring": "CST build package exposing the LibCST-based dataset pipeline.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.cst_build.cst_schema",
      "names": [
        "SCHEMA_VERSION"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "SCHEMA_VERSION"
  ],
  "exports_declared": [
    "SCHEMA_VERSION"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "CST build package exposing the LibCST-based dataset pipeline.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 9
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 1,
  "cycle_group": 108,
  "imports_internal": [
    "cst_build/cst_schema.py"
  ],
  "imports_intra_repo": [
    "cst_build/cst_schema.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.032,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "cst_build/cst_cli.py",
  "repo_path": "codeintel_rev/cst_build/cst_cli.py",
  "module_name": "codeintel_rev.cst_build.cst_cli",
  "stable_id": "5917d2d13d34",
  "docstring": "CLI entrypoint for CST dataset builds.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "fnmatch",
      "names": [
        "fnmatch"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "click"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.cst_build.cst_collect",
      "names": [
        "CSTCollector"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.cst_build.cst_resolve",
      "names": [
        "StitchCounters",
        "load_modules",
        "load_scip_index",
        "stitch_nodes"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.cst_build.cst_schema",
      "names": [
        "CollectorStats"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.cst_build.cst_serialize",
      "names": [
        "DatasetWriter",
        "write_index",
        "write_join_examples"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "CLIOptions",
      "lineno": 25
    },
    {
      "kind": "variable",
      "name": "ROOT_DEFAULT",
      "lineno": 39
    },
    {
      "kind": "variable",
      "name": "SCIP_DEFAULT",
      "lineno": 40
    },
    {
      "kind": "variable",
      "name": "MODULES_DEFAULT",
      "lineno": 41
    },
    {
      "kind": "variable",
      "name": "OUT_DEFAULT",
      "lineno": 42
    },
    {
      "kind": "function",
      "name": "_build_options",
      "lineno": 45
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 135
    },
    {
      "kind": "function",
      "name": "_iter_py_files",
      "lineno": 224
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "CLI entrypoint for CST dataset builds.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "CLIOptions",
      "qualname": "CLIOptions",
      "kind": "class",
      "public": true,
      "lineno": 25,
      "doc_summary": "Normalized command-line options.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_options",
      "qualname": "_build_options",
      "kind": "function",
      "public": false,
      "lineno": 45,
      "doc_summary": "Extract and normalize CLI options from Click context.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 135,
      "doc_summary": "Entry point invoked by the console script.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_iter_py_files",
      "qualname": "_iter_py_files",
      "kind": "function",
      "public": false,
      "lineno": 224,
      "doc_summary": "Discover Python files matching include/exclude glob patterns.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 23,
    "cyclomatic": 24,
    "loc": 264
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 4,
  "cycle_group": 112,
  "imports_internal": [
    "cst_build/cst_collect.py",
    "cst_build/cst_resolve.py",
    "cst_build/cst_schema.py",
    "cst_build/cst_serialize.py"
  ],
  "imports_intra_repo": [
    "cst_build/cst_collect.py",
    "cst_build/cst_resolve.py",
    "cst_build/cst_schema.py",
    "cst_build/cst_serialize.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.156,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "cst_build/cst_collect.py",
  "repo_path": "codeintel_rev/cst_build/cst_collect.py",
  "module_name": "codeintel_rev.cst_build.cst_collect",
  "stable_id": "f804269afdb9",
  "docstring": "LibCST traversal utilities that emit normalized node records.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hashlib",
      "names": [
        "blake2s"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "textwrap",
      "names": [
        "shorten"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "ClassVar",
        "cast",
        "final"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "libcst"
      ],
      "aliases": {
        "libcst": "cst"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "libcst",
      "names": [
        "metadata"
      ],
      "aliases": {
        "metadata": "cst_metadata"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "libcst.metadata",
      "names": [
        "FullRepoManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "libcst.metadata.base_provider",
      "names": [
        "BaseMetadataProvider"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "libcst.metadata.scope_provider",
      "names": [
        "ClassScope",
        "ComprehensionScope",
        "FunctionScope",
        "GlobalScope"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.cst_build.cst_schema",
      "names": [
        "CollectorStats",
        "DocSnippet",
        "ImportMetadata",
        "NodeRecord",
        "Span"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "logger",
      "lineno": 33
    },
    {
      "kind": "class",
      "name": "CollectorConfig",
      "lineno": 37
    },
    {
      "kind": "class",
      "name": "_CollectorStatsBuilder",
      "lineno": 46
    },
    {
      "kind": "class",
      "name": "CSTCollector",
      "lineno": 151
    },
    {
      "kind": "function",
      "name": "index_file",
      "lineno": 376
    },
    {
      "kind": "function",
      "name": "_should_emit",
      "lineno": 396
    },
    {
      "kind": "function",
      "name": "_resolve_span",
      "lineno": 423
    },
    {
      "kind": "function",
      "name": "_node_id",
      "lineno": 433
    },
    {
      "kind": "function",
      "name": "_node_name",
      "lineno": 439
    },
    {
      "kind": "function",
      "name": "_definition_or_class_name",
      "lineno": 450
    },
    {
      "kind": "function",
      "name": "_assign_target_name",
      "lineno": 456
    },
    {
      "kind": "function",
      "name": "_annassign_target_name",
      "lineno": 464
    },
    {
      "kind": "function",
      "name": "_attribute_or_name",
      "lineno": 470
    },
    {
      "kind": "function",
      "name": "_call_target_name",
      "lineno": 478
    },
    {
      "kind": "function",
      "name": "_import_alias_name",
      "lineno": 484
    },
    {
      "kind": "function",
      "name": "_parent_chain",
      "lineno": 502
    },
    {
      "kind": "function",
      "name": "_scope",
      "lineno": 531
    },
    {
      "kind": "function",
      "name": "_extract_module_doc",
      "lineno": 548
    },
    {
      "kind": "function",
      "name": "_summarize",
      "lineno": 555
    },
    {
      "kind": "function",
      "name": "_doc_snippet",
      "lineno": 562
    },
    {
      "kind": "function",
      "name": "_preview_text",
      "lineno": 573
    },
    {
      "kind": "function",
      "name": "_decorators",
      "lineno": 581
    },
    {
      "kind": "function",
      "name": "_call_targets",
      "lineno": 597
    },
    {
      "kind": "function",
      "name": "_annotation",
      "lineno": 609
    },
    {
      "kind": "function",
      "name": "_import_metadata",
      "lineno": 625
    },
    {
      "kind": "function",
      "name": "_normalize_alias",
      "lineno": 663
    },
    {
      "kind": "function",
      "name": "_normalize_module_expr",
      "lineno": 680
    },
    {
      "kind": "function",
      "name": "_is_public",
      "lineno": 690
    },
    {
      "kind": "function",
      "name": "_resolve_lazy",
      "lineno": 700
    },
    {
      "kind": "function",
      "name": "_qualified_name_entries",
      "lineno": 709
    },
    {
      "kind": "function",
      "name": "_normalize_qnames",
      "lineno": 728
    },
    {
      "kind": "function",
      "name": "_module_name_from_path",
      "lineno": 737
    },
    {
      "kind": "function",
      "name": "_build_parse_error_node",
      "lineno": 768
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "LibCST traversal utilities that emit normalized node records.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "CollectorConfig",
      "qualname": "CollectorConfig",
      "kind": "class",
      "public": true,
      "lineno": 37,
      "doc_summary": "Configurable knobs for CST extraction.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_CollectorStatsBuilder",
      "qualname": "_CollectorStatsBuilder",
      "kind": "class",
      "public": false,
      "lineno": 46,
      "doc_summary": "Mutable builder used while collecting CST stats.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CSTCollector",
      "qualname": "CSTCollector",
      "kind": "class",
      "public": true,
      "lineno": 151,
      "doc_summary": "Collect LibCST node records for a repository.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "index_file",
      "qualname": "index_file",
      "kind": "function",
      "public": true,
      "lineno": 376,
      "doc_summary": "Index a single file and return node records.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_should_emit",
      "qualname": "_should_emit",
      "kind": "function",
      "public": false,
      "lineno": 396,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_span",
      "qualname": "_resolve_span",
      "kind": "function",
      "public": false,
      "lineno": 423,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_node_id",
      "qualname": "_node_id",
      "kind": "function",
      "public": false,
      "lineno": 433,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_node_name",
      "qualname": "_node_name",
      "kind": "function",
      "public": false,
      "lineno": 439,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_definition_or_class_name",
      "qualname": "_definition_or_class_name",
      "kind": "function",
      "public": false,
      "lineno": 450,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_assign_target_name",
      "qualname": "_assign_target_name",
      "kind": "function",
      "public": false,
      "lineno": 456,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_annassign_target_name",
      "qualname": "_annassign_target_name",
      "kind": "function",
      "public": false,
      "lineno": 464,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_attribute_or_name",
      "qualname": "_attribute_or_name",
      "kind": "function",
      "public": false,
      "lineno": 470,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_call_target_name",
      "qualname": "_call_target_name",
      "kind": "function",
      "public": false,
      "lineno": 478,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_import_alias_name",
      "qualname": "_import_alias_name",
      "kind": "function",
      "public": false,
      "lineno": 484,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parent_chain",
      "qualname": "_parent_chain",
      "kind": "function",
      "public": false,
      "lineno": 502,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_scope",
      "qualname": "_scope",
      "kind": "function",
      "public": false,
      "lineno": 531,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_extract_module_doc",
      "qualname": "_extract_module_doc",
      "kind": "function",
      "public": false,
      "lineno": 548,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_summarize",
      "qualname": "_summarize",
      "kind": "function",
      "public": false,
      "lineno": 555,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_doc_snippet",
      "qualname": "_doc_snippet",
      "kind": "function",
      "public": false,
      "lineno": 562,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_preview_text",
      "qualname": "_preview_text",
      "kind": "function",
      "public": false,
      "lineno": 573,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_decorators",
      "qualname": "_decorators",
      "kind": "function",
      "public": false,
      "lineno": 581,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_call_targets",
      "qualname": "_call_targets",
      "kind": "function",
      "public": false,
      "lineno": 597,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_annotation",
      "qualname": "_annotation",
      "kind": "function",
      "public": false,
      "lineno": 609,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_import_metadata",
      "qualname": "_import_metadata",
      "kind": "function",
      "public": false,
      "lineno": 625,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_alias",
      "qualname": "_normalize_alias",
      "kind": "function",
      "public": false,
      "lineno": 663,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_module_expr",
      "qualname": "_normalize_module_expr",
      "kind": "function",
      "public": false,
      "lineno": 680,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_is_public",
      "qualname": "_is_public",
      "kind": "function",
      "public": false,
      "lineno": 690,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_lazy",
      "qualname": "_resolve_lazy",
      "kind": "function",
      "public": false,
      "lineno": 700,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_qualified_name_entries",
      "qualname": "_qualified_name_entries",
      "kind": "function",
      "public": false,
      "lineno": 709,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_qnames",
      "qualname": "_normalize_qnames",
      "kind": "function",
      "public": false,
      "lineno": 728,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_module_name_from_path",
      "qualname": "_module_name_from_path",
      "kind": "function",
      "public": false,
      "lineno": 737,
      "doc_summary": "Convert a relative file path into its dotted module name.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_parse_error_node",
      "qualname": "_build_parse_error_node",
      "kind": "function",
      "public": false,
      "lineno": 768,
      "doc_summary": "Return a placeholder row describing a parse failure.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 101,
    "cyclomatic": 102,
    "loc": 807
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 2,
  "cycle_group": 109,
  "imports_internal": [
    "cst_build/cst_schema.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "cst_build/cst_schema.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.492,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 12,
  "recent_churn_90": 12
}
{
  "path": "cst_build/cst_resolve.py",
  "repo_path": "codeintel_rev/cst_build/cst_resolve.py",
  "module_name": "codeintel_rev.cst_build.cst_resolve",
  "stable_id": "73e36fef2b7a",
  "docstring": "Stitch CST nodes to module summary rows and SCIP symbols.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "replace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "ClassVar"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.cst_build.cst_schema",
      "names": [
        "NodeRecord",
        "StitchCandidate",
        "StitchInfo"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.scip_reader",
      "names": [
        "Document",
        "SCIPIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "ModuleRow",
      "lineno": 17
    },
    {
      "kind": "class",
      "name": "StitchCounters",
      "lineno": 25
    },
    {
      "kind": "class",
      "name": "_SymbolCandidate",
      "lineno": 59
    },
    {
      "kind": "class",
      "name": "SCIPResolver",
      "lineno": 66
    },
    {
      "kind": "function",
      "name": "load_modules",
      "lineno": 172
    },
    {
      "kind": "function",
      "name": "load_scip_index",
      "lineno": 208
    },
    {
      "kind": "function",
      "name": "stitch_nodes",
      "lineno": 227
    },
    {
      "kind": "function",
      "name": "_normalize_path",
      "lineno": 288
    },
    {
      "kind": "function",
      "name": "_collect_candidates",
      "lineno": 297
    },
    {
      "kind": "function",
      "name": "_select_best_candidate",
      "lineno": 310
    },
    {
      "kind": "function",
      "name": "_symbol_name_hint",
      "lineno": 337
    },
    {
      "kind": "function",
      "name": "_symbol_qname_hint",
      "lineno": 350
    },
    {
      "kind": "function",
      "name": "_normalize_qname",
      "lineno": 363
    },
    {
      "kind": "function",
      "name": "_score_candidate",
      "lineno": 369
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Stitch CST nodes to module summary rows and SCIP symbols.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "ModuleRow",
      "qualname": "ModuleRow",
      "kind": "class",
      "public": true,
      "lineno": 17,
      "doc_summary": "Lightweight projection of a module.jsonl row.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "StitchCounters",
      "qualname": "StitchCounters",
      "kind": "class",
      "public": true,
      "lineno": 25,
      "doc_summary": "Aggregate match counters used for index.json.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SymbolCandidate",
      "qualname": "_SymbolCandidate",
      "kind": "class",
      "public": false,
      "lineno": 59,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SCIPResolver",
      "qualname": "SCIPResolver",
      "kind": "class",
      "public": true,
      "lineno": 66,
      "doc_summary": "Best-effort matcher between CST spans and SCIP occurrences.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "load_modules",
      "qualname": "load_modules",
      "kind": "function",
      "public": true,
      "lineno": 172,
      "doc_summary": "Load modules.jsonl rows into a lookup keyed by normalized path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "load_scip_index",
      "qualname": "load_scip_index",
      "kind": "function",
      "public": true,
      "lineno": 208,
      "doc_summary": "Load the SCIP resolver when ``path`` exists.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "stitch_nodes",
      "qualname": "stitch_nodes",
      "kind": "function",
      "public": true,
      "lineno": 227,
      "doc_summary": "Attach StitchInfo to ``nodes``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_path",
      "qualname": "_normalize_path",
      "kind": "function",
      "public": false,
      "lineno": 288,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_collect_candidates",
      "qualname": "_collect_candidates",
      "kind": "function",
      "public": false,
      "lineno": 297,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_select_best_candidate",
      "qualname": "_select_best_candidate",
      "kind": "function",
      "public": false,
      "lineno": 310,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_symbol_name_hint",
      "qualname": "_symbol_name_hint",
      "kind": "function",
      "public": false,
      "lineno": 337,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_symbol_qname_hint",
      "qualname": "_symbol_qname_hint",
      "kind": "function",
      "public": false,
      "lineno": 350,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_qname",
      "qualname": "_normalize_qname",
      "kind": "function",
      "public": false,
      "lineno": 363,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_score_candidate",
      "qualname": "_score_candidate",
      "kind": "function",
      "public": false,
      "lineno": 369,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 59,
    "cyclomatic": 60,
    "loc": 392
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 3,
  "cycle_group": 110,
  "imports_internal": [
    "cst_build/cst_schema.py",
    "enrich/scip_reader.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "cst_build/cst_schema.py",
    "enrich/scip_reader.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.497,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "cst_build/cst_schema.py",
  "repo_path": "codeintel_rev/cst_build/cst_schema.py",
  "module_name": "codeintel_rev.cst_build.cst_schema",
  "stable_id": "43980e781e58",
  "docstring": "Dataclasses and helpers describing the CST dataset schema.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "asdict",
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TypedDict"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "SCHEMA_VERSION",
      "lineno": 9
    },
    {
      "kind": "class",
      "name": "DocSnippet",
      "lineno": 12
    },
    {
      "kind": "class",
      "name": "ImportMetadata",
      "lineno": 19
    },
    {
      "kind": "class",
      "name": "StitchCandidate",
      "lineno": 29
    },
    {
      "kind": "class",
      "name": "Span",
      "lineno": 38
    },
    {
      "kind": "class",
      "name": "StitchInfo",
      "lineno": 61
    },
    {
      "kind": "class",
      "name": "NodeRecord",
      "lineno": 92
    },
    {
      "kind": "class",
      "name": "CollectorStats",
      "lineno": 147
    },
    {
      "kind": "function",
      "name": "_format_doc",
      "lineno": 198
    },
    {
      "kind": "function",
      "name": "_assign_optional",
      "lineno": 209
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Dataclasses and helpers describing the CST dataset schema.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "DocSnippet",
      "qualname": "DocSnippet",
      "kind": "class",
      "public": true,
      "lineno": 12,
      "doc_summary": "Short docstring snippets recorded on nodes.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ImportMetadata",
      "qualname": "ImportMetadata",
      "kind": "class",
      "public": true,
      "lineno": 19,
      "doc_summary": "Normalized import metadata for Import/ImportFrom nodes.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "StitchCandidate",
      "qualname": "StitchCandidate",
      "kind": "class",
      "public": true,
      "lineno": 29,
      "doc_summary": "Debug candidate entry for stitching heuristics.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Span",
      "qualname": "Span",
      "kind": "class",
      "public": true,
      "lineno": 38,
      "doc_summary": "Source span tracked for each node.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "StitchInfo",
      "qualname": "StitchInfo",
      "kind": "class",
      "public": true,
      "lineno": 61,
      "doc_summary": "Join metadata linking nodes to module records and SCIP symbols.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "NodeRecord",
      "qualname": "NodeRecord",
      "kind": "class",
      "public": true,
      "lineno": 92,
      "doc_summary": "Single CST node row ready for serialization.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CollectorStats",
      "qualname": "CollectorStats",
      "kind": "class",
      "public": true,
      "lineno": 147,
      "doc_summary": "Aggregated counters for provider usage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_doc",
      "qualname": "_format_doc",
      "kind": "function",
      "public": false,
      "lineno": 198,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_assign_optional",
      "qualname": "_assign_optional",
      "kind": "function",
      "public": false,
      "lineno": 209,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 12,
    "cyclomatic": 13,
    "loc": 221
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 5,
  "fan_out": 1,
  "cycle_group": 107,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.117,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "cst_build/cst_serialize.py",
  "repo_path": "codeintel_rev/cst_build/cst_serialize.py",
  "module_name": "codeintel_rev.cst_build.cst_serialize",
  "stable_id": "a4b058ea9256",
  "docstring": "Writers and helpers that persist CST datasets to disk.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "gzip"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "ExitStack"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hashlib",
      "names": [
        "blake2s"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "TracebackType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Self",
        "TextIO"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.cst_build.cst_resolve",
      "names": [
        "StitchCounters"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.cst_build.cst_schema",
      "names": [
        "SCHEMA_VERSION",
        "CollectorStats",
        "NodeRecord"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.output_writers",
      "names": [
        "write_json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "DatasetWriter",
      "lineno": 21
    },
    {
      "kind": "function",
      "name": "write_index",
      "lineno": 155
    },
    {
      "kind": "function",
      "name": "write_join_examples",
      "lineno": 184
    },
    {
      "kind": "function",
      "name": "_module_slug",
      "lineno": 215
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Writers and helpers that persist CST datasets to disk.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "DatasetWriter",
      "qualname": "DatasetWriter",
      "kind": "class",
      "public": true,
      "lineno": 21,
      "doc_summary": "Stream-oriented writer that materializes the dataset artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "write_index",
      "qualname": "write_index",
      "kind": "function",
      "public": true,
      "lineno": 155,
      "doc_summary": "Persist index.json summarizing the build.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "write_join_examples",
      "qualname": "write_join_examples",
      "kind": "function",
      "public": true,
      "lineno": 184,
      "doc_summary": "Write markdown examples linking nodes to SCIP symbols.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": true
    },
    {
      "name": "_module_slug",
      "qualname": "_module_slug",
      "kind": "function",
      "public": false,
      "lineno": 215,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 18,
    "cyclomatic": 19,
    "loc": 221
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 4,
  "cycle_group": 111,
  "imports_internal": [
    "cst_build/cst_resolve.py",
    "cst_build/cst_schema.py",
    "enrich/output_writers.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "cst_build/cst_resolve.py",
    "cst_build/cst_schema.py",
    "enrich/output_writers.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.162,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "diagnostics/__init__.py",
  "repo_path": "codeintel_rev/diagnostics/__init__.py",
  "module_name": "codeintel_rev.diagnostics",
  "stable_id": "39d4c63bc25a",
  "docstring": "Diagnostics helpers for CodeIntel.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Diagnostics helpers for CodeIntel.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 4
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 113,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "diagnostics/detectors.py",
  "repo_path": "codeintel_rev/diagnostics/detectors.py",
  "module_name": "codeintel_rev.diagnostics.detectors",
  "stable_id": "9bd21800c6cd",
  "docstring": "Lightweight heuristics over run reports to surface diagnostics hints.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "StageRecord",
      "lineno": 8
    },
    {
      "kind": "function",
      "name": "_stage_by_prefix",
      "lineno": 15
    },
    {
      "kind": "function",
      "name": "_stage_attr",
      "lineno": 23
    },
    {
      "kind": "function",
      "name": "_collect_mapping",
      "lineno": 32
    },
    {
      "kind": "function",
      "name": "_collect_stages",
      "lineno": 39
    },
    {
      "kind": "function",
      "name": "_gap_hint",
      "lineno": 46
    },
    {
      "kind": "function",
      "name": "_sparse_hint",
      "lineno": 56
    },
    {
      "kind": "function",
      "name": "_vllm_hints",
      "lineno": 66
    },
    {
      "kind": "function",
      "name": "_faiss_hint",
      "lineno": 90
    },
    {
      "kind": "function",
      "name": "_rrf_hint",
      "lineno": 106
    },
    {
      "kind": "function",
      "name": "detect",
      "lineno": 123
    }
  ],
  "exports": [
    "detect"
  ],
  "exports_declared": [
    "detect"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Lightweight heuristics over run reports to surface diagnostics hints.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_stage_by_prefix",
      "qualname": "_stage_by_prefix",
      "kind": "function",
      "public": false,
      "lineno": 15,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_stage_attr",
      "qualname": "_stage_attr",
      "kind": "function",
      "public": false,
      "lineno": 23,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_collect_mapping",
      "qualname": "_collect_mapping",
      "kind": "function",
      "public": false,
      "lineno": 32,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_collect_stages",
      "qualname": "_collect_stages",
      "kind": "function",
      "public": false,
      "lineno": 39,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_gap_hint",
      "qualname": "_gap_hint",
      "kind": "function",
      "public": false,
      "lineno": 46,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_sparse_hint",
      "qualname": "_sparse_hint",
      "kind": "function",
      "public": false,
      "lineno": 56,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_vllm_hints",
      "qualname": "_vllm_hints",
      "kind": "function",
      "public": false,
      "lineno": 66,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_faiss_hint",
      "qualname": "_faiss_hint",
      "kind": "function",
      "public": false,
      "lineno": 90,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_rrf_hint",
      "qualname": "_rrf_hint",
      "kind": "function",
      "public": false,
      "lineno": 106,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "detect",
      "qualname": "detect",
      "kind": "function",
      "public": true,
      "lineno": 123,
      "doc_summary": "Return structured hints derived from the run report payload.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 29,
    "cyclomatic": 30,
    "loc": 166
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 44,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.016,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "diagnostics/report_cli.py",
  "repo_path": "codeintel_rev/diagnostics/report_cli.py",
  "module_name": "codeintel_rev.diagnostics.report_cli",
  "stable_id": "af75b470a884",
  "docstring": "Diagnostics CLI for rendering run reports from session event ledgers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "sys"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "asdict"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "enum",
      "names": [
        "StrEnum"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Annotated",
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.run_report",
      "names": [
        "LedgerRunReport",
        "infer_stop_reason",
        "load_ledger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "app",
      "lineno": 19
    },
    {
      "kind": "class",
      "name": "ReportFormat",
      "lineno": 22
    },
    {
      "kind": "variable",
      "name": "EventRecord",
      "lineno": 29
    },
    {
      "kind": "function",
      "name": "_coerce_str",
      "lineno": 32
    },
    {
      "kind": "function",
      "name": "_coerce_number",
      "lineno": 38
    },
    {
      "kind": "function",
      "name": "_event_ts",
      "lineno": 44
    },
    {
      "kind": "function",
      "name": "_event_attrs",
      "lineno": 51
    },
    {
      "kind": "function",
      "name": "_stage_label",
      "lineno": 58
    },
    {
      "kind": "function",
      "name": "_group_events_by_run",
      "lineno": 62
    },
    {
      "kind": "function",
      "name": "_max_ts",
      "lineno": 77
    },
    {
      "kind": "function",
      "name": "_select_run",
      "lineno": 88
    },
    {
      "kind": "function",
      "name": "_stage_rows",
      "lineno": 104
    },
    {
      "kind": "function",
      "name": "_skip_rows",
      "lineno": 120
    },
    {
      "kind": "function",
      "name": "_render_stage_section",
      "lineno": 136
    },
    {
      "kind": "function",
      "name": "_render_skip_section",
      "lineno": 151
    },
    {
      "kind": "function",
      "name": "_render_markdown",
      "lineno": 166
    },
    {
      "kind": "function",
      "name": "_structured_report",
      "lineno": 180
    },
    {
      "kind": "function",
      "name": "session_report",
      "lineno": 199
    },
    {
      "kind": "function",
      "name": "ledger_report",
      "lineno": 281
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 316
    }
  ],
  "exports": [
    "app",
    "main"
  ],
  "exports_declared": [
    "app",
    "main"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Diagnostics CLI for rendering run reports from session event ledgers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "ReportFormat",
      "qualname": "ReportFormat",
      "kind": "class",
      "public": true,
      "lineno": 22,
      "doc_summary": "Supported output encodings for diagnostics reports.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_str",
      "qualname": "_coerce_str",
      "kind": "function",
      "public": false,
      "lineno": 32,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_number",
      "qualname": "_coerce_number",
      "kind": "function",
      "public": false,
      "lineno": 38,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_event_ts",
      "qualname": "_event_ts",
      "kind": "function",
      "public": false,
      "lineno": 44,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_event_attrs",
      "qualname": "_event_attrs",
      "kind": "function",
      "public": false,
      "lineno": 51,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_stage_label",
      "qualname": "_stage_label",
      "kind": "function",
      "public": false,
      "lineno": 58,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_group_events_by_run",
      "qualname": "_group_events_by_run",
      "kind": "function",
      "public": false,
      "lineno": 62,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_max_ts",
      "qualname": "_max_ts",
      "kind": "function",
      "public": false,
      "lineno": 77,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_select_run",
      "qualname": "_select_run",
      "kind": "function",
      "public": false,
      "lineno": 88,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_stage_rows",
      "qualname": "_stage_rows",
      "kind": "function",
      "public": false,
      "lineno": 104,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_skip_rows",
      "qualname": "_skip_rows",
      "kind": "function",
      "public": false,
      "lineno": 120,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_render_stage_section",
      "qualname": "_render_stage_section",
      "kind": "function",
      "public": false,
      "lineno": 136,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_render_skip_section",
      "qualname": "_render_skip_section",
      "kind": "function",
      "public": false,
      "lineno": 151,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_render_markdown",
      "qualname": "_render_markdown",
      "kind": "function",
      "public": false,
      "lineno": 166,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_structured_report",
      "qualname": "_structured_report",
      "kind": "function",
      "public": false,
      "lineno": 180,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "session_report",
      "qualname": "session_report",
      "kind": "function",
      "public": true,
      "lineno": 199,
      "doc_summary": "Render the latest (or requested) run for a session from an events ledger.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "ledger_report",
      "qualname": "ledger_report",
      "kind": "function",
      "public": true,
      "lineno": 281,
      "doc_summary": "Render structured JSON for a run ledger stored under ``data/telemetry``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 316,
      "doc_summary": "Invoke the Typer application while supporting programmatic argv injection.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 43,
    "cyclomatic": 44,
    "loc": 349
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 2,
  "cycle_group": 114,
  "imports_internal": [
    "observability/run_report.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "observability/run_report.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.128,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 7,
  "recent_churn_90": 7
}
{
  "path": "doc_health.py",
  "repo_path": "codeintel_rev/doc_health.py",
  "module_name": "codeintel_rev.doc_health",
  "stable_id": "0f7802827787",
  "docstring": "Docstring summarization helpers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.libcst_bridge",
      "names": [
        "ModuleIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "summarize_doc_health",
      "lineno": 11
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Docstring summarization helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "summarize_doc_health",
      "qualname": "summarize_doc_health",
      "kind": "function",
      "public": true,
      "lineno": 11,
      "doc_summary": "Return a normalized doc health summary for a module.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 29
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 2,
  "cycle_group": 115,
  "imports_internal": [
    "enrich/libcst_bridge.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "enrich/libcst_bridge.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.194,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "embeddings/__init__.py",
  "repo_path": "codeintel_rev/embeddings/__init__.py",
  "module_name": "codeintel_rev.embeddings",
  "stable_id": "01bb99817b89",
  "docstring": "Embedding provider public API.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.embeddings.embedding_service",
      "names": [
        "EmbeddingMetadata",
        "EmbeddingProvider",
        "EmbeddingProviderBase",
        "EmbeddingRuntimeError",
        "HFEmbeddingProvider",
        "VLLMProvider",
        "get_embedding_provider"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "EmbeddingMetadata",
    "EmbeddingProvider",
    "EmbeddingProviderBase",
    "EmbeddingRuntimeError",
    "HFEmbeddingProvider",
    "VLLMProvider",
    "get_embedding_provider"
  ],
  "exports_declared": [
    "EmbeddingMetadata",
    "EmbeddingProvider",
    "EmbeddingProviderBase",
    "EmbeddingRuntimeError",
    "HFEmbeddingProvider",
    "VLLMProvider",
    "get_embedding_provider"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Embedding provider public API.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 24
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "embeddings/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 1,
  "cycle_group": 65,
  "imports_internal": [
    "embeddings/embedding_service.py"
  ],
  "imports_intra_repo": [
    "embeddings/embedding_service.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.309,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "embeddings/embedding_service.py",
  "repo_path": "codeintel_rev/embeddings/embedding_service.py",
  "module_name": "codeintel_rev.embeddings.embedding_service",
  "stable_id": "1beecbc79ebb",
  "docstring": "Embedding provider abstractions for chunk ingestion and runtime services.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "hashlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "queue"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "threading"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Iterable",
        "Iterator",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "concurrent.futures",
      "names": [
        "Future"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager",
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType",
        "TracebackType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "Protocol",
        "Self",
        "cast",
        "runtime_checkable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "EmbeddingsConfig",
        "IndexConfig",
        "Settings",
        "VLLMConfig"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.vllm_engine",
      "names": [
        "InprocessVLLMEmbedder"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.otel_metrics",
      "names": [
        "build_counter",
        "build_gauge",
        "build_histogram"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32",
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 22
    },
    {
      "kind": "variable",
      "name": "EMBEDDING_RANK",
      "lineno": 23
    },
    {
      "kind": "class",
      "name": "EmbeddingRuntimeError",
      "lineno": 52
    },
    {
      "kind": "class",
      "name": "EmbeddingConfigError",
      "lineno": 56
    },
    {
      "kind": "class",
      "name": "EmbeddingMetadata",
      "lineno": 61
    },
    {
      "kind": "class",
      "name": "EmbeddingProvider",
      "lineno": 90
    },
    {
      "kind": "function",
      "name": "_numpy",
      "lineno": 117
    },
    {
      "kind": "function",
      "name": "_l2_normalize",
      "lineno": 128
    },
    {
      "kind": "class",
      "name": "_ExecutorJob",
      "lineno": 161
    },
    {
      "kind": "class",
      "name": "_FailureCounter",
      "lineno": 166
    },
    {
      "kind": "class",
      "name": "_BatchResultHandler",
      "lineno": 187
    },
    {
      "kind": "class",
      "name": "_QueueSentinel",
      "lineno": 244
    },
    {
      "kind": "class",
      "name": "_BoundedBatchExecutor",
      "lineno": 248
    },
    {
      "kind": "class",
      "name": "_ProviderState",
      "lineno": 363
    },
    {
      "kind": "class",
      "name": "_ProviderBase",
      "lineno": 375
    },
    {
      "kind": "class",
      "name": "VLLMProvider",
      "lineno": 693
    },
    {
      "kind": "function",
      "name": "get_embedding_provider",
      "lineno": 718
    },
    {
      "kind": "class",
      "name": "HFEmbeddingProvider",
      "lineno": 805
    },
    {
      "kind": "variable",
      "name": "EmbeddingProviderBase",
      "lineno": 877
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Embedding provider abstractions for chunk ingestion and runtime services.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "EmbeddingRuntimeError",
      "qualname": "EmbeddingRuntimeError",
      "kind": "class",
      "public": true,
      "lineno": 52,
      "doc_summary": "Raised when an embedding provider fails to run.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "EmbeddingConfigError",
      "qualname": "EmbeddingConfigError",
      "kind": "class",
      "public": true,
      "lineno": 56,
      "doc_summary": "Raised when embedding configuration is invalid.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "EmbeddingMetadata",
      "qualname": "EmbeddingMetadata",
      "kind": "class",
      "public": true,
      "lineno": 61,
      "doc_summary": "Structured metadata describing the active embedding provider.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "EmbeddingProvider",
      "qualname": "EmbeddingProvider",
      "kind": "class",
      "public": true,
      "lineno": 90,
      "doc_summary": "Common surface for embedding providers used across CLIs and services.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_numpy",
      "qualname": "_numpy",
      "kind": "function",
      "public": false,
      "lineno": 117,
      "doc_summary": "Return the lazily imported NumPy module for vector ops.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_l2_normalize",
      "qualname": "_l2_normalize",
      "kind": "function",
      "public": false,
      "lineno": 128,
      "doc_summary": "Return vectors scaled to unit length along axis 1.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_ExecutorJob",
      "qualname": "_ExecutorJob",
      "kind": "class",
      "public": false,
      "lineno": 161,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_FailureCounter",
      "qualname": "_FailureCounter",
      "kind": "class",
      "public": false,
      "lineno": 166,
      "doc_summary": "Increment error counters when an exception bubbles out of a context.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_BatchResultHandler",
      "qualname": "_BatchResultHandler",
      "kind": "class",
      "public": false,
      "lineno": 187,
      "doc_summary": "Resolve futures when a fused batch completes or fails.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_QueueSentinel",
      "qualname": "_QueueSentinel",
      "kind": "class",
      "public": false,
      "lineno": 244,
      "doc_summary": "Unique sentinel signaling executor shutdown.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_BoundedBatchExecutor",
      "qualname": "_BoundedBatchExecutor",
      "kind": "class",
      "public": false,
      "lineno": 248,
      "doc_summary": "Opportunistically coalesces pending embedding jobs into micro-batches.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ProviderState",
      "qualname": "_ProviderState",
      "kind": "class",
      "public": false,
      "lineno": 363,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ProviderBase",
      "qualname": "_ProviderBase",
      "kind": "class",
      "public": false,
      "lineno": 375,
      "doc_summary": "Shared batching/metrics logic used by concrete providers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "VLLMProvider",
      "qualname": "VLLMProvider",
      "kind": "class",
      "public": true,
      "lineno": 693,
      "doc_summary": "Embedding provider backed by the in-process vLLM engine.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "get_embedding_provider",
      "qualname": "get_embedding_provider",
      "kind": "function",
      "public": true,
      "lineno": 718,
      "doc_summary": "Return the configured embedding provider, falling back when allowed.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "HFEmbeddingProvider",
      "qualname": "HFEmbeddingProvider",
      "kind": "class",
      "public": true,
      "lineno": 805,
      "doc_summary": "CPU/GPU fallback using Hugging Face transformers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [
    "NotImplementedError"
  ],
  "complexity": {
    "branches": 63,
    "cyclomatic": 64,
    "loc": 878
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "embeddings/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 4,
  "cycle_group": 64,
  "imports_internal": [
    "config/settings.py",
    "io/vllm_engine.py",
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "config/settings.py",
    "io/vllm_engine.py",
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.516,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 5,
  "recent_churn_90": 5
}
{
  "path": "enrich/__init__.py",
  "repo_path": "codeintel_rev/enrich/__init__.py",
  "module_name": "codeintel_rev.enrich",
  "stable_id": "3fca480e2d37",
  "docstring": "Utilities for building repo-enrichment artifacts (LibCST, SCIP, tagging, overlays).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Utilities for building repo-enrichment artifacts (LibCST, SCIP, tagging, overlays).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 116,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "enrich/ast_indexer.py",
  "repo_path": "codeintel_rev/enrich/ast_indexer.py",
  "module_name": "codeintel_rev.enrich.ast_indexer",
  "stable_id": "aa5a3a8a0fd2",
  "docstring": "AST indexer producing join-ready Parquet datasets.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "ast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Iterator",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "asdict",
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow"
      ],
      "aliases": {
        "pyarrow": "pa"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow.parquet"
      ],
      "aliases": {
        "pyarrow.parquet": "pq"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 16
    },
    {
      "kind": "class",
      "name": "DefInfo",
      "lineno": 20
    },
    {
      "kind": "class",
      "name": "AstNodeRow",
      "lineno": 30
    },
    {
      "kind": "class",
      "name": "AstMetricsRow",
      "lineno": 63
    },
    {
      "kind": "variable",
      "name": "AST_NODE_SCHEMA",
      "lineno": 89
    },
    {
      "kind": "variable",
      "name": "AST_METRIC_SCHEMA",
      "lineno": 108
    },
    {
      "kind": "function",
      "name": "stable_module_path",
      "lineno": 125
    },
    {
      "kind": "function",
      "name": "_module_name_from_path",
      "lineno": 159
    },
    {
      "kind": "function",
      "name": "_safe_unparse",
      "lineno": 170
    },
    {
      "kind": "function",
      "name": "walk_defs_with_qualname",
      "lineno": 179
    },
    {
      "kind": "function",
      "name": "collect_ast_nodes",
      "lineno": 224
    },
    {
      "kind": "function",
      "name": "collect_ast_nodes_from_tree",
      "lineno": 259
    },
    {
      "kind": "function",
      "name": "compute_ast_metrics",
      "lineno": 359
    },
    {
      "kind": "function",
      "name": "empty_metrics_row",
      "lineno": 406
    },
    {
      "kind": "function",
      "name": "write_ast_parquet",
      "lineno": 445
    },
    {
      "kind": "variable",
      "name": "RowType",
      "lineno": 459
    },
    {
      "kind": "function",
      "name": "_table_from_rows",
      "lineno": 462
    },
    {
      "kind": "class",
      "name": "_MetricsVisitor",
      "lineno": 470
    }
  ],
  "exports": [
    "AST_METRIC_SCHEMA",
    "AST_NODE_SCHEMA",
    "AstMetricsRow",
    "AstNodeRow",
    "DefInfo",
    "collect_ast_nodes",
    "collect_ast_nodes_from_tree",
    "compute_ast_metrics",
    "empty_metrics_row",
    "stable_module_path",
    "walk_defs_with_qualname",
    "write_ast_parquet"
  ],
  "exports_declared": [
    "AST_METRIC_SCHEMA",
    "AST_NODE_SCHEMA",
    "AstMetricsRow",
    "AstNodeRow",
    "DefInfo",
    "collect_ast_nodes",
    "collect_ast_nodes_from_tree",
    "compute_ast_metrics",
    "empty_metrics_row",
    "stable_module_path",
    "walk_defs_with_qualname",
    "write_ast_parquet"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "AST indexer producing join-ready Parquet datasets.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "DefInfo",
      "qualname": "DefInfo",
      "kind": "class",
      "public": true,
      "lineno": 20,
      "doc_summary": "Intermediate representation for definition nodes with qualnames.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "AstNodeRow",
      "qualname": "AstNodeRow",
      "kind": "class",
      "public": true,
      "lineno": 30,
      "doc_summary": "Row emitted to ast_nodes.parquet.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "AstMetricsRow",
      "qualname": "AstMetricsRow",
      "kind": "class",
      "public": true,
      "lineno": 63,
      "doc_summary": "Row emitted to ast_metrics.parquet.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "stable_module_path",
      "qualname": "stable_module_path",
      "kind": "function",
      "public": true,
      "lineno": 125,
      "doc_summary": "Return a repo-relative POSIX path for the given file.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_module_name_from_path",
      "qualname": "_module_name_from_path",
      "kind": "function",
      "public": false,
      "lineno": 159,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_safe_unparse",
      "qualname": "_safe_unparse",
      "kind": "function",
      "public": false,
      "lineno": 170,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "walk_defs_with_qualname",
      "qualname": "walk_defs_with_qualname",
      "kind": "function",
      "public": true,
      "lineno": 179,
      "doc_summary": "Yield definition nodes with fully-qualified names.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "collect_ast_nodes",
      "qualname": "collect_ast_nodes",
      "kind": "function",
      "public": true,
      "lineno": 224,
      "doc_summary": "Parse code and collect node rows for Parquet output.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "collect_ast_nodes_from_tree",
      "qualname": "collect_ast_nodes_from_tree",
      "kind": "function",
      "public": true,
      "lineno": 259,
      "doc_summary": "Collect AstNodeRow entries from a pre-parsed AST module.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "compute_ast_metrics",
      "qualname": "compute_ast_metrics",
      "kind": "function",
      "public": true,
      "lineno": 359,
      "doc_summary": "Compute per-file metrics from a parsed AST.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "empty_metrics_row",
      "qualname": "empty_metrics_row",
      "kind": "function",
      "public": true,
      "lineno": 406,
      "doc_summary": "Return a zeroed metrics row for parse failures.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "write_ast_parquet",
      "qualname": "write_ast_parquet",
      "kind": "function",
      "public": true,
      "lineno": 445,
      "doc_summary": "Persist AST datasets to Parquet files expected by DuckDB.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_table_from_rows",
      "qualname": "_table_from_rows",
      "kind": "function",
      "public": false,
      "lineno": 462,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_MetricsVisitor",
      "qualname": "_MetricsVisitor",
      "kind": "class",
      "public": false,
      "lineno": 470,
      "doc_summary": "Collects aggregate counts for AST metrics.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 26,
    "cyclomatic": 27,
    "loc": 608
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 103,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.986,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "enrich/duckdb_store.py",
  "repo_path": "codeintel_rev/enrich/duckdb_store.py",
  "module_name": "codeintel_rev.enrich.duckdb_store",
  "stable_id": "edc64746939f",
  "docstring": "Utilities for loading enrichment artifacts into DuckDB.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "DuckConn",
      "lineno": 60
    },
    {
      "kind": "function",
      "name": "_duckdb",
      "lineno": 66
    },
    {
      "kind": "function",
      "name": "ensure_schema",
      "lineno": 77
    },
    {
      "kind": "function",
      "name": "ingest_modules_jsonl",
      "lineno": 121
    },
    {
      "kind": "function",
      "name": "_load_json_rows",
      "lineno": 151
    },
    {
      "kind": "function",
      "name": "_coerce_value",
      "lineno": 169
    },
    {
      "kind": "function",
      "name": "_apply_pragmas",
      "lineno": 178
    },
    {
      "kind": "function",
      "name": "_ingest_via_native_json",
      "lineno": 191
    },
    {
      "kind": "function",
      "name": "_ingest_via_python",
      "lineno": 219
    }
  ],
  "exports": [
    "DuckConn",
    "ensure_schema",
    "ingest_modules_jsonl"
  ],
  "exports_declared": [
    "DuckConn",
    "ensure_schema",
    "ingest_modules_jsonl"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Utilities for loading enrichment artifacts into DuckDB.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "DuckConn",
      "qualname": "DuckConn",
      "kind": "class",
      "public": true,
      "lineno": 60,
      "doc_summary": "Connection metadata for enrichment DuckDB ingestion.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_duckdb",
      "qualname": "_duckdb",
      "kind": "function",
      "public": false,
      "lineno": 66,
      "doc_summary": "Import duckdb on demand to keep it optional at runtime.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "ensure_schema",
      "qualname": "ensure_schema",
      "kind": "function",
      "public": true,
      "lineno": 77,
      "doc_summary": "Create the ``modules`` table if it does not already exist.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "ingest_modules_jsonl",
      "qualname": "ingest_modules_jsonl",
      "kind": "function",
      "public": true,
      "lineno": 121,
      "doc_summary": "Load modules.jsonl rows into DuckDB, replacing existing paths.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_load_json_rows",
      "qualname": "_load_json_rows",
      "kind": "function",
      "public": false,
      "lineno": 151,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_value",
      "qualname": "_coerce_value",
      "kind": "function",
      "public": false,
      "lineno": 169,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_apply_pragmas",
      "qualname": "_apply_pragmas",
      "kind": "function",
      "public": false,
      "lineno": 178,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ingest_via_native_json",
      "qualname": "_ingest_via_native_json",
      "kind": "function",
      "public": false,
      "lineno": 191,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ingest_via_python",
      "qualname": "_ingest_via_python",
      "kind": "function",
      "public": false,
      "lineno": 219,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 23,
    "cyclomatic": 24,
    "loc": 237
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 86,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.952,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "enrich/errors.py",
  "repo_path": "codeintel_rev/enrich/errors.py",
  "module_name": "codeintel_rev.enrich.errors",
  "stable_id": "aaac6e0b52ae",
  "docstring": "Typed exceptions for enrichment pipeline stages.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "StageError",
      "lineno": 23
    },
    {
      "kind": "class",
      "name": "DiscoveryError",
      "lineno": 64
    },
    {
      "kind": "class",
      "name": "IngestError",
      "lineno": 78
    },
    {
      "kind": "class",
      "name": "IndexingError",
      "lineno": 92
    },
    {
      "kind": "class",
      "name": "TypeSignalError",
      "lineno": 106
    },
    {
      "kind": "class",
      "name": "TaggingError",
      "lineno": 120
    },
    {
      "kind": "class",
      "name": "AnalyticsError",
      "lineno": 134
    },
    {
      "kind": "class",
      "name": "OutputError",
      "lineno": 148
    }
  ],
  "exports": [
    "AnalyticsError",
    "DiscoveryError",
    "IndexingError",
    "IngestError",
    "OutputError",
    "StageError",
    "TaggingError",
    "TypeSignalError"
  ],
  "exports_declared": [
    "AnalyticsError",
    "DiscoveryError",
    "IndexingError",
    "IngestError",
    "OutputError",
    "StageError",
    "TaggingError",
    "TypeSignalError"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Typed exceptions for enrichment pipeline stages.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "StageError",
      "qualname": "StageError",
      "kind": "class",
      "public": true,
      "lineno": 23,
      "doc_summary": "Base error describing a failed enrichment stage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "DiscoveryError",
      "qualname": "DiscoveryError",
      "kind": "class",
      "public": true,
      "lineno": 64,
      "doc_summary": "Raised when repository discovery/globbing fails.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "IngestError",
      "qualname": "IngestError",
      "kind": "class",
      "public": true,
      "lineno": 78,
      "doc_summary": "Raised when ingestion of SCIP/FS artifacts fails.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "IndexingError",
      "qualname": "IndexingError",
      "kind": "class",
      "public": true,
      "lineno": 92,
      "doc_summary": "Raised when LibCST/Tree-sitter indexing fails for a module.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "TypeSignalError",
      "qualname": "TypeSignalError",
      "kind": "class",
      "public": true,
      "lineno": 106,
      "doc_summary": "Raised when collecting type checker summaries fails.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "TaggingError",
      "qualname": "TaggingError",
      "kind": "class",
      "public": true,
      "lineno": 120,
      "doc_summary": "Raised when tagging rules fail to evaluate.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "AnalyticsError",
      "qualname": "AnalyticsError",
      "kind": "class",
      "public": true,
      "lineno": 134,
      "doc_summary": "Raised when analytics or derived metrics fail to compute.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "OutputError",
      "qualname": "OutputError",
      "kind": "class",
      "public": true,
      "lineno": 148,
      "doc_summary": "Raised when serializing enrichment outputs fails.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 11,
    "cyclomatic": 12,
    "loc": 160
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 1,
  "cycle_group": 80,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.871,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "enrich/graph_builder.py",
  "repo_path": "codeintel_rev/enrich/graph_builder.py",
  "module_name": "codeintel_rev.enrich.graph_builder",
  "stable_id": "4039172f87be",
  "docstring": "Re-export graph builder utilities within the enrich package.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.graph_builder",
      "names": [
        "ImportGraph",
        "build_import_graph",
        "write_import_graph"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "ImportGraph",
    "build_import_graph",
    "write_import_graph"
  ],
  "exports_declared": [
    "ImportGraph",
    "build_import_graph",
    "write_import_graph"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Re-export graph builder utilities within the enrich package.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 13
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 102,
  "imports_internal": [
    "graph_builder.py"
  ],
  "imports_intra_repo": [
    "graph_builder.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.194,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "enrich/libcst_bridge.py",
  "repo_path": "codeintel_rev/enrich/libcst_bridge.py",
  "module_name": "codeintel_rev.enrich.libcst_bridge",
  "stable_id": "a946bee09899",
  "docstring": "LibCST-powered index utilities (imports, defs, exports, docstrings).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterator",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "ClassVar",
        "Protocol",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "libcst"
      ],
      "aliases": {
        "libcst": "cst"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "libcst",
      "names": [
        "matchers"
      ],
      "aliases": {
        "matchers": "m"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "libcst",
      "names": [
        "metadata"
      ],
      "aliases": {
        "metadata": "cst_metadata"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "libcst.helpers",
      "names": [
        "get_full_name_for_node"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "docstring_parser",
      "names": [
        "parse"
      ],
      "aliases": {
        "parse": "parse_docstring"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "parse_docstring",
      "lineno": 22
    },
    {
      "kind": "class",
      "name": "NodeHandler",
      "lineno": 25
    },
    {
      "kind": "class",
      "name": "ImportEntry",
      "lineno": 34
    },
    {
      "kind": "class",
      "name": "DefEntry",
      "lineno": 45
    },
    {
      "kind": "class",
      "name": "ModuleIndex",
      "lineno": 54
    },
    {
      "kind": "function",
      "name": "_extract_module_docstring",
      "lineno": 91
    },
    {
      "kind": "function",
      "name": "_literal_string_values",
      "lineno": 121
    },
    {
      "kind": "function",
      "name": "_string_literal_value",
      "lineno": 148
    },
    {
      "kind": "function",
      "name": "_extract_def_docstring",
      "lineno": 160
    },
    {
      "kind": "function",
      "name": "_summarize_docstring",
      "lineno": 177
    },
    {
      "kind": "function",
      "name": "_analyze_docstring",
      "lineno": 189
    },
    {
      "kind": "function",
      "name": "_iter_params",
      "lineno": 215
    },
    {
      "kind": "function",
      "name": "_exception_name",
      "lineno": 230
    },
    {
      "kind": "function",
      "name": "_infer_side_effects",
      "lineno": 260
    },
    {
      "kind": "class",
      "name": "_IndexVisitor",
      "lineno": 309
    },
    {
      "kind": "function",
      "name": "index_module",
      "lineno": 998
    },
    {
      "kind": "function",
      "name": "_lineno",
      "lineno": 1045
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "LibCST-powered index utilities (imports, defs, exports, docstrings).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "NodeHandler",
      "qualname": "NodeHandler",
      "kind": "class",
      "public": true,
      "lineno": 25,
      "doc_summary": "Callable signature for node-dispatch handlers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ImportEntry",
      "qualname": "ImportEntry",
      "kind": "class",
      "public": true,
      "lineno": 34,
      "doc_summary": "Normalized metadata for a single import statement.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "DefEntry",
      "qualname": "DefEntry",
      "kind": "class",
      "public": true,
      "lineno": 45,
      "doc_summary": "Top-level function/class definition summary.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ModuleIndex",
      "qualname": "ModuleIndex",
      "kind": "class",
      "public": true,
      "lineno": 54,
      "doc_summary": "Aggregate module metadata returned by :func:`index_module`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_extract_module_docstring",
      "qualname": "_extract_module_docstring",
      "kind": "function",
      "public": false,
      "lineno": 91,
      "doc_summary": "Return the module docstring if present.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_literal_string_values",
      "qualname": "_literal_string_values",
      "kind": "function",
      "public": false,
      "lineno": 121,
      "doc_summary": "Yield literal string values from constant containers.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_string_literal_value",
      "qualname": "_string_literal_value",
      "kind": "function",
      "public": false,
      "lineno": 148,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_extract_def_docstring",
      "qualname": "_extract_def_docstring",
      "kind": "function",
      "public": false,
      "lineno": 160,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_summarize_docstring",
      "qualname": "_summarize_docstring",
      "kind": "function",
      "public": false,
      "lineno": 177,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_analyze_docstring",
      "qualname": "_analyze_docstring",
      "kind": "function",
      "public": false,
      "lineno": 189,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_iter_params",
      "qualname": "_iter_params",
      "kind": "function",
      "public": false,
      "lineno": 215,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_exception_name",
      "qualname": "_exception_name",
      "kind": "function",
      "public": false,
      "lineno": 230,
      "doc_summary": "Extract exception name from LibCST expression node.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_infer_side_effects",
      "qualname": "_infer_side_effects",
      "kind": "function",
      "public": false,
      "lineno": 260,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_IndexVisitor",
      "qualname": "_IndexVisitor",
      "kind": "class",
      "public": false,
      "lineno": 309,
      "doc_summary": "Collect module metadata via a single LibCST traversal.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "index_module",
      "qualname": "index_module",
      "kind": "function",
      "public": true,
      "lineno": 998,
      "doc_summary": "Return parsed module metadata, falling back to a stub on parse failure.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_lineno",
      "qualname": "_lineno",
      "kind": "function",
      "public": false,
      "lineno": 1045,
      "doc_summary": "Return the starting line number for ``node`` when metadata is available.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": true,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 135,
    "cyclomatic": 136,
    "loc": 1066
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 4,
  "fan_out": 1,
  "cycle_group": 84,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.739,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 13,
  "recent_churn_90": 13
}
{
  "path": "enrich/models.py",
  "repo_path": "codeintel_rev/enrich/models.py",
  "module_name": "codeintel_rev.enrich.models",
  "stable_id": "799643dea9d6",
  "docstring": "Dataclasses and helpers shared across enrichment stages.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Iterator",
        "MutableMapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "ClassVar"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.errors",
      "names": [
        "StageError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "_clone_dict",
      "lineno": 15
    },
    {
      "kind": "function",
      "name": "_dedupe_strings",
      "lineno": 32
    },
    {
      "kind": "class",
      "name": "ModuleRecord",
      "lineno": 56
    }
  ],
  "exports": [
    "ModuleRecord"
  ],
  "exports_declared": [
    "ModuleRecord"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Dataclasses and helpers shared across enrichment stages.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_clone_dict",
      "qualname": "_clone_dict",
      "kind": "function",
      "public": false,
      "lineno": 15,
      "doc_summary": "Return a shallow dict copy safe for JSON serialization.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_dedupe_strings",
      "qualname": "_dedupe_strings",
      "kind": "function",
      "public": false,
      "lineno": 32,
      "doc_summary": "Return a list of unique stringified values preserving order.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "ModuleRecord",
      "qualname": "ModuleRecord",
      "kind": "class",
      "public": true,
      "lineno": 56,
      "doc_summary": "Canonical per-module row emitted to ``modules.jsonl``.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 17,
    "cyclomatic": 18,
    "loc": 250
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 2,
  "cycle_group": 90,
  "imports_internal": [
    "enrich/errors.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "enrich/errors.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.984,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "enrich/output_writers.py",
  "repo_path": "codeintel_rev/enrich/output_writers.py",
  "module_name": "codeintel_rev.enrich.output_writers",
  "stable_id": "30c764f3510a",
  "docstring": "Serialization helpers for enrichment artifacts (JSON/JSONL/Markdown).",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "orjson"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow"
      ],
      "aliases": {
        "pyarrow": "pa"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow.dataset"
      ],
      "aliases": {
        "pyarrow.dataset": "ds"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow.parquet"
      ],
      "aliases": {
        "pyarrow.parquet": "pq"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "orjson",
      "lineno": 14
    },
    {
      "kind": "variable",
      "name": "pa",
      "lineno": 21
    },
    {
      "kind": "variable",
      "name": "ds",
      "lineno": 22
    },
    {
      "kind": "variable",
      "name": "pq",
      "lineno": 23
    },
    {
      "kind": "function",
      "name": "_dump_json",
      "lineno": 43
    },
    {
      "kind": "function",
      "name": "_dump_jsonl_bytes",
      "lineno": 66
    },
    {
      "kind": "function",
      "name": "_resolve_dictionary_fields",
      "lineno": 87
    },
    {
      "kind": "function",
      "name": "write_json",
      "lineno": 113
    },
    {
      "kind": "function",
      "name": "write_jsonl",
      "lineno": 120
    },
    {
      "kind": "function",
      "name": "write_parquet",
      "lineno": 139
    },
    {
      "kind": "function",
      "name": "write_parquet_dataset",
      "lineno": 152
    },
    {
      "kind": "function",
      "name": "_write_dataset_table",
      "lineno": 203
    },
    {
      "kind": "function",
      "name": "_append_section",
      "lineno": 245
    },
    {
      "kind": "function",
      "name": "_format_imports",
      "lineno": 253
    },
    {
      "kind": "function",
      "name": "_format_definitions",
      "lineno": 272
    },
    {
      "kind": "function",
      "name": "_format_graph_metrics",
      "lineno": 288
    },
    {
      "kind": "function",
      "name": "_format_ownership",
      "lineno": 297
    },
    {
      "kind": "function",
      "name": "_format_usage",
      "lineno": 319
    },
    {
      "kind": "function",
      "name": "_format_exports",
      "lineno": 330
    },
    {
      "kind": "function",
      "name": "_format_exports_resolved",
      "lineno": 338
    },
    {
      "kind": "function",
      "name": "_format_reexports",
      "lineno": 348
    },
    {
      "kind": "function",
      "name": "_format_doc_metrics",
      "lineno": 362
    },
    {
      "kind": "function",
      "name": "_format_typedness",
      "lineno": 377
    },
    {
      "kind": "function",
      "name": "_format_side_effects",
      "lineno": 396
    },
    {
      "kind": "function",
      "name": "_format_raises",
      "lineno": 406
    },
    {
      "kind": "function",
      "name": "_format_complexity",
      "lineno": 415
    },
    {
      "kind": "function",
      "name": "_format_doc_items",
      "lineno": 427
    },
    {
      "kind": "function",
      "name": "_format_coverage",
      "lineno": 454
    },
    {
      "kind": "function",
      "name": "_format_config_refs",
      "lineno": 465
    },
    {
      "kind": "function",
      "name": "_format_hotspot",
      "lineno": 472
    },
    {
      "kind": "function",
      "name": "write_markdown_module",
      "lineno": 479
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Serialization helpers for enrichment artifacts (JSON/JSONL/Markdown).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_dump_json",
      "qualname": "_dump_json",
      "kind": "function",
      "public": false,
      "lineno": 43,
      "doc_summary": "Serialize arbitrary objects to UTF-8 JSON with optional orjson accel.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_dump_jsonl_bytes",
      "qualname": "_dump_jsonl_bytes",
      "kind": "function",
      "public": false,
      "lineno": 66,
      "doc_summary": "Serialize JSON rows for JSONL outputs with deterministic ordering.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_dictionary_fields",
      "qualname": "_resolve_dictionary_fields",
      "kind": "function",
      "public": false,
      "lineno": 87,
      "doc_summary": "Return dictionary-encoded columns present in ``table``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "write_json",
      "qualname": "write_json",
      "kind": "function",
      "public": true,
      "lineno": 113,
      "doc_summary": "Write an object as pretty-printed JSON.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "write_jsonl",
      "qualname": "write_jsonl",
      "kind": "function",
      "public": true,
      "lineno": 120,
      "doc_summary": "Write newline-delimited JSON records.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "write_parquet",
      "qualname": "write_parquet",
      "kind": "function",
      "public": true,
      "lineno": 139,
      "doc_summary": "Persist ``rows`` to Parquet, falling back to JSONL when PyArrow is missing.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "write_parquet_dataset",
      "qualname": "write_parquet_dataset",
      "kind": "function",
      "public": true,
      "lineno": 152,
      "doc_summary": "Write records to a partitioned Parquet dataset directory.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_write_dataset_table",
      "qualname": "_write_dataset_table",
      "kind": "function",
      "public": false,
      "lineno": 203,
      "doc_summary": "Write ``table`` to Parquet using dataset writer settings.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_append_section",
      "qualname": "_append_section",
      "kind": "function",
      "public": false,
      "lineno": 245,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_imports",
      "qualname": "_format_imports",
      "kind": "function",
      "public": false,
      "lineno": 253,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_definitions",
      "qualname": "_format_definitions",
      "kind": "function",
      "public": false,
      "lineno": 272,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_graph_metrics",
      "qualname": "_format_graph_metrics",
      "kind": "function",
      "public": false,
      "lineno": 288,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_ownership",
      "qualname": "_format_ownership",
      "kind": "function",
      "public": false,
      "lineno": 297,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_usage",
      "qualname": "_format_usage",
      "kind": "function",
      "public": false,
      "lineno": 319,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_exports",
      "qualname": "_format_exports",
      "kind": "function",
      "public": false,
      "lineno": 330,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_exports_resolved",
      "qualname": "_format_exports_resolved",
      "kind": "function",
      "public": false,
      "lineno": 338,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_reexports",
      "qualname": "_format_reexports",
      "kind": "function",
      "public": false,
      "lineno": 348,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_doc_metrics",
      "qualname": "_format_doc_metrics",
      "kind": "function",
      "public": false,
      "lineno": 362,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_typedness",
      "qualname": "_format_typedness",
      "kind": "function",
      "public": false,
      "lineno": 377,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_side_effects",
      "qualname": "_format_side_effects",
      "kind": "function",
      "public": false,
      "lineno": 396,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_raises",
      "qualname": "_format_raises",
      "kind": "function",
      "public": false,
      "lineno": 406,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_complexity",
      "qualname": "_format_complexity",
      "kind": "function",
      "public": false,
      "lineno": 415,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_doc_items",
      "qualname": "_format_doc_items",
      "kind": "function",
      "public": false,
      "lineno": 427,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_coverage",
      "qualname": "_format_coverage",
      "kind": "function",
      "public": false,
      "lineno": 454,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_config_refs",
      "qualname": "_format_config_refs",
      "kind": "function",
      "public": false,
      "lineno": 465,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_format_hotspot",
      "qualname": "_format_hotspot",
      "kind": "function",
      "public": false,
      "lineno": 472,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "write_markdown_module",
      "qualname": "write_markdown_module",
      "kind": "function",
      "public": true,
      "lineno": 479,
      "doc_summary": "Emit a human-friendly Markdown summary for a module record.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 110,
    "cyclomatic": 111,
    "loc": 514
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 4,
  "fan_out": 0,
  "cycle_group": 81,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.606,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 9,
  "recent_churn_90": 9
}
{
  "path": "enrich/ownership.py",
  "repo_path": "codeintel_rev/enrich/ownership.py",
  "module_name": "codeintel_rev.enrich.ownership",
  "stable_id": "a08ff82c77bb",
  "docstring": "Ownership, churn, and bus-factor analytics sourced from Git history.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections",
      "names": [
        "Counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime",
        "timedelta"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "fnmatch",
      "names": [
        "fnmatch"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "git",
      "names": [
        "Repo"
      ],
      "aliases": {
        "Repo": "_RuntimeGitRepo"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "git",
      "names": [
        "exc"
      ],
      "aliases": {
        "exc": "git_exc"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "git",
      "names": [
        "Repo"
      ],
      "aliases": {
        "Repo": "GitRepo"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "git_exc",
      "lineno": 21
    },
    {
      "kind": "class",
      "name": "GitRepo",
      "lineno": 27
    },
    {
      "kind": "variable",
      "name": "GitError",
      "lineno": 31
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 32
    },
    {
      "kind": "class",
      "name": "FileOwnership",
      "lineno": 38
    },
    {
      "kind": "class",
      "name": "OwnershipIndex",
      "lineno": 49
    },
    {
      "kind": "function",
      "name": "compute_ownership",
      "lineno": 56
    },
    {
      "kind": "function",
      "name": "_normalize_windows",
      "lineno": 116
    },
    {
      "kind": "function",
      "name": "_try_open_repo",
      "lineno": 123
    },
    {
      "kind": "function",
      "name": "_stats_via_gitpython",
      "lineno": 132
    },
    {
      "kind": "function",
      "name": "_author_name",
      "lineno": 171
    },
    {
      "kind": "function",
      "name": "_top_k",
      "lineno": 179
    },
    {
      "kind": "function",
      "name": "_bus_factor",
      "lineno": 184
    },
    {
      "kind": "function",
      "name": "_codeowners_lookup",
      "lineno": 191
    },
    {
      "kind": "function",
      "name": "_glob_like_match",
      "lineno": 211
    }
  ],
  "exports": [
    "FileOwnership",
    "OwnershipIndex",
    "compute_ownership"
  ],
  "exports_declared": [
    "FileOwnership",
    "OwnershipIndex",
    "compute_ownership"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Ownership, churn, and bus-factor analytics sourced from Git history.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "GitRepo",
      "qualname": "GitRepo",
      "kind": "class",
      "public": true,
      "lineno": 27,
      "doc_summary": "Runtime placeholder for optional GitPython dependency.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FileOwnership",
      "qualname": "FileOwnership",
      "kind": "class",
      "public": true,
      "lineno": 38,
      "doc_summary": "Aggregated ownership metadata for a single file.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "OwnershipIndex",
      "qualname": "OwnershipIndex",
      "kind": "class",
      "public": true,
      "lineno": 49,
      "doc_summary": "Collection of :class:`FileOwnership` entries keyed by relative path.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "compute_ownership",
      "qualname": "compute_ownership",
      "kind": "function",
      "public": true,
      "lineno": 56,
      "doc_summary": "Return ownership metrics for ``rel_paths`` relative to ``repo_root``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_windows",
      "qualname": "_normalize_windows",
      "kind": "function",
      "public": false,
      "lineno": 116,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_try_open_repo",
      "qualname": "_try_open_repo",
      "kind": "function",
      "public": false,
      "lineno": 123,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_stats_via_gitpython",
      "qualname": "_stats_via_gitpython",
      "kind": "function",
      "public": false,
      "lineno": 132,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_author_name",
      "qualname": "_author_name",
      "kind": "function",
      "public": false,
      "lineno": 171,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_top_k",
      "qualname": "_top_k",
      "kind": "function",
      "public": false,
      "lineno": 179,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_bus_factor",
      "qualname": "_bus_factor",
      "kind": "function",
      "public": false,
      "lineno": 184,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_codeowners_lookup",
      "qualname": "_codeowners_lookup",
      "kind": "function",
      "public": false,
      "lineno": 191,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_glob_like_match",
      "qualname": "_glob_like_match",
      "kind": "function",
      "public": false,
      "lineno": 211,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 31,
    "cyclomatic": 32,
    "loc": 218
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 100,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.035,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "enrich/pathnorm.py",
  "repo_path": "codeintel_rev/enrich/pathnorm.py",
  "module_name": "codeintel_rev.enrich.pathnorm",
  "stable_id": "a6a063186655",
  "docstring": "Helpers for repo-relative path normalization and stable identifiers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hashlib",
      "names": [
        "blake2s"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "detect_repo_root",
      "lineno": 17
    },
    {
      "kind": "function",
      "name": "to_repo_relative",
      "lineno": 46
    },
    {
      "kind": "function",
      "name": "module_name_from_path",
      "lineno": 77
    },
    {
      "kind": "function",
      "name": "stable_id_for_path",
      "lineno": 127
    }
  ],
  "exports": [
    "detect_repo_root",
    "module_name_from_path",
    "stable_id_for_path",
    "to_repo_relative"
  ],
  "exports_declared": [
    "detect_repo_root",
    "module_name_from_path",
    "stable_id_for_path",
    "to_repo_relative"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Helpers for repo-relative path normalization and stable identifiers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "detect_repo_root",
      "qualname": "detect_repo_root",
      "kind": "function",
      "public": true,
      "lineno": 17,
      "doc_summary": "Return the closest ancestor containing a ``.git`` directory.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "to_repo_relative",
      "qualname": "to_repo_relative",
      "kind": "function",
      "public": true,
      "lineno": 46,
      "doc_summary": "Return a POSIX path for ``path`` relative to ``repo_root``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "module_name_from_path",
      "qualname": "module_name_from_path",
      "kind": "function",
      "public": true,
      "lineno": 77,
      "doc_summary": "Derive a dotted module name for ``path`` relative to ``repo_root``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "stable_id_for_path",
      "qualname": "stable_id_for_path",
      "kind": "function",
      "public": true,
      "lineno": 127,
      "doc_summary": "Return a truncated BLAKE2s digest for ``rel_posix``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 9,
    "cyclomatic": 10,
    "loc": 151
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 0,
  "cycle_group": 79,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.543,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "enrich/scip_reader.py",
  "repo_path": "codeintel_rev/enrich/scip_reader.py",
  "module_name": "codeintel_rev.enrich.scip_reader",
  "stable_id": "7bfec5ad849f",
  "docstring": "Lightweight helpers for loading and querying SCIP JSON indices.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "Occurrence",
      "lineno": 12
    },
    {
      "kind": "class",
      "name": "SymbolInfo",
      "lineno": 20
    },
    {
      "kind": "class",
      "name": "Document",
      "lineno": 29
    },
    {
      "kind": "class",
      "name": "_SCIPPayload",
      "lineno": 37
    },
    {
      "kind": "class",
      "name": "SCIPIndex",
      "lineno": 44
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Lightweight helpers for loading and querying SCIP JSON indices.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "Occurrence",
      "qualname": "Occurrence",
      "kind": "class",
      "public": true,
      "lineno": 12,
      "doc_summary": "Symbol occurrence entry extracted from the SCIP schema.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SymbolInfo",
      "qualname": "SymbolInfo",
      "kind": "class",
      "public": true,
      "lineno": 20,
      "doc_summary": "Symbol metadata bundled with a document.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Document",
      "qualname": "Document",
      "kind": "class",
      "public": true,
      "lineno": 29,
      "doc_summary": "SCIP document entry (per source file).",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SCIPPayload",
      "qualname": "_SCIPPayload",
      "kind": "class",
      "public": false,
      "lineno": 37,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SCIPIndex",
      "qualname": "SCIPIndex",
      "kind": "class",
      "public": true,
      "lineno": 44,
      "doc_summary": "In-memory representation of a SCIP dataset.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 10,
    "cyclomatic": 11,
    "loc": 136
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 4,
  "fan_out": 1,
  "cycle_group": 88,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.009,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "enrich/slices_builder.py",
  "repo_path": "codeintel_rev/enrich/slices_builder.py",
  "module_name": "codeintel_rev.enrich.slices_builder",
  "stable_id": "4a8d00283bfb",
  "docstring": "Utilities for generating opt-in LLM slice packs.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "asdict",
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hashlib",
      "names": [
        "blake2s"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.output_writers",
      "names": [
        "write_json",
        "write_markdown_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "SliceRecord",
      "lineno": 19
    },
    {
      "kind": "function",
      "name": "_slice_id",
      "lineno": 39
    },
    {
      "kind": "function",
      "name": "build_slice_record",
      "lineno": 47
    },
    {
      "kind": "function",
      "name": "write_slice",
      "lineno": 117
    }
  ],
  "exports": [
    "SliceRecord",
    "build_slice_record",
    "write_slice"
  ],
  "exports_declared": [
    "SliceRecord",
    "build_slice_record",
    "write_slice"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Utilities for generating opt-in LLM slice packs.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "SliceRecord",
      "qualname": "SliceRecord",
      "kind": "class",
      "public": true,
      "lineno": 19,
      "doc_summary": "Serializable context packet describing a module and its surroundings.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_slice_id",
      "qualname": "_slice_id",
      "kind": "function",
      "public": false,
      "lineno": 39,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "build_slice_record",
      "qualname": "build_slice_record",
      "kind": "function",
      "public": true,
      "lineno": 47,
      "doc_summary": "Build a :class:`SliceRecord` from a module row dictionary.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "write_slice",
      "qualname": "write_slice",
      "kind": "function",
      "public": true,
      "lineno": 117,
      "doc_summary": "Persist a slice pack (JSON + Markdown) under ``out_root/slices``.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 18,
    "cyclomatic": 19,
    "loc": 144
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 2,
  "cycle_group": 82,
  "imports_internal": [
    "enrich/output_writers.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "enrich/output_writers.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.0,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "enrich/stubs_overlay.py",
  "repo_path": "codeintel_rev/enrich/stubs_overlay.py",
  "module_name": "codeintel_rev.enrich.stubs_overlay",
  "stable_id": "7fe2ae5186cf",
  "docstring": "Targeted overlay generation with opt-in activation.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "platform"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "MutableMapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.libcst_bridge",
      "names": [
        "DefEntry",
        "ImportEntry",
        "ModuleIndex",
        "index_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.output_writers",
      "names": [
        "write_json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.scip_reader",
      "names": [
        "SCIPIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "DEFAULT_EXPORT_HUB_THRESHOLD",
      "lineno": 16
    },
    {
      "kind": "class",
      "name": "OverlayPolicy",
      "lineno": 20
    },
    {
      "kind": "class",
      "name": "OverlayResult",
      "lineno": 35
    },
    {
      "kind": "class",
      "name": "OverlayInputs",
      "lineno": 45
    },
    {
      "kind": "class",
      "name": "OverlayRenderContext",
      "lineno": 55
    },
    {
      "kind": "function",
      "name": "generate_overlay_for_file",
      "lineno": 66
    },
    {
      "kind": "function",
      "name": "activate_overlays",
      "lineno": 194
    },
    {
      "kind": "function",
      "name": "deactivate_all",
      "lineno": 243
    },
    {
      "kind": "function",
      "name": "_overlay_path",
      "lineno": 281
    },
    {
      "kind": "function",
      "name": "_normalized_module_key",
      "lineno": 305
    },
    {
      "kind": "function",
      "name": "_module_name_from_path",
      "lineno": 325
    },
    {
      "kind": "function",
      "name": "_collect_star_reexports",
      "lineno": 349
    },
    {
      "kind": "function",
      "name": "_extract_simple_name",
      "lineno": 380
    },
    {
      "kind": "function",
      "name": "_build_overlay_text",
      "lineno": 407
    },
    {
      "kind": "function",
      "name": "_render_star_exports",
      "lineno": 454
    },
    {
      "kind": "function",
      "name": "_render_public_defs",
      "lineno": 479
    },
    {
      "kind": "function",
      "name": "_collect_import_reexports",
      "lineno": 510
    },
    {
      "kind": "function",
      "name": "_is_windows",
      "lineno": 541
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Targeted overlay generation with opt-in activation.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "OverlayPolicy",
      "qualname": "OverlayPolicy",
      "kind": "class",
      "public": true,
      "lineno": 20,
      "doc_summary": "Controls when an overlay is generated and how it is written.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "OverlayResult",
      "qualname": "OverlayResult",
      "kind": "class",
      "public": true,
      "lineno": 35,
      "doc_summary": "Summary of overlay creation for a single module.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "OverlayInputs",
      "qualname": "OverlayInputs",
      "kind": "class",
      "public": true,
      "lineno": 45,
      "doc_summary": "Runtime inputs influencing overlay generation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "OverlayRenderContext",
      "qualname": "OverlayRenderContext",
      "kind": "class",
      "public": true,
      "lineno": 55,
      "doc_summary": "Bundle of values required to render overlay text.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "generate_overlay_for_file",
      "qualname": "generate_overlay_for_file",
      "kind": "function",
      "public": true,
      "lineno": 66,
      "doc_summary": "Generate a .pyi overlay for ``py_file`` when it meets the policy gates.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "activate_overlays",
      "qualname": "activate_overlays",
      "kind": "function",
      "public": true,
      "lineno": 194,
      "doc_summary": "Activate overlays by linking or copying into ``stubs_root``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "deactivate_all",
      "qualname": "deactivate_all",
      "kind": "function",
      "public": true,
      "lineno": 243,
      "doc_summary": "Remove overlays under ``stubs_root`` that originated from ``overlays_root``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_overlay_path",
      "qualname": "_overlay_path",
      "kind": "function",
      "public": false,
      "lineno": 281,
      "doc_summary": "Return the overlay destination path for ``py_file``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalized_module_key",
      "qualname": "_normalized_module_key",
      "kind": "function",
      "public": false,
      "lineno": 305,
      "doc_summary": "Return a normalized module key used for lookups.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_module_name_from_path",
      "qualname": "_module_name_from_path",
      "kind": "function",
      "public": false,
      "lineno": 325,
      "doc_summary": "Return the dotted module name for ``py_file``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_collect_star_reexports",
      "qualname": "_collect_star_reexports",
      "kind": "function",
      "public": false,
      "lineno": 349,
      "doc_summary": "Return candidate names that a star import might re-export.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_extract_simple_name",
      "qualname": "_extract_simple_name",
      "kind": "function",
      "public": false,
      "lineno": 380,
      "doc_summary": "Extract a plausible leaf identifier from a SCIP symbol string.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_overlay_text",
      "qualname": "_build_overlay_text",
      "kind": "function",
      "public": false,
      "lineno": 407,
      "doc_summary": "Render overlay text from the collected module metadata.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_render_star_exports",
      "qualname": "_render_star_exports",
      "kind": "function",
      "public": false,
      "lineno": 454,
      "doc_summary": "Return overlay lines for expanded star imports.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_render_public_defs",
      "qualname": "_render_public_defs",
      "kind": "function",
      "public": false,
      "lineno": 479,
      "doc_summary": "Return overlay lines for public defs when requested.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_collect_import_reexports",
      "qualname": "_collect_import_reexports",
      "kind": "function",
      "public": false,
      "lineno": 510,
      "doc_summary": "Return re-export lines for explicit imports that are listed in ``__all__``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_is_windows",
      "qualname": "_is_windows",
      "kind": "function",
      "public": false,
      "lineno": 541,
      "doc_summary": "Return True when running on Windows.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 72,
    "cyclomatic": 73,
    "loc": 550
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 3,
  "cycle_group": 89,
  "imports_internal": [
    "enrich/libcst_bridge.py",
    "enrich/output_writers.py",
    "enrich/scip_reader.py"
  ],
  "imports_intra_repo": [
    "enrich/libcst_bridge.py",
    "enrich/output_writers.py",
    "enrich/scip_reader.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.482,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 12,
  "recent_churn_90": 12
}
{
  "path": "enrich/tagging.py",
  "repo_path": "codeintel_rev/enrich/tagging.py",
  "module_name": "codeintel_rev.enrich.tagging",
  "stable_id": "0cfec54a7f9b",
  "docstring": "Rule-based tagging helpers for enrichment outputs.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "re"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "yaml"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "TagResult",
      "lineno": 16
    },
    {
      "kind": "class",
      "name": "ModuleTraits",
      "lineno": 25
    },
    {
      "kind": "function",
      "name": "load_rules",
      "lineno": 55
    },
    {
      "kind": "function",
      "name": "infer_tags",
      "lineno": 85
    },
    {
      "kind": "function",
      "name": "_rule_matches",
      "lineno": 124
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Rule-based tagging helpers for enrichment outputs.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "TagResult",
      "qualname": "TagResult",
      "kind": "class",
      "public": true,
      "lineno": 16,
      "doc_summary": "Result of running :func:`infer_tags`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ModuleTraits",
      "qualname": "ModuleTraits",
      "kind": "class",
      "public": true,
      "lineno": 25,
      "doc_summary": "Traits derived from a module used for tagging.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "load_rules",
      "qualname": "load_rules",
      "kind": "function",
      "public": true,
      "lineno": 55,
      "doc_summary": "Load tagging rules from ``path`` or fall back to the defaults.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "infer_tags",
      "qualname": "infer_tags",
      "kind": "function",
      "public": true,
      "lineno": 85,
      "doc_summary": "Infer tags based on module metadata.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_rule_matches",
      "qualname": "_rule_matches",
      "kind": "function",
      "public": false,
      "lineno": 124,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 20,
    "cyclomatic": 21,
    "loc": 166
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 95,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.913,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "enrich/tree_sitter_bridge.py",
  "repo_path": "codeintel_rev/enrich/tree_sitter_bridge.py",
  "module_name": "codeintel_rev.enrich.tree_sitter_bridge",
  "stable_id": "dd1d41ed8237",
  "docstring": "Tree-sitter outline helpers used for enrichment artifacts.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib.util"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "tree_sitter",
      "names": [
        "Language",
        "Node",
        "Parser",
        "Query"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "tree_sitter_python",
      "names": [
        "language"
      ],
      "aliases": {
        "language": "_python_language"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 29
    },
    {
      "kind": "function",
      "name": "_lang_for_ext",
      "lineno": 40
    },
    {
      "kind": "class",
      "name": "OutlineNode",
      "lineno": 78
    },
    {
      "kind": "class",
      "name": "TSOutline",
      "lineno": 88
    },
    {
      "kind": "function",
      "name": "build_outline",
      "lineno": 95
    },
    {
      "kind": "function",
      "name": "_extract_identifier",
      "lineno": 130
    },
    {
      "kind": "function",
      "name": "_outline_with_query",
      "lineno": 156
    },
    {
      "kind": "function",
      "name": "_outline_with_dfs",
      "lineno": 189
    },
    {
      "kind": "function",
      "name": "_get_outline_query",
      "lineno": 211
    },
    {
      "kind": "function",
      "name": "_node_text",
      "lineno": 228
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Tree-sitter outline helpers used for enrichment artifacts.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_lang_for_ext",
      "qualname": "_lang_for_ext",
      "kind": "function",
      "public": false,
      "lineno": 40,
      "doc_summary": "Resolve a Tree-sitter language for ``ext``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "OutlineNode",
      "qualname": "OutlineNode",
      "kind": "class",
      "public": true,
      "lineno": 78,
      "doc_summary": "Serializable view of a function/class definition.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "TSOutline",
      "qualname": "TSOutline",
      "kind": "class",
      "public": true,
      "lineno": 88,
      "doc_summary": "Bundle of outline nodes plus the originating Tree-sitter language.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "build_outline",
      "qualname": "build_outline",
      "kind": "function",
      "public": true,
      "lineno": 95,
      "doc_summary": "Produce a best-effort outline for ``path``'s contents.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_extract_identifier",
      "qualname": "_extract_identifier",
      "kind": "function",
      "public": false,
      "lineno": 130,
      "doc_summary": "Return the identifier name for ``node`` if available.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_outline_with_query",
      "qualname": "_outline_with_query",
      "kind": "function",
      "public": false,
      "lineno": 156,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_outline_with_dfs",
      "qualname": "_outline_with_dfs",
      "kind": "function",
      "public": false,
      "lineno": 189,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_get_outline_query",
      "qualname": "_get_outline_query",
      "kind": "function",
      "public": false,
      "lineno": 211,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_node_text",
      "qualname": "_node_text",
      "kind": "function",
      "public": false,
      "lineno": 228,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 29,
    "cyclomatic": 30,
    "loc": 232
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 99,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.016,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "enrich/type_integration.py",
  "repo_path": "codeintel_rev/enrich/type_integration.py",
  "module_name": "codeintel_rev.enrich.type_integration",
  "stable_id": "7c32e883926d",
  "docstring": "Helpers for collecting Pyright/Pyrefly error summaries.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "TypeFileSummary",
      "lineno": 14
    },
    {
      "kind": "class",
      "name": "TypeSummary",
      "lineno": 23
    },
    {
      "kind": "function",
      "name": "_run_command_async",
      "lineno": 29
    },
    {
      "kind": "function",
      "name": "_try_run",
      "lineno": 74
    },
    {
      "kind": "function",
      "name": "collect_pyright",
      "lineno": 104
    },
    {
      "kind": "function",
      "name": "collect_pyrefly",
      "lineno": 143
    },
    {
      "kind": "function",
      "name": "_parse_pyrefly_jsonl",
      "lineno": 174
    },
    {
      "kind": "function",
      "name": "_parse_pyrefly_json",
      "lineno": 183
    },
    {
      "kind": "function",
      "name": "_apply_pyrefly_record",
      "lineno": 190
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Helpers for collecting Pyright/Pyrefly error summaries.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "TypeFileSummary",
      "qualname": "TypeFileSummary",
      "kind": "class",
      "public": true,
      "lineno": 14,
      "doc_summary": "Aggregated type-checker results for a single file.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "TypeSummary",
      "qualname": "TypeSummary",
      "kind": "class",
      "public": true,
      "lineno": 23,
      "doc_summary": "Mapping of file path  :class:`TypeFileSummary`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_run_command_async",
      "qualname": "_run_command_async",
      "kind": "function",
      "public": false,
      "lineno": 29,
      "doc_summary": "Run a command asynchronously and capture stdout/stderr.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_try_run",
      "qualname": "_try_run",
      "kind": "function",
      "public": false,
      "lineno": 74,
      "doc_summary": "Run the asynchronous helper in a synchronous context.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "collect_pyright",
      "qualname": "collect_pyright",
      "kind": "function",
      "public": true,
      "lineno": 104,
      "doc_summary": "Run Pyright (or BasedPyright) and summarize diagnostics.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "collect_pyrefly",
      "qualname": "collect_pyrefly",
      "kind": "function",
      "public": true,
      "lineno": 143,
      "doc_summary": "Parse a Pyrefly JSON/JSONL report produced by CI.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_parse_pyrefly_jsonl",
      "qualname": "_parse_pyrefly_jsonl",
      "kind": "function",
      "public": false,
      "lineno": 174,
      "doc_summary": "Apply Pyrefly records from a JSONL file to the summary.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_parse_pyrefly_json",
      "qualname": "_parse_pyrefly_json",
      "kind": "function",
      "public": false,
      "lineno": 183,
      "doc_summary": "Apply Pyrefly records from a JSON file to the summary.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_apply_pyrefly_record",
      "qualname": "_apply_pyrefly_record",
      "kind": "function",
      "public": false,
      "lineno": 190,
      "doc_summary": "Merge a single Pyrefly record into the summary.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 23,
    "cyclomatic": 24,
    "loc": 201
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 0,
  "cycle_group": 83,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.789,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "enrich/validators.py",
  "repo_path": "codeintel_rev/enrich/validators.py",
  "module_name": "codeintel_rev.enrich.validators",
  "stable_id": "4ae3d6315db8",
  "docstring": "Schema validation helpers for enrichment rows.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pydantic",
      "names": [
        "BaseModel",
        "ConfigDict",
        "Field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "ModuleRecordModel",
      "lineno": 13
    }
  ],
  "exports": [
    "ModuleRecordModel"
  ],
  "exports_declared": [
    "ModuleRecordModel"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "pydantic"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Schema validation helpers for enrichment rows.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "ModuleRecordModel",
      "qualname": "ModuleRecordModel",
      "kind": "class",
      "public": true,
      "lineno": 13,
      "doc_summary": "Lightweight schema used to validate modules.jsonl rows.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 49
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "enrich/tagging_rules.yaml",
    "enrich/PLAYBOOK.md",
    "enrich/README.md"
  ],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 87,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.194,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "errors.py",
  "repo_path": "codeintel_rev/errors.py",
  "module_name": "codeintel_rev.errors",
  "stable_id": "f7e60fc13a9b",
  "docstring": "CodeIntel-specific exception hierarchy with Problem Details support.\n\nThis module defines domain-specific exceptions for CodeIntel MCP server operations.\nAll exceptions inherit from ``KgFoundryError`` and include automatic RFC 9457\nProblem Details mapping with appropriate HTTP status codes and structured context.\n\nThe exception hierarchy is organized by operation category:\n\n- **File Operations**: ``FileOperationError``, ``FileReadError``, ``InvalidLineRangeError``\n- **Git Operations**: ``GitOperationError``\n- **Search Operations**: Use ``VectorSearchError``, ``EmbeddingError`` from kgfoundry_common\n\nExamples\n--------\nRaising file operation error:\n\n>>> raise FileReadError(\"Binary file or encoding error\", path=\"binary_file.png\")\n\nRaising invalid line range error with context:\n\n>>> raise InvalidLineRangeError(\n...     \"start_line must be positive\", path=\"src/main.py\", line_range=(0, 10)\n... )\n\nRaising Git operation error:\n\n>>> try:\n...     git_client.blame_range(path, start, end)\n... except git.exc.GitCommandError as exc:\n...     raise GitOperationError(\"Git blame failed\", path=path, git_command=\"blame\") from exc\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "ErrorCode",
        "KgFoundryError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "FileOperationError",
      "lineno": 42
    },
    {
      "kind": "class",
      "name": "FileReadError",
      "lineno": 97
    },
    {
      "kind": "class",
      "name": "InvalidLineRangeError",
      "lineno": 144
    },
    {
      "kind": "class",
      "name": "CatalogConsistencyError",
      "lineno": 216
    },
    {
      "kind": "class",
      "name": "PathNotFoundError",
      "lineno": 233
    },
    {
      "kind": "class",
      "name": "PathNotDirectoryError",
      "lineno": 252
    },
    {
      "kind": "class",
      "name": "GitOperationError",
      "lineno": 274
    },
    {
      "kind": "class",
      "name": "RuntimeLifecycleError",
      "lineno": 353
    },
    {
      "kind": "class",
      "name": "RuntimeUnavailableError",
      "lineno": 372
    },
    {
      "kind": "class",
      "name": "VectorIndexStateError",
      "lineno": 395
    },
    {
      "kind": "class",
      "name": "VectorIndexIncompatibleError",
      "lineno": 417
    },
    {
      "kind": "class",
      "name": "CatalogJoinError",
      "lineno": 439
    }
  ],
  "exports": [
    "FileOperationError",
    "FileReadError",
    "GitOperationError",
    "InvalidLineRangeError",
    "PathNotDirectoryError",
    "PathNotFoundError",
    "RuntimeLifecycleError",
    "RuntimeUnavailableError"
  ],
  "exports_declared": [
    "FileOperationError",
    "FileReadError",
    "GitOperationError",
    "InvalidLineRangeError",
    "PathNotDirectoryError",
    "PathNotFoundError",
    "RuntimeLifecycleError",
    "RuntimeUnavailableError"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "CodeIntel-specific exception hierarchy with Problem Details support.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "FileOperationError",
      "qualname": "FileOperationError",
      "kind": "class",
      "public": true,
      "lineno": 42,
      "doc_summary": "Base exception for file operation errors.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    },
    {
      "name": "FileReadError",
      "qualname": "FileReadError",
      "kind": "class",
      "public": true,
      "lineno": 97,
      "doc_summary": "Raised when file cannot be read due to encoding or binary content.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    },
    {
      "name": "InvalidLineRangeError",
      "qualname": "InvalidLineRangeError",
      "kind": "class",
      "public": true,
      "lineno": 144,
      "doc_summary": "Raised when line range parameters are invalid.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    },
    {
      "name": "CatalogConsistencyError",
      "qualname": "CatalogConsistencyError",
      "kind": "class",
      "public": true,
      "lineno": 216,
      "doc_summary": "Raised when catalog state does not match expected invariants.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PathNotFoundError",
      "qualname": "PathNotFoundError",
      "kind": "class",
      "public": true,
      "lineno": 233,
      "doc_summary": "Raised when a requested repository path does not exist.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PathNotDirectoryError",
      "qualname": "PathNotDirectoryError",
      "kind": "class",
      "public": true,
      "lineno": 252,
      "doc_summary": "Raised when a repository path is expected to be a directory but is not.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "GitOperationError",
      "qualname": "GitOperationError",
      "kind": "class",
      "public": true,
      "lineno": 274,
      "doc_summary": "Base exception for Git operation errors.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    },
    {
      "name": "RuntimeLifecycleError",
      "qualname": "RuntimeLifecycleError",
      "kind": "class",
      "public": true,
      "lineno": 353,
      "doc_summary": "Raised when a runtime fails to initialize or shut down.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RuntimeUnavailableError",
      "qualname": "RuntimeUnavailableError",
      "kind": "class",
      "public": true,
      "lineno": 372,
      "doc_summary": "Raised when a runtime dependency is missing or disabled.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "VectorIndexStateError",
      "qualname": "VectorIndexStateError",
      "kind": "class",
      "public": true,
      "lineno": 395,
      "doc_summary": "Raised when a FAISS index is missing or not ready.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "VectorIndexIncompatibleError",
      "qualname": "VectorIndexIncompatibleError",
      "kind": "class",
      "public": true,
      "lineno": 417,
      "doc_summary": "Raised when FAISS assets (dimension, factory) are incompatible.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CatalogJoinError",
      "qualname": "CatalogJoinError",
      "kind": "class",
      "public": true,
      "lineno": 439,
      "doc_summary": "Raised when DuckDB catalog joins or idmap materialization fails.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 8,
    "cyclomatic": 9,
    "loc": 484
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 14,
  "fan_out": 0,
  "cycle_group": 5,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.321,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 7,
  "recent_churn_90": 7
}
{
  "path": "eval/__init__.py",
  "repo_path": "codeintel_rev/eval/__init__.py",
  "module_name": "codeintel_rev.eval",
  "stable_id": "1cf18b1f529a",
  "docstring": "Evaluation utilities for offline recall diagnostics.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.eval.hybrid_evaluator",
      "names": [
        "EvalReport",
        "HybridPoolEvaluator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.eval.pool_writer",
      "names": [
        "SearchPoolRow",
        "write_pool"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "EvalReport",
    "HybridPoolEvaluator",
    "SearchPoolRow",
    "write_pool"
  ],
  "exports_declared": [
    "EvalReport",
    "HybridPoolEvaluator",
    "SearchPoolRow",
    "write_pool"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Evaluation utilities for offline recall diagnostics.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 9
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 2,
  "cycle_group": 117,
  "imports_internal": [
    "eval/hybrid_evaluator.py",
    "eval/pool_writer.py"
  ],
  "imports_intra_repo": [
    "eval/hybrid_evaluator.py",
    "eval/pool_writer.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.194,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "eval/hybrid_evaluator.py",
  "repo_path": "codeintel_rev/eval/hybrid_evaluator.py",
  "module_name": "codeintel_rev.eval.hybrid_evaluator",
  "stable_id": "01649313fcb3",
  "docstring": "Offline hybrid evaluator with oracle reranking and pool exports.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.eval.pool_writer",
      "names": [
        "Channel",
        "write_pool"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_catalog",
      "names": [
        "DuckDBCatalog",
        "StructureAnnotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.faiss_manager",
      "names": [
        "FAISSManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "SearchPoolRow"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.xtr_manager",
      "names": [
        "XTRIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "XTRIndex",
      "lineno": 23
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 27
    },
    {
      "kind": "class",
      "name": "EvalConfig",
      "lineno": 31
    },
    {
      "kind": "class",
      "name": "EvalReport",
      "lineno": 44
    },
    {
      "kind": "class",
      "name": "_EvalState",
      "lineno": 58
    },
    {
      "kind": "class",
      "name": "HybridPoolEvaluator",
      "lineno": 68
    }
  ],
  "exports": [
    "EvalConfig",
    "EvalReport",
    "HybridPoolEvaluator"
  ],
  "exports_declared": [
    "EvalConfig",
    "EvalReport",
    "HybridPoolEvaluator"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Offline hybrid evaluator with oracle reranking and pool exports.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "XTRIndex",
      "qualname": "XTRIndex",
      "kind": "class",
      "public": true,
      "lineno": 23,
      "doc_summary": "Runtime placeholder for optional XTR dependency.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "EvalConfig",
      "qualname": "EvalConfig",
      "kind": "class",
      "public": true,
      "lineno": 31,
      "doc_summary": "Evaluator configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "EvalReport",
      "qualname": "EvalReport",
      "kind": "class",
      "public": true,
      "lineno": 44,
      "doc_summary": "Summary for an offline ANN vs oracle comparison.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_EvalState",
      "qualname": "_EvalState",
      "kind": "class",
      "public": false,
      "lineno": 58,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HybridPoolEvaluator",
      "qualname": "HybridPoolEvaluator",
      "kind": "class",
      "public": true,
      "lineno": 68,
      "doc_summary": "Compare ANN retrieval against Flat and optional XTR oracles, persisting pools.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 27,
    "cyclomatic": 28,
    "loc": 337
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 6,
  "cycle_group": 72,
  "imports_internal": [
    "eval/pool_writer.py",
    "io/duckdb_catalog.py",
    "io/faiss_manager.py",
    "io/xtr_manager.py",
    "retrieval/types.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "eval/pool_writer.py",
    "io/duckdb_catalog.py",
    "io/faiss_manager.py",
    "io/xtr_manager.py",
    "retrieval/types.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.436,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 8,
  "recent_churn_90": 8
}
{
  "path": "eval/pool_writer.py",
  "repo_path": "codeintel_rev/eval/pool_writer.py",
  "module_name": "codeintel_rev.eval.pool_writer",
  "stable_id": "9bfe2fb6145f",
  "docstring": "Lightweight Parquet writer for evaluator pools.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Literal",
        "Protocol",
        "cast",
        "runtime_checkable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "SearchPoolRow"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow"
      ],
      "aliases": {
        "pyarrow": "pa"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow.parquet"
      ],
      "aliases": {
        "pyarrow.parquet": "pq"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow"
      ],
      "aliases": {
        "pyarrow": "_pyarrow"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow.parquet"
      ],
      "aliases": {
        "pyarrow.parquet": "_pyarrow_parquet"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "pa",
      "lineno": 17
    },
    {
      "kind": "variable",
      "name": "pq",
      "lineno": 18
    },
    {
      "kind": "variable",
      "name": "pa",
      "lineno": 23
    },
    {
      "kind": "variable",
      "name": "pq",
      "lineno": 24
    },
    {
      "kind": "variable",
      "name": "pa",
      "lineno": 26
    },
    {
      "kind": "variable",
      "name": "pq",
      "lineno": 27
    },
    {
      "kind": "variable",
      "name": "Channel",
      "lineno": 29
    },
    {
      "kind": "class",
      "name": "_SupportsToList",
      "lineno": 42
    },
    {
      "kind": "function",
      "name": "_empty_table",
      "lineno": 62
    },
    {
      "kind": "function",
      "name": "_normalize_meta",
      "lineno": 102
    },
    {
      "kind": "function",
      "name": "write_pool",
      "lineno": 140
    }
  ],
  "exports": [
    "Channel",
    "SearchPoolRow",
    "write_pool"
  ],
  "exports_declared": [
    "Channel",
    "SearchPoolRow",
    "write_pool"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Lightweight Parquet writer for evaluator pools.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_SupportsToList",
      "qualname": "_SupportsToList",
      "kind": "class",
      "public": false,
      "lineno": 42,
      "doc_summary": "Protocol describing array-like objects exposing ``tolist``.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_empty_table",
      "qualname": "_empty_table",
      "kind": "function",
      "public": false,
      "lineno": 62,
      "doc_summary": "Return an empty evaluator table with the expected schema.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_meta",
      "qualname": "_normalize_meta",
      "kind": "function",
      "public": false,
      "lineno": 102,
      "doc_summary": "Return a JSON-serialisable copy of ``meta``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "write_pool",
      "qualname": "write_pool",
      "kind": "function",
      "public": true,
      "lineno": 140,
      "doc_summary": "Write `(query_id, channel, rank, chunk_id, score, uri, ...)` rows to Parquet.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 19,
    "cyclomatic": 20,
    "loc": 215
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 2,
  "cycle_group": 71,
  "imports_internal": [
    "retrieval/types.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "retrieval/types.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.177,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 10,
  "recent_churn_90": 10
}
{
  "path": "evaluation/__init__.py",
  "repo_path": "codeintel_rev/evaluation/__init__.py",
  "module_name": "codeintel_rev.evaluation",
  "stable_id": "1ace9a31fe11",
  "docstring": "Evaluation helpers package.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Evaluation helpers package.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 118,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "evaluation/hybrid_pool.py",
  "repo_path": "codeintel_rev/evaluation/hybrid_pool.py",
  "module_name": "codeintel_rev.evaluation.hybrid_pool",
  "stable_id": "31d70061e9de",
  "docstring": "Feature-normalized hybrid pooling utilities.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "math"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "HITS_ABOVE_THRESH",
        "HYBRID_LAST_MS",
        "HYBRID_RETRIEVE_TOTAL",
        "POOL_SHARE_BM25",
        "POOL_SHARE_FAISS",
        "POOL_SHARE_SPLADE",
        "POOL_SHARE_XTR",
        "RECALL_EST_AT_K"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "Hit",
      "lineno": 32
    },
    {
      "kind": "class",
      "name": "PooledHit",
      "lineno": 42
    },
    {
      "kind": "function",
      "name": "_minmax_norm",
      "lineno": 51
    },
    {
      "kind": "function",
      "name": "_softmax_norm",
      "lineno": 62
    },
    {
      "kind": "class",
      "name": "HybridPoolEvaluator",
      "lineno": 71
    }
  ],
  "exports": [
    "Hit",
    "HybridPoolEvaluator",
    "PooledHit"
  ],
  "exports_declared": [
    "Hit",
    "HybridPoolEvaluator",
    "PooledHit"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Feature-normalized hybrid pooling utilities.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "Hit",
      "qualname": "Hit",
      "kind": "class",
      "public": true,
      "lineno": 32,
      "doc_summary": "Individual retrieval hit provided to the hybrid pool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PooledHit",
      "qualname": "PooledHit",
      "kind": "class",
      "public": true,
      "lineno": 42,
      "doc_summary": "Result after pooling with per-source component scores.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_minmax_norm",
      "qualname": "_minmax_norm",
      "kind": "function",
      "public": false,
      "lineno": 51,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_softmax_norm",
      "qualname": "_softmax_norm",
      "kind": "function",
      "public": false,
      "lineno": 62,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HybridPoolEvaluator",
      "qualname": "HybridPoolEvaluator",
      "kind": "class",
      "public": true,
      "lineno": 71,
      "doc_summary": "Blend multi-channel hits with configurable normalization and weights.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 14,
    "cyclomatic": 15,
    "loc": 177
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 26,
  "imports_internal": [
    "metrics/registry.py"
  ],
  "imports_intra_repo": [
    "metrics/registry.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.818,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "evaluation/offline_recall.py",
  "repo_path": "codeintel_rev/evaluation/offline_recall.py",
  "module_name": "codeintel_rev.evaluation.offline_recall",
  "stable_id": "90d1f817c901",
  "docstring": "Offline recall evaluator leveraging FAISS + DuckDB catalogs.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "EvalConfig",
        "PathsConfig",
        "Settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.faiss_manager",
      "names": [
        "FAISSManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.symbol_catalog",
      "names": [
        "SymbolCatalog",
        "SymbolDefRow"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.vllm_client",
      "names": [
        "VLLMClient"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "OFFLINE_EVAL_QUERY_COUNT",
        "OFFLINE_EVAL_RECALL_AT_K"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ResolvedPaths"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 27
    },
    {
      "kind": "class",
      "name": "EvalQuery",
      "lineno": 31
    },
    {
      "kind": "class",
      "name": "OfflineRecallEvaluator",
      "lineno": 40
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Offline recall evaluator leveraging FAISS + DuckDB catalogs.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "EvalQuery",
      "qualname": "EvalQuery",
      "kind": "class",
      "public": true,
      "lineno": 31,
      "doc_summary": "Single offline evaluation query with known positives.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "OfflineRecallEvaluator",
      "qualname": "OfflineRecallEvaluator",
      "kind": "class",
      "public": true,
      "lineno": 40,
      "doc_summary": "Compute recall@K for FAISS retrieval using curated or synthesized queries.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 25,
    "cyclomatic": 26,
    "loc": 256
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 8,
  "cycle_group": 41,
  "imports_internal": [
    "app/config_context.py",
    "config/settings.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/symbol_catalog.py",
    "io/vllm_client.py",
    "metrics/registry.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "config/settings.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/symbol_catalog.py",
    "io/vllm_client.py",
    "metrics/registry.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.494,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "evaluation/scip_coverage.py",
  "repo_path": "codeintel_rev/evaluation/scip_coverage.py",
  "module_name": "codeintel_rev.evaluation.scip_coverage",
  "stable_id": "5660f0fa062b",
  "docstring": "SCIP symbol coverage evaluator.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Protocol",
        "TypedDict"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "Settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.faiss_manager",
      "names": [
        "SearchRuntimeOverrides"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.symbol_catalog",
      "names": [
        "SymbolCatalog",
        "SymbolDefRow"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "SCIP_CHUNK_COVERAGE_RATIO",
        "SCIP_INDEX_COVERAGE_RATIO",
        "SCIP_RETRIEVAL_COVERAGE_RATIO"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 24
    },
    {
      "kind": "class",
      "name": "SupportsFaissSearch",
      "lineno": 27
    },
    {
      "kind": "class",
      "name": "SupportsEmbedSingle",
      "lineno": 42
    },
    {
      "kind": "class",
      "name": "CoverageResult",
      "lineno": 51
    },
    {
      "kind": "class",
      "name": "CoverageSummary",
      "lineno": 61
    },
    {
      "kind": "class",
      "name": "SCIPCoverageEvaluator",
      "lineno": 71
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "SCIP symbol coverage evaluator.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "SupportsFaissSearch",
      "qualname": "SupportsFaissSearch",
      "kind": "class",
      "public": true,
      "lineno": 27,
      "doc_summary": "Protocol capturing the subset of FAISS search methods required here.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SupportsEmbedSingle",
      "qualname": "SupportsEmbedSingle",
      "kind": "class",
      "public": true,
      "lineno": 42,
      "doc_summary": "Protocol describing embedder behaviour used by the evaluator.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CoverageResult",
      "qualname": "CoverageResult",
      "kind": "class",
      "public": true,
      "lineno": 51,
      "doc_summary": "Container for per-symbol coverage evaluation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CoverageSummary",
      "qualname": "CoverageSummary",
      "kind": "class",
      "public": true,
      "lineno": 61,
      "doc_summary": "Typed summary payload returned by ``SCIPCoverageEvaluator``.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SCIPCoverageEvaluator",
      "qualname": "SCIPCoverageEvaluator",
      "kind": "class",
      "public": true,
      "lineno": 71,
      "doc_summary": "Evaluate chunk/index/retrieval coverage across SCIP function definitions.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 17,
    "cyclomatic": 18,
    "loc": 261
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 6,
  "cycle_group": 61,
  "imports_internal": [
    "config/settings.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/symbol_catalog.py",
    "metrics/registry.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "config/settings.py",
    "io/duckdb_manager.py",
    "io/faiss_manager.py",
    "io/symbol_catalog.py",
    "metrics/registry.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.262,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "export_resolver.py",
  "repo_path": "codeintel_rev/export_resolver.py",
  "module_name": "codeintel_rev.export_resolver",
  "stable_id": "461fd59f450b",
  "docstring": "Resolve exports and re-exports for module records.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.module_utils",
      "names": [
        "import_targets_for_entry",
        "module_name_candidates",
        "normalize_module_name"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "EXPORT_HUB_THRESHOLD",
      "lineno": 15
    },
    {
      "kind": "function",
      "name": "build_module_name_map",
      "lineno": 18
    },
    {
      "kind": "function",
      "name": "resolve_exports",
      "lineno": 44
    },
    {
      "kind": "function",
      "name": "is_reexport_hub",
      "lineno": 97
    },
    {
      "kind": "function",
      "name": "_public_names",
      "lineno": 116
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Resolve exports and re-exports for module records.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "build_module_name_map",
      "qualname": "build_module_name_map",
      "kind": "function",
      "public": true,
      "lineno": 18,
      "doc_summary": "Return mapping of module name  module row for quick lookup.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "resolve_exports",
      "qualname": "resolve_exports",
      "kind": "function",
      "public": true,
      "lineno": 44,
      "doc_summary": "Return exports resolved from star-imports and re-export metadata.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "is_reexport_hub",
      "qualname": "is_reexport_hub",
      "kind": "function",
      "public": true,
      "lineno": 97,
      "doc_summary": "Return True when a module behaves like a re-export hub.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_public_names",
      "qualname": "_public_names",
      "kind": "function",
      "public": false,
      "lineno": 116,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 33,
    "cyclomatic": 34,
    "loc": 134
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 2,
  "cycle_group": 92,
  "imports_internal": [
    "module_utils.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "module_utils.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.168,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "graph_builder.py",
  "repo_path": "codeintel_rev/graph_builder.py",
  "module_name": "codeintel_rev.graph_builder",
  "stable_id": "9d0415fac9ba",
  "docstring": "Import graph builder utilities.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.module_utils",
      "names": [
        "import_targets_for_entry",
        "module_name_candidates",
        "normalize_module_name"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.polars_support",
      "names": [
        "resolve_polars_frame_factory"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "PolarsModule",
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "ImportGraph",
      "lineno": 21
    },
    {
      "kind": "function",
      "name": "build_import_graph",
      "lineno": 30
    },
    {
      "kind": "function",
      "name": "write_import_graph",
      "lineno": 85
    },
    {
      "kind": "function",
      "name": "_tarjan_scc",
      "lineno": 102
    },
    {
      "kind": "function",
      "name": "_write_parquet",
      "lineno": 164
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Import graph builder utilities.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "ImportGraph",
      "qualname": "ImportGraph",
      "kind": "class",
      "public": true,
      "lineno": 21,
      "doc_summary": "Graph representation of intra-repo imports.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "build_import_graph",
      "qualname": "build_import_graph",
      "kind": "function",
      "public": true,
      "lineno": 30,
      "doc_summary": "Build an import graph across repo modules.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "write_import_graph",
      "qualname": "write_import_graph",
      "kind": "function",
      "public": true,
      "lineno": 85,
      "doc_summary": "Write import edges to Parquet (or JSONL fallback).",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_tarjan_scc",
      "qualname": "_tarjan_scc",
      "kind": "function",
      "public": false,
      "lineno": 102,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_parquet",
      "qualname": "_write_parquet",
      "kind": "function",
      "public": false,
      "lineno": 164,
      "doc_summary": "Persist records to Parquet via polars when available.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 26,
    "cyclomatic": 27,
    "loc": 189
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 3,
  "cycle_group": 101,
  "imports_internal": [
    "module_utils.py",
    "polars_support.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "module_utils.py",
    "polars_support.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.19,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 7,
  "recent_churn_90": 7
}
{
  "path": "indexing/__init__.py",
  "repo_path": "codeintel_rev/indexing/__init__.py",
  "module_name": "codeintel_rev.indexing",
  "stable_id": "04925151e784",
  "docstring": "Indexing utilities (SCIP parsing, lifecycle helpers, chunking).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.index_lifecycle",
      "names": [
        "IndexAssets",
        "IndexLifecycleManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "IndexAssets",
    "IndexLifecycleManager"
  ],
  "exports_declared": [
    "IndexAssets",
    "IndexLifecycleManager"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Indexing utilities (SCIP parsing, lifecycle helpers, chunking).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 8
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 1,
  "cycle_group": 119,
  "imports_internal": [
    "indexing/index_lifecycle.py"
  ],
  "imports_intra_repo": [
    "indexing/index_lifecycle.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.032,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "indexing/cast_chunker.py",
  "repo_path": "codeintel_rev/indexing/cast_chunker.py",
  "module_name": "codeintel_rev.indexing.cast_chunker",
  "stable_id": "cbe42cbddfb3",
  "docstring": "cAST chunking using SCIP symbol ranges.\n\nImplements structure-aware chunking using symbol boundaries from SCIP\nrather than tree-sitter parsing. Greedily packs top-level symbols up to\nthe character budget, splitting large symbols on blank lines.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "bisect",
      "names": [
        "bisect_right"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "replace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.scip_reader",
      "names": [
        "Range",
        "SymbolDef"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "Chunk",
      "lineno": 21
    },
    {
      "kind": "class",
      "name": "LineIndex",
      "lineno": 81
    },
    {
      "kind": "function",
      "name": "_utf8_length",
      "lineno": 99
    },
    {
      "kind": "function",
      "name": "line_starts",
      "lineno": 122
    },
    {
      "kind": "function",
      "name": "_line_index_from_byte",
      "lineno": 150
    },
    {
      "kind": "function",
      "name": "_char_index_for_line",
      "lineno": 171
    },
    {
      "kind": "function",
      "name": "range_to_bytes",
      "lineno": 198
    },
    {
      "kind": "class",
      "name": "_ChunkAccumulator",
      "lineno": 226
    },
    {
      "kind": "class",
      "name": "_ChunkBuilder",
      "lineno": 278
    },
    {
      "kind": "function",
      "name": "chunk_file",
      "lineno": 447
    },
    {
      "kind": "class",
      "name": "ChunkOverlapOptions",
      "lineno": 528
    },
    {
      "kind": "class",
      "name": "ChunkOptions",
      "lineno": 538
    },
    {
      "kind": "function",
      "name": "_apply_call_site_overlap",
      "lineno": 546
    }
  ],
  "exports": [
    "Chunk",
    "chunk_file",
    "line_starts",
    "range_to_bytes"
  ],
  "exports_declared": [
    "Chunk",
    "chunk_file",
    "line_starts",
    "range_to_bytes"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "cAST chunking using SCIP symbol ranges.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "Chunk",
      "qualname": "Chunk",
      "kind": "class",
      "public": true,
      "lineno": 21,
      "doc_summary": "Code chunk with precise byte and line bounds.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "LineIndex",
      "qualname": "LineIndex",
      "kind": "class",
      "public": true,
      "lineno": 81,
      "doc_summary": "Line start bookkeeping for both character and byte positions.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_utf8_length",
      "qualname": "_utf8_length",
      "kind": "function",
      "public": false,
      "lineno": 99,
      "doc_summary": "Return the UTF-8 encoded length for ``ch``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "line_starts",
      "qualname": "line_starts",
      "kind": "function",
      "public": true,
      "lineno": 122,
      "doc_summary": "Compute character and byte offsets for each line start.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_line_index_from_byte",
      "qualname": "_line_index_from_byte",
      "kind": "function",
      "public": false,
      "lineno": 150,
      "doc_summary": "Return the zero-based line index containing ``byte_offset``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_char_index_for_line",
      "qualname": "_char_index_for_line",
      "kind": "function",
      "public": false,
      "lineno": 171,
      "doc_summary": "Map a line/character pair to an absolute character index.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "range_to_bytes",
      "qualname": "range_to_bytes",
      "kind": "function",
      "public": true,
      "lineno": 198,
      "doc_summary": "Convert line/character range to byte offsets.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_ChunkAccumulator",
      "qualname": "_ChunkAccumulator",
      "kind": "class",
      "public": false,
      "lineno": 226,
      "doc_summary": "Immutable accumulator configuration; delegates mutation to a builder.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ChunkBuilder",
      "qualname": "_ChunkBuilder",
      "kind": "class",
      "public": false,
      "lineno": 278,
      "doc_summary": "Mutable helper that performs chunk assembly for a fixed configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "chunk_file",
      "qualname": "chunk_file",
      "kind": "function",
      "public": true,
      "lineno": 447,
      "doc_summary": "Chunk file using SCIP symbol boundaries.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "ChunkOverlapOptions",
      "qualname": "ChunkOverlapOptions",
      "kind": "class",
      "public": true,
      "lineno": 528,
      "doc_summary": "Configuration for adding call-site overlap snippets.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ChunkOptions",
      "qualname": "ChunkOptions",
      "kind": "class",
      "public": true,
      "lineno": 538,
      "doc_summary": "Chunk generation configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_apply_call_site_overlap",
      "qualname": "_apply_call_site_overlap",
      "kind": "function",
      "public": false,
      "lineno": 546,
      "doc_summary": "Add call-site overlap snippets to chunks.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 37,
    "cyclomatic": 38,
    "loc": 622
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 2,
  "cycle_group": 32,
  "imports_internal": [
    "indexing/scip_reader.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "indexing/scip_reader.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.362,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 13,
  "recent_churn_90": 13
}
{
  "path": "indexing/chunk_ids.py",
  "repo_path": "codeintel_rev/indexing/chunk_ids.py",
  "module_name": "codeintel_rev.indexing.chunk_ids",
  "stable_id": "a23cad0af27c",
  "docstring": "Deterministic chunk identifier helpers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hashlib",
      "names": [
        "blake2b"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "stable_chunk_id",
      "lineno": 12
    }
  ],
  "exports": [
    "stable_chunk_id"
  ],
  "exports_declared": [
    "stable_chunk_id"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Deterministic chunk identifier helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "stable_chunk_id",
      "qualname": "stable_chunk_id",
      "kind": "function",
      "public": true,
      "lineno": 12,
      "doc_summary": "Return a deterministic signed 64-bit chunk identifier.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 53
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 0,
  "cycle_group": 33,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.24,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "indexing/index_lifecycle.py",
  "repo_path": "codeintel_rev/indexing/index_lifecycle.py",
  "module_name": "codeintel_rev.indexing.index_lifecycle",
  "stable_id": "e830565e2f51",
  "docstring": "Index lifecycle management for FAISS/DuckDB/SCIP artifacts.\n\nThis module provides a small, platform-agnostic manager that stages new index\nversions, publishes them atomically, and exposes helpers used by the FastAPI\napp, CLI, and admin endpoints. Versions are stored under a common ``base_dir``\nwith the following layout::\n\n    base_dir/\n        versions/<version>/...\n        versions/<version>.staging/...\n        CURRENT          # text file with the active version id\n        current -> versions/<version>  (best-effort symlink)\n\nThe manager does not mutate the application configuration; instead it flips the\n``CURRENT`` pointer (and optional ``current`` symlink). Runtime components read\nthrough stable paths such as ``.../current/faiss.index`` and reload when\n``ApplicationContext.reload_indices()`` closes their runtime cells.\n",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "contextlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "hashlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "shutil"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "RuntimeLifecycleError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 35
    },
    {
      "kind": "variable",
      "name": "MANIFEST_FILE",
      "lineno": 37
    },
    {
      "kind": "variable",
      "name": "IDMAP_FILE",
      "lineno": 38
    },
    {
      "kind": "variable",
      "name": "PROFILE_FILE",
      "lineno": 39
    },
    {
      "kind": "class",
      "name": "LuceneAssets",
      "lineno": 46
    },
    {
      "kind": "function",
      "name": "link_current_lucene",
      "lineno": 66
    },
    {
      "kind": "class",
      "name": "IndexAssets",
      "lineno": 79
    },
    {
      "kind": "function",
      "name": "_file_checksum",
      "lineno": 121
    },
    {
      "kind": "function",
      "name": "_read_json",
      "lineno": 131
    },
    {
      "kind": "function",
      "name": "collect_asset_attrs",
      "lineno": 138
    },
    {
      "kind": "function",
      "name": "_attrs_from_meta",
      "lineno": 172
    },
    {
      "kind": "function",
      "name": "_attrs_from_idmap",
      "lineno": 195
    },
    {
      "kind": "function",
      "name": "_attrs_from_tuning",
      "lineno": 201
    },
    {
      "kind": "class",
      "name": "VersionMeta",
      "lineno": 222
    },
    {
      "kind": "class",
      "name": "IndexLifecycleManager",
      "lineno": 247
    }
  ],
  "exports": [
    "IndexAssets",
    "IndexLifecycleManager",
    "LuceneAssets",
    "VersionMeta",
    "collect_asset_attrs",
    "link_current_lucene"
  ],
  "exports_declared": [
    "IndexAssets",
    "IndexLifecycleManager",
    "LuceneAssets",
    "VersionMeta",
    "collect_asset_attrs",
    "link_current_lucene"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Index lifecycle management for FAISS/DuckDB/SCIP artifacts.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "LuceneAssets",
      "qualname": "LuceneAssets",
      "kind": "class",
      "public": true,
      "lineno": 46,
      "doc_summary": "Lucene index directories that should flip atomically.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "link_current_lucene",
      "qualname": "link_current_lucene",
      "kind": "function",
      "public": true,
      "lineno": 66,
      "doc_summary": "Copy Lucene assets into a version directory and flip the CURRENT pointer.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "IndexAssets",
      "qualname": "IndexAssets",
      "kind": "class",
      "public": true,
      "lineno": 79,
      "doc_summary": "File-system assets that must advance together for one index version.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_file_checksum",
      "qualname": "_file_checksum",
      "kind": "function",
      "public": false,
      "lineno": 121,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_read_json",
      "qualname": "_read_json",
      "kind": "function",
      "public": false,
      "lineno": 131,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "collect_asset_attrs",
      "qualname": "collect_asset_attrs",
      "kind": "function",
      "public": true,
      "lineno": 138,
      "doc_summary": "Return manifest attributes derived from staged asset sidecars.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_attrs_from_meta",
      "qualname": "_attrs_from_meta",
      "kind": "function",
      "public": false,
      "lineno": 172,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_attrs_from_idmap",
      "qualname": "_attrs_from_idmap",
      "kind": "function",
      "public": false,
      "lineno": 195,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_attrs_from_tuning",
      "qualname": "_attrs_from_tuning",
      "kind": "function",
      "public": false,
      "lineno": 201,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "VersionMeta",
      "qualname": "VersionMeta",
      "kind": "class",
      "public": true,
      "lineno": 222,
      "doc_summary": "Metadata recorded for each version directory.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "IndexLifecycleManager",
      "qualname": "IndexLifecycleManager",
      "kind": "class",
      "public": true,
      "lineno": 247,
      "doc_summary": "Manage staged/published index versions under a base directory.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 71,
    "cyclomatic": 72,
    "loc": 761
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 5,
  "fan_out": 2,
  "cycle_group": 37,
  "imports_internal": [
    "errors.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "errors.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.665,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 10,
  "recent_churn_90": 10
}
{
  "path": "indexing/scip_reader.py",
  "repo_path": "codeintel_rev/indexing/scip_reader.py",
  "module_name": "codeintel_rev.indexing.scip_reader",
  "stable_id": "18b9d49bc4cc",
  "docstring": "SCIP index reader for extracting symbol definitions and ranges.\n\nParses index.scip (protobuf) or index.scip.json and extracts symbol definitions\nwith precise ranges for chunking and code intelligence.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "RANGE_TUPLE_LENGTH",
      "lineno": 21
    },
    {
      "kind": "function",
      "name": "_range_from_list",
      "lineno": 24
    },
    {
      "kind": "function",
      "name": "_parse_occurrence",
      "lineno": 36
    },
    {
      "kind": "class",
      "name": "Range",
      "lineno": 66
    },
    {
      "kind": "class",
      "name": "Occurrence",
      "lineno": 101
    },
    {
      "kind": "class",
      "name": "Document",
      "lineno": 134
    },
    {
      "kind": "class",
      "name": "SCIPIndex",
      "lineno": 166
    },
    {
      "kind": "class",
      "name": "SymbolDef",
      "lineno": 189
    },
    {
      "kind": "function",
      "name": "parse_scip_json",
      "lineno": 225
    },
    {
      "kind": "function",
      "name": "extract_definitions",
      "lineno": 289
    },
    {
      "kind": "function",
      "name": "get_top_level_definitions",
      "lineno": 339
    }
  ],
  "exports": [
    "Document",
    "Occurrence",
    "Range",
    "SCIPIndex",
    "SymbolDef",
    "extract_definitions",
    "get_top_level_definitions",
    "parse_scip_json"
  ],
  "exports_declared": [
    "Document",
    "Occurrence",
    "Range",
    "SCIPIndex",
    "SymbolDef",
    "extract_definitions",
    "get_top_level_definitions",
    "parse_scip_json"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "SCIP index reader for extracting symbol definitions and ranges.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_range_from_list",
      "qualname": "_range_from_list",
      "kind": "function",
      "public": false,
      "lineno": 24,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parse_occurrence",
      "qualname": "_parse_occurrence",
      "kind": "function",
      "public": false,
      "lineno": 36,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Range",
      "qualname": "Range",
      "kind": "class",
      "public": true,
      "lineno": 66,
      "doc_summary": "Source code range with line and character positions.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Occurrence",
      "qualname": "Occurrence",
      "kind": "class",
      "public": true,
      "lineno": 101,
      "doc_summary": "Symbol occurrence in source code.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Document",
      "qualname": "Document",
      "kind": "class",
      "public": true,
      "lineno": 134,
      "doc_summary": "SCIP document representing a source file.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SCIPIndex",
      "qualname": "SCIPIndex",
      "kind": "class",
      "public": true,
      "lineno": 166,
      "doc_summary": "SCIP index containing all indexed documents.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SymbolDef",
      "qualname": "SymbolDef",
      "kind": "class",
      "public": true,
      "lineno": 189,
      "doc_summary": "Extracted symbol definition with location information.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "parse_scip_json",
      "qualname": "parse_scip_json",
      "kind": "function",
      "public": true,
      "lineno": 225,
      "doc_summary": "Parse SCIP index from JSON export.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "extract_definitions",
      "qualname": "extract_definitions",
      "kind": "function",
      "public": true,
      "lineno": 289,
      "doc_summary": "Extract symbol definitions from SCIP index.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "get_top_level_definitions",
      "qualname": "get_top_level_definitions",
      "kind": "function",
      "public": true,
      "lineno": 339,
      "doc_summary": "Filter to top-level definitions (not nested inside others).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 33,
    "cyclomatic": 34,
    "loc": 422
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 1,
  "cycle_group": 31,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.168,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "indexing/xtr_build.py",
  "repo_path": "codeintel_rev/indexing/xtr_build.py",
  "module_name": "codeintel_rev.indexing.xtr_build",
  "stable_id": "35ef8c55b369",
  "docstring": "Utilities for building and verifying XTR token indexes.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "resolve_application_paths"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "Settings",
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_catalog",
      "names": [
        "DuckDBCatalog"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.xtr_manager",
      "names": [
        "XTRIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayAny"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "np",
      "lineno": 22
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 24
    },
    {
      "kind": "class",
      "name": "XTRBuildSummary",
      "lineno": 28
    },
    {
      "kind": "function",
      "name": "_iter_chunk_text",
      "lineno": 39
    },
    {
      "kind": "function",
      "name": "_gather_chunk_vectors",
      "lineno": 86
    },
    {
      "kind": "function",
      "name": "_write_token_matrix",
      "lineno": 157
    },
    {
      "kind": "function",
      "name": "build_xtr_index",
      "lineno": 227
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 330
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Utilities for building and verifying XTR token indexes.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "XTRBuildSummary",
      "qualname": "XTRBuildSummary",
      "kind": "class",
      "public": true,
      "lineno": 28,
      "doc_summary": "Metadata describing a freshly built XTR token index.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_iter_chunk_text",
      "qualname": "_iter_chunk_text",
      "kind": "function",
      "public": false,
      "lineno": 39,
      "doc_summary": "Yield (chunk_id, content) pairs from the DuckDB catalog.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_gather_chunk_vectors",
      "qualname": "_gather_chunk_vectors",
      "kind": "function",
      "public": false,
      "lineno": 86,
      "doc_summary": "Collect encoded vectors and offsets for all chunks.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_write_token_matrix",
      "qualname": "_write_token_matrix",
      "kind": "function",
      "public": false,
      "lineno": 157,
      "doc_summary": "Persist buffered token vectors to memmap storage.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "build_xtr_index",
      "qualname": "build_xtr_index",
      "kind": "function",
      "public": true,
      "lineno": 227,
      "doc_summary": "Build XTR token artifacts from DuckDB chunks.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 330,
      "doc_summary": "Entry point allowing ``python -m codeintel_rev.indexing.xtr_build``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 18,
    "cyclomatic": 19,
    "loc": 346
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 6,
  "cycle_group": 76,
  "imports_internal": [
    "_lazy_imports.py",
    "app/config_context.py",
    "config/settings.py",
    "io/duckdb_catalog.py",
    "io/xtr_manager.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "app/config_context.py",
    "config/settings.py",
    "io/duckdb_catalog.py",
    "io/xtr_manager.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.277,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 7,
  "recent_churn_90": 7
}
{
  "path": "io/__init__.py",
  "repo_path": "codeintel_rev/io/__init__.py",
  "module_name": "codeintel_rev.io",
  "stable_id": "c80508e8fac3",
  "docstring": "Storage and external service adapters for CodeIntel MCP.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib",
      "names": [
        "import_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.bm25_manager",
      "names": [
        "BM25CorpusMetadata",
        "BM25CorpusSummary",
        "BM25IndexManager",
        "BM25IndexMetadata"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.hybrid_search",
      "names": [
        "HybridResultDoc",
        "HybridSearchEngine",
        "HybridSearchResult"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.splade_manager",
      "names": [
        "SpladeArtifactMetadata",
        "SpladeArtifactsManager",
        "SpladeBenchmarkOptions",
        "SpladeBenchmarkSummary",
        "SpladeBuildOptions",
        "SpladeEncodeOptions",
        "SpladeEncodingMetadata",
        "SpladeEncodingSummary",
        "SpladeExportOptions",
        "SpladeExportSummary",
        "SpladeIndexManager",
        "SpladeIndexMetadata"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "__getattr__",
      "lineno": 80
    },
    {
      "kind": "function",
      "name": "__dir__",
      "lineno": 109
    }
  ],
  "exports": [
    "BM25CorpusMetadata",
    "BM25CorpusSummary",
    "BM25IndexManager",
    "BM25IndexMetadata",
    "HybridResultDoc",
    "HybridSearchEngine",
    "HybridSearchResult",
    "SpladeArtifactMetadata",
    "SpladeArtifactsManager",
    "SpladeBenchmarkOptions",
    "SpladeBenchmarkSummary",
    "SpladeBuildOptions",
    "SpladeEncodeOptions",
    "SpladeEncodingMetadata",
    "SpladeEncodingSummary",
    "SpladeExportOptions",
    "SpladeExportSummary",
    "SpladeIndexManager",
    "SpladeIndexMetadata"
  ],
  "exports_declared": [
    "BM25CorpusMetadata",
    "BM25CorpusSummary",
    "BM25IndexManager",
    "BM25IndexMetadata",
    "HybridResultDoc",
    "HybridSearchEngine",
    "HybridSearchResult",
    "SpladeArtifactMetadata",
    "SpladeArtifactsManager",
    "SpladeBenchmarkOptions",
    "SpladeBenchmarkSummary",
    "SpladeBuildOptions",
    "SpladeEncodeOptions",
    "SpladeEncodingMetadata",
    "SpladeEncodingSummary",
    "SpladeExportOptions",
    "SpladeExportSummary",
    "SpladeIndexManager",
    "SpladeIndexMetadata"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Storage and external service adapters for CodeIntel MCP.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "__getattr__",
      "qualname": "__getattr__",
      "kind": "function",
      "public": false,
      "lineno": 80,
      "doc_summary": "Resolve exports lazily to avoid importing heavy adapter modules at import time.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "__dir__",
      "qualname": "__dir__",
      "kind": "function",
      "public": false,
      "lineno": 109,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 111
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 4,
  "cycle_group": 41,
  "imports_internal": [
    "io/bm25_manager.py",
    "io/hybrid_search.py",
    "io/splade_manager.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "io/bm25_manager.py",
    "io/hybrid_search.py",
    "io/splade_manager.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.741,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "io/bm25_manager.py",
  "repo_path": "codeintel_rev/io/bm25_manager.py",
  "module_name": "codeintel_rev.io.bm25_manager",
  "stable_id": "ff9b786208c3",
  "docstring": "BM25 indexing workflow helpers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "shutil"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "sys"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "hashlib",
      "names": [
        "sha256"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.path_utils",
      "names": [
        "resolve_within_repo"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.subprocess_utils",
      "names": [
        "run_subprocess"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "Settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "GENERATOR_NAME",
      "lineno": 23
    },
    {
      "kind": "variable",
      "name": "CORPUS_METADATA_FILENAME",
      "lineno": 24
    },
    {
      "kind": "variable",
      "name": "INDEX_METADATA_FILENAME",
      "lineno": 25
    },
    {
      "kind": "variable",
      "name": "logger",
      "lineno": 27
    },
    {
      "kind": "class",
      "name": "BM25CorpusMetadata",
      "lineno": 30
    },
    {
      "kind": "class",
      "name": "BM25CorpusSummary",
      "lineno": 40
    },
    {
      "kind": "class",
      "name": "BM25IndexMetadata",
      "lineno": 49
    },
    {
      "kind": "class",
      "name": "BM25BuildOptions",
      "lineno": 63
    },
    {
      "kind": "class",
      "name": "BM25IndexManager",
      "lineno": 75
    },
    {
      "kind": "function",
      "name": "_write_struct",
      "lineno": 307
    },
    {
      "kind": "function",
      "name": "_read_corpus_metadata",
      "lineno": 314
    },
    {
      "kind": "function",
      "name": "_parse_corpus_line",
      "lineno": 346
    },
    {
      "kind": "function",
      "name": "_run_pyserini_index",
      "lineno": 423
    },
    {
      "kind": "function",
      "name": "_detect_pyserini_version",
      "lineno": 428
    },
    {
      "kind": "function",
      "name": "_directory_size",
      "lineno": 444
    }
  ],
  "exports": [
    "BM25BuildOptions",
    "BM25CorpusMetadata",
    "BM25CorpusSummary",
    "BM25IndexManager",
    "BM25IndexMetadata"
  ],
  "exports_declared": [
    "BM25BuildOptions",
    "BM25CorpusMetadata",
    "BM25CorpusSummary",
    "BM25IndexManager",
    "BM25IndexMetadata"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "BM25 indexing workflow helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "BM25CorpusMetadata",
      "qualname": "BM25CorpusMetadata",
      "kind": "class",
      "public": true,
      "lineno": 30,
      "doc_summary": "Metadata describing a prepared BM25 corpus.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "BM25CorpusSummary",
      "qualname": "BM25CorpusSummary",
      "kind": "class",
      "public": true,
      "lineno": 40,
      "doc_summary": "Summary information returned after preparing a corpus.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "BM25IndexMetadata",
      "qualname": "BM25IndexMetadata",
      "kind": "class",
      "public": true,
      "lineno": 49,
      "doc_summary": "Metadata describing a built BM25 index.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "BM25BuildOptions",
      "qualname": "BM25BuildOptions",
      "kind": "class",
      "public": true,
      "lineno": 63,
      "doc_summary": "Options controlling BM25 index builds.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "BM25IndexManager",
      "qualname": "BM25IndexManager",
      "kind": "class",
      "public": true,
      "lineno": 75,
      "doc_summary": "Manage BM25 corpus preparation and Lucene index builds.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_struct",
      "qualname": "_write_struct",
      "kind": "function",
      "public": false,
      "lineno": 307,
      "doc_summary": "Write a msgspec struct to JSON with UTF-8 encoding.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_read_corpus_metadata",
      "qualname": "_read_corpus_metadata",
      "kind": "function",
      "public": false,
      "lineno": 314,
      "doc_summary": "Read corpus metadata from JSON file.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_parse_corpus_line",
      "qualname": "_parse_corpus_line",
      "kind": "function",
      "public": false,
      "lineno": 346,
      "doc_summary": "Parse and validate a JSONL line from the corpus source.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_run_pyserini_index",
      "qualname": "_run_pyserini_index",
      "kind": "function",
      "public": false,
      "lineno": 423,
      "doc_summary": "Execute the Pyserini index command and raise for failures.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_detect_pyserini_version",
      "qualname": "_detect_pyserini_version",
      "kind": "function",
      "public": false,
      "lineno": 428,
      "doc_summary": "Return the installed Pyserini version or ``'unknown'`` if unavailable.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_directory_size",
      "qualname": "_directory_size",
      "kind": "function",
      "public": false,
      "lineno": 444,
      "doc_summary": "Compute total size in bytes for all files beneath a directory.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 39,
    "cyclomatic": 40,
    "loc": 479
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 3,
  "cycle_group": 29,
  "imports_internal": [
    "config/settings.py",
    "io/path_utils.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "config/settings.py",
    "io/path_utils.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.439,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 5,
  "recent_churn_90": 5
}
{
  "path": "io/coderank_embedder.py",
  "repo_path": "codeintel_rev/io/coderank_embedder.py",
  "module_name": "codeintel_rev.io.coderank_embedder",
  "stable_id": "7b84b1efc6ca",
  "docstring": "Pooled wrapper around the CodeRank embedding SentenceTransformer.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "threading"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "ClassVar",
        "Protocol",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32",
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "sentence_transformers",
      "names": [
        "SentenceTransformer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "np",
      "lineno": 17
    },
    {
      "kind": "variable",
      "name": "SentenceTransformer",
      "lineno": 18
    },
    {
      "kind": "class",
      "name": "SupportsCodeRankSettings",
      "lineno": 21
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 55
    },
    {
      "kind": "class",
      "name": "CodeRankEmbedder",
      "lineno": 58
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Pooled wrapper around the CodeRank embedding SentenceTransformer.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "SupportsCodeRankSettings",
      "qualname": "SupportsCodeRankSettings",
      "kind": "class",
      "public": true,
      "lineno": 21,
      "doc_summary": "Protocol describing the minimal settings required by the embedder.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CodeRankEmbedder",
      "qualname": "CodeRankEmbedder",
      "kind": "class",
      "public": true,
      "lineno": 58,
      "doc_summary": "Encode queries or code snippets with the CodeRank bi-encoder.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 8,
    "cyclomatic": 9,
    "loc": 177
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 2,
  "cycle_group": 120,
  "imports_internal": [
    "_lazy_imports.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.677,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "io/duckdb_catalog.py",
  "repo_path": "codeintel_rev/io/duckdb_catalog.py",
  "module_name": "codeintel_rev.io.duckdb_catalog",
  "stable_id": "dda194a0d4fd",
  "docstring": "DuckDB catalog for querying Parquet chunks.\n\nProvides SQL views over Parquet directories and query helpers for fast\nchunk retrieval and joins.\n",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "hashlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Iterator",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager",
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "glob",
      "names": [
        "glob"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "Lock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "ClassVar",
        "Self",
        "TypedDict",
        "Unpack",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager",
        "DuckDBQueryBuilder",
        "DuckDBQueryOptions"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.parquet_store",
      "names": [
        "extract_embeddings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.scope_utils",
      "names": [
        "LANGUAGE_EXTENSIONS",
        "path_matches_glob"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline",
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.otel_metrics",
      "names": [
        "build_histogram"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.steps",
      "names": [
        "StepEvent",
        "emit_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "duckdb"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "duckdb",
      "lineno": 45
    },
    {
      "kind": "variable",
      "name": "np",
      "lineno": 46
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 48
    },
    {
      "kind": "class",
      "name": "IdMapMeta",
      "lineno": 52
    },
    {
      "kind": "class",
      "name": "_ScopeFilterLogInfo",
      "lineno": 62
    },
    {
      "kind": "function",
      "name": "_log_extra",
      "lineno": 71
    },
    {
      "kind": "class",
      "name": "_ScopeFilterSpec",
      "lineno": 145
    },
    {
      "kind": "class",
      "name": "StructureAnnotations",
      "lineno": 162
    },
    {
      "kind": "class",
      "name": "DuckDBCatalogOptions",
      "lineno": 172
    },
    {
      "kind": "class",
      "name": "_DuckDBQueryMixin",
      "lineno": 181
    },
    {
      "kind": "class",
      "name": "_LegacyOptions",
      "lineno": 456
    },
    {
      "kind": "class",
      "name": "DuckDBCatalog",
      "lineno": 463
    },
    {
      "kind": "function",
      "name": "_relation_exists",
      "lineno": 1725
    },
    {
      "kind": "function",
      "name": "relation_exists",
      "lineno": 1759
    },
    {
      "kind": "function",
      "name": "_file_checksum",
      "lineno": 1777
    },
    {
      "kind": "function",
      "name": "_parquet_hash",
      "lineno": 1799
    },
    {
      "kind": "function",
      "name": "ensure_faiss_idmap_view",
      "lineno": 1827
    },
    {
      "kind": "function",
      "name": "refresh_faiss_idmap_materialized",
      "lineno": 1874
    }
  ],
  "exports": [
    "DuckDBCatalog",
    "IdMapMeta",
    "StructureAnnotations",
    "ensure_faiss_idmap_view",
    "refresh_faiss_idmap_materialized",
    "relation_exists"
  ],
  "exports_declared": [
    "DuckDBCatalog",
    "IdMapMeta",
    "StructureAnnotations",
    "ensure_faiss_idmap_view",
    "refresh_faiss_idmap_materialized",
    "relation_exists"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "DuckDB catalog for querying Parquet chunks.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "IdMapMeta",
      "qualname": "IdMapMeta",
      "kind": "class",
      "public": true,
      "lineno": 52,
      "doc_summary": "Metadata describing a materialized FAISS ID map join.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ScopeFilterLogInfo",
      "qualname": "_ScopeFilterLogInfo",
      "kind": "class",
      "public": false,
      "lineno": 62,
      "doc_summary": "Container for scope filter logging inputs.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_log_extra",
      "qualname": "_log_extra",
      "kind": "function",
      "public": false,
      "lineno": 71,
      "doc_summary": "Return structured log extras for catalog events.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_ScopeFilterSpec",
      "qualname": "_ScopeFilterSpec",
      "kind": "class",
      "public": false,
      "lineno": 145,
      "doc_summary": "Structured scope filter metadata used during scoped queries.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "StructureAnnotations",
      "qualname": "StructureAnnotations",
      "kind": "class",
      "public": true,
      "lineno": 162,
      "doc_summary": "Structure-aware metadata joined onto explainability pools.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "DuckDBCatalogOptions",
      "qualname": "DuckDBCatalogOptions",
      "kind": "class",
      "public": true,
      "lineno": 172,
      "doc_summary": "Optional configuration bundle for DuckDB catalog instantiation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_DuckDBQueryMixin",
      "qualname": "_DuckDBQueryMixin",
      "kind": "class",
      "public": false,
      "lineno": 181,
      "doc_summary": "Chunk-level query helpers shared by :class:`DuckDBCatalog`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_LegacyOptions",
      "qualname": "_LegacyOptions",
      "kind": "class",
      "public": false,
      "lineno": 456,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "DuckDBCatalog",
      "qualname": "DuckDBCatalog",
      "kind": "class",
      "public": true,
      "lineno": 463,
      "doc_summary": "DuckDB catalog for querying chunks.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_relation_exists",
      "qualname": "_relation_exists",
      "kind": "function",
      "public": false,
      "lineno": 1725,
      "doc_summary": "Return True when a table or view with ``name`` exists in the main schema.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "relation_exists",
      "qualname": "relation_exists",
      "kind": "function",
      "public": true,
      "lineno": 1759,
      "doc_summary": "Public helper returning True when a DuckDB relation exists.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_file_checksum",
      "qualname": "_file_checksum",
      "kind": "function",
      "public": false,
      "lineno": 1777,
      "doc_summary": "Return SHA-256 checksum for ``path``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_parquet_hash",
      "qualname": "_parquet_hash",
      "kind": "function",
      "public": false,
      "lineno": 1799,
      "doc_summary": "Return SHA256 checksum for the Parquet file at ``path``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "ensure_faiss_idmap_view",
      "qualname": "ensure_faiss_idmap_view",
      "kind": "function",
      "public": true,
      "lineno": 1827,
      "doc_summary": "Register ``v_faiss_join`` by joining FAISS ID map and chunk metadata.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "refresh_faiss_idmap_materialized",
      "qualname": "refresh_faiss_idmap_materialized",
      "kind": "function",
      "public": true,
      "lineno": 1874,
      "doc_summary": "Materialize ``v_faiss_join`` into ``faiss_idmap_mat`` with checksum guard.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": true
  },
  "raises": [],
  "complexity": {
    "branches": 160,
    "cyclomatic": 161,
    "loc": 1973
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 9,
  "fan_out": 11,
  "cycle_group": 41,
  "imports_internal": [
    "_lazy_imports.py",
    "io/duckdb_manager.py",
    "io/parquet_store.py",
    "mcp_server/scope_utils.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/decorators.py",
    "telemetry/otel_metrics.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "io/duckdb_manager.py",
    "io/parquet_store.py",
    "mcp_server/scope_utils.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/decorators.py",
    "telemetry/otel_metrics.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.291,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 46,
  "recent_churn_90": 46
}
{
  "path": "io/duckdb_manager.py",
  "repo_path": "codeintel_rev/io/duckdb_manager.py",
  "module_name": "codeintel_rev.io.duckdb_manager",
  "stable_id": "81dbae7161c0",
  "docstring": "Thread-safe DuckDB connection manager.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterator",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager",
        "nullcontext",
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "queue",
      "names": [
        "Empty",
        "Full",
        "LifoQueue"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "Lock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "DUCKDB_EXECUTE_SECONDS"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "as_span",
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "duckdb"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "duckdb",
      "lineno": 23
    },
    {
      "kind": "class",
      "name": "DuckDBConfig",
      "lineno": 29
    },
    {
      "kind": "class",
      "name": "_InstrumentedDuckDBConnection",
      "lineno": 57
    },
    {
      "kind": "class",
      "name": "DuckDBManager",
      "lineno": 175
    },
    {
      "kind": "class",
      "name": "DuckDBQueryOptions",
      "lineno": 313
    },
    {
      "kind": "class",
      "name": "DuckDBQueryBuilder",
      "lineno": 328
    }
  ],
  "exports": [
    "DuckDBConfig",
    "DuckDBManager",
    "DuckDBQueryBuilder",
    "DuckDBQueryOptions"
  ],
  "exports_declared": [
    "DuckDBConfig",
    "DuckDBManager",
    "DuckDBQueryBuilder",
    "DuckDBQueryOptions"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Thread-safe DuckDB connection manager.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "DuckDBConfig",
      "qualname": "DuckDBConfig",
      "kind": "class",
      "public": true,
      "lineno": 29,
      "doc_summary": "Configuration parameters controlling DuckDB connections.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_InstrumentedDuckDBConnection",
      "qualname": "_InstrumentedDuckDBConnection",
      "kind": "class",
      "public": false,
      "lineno": 57,
      "doc_summary": "Proxy connection that instruments DuckDB execute calls.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "DuckDBManager",
      "qualname": "DuckDBManager",
      "kind": "class",
      "public": true,
      "lineno": 175,
      "doc_summary": "Factory for DuckDB connections with consistent pragmas.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "DuckDBQueryOptions",
      "qualname": "DuckDBQueryOptions",
      "kind": "class",
      "public": true,
      "lineno": 313,
      "doc_summary": "Options controlling DuckDB query generation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "DuckDBQueryBuilder",
      "qualname": "DuckDBQueryBuilder",
      "kind": "class",
      "public": true,
      "lineno": 328,
      "doc_summary": "Helper for building parameterized DuckDB queries with scope filters.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": true
  },
  "raises": [],
  "complexity": {
    "branches": 54,
    "cyclomatic": 55,
    "loc": 520
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 10,
  "fan_out": 6,
  "cycle_group": 16,
  "imports_internal": [
    "_lazy_imports.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.887,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 9,
  "recent_churn_90": 9
}
{
  "path": "io/faiss_dual_index.py",
  "repo_path": "codeintel_rev/io/faiss_dual_index.py",
  "module_name": "codeintel_rev.io.faiss_dual_index",
  "stable_id": "71b51388e99b",
  "docstring": "FAISS dual-index utilities and metadata helpers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "asdict",
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32",
        "NDArrayI64"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "faiss"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "IndexConfig"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "np",
      "lineno": 24
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 26
    },
    {
      "kind": "class",
      "name": "IndexManifest",
      "lineno": 32
    },
    {
      "kind": "class",
      "name": "FAISSDualIndexManager",
      "lineno": 89
    }
  ],
  "exports": [
    "FAISSDualIndexManager",
    "IndexManifest"
  ],
  "exports_declared": [
    "FAISSDualIndexManager",
    "IndexManifest"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "FAISS dual-index utilities and metadata helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "IndexManifest",
      "qualname": "IndexManifest",
      "kind": "class",
      "public": true,
      "lineno": 32,
      "doc_summary": "Persisted metadata for FAISS dual-index deployments.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FAISSDualIndexManager",
      "qualname": "FAISSDualIndexManager",
      "kind": "class",
      "public": true,
      "lineno": 89,
      "doc_summary": "Manage dual FAISS indexes with CPU/GPU coordination.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 70,
    "cyclomatic": 71,
    "loc": 645
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 3,
  "cycle_group": 121,
  "imports_internal": [
    "_lazy_imports.py",
    "config/settings.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "config/settings.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.384,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 12,
  "recent_churn_90": 12
}
{
  "path": "io/faiss_manager.py",
  "repo_path": "codeintel_rev/io/faiss_manager.py",
  "module_name": "codeintel_rev.io.faiss_manager",
  "stable_id": "8aee69fdfa8a",
  "docstring": "FAISS manager for GPU-accelerated vector search.\n\nManages adaptive FAISS indexes (Flat, IVFFlat, or IVF-PQ) with cuVS acceleration,\nCPU persistence, and GPU cloning. Index type is automatically selected based on\ncorpus size for optimal performance.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "math"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "numbers",
      "names": [
        "Integral",
        "Real"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "RLock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "VectorIndexIncompatibleError",
        "VectorIndexStateError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_catalog",
      "names": [
        "DuckDBCatalog"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "FAISS_ANN_LATENCY_SECONDS",
        "FAISS_BUILD_SECONDS_LAST",
        "FAISS_BUILD_TOTAL",
        "FAISS_INDEX_CODE_SIZE_BYTES",
        "FAISS_INDEX_CUVS_ENABLED",
        "FAISS_INDEX_DIM",
        "FAISS_INDEX_GPU_ENABLED",
        "FAISS_INDEX_SIZE_VECTORS",
        "FAISS_POSTFILTER_DENSITY",
        "FAISS_REFINE_KEPT_RATIO",
        "FAISS_REFINE_LATENCY_SECONDS",
        "FAISS_SEARCH_ERRORS_TOTAL",
        "FAISS_SEARCH_LAST_K",
        "FAISS_SEARCH_LAST_MS",
        "FAISS_SEARCH_LATENCY_SECONDS",
        "FAISS_SEARCH_NPROBE",
        "FAISS_SEARCH_TOTAL",
        "HNSW_SEARCH_EF",
        "set_compile_flags_id",
        "set_factory_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline",
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.rerank_flat",
      "names": [
        "FlatReranker"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "SearchHit"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.steps",
      "names": [
        "StepEvent",
        "emit_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32",
        "NDArrayI64",
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "VectorSearchError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "faiss"
      ],
      "aliases": {
        "faiss": "_faiss"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow"
      ],
      "aliases": {
        "pyarrow": "pa"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow.parquet"
      ],
      "aliases": {
        "pyarrow.parquet": "pq"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "FaissIndex",
      "lineno": 65
    },
    {
      "kind": "variable",
      "name": "np",
      "lineno": 67
    },
    {
      "kind": "variable",
      "name": "FaissIndex",
      "lineno": 68
    },
    {
      "kind": "variable",
      "name": "pa",
      "lineno": 74
    },
    {
      "kind": "variable",
      "name": "pq",
      "lineno": 75
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 77
    },
    {
      "kind": "variable",
      "name": "logger",
      "lineno": 78
    },
    {
      "kind": "class",
      "name": "_LazyFaissProxy",
      "lineno": 81
    },
    {
      "kind": "variable",
      "name": "faiss",
      "lineno": 125
    },
    {
      "kind": "function",
      "name": "_faiss_module",
      "lineno": 128
    },
    {
      "kind": "function",
      "name": "_has_faiss_gpu_support",
      "lineno": 139
    },
    {
      "kind": "function",
      "name": "apply_parameters",
      "lineno": 155
    },
    {
      "kind": "function",
      "name": "_log_extra",
      "lineno": 212
    },
    {
      "kind": "class",
      "name": "FAISSRuntimeOptions",
      "lineno": 230
    },
    {
      "kind": "class",
      "name": "SearchRuntimeOverrides",
      "lineno": 251
    },
    {
      "kind": "class",
      "name": "RefineSearchConfig",
      "lineno": 260
    },
    {
      "kind": "class",
      "name": "_TuningOverrides",
      "lineno": 269
    },
    {
      "kind": "class",
      "name": "_SearchExecutionParams",
      "lineno": 280
    },
    {
      "kind": "class",
      "name": "_SearchPlan",
      "lineno": 290
    },
    {
      "kind": "class",
      "name": "_FAISSIdMapMixin",
      "lineno": 300
    },
    {
      "kind": "class",
      "name": "FAISSManager",
      "lineno": 477
    },
    {
      "kind": "class",
      "name": "AutoTuner",
      "lineno": 3717
    },
    {
      "kind": "function",
      "name": "_coerce_to_int",
      "lineno": 3847
    },
    {
      "kind": "function",
      "name": "_configure_direct_map",
      "lineno": 3870
    },
    {
      "kind": "function",
      "name": "_set_direct_map_type",
      "lineno": 3878
    },
    {
      "kind": "function",
      "name": "_wrap_bool_contains",
      "lineno": 3921
    },
    {
      "kind": "function",
      "name": "_wrap_index_contains",
      "lineno": 3957
    },
    {
      "kind": "function",
      "name": "_coerce_optional_int",
      "lineno": 3995
    },
    {
      "kind": "function",
      "name": "_coerce_optional_float",
      "lineno": 4029
    },
    {
      "kind": "function",
      "name": "_parse_tuning_overrides",
      "lineno": 4063
    },
    {
      "kind": "function",
      "name": "_persist_tuning_profile",
      "lineno": 4089
    },
    {
      "kind": "function",
      "name": "_get_compile_options",
      "lineno": 4101
    }
  ],
  "exports": [
    "AutoTuner",
    "FAISSManager",
    "apply_parameters"
  ],
  "exports_declared": [
    "AutoTuner",
    "FAISSManager",
    "apply_parameters"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "FAISS manager for GPU-accelerated vector search.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_LazyFaissProxy",
      "qualname": "_LazyFaissProxy",
      "kind": "class",
      "public": false,
      "lineno": 81,
      "doc_summary": "Deferred FAISS module loader to avoid import-time side effects.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_faiss_module",
      "qualname": "_faiss_module",
      "kind": "function",
      "public": false,
      "lineno": 128,
      "doc_summary": "Return the lazily imported FAISS module.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_has_faiss_gpu_support",
      "qualname": "_has_faiss_gpu_support",
      "kind": "function",
      "public": false,
      "lineno": 139,
      "doc_summary": "Return ``True`` when FAISS exposes GPU bindings, otherwise ``False``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "apply_parameters",
      "qualname": "apply_parameters",
      "kind": "function",
      "public": true,
      "lineno": 155,
      "doc_summary": "Apply a FAISS ParameterSpace string to ``index``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_log_extra",
      "qualname": "_log_extra",
      "kind": "function",
      "public": false,
      "lineno": 212,
      "doc_summary": "Build structured logging extras for FAISS manager events.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "FAISSRuntimeOptions",
      "qualname": "FAISSRuntimeOptions",
      "kind": "class",
      "public": true,
      "lineno": 230,
      "doc_summary": "Runtime tuning options passed to :class:`FAISSManager`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchRuntimeOverrides",
      "qualname": "SearchRuntimeOverrides",
      "kind": "class",
      "public": true,
      "lineno": 251,
      "doc_summary": "Per-search overrides for HNSW/quantizer parameters.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RefineSearchConfig",
      "qualname": "RefineSearchConfig",
      "kind": "class",
      "public": true,
      "lineno": 260,
      "doc_summary": "Configuration bundle for refine searches.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_TuningOverrides",
      "qualname": "_TuningOverrides",
      "kind": "class",
      "public": false,
      "lineno": 269,
      "doc_summary": "Normalized tuning overrides extracted from a profile payload.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SearchExecutionParams",
      "qualname": "_SearchExecutionParams",
      "kind": "class",
      "public": false,
      "lineno": 280,
      "doc_summary": "Runtime parameters applied during dual search execution.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SearchPlan",
      "qualname": "_SearchPlan",
      "kind": "class",
      "public": false,
      "lineno": 290,
      "doc_summary": "Resolved parameters, query buffer, and timeline metadata for a search.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_FAISSIdMapMixin",
      "qualname": "_FAISSIdMapMixin",
      "kind": "class",
      "public": false,
      "lineno": 300,
      "doc_summary": "Mixin providing ID map export helpers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FAISSManager",
      "qualname": "FAISSManager",
      "kind": "class",
      "public": true,
      "lineno": 477,
      "doc_summary": "FAISS index manager with adaptive indexing, GPU support, and incremental updates.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "AutoTuner",
      "qualname": "AutoTuner",
      "kind": "class",
      "public": true,
      "lineno": 3717,
      "doc_summary": "Evaluate FAISS ParameterSpace candidates for a given manager.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_to_int",
      "qualname": "_coerce_to_int",
      "kind": "function",
      "public": false,
      "lineno": 3847,
      "doc_summary": "Safely round arbitrary objects to integers for index comparisons.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_configure_direct_map",
      "qualname": "_configure_direct_map",
      "kind": "function",
      "public": false,
      "lineno": 3870,
      "doc_summary": "Ensure FAISS direct maps are array-backed for reconstruction.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_set_direct_map_type",
      "qualname": "_set_direct_map_type",
      "kind": "function",
      "public": false,
      "lineno": 3878,
      "doc_summary": "Enable direct map support on FAISS indexes when available.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_wrap_bool_contains",
      "qualname": "_wrap_bool_contains",
      "kind": "function",
      "public": false,
      "lineno": 3921,
      "doc_summary": "Wrap a raw contains function that returns a boolean-like value.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_wrap_index_contains",
      "qualname": "_wrap_index_contains",
      "kind": "function",
      "public": false,
      "lineno": 3957,
      "doc_summary": "Wrap a raw contains function that returns an index position.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_optional_int",
      "qualname": "_coerce_optional_int",
      "kind": "function",
      "public": false,
      "lineno": 3995,
      "doc_summary": "Return ``value`` coerced to int when possible.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_optional_float",
      "qualname": "_coerce_optional_float",
      "kind": "function",
      "public": false,
      "lineno": 4029,
      "doc_summary": "Return ``value`` coerced to float when possible.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_parse_tuning_overrides",
      "qualname": "_parse_tuning_overrides",
      "kind": "function",
      "public": false,
      "lineno": 4063,
      "doc_summary": "Normalize raw profile payload into structured overrides.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_persist_tuning_profile",
      "qualname": "_persist_tuning_profile",
      "kind": "function",
      "public": false,
      "lineno": 4089,
      "doc_summary": "Persist tuning metadata without interrupting the caller.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_get_compile_options",
      "qualname": "_get_compile_options",
      "kind": "function",
      "public": false,
      "lineno": 4101,
      "doc_summary": "Return FAISS compile options for readiness logs.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 262,
    "cyclomatic": 263,
    "loc": 4118
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 8,
  "fan_out": 12,
  "cycle_group": 41,
  "imports_internal": [
    "_lazy_imports.py",
    "errors.py",
    "io/duckdb_catalog.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "retrieval/rerank_flat.py",
    "retrieval/types.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "errors.py",
    "io/duckdb_catalog.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "retrieval/rerank_flat.py",
    "retrieval/types.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.437,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 50,
  "recent_churn_90": 50
}
{
  "path": "io/git_client.py",
  "repo_path": "codeintel_rev/io/git_client.py",
  "module_name": "codeintel_rev.io.git_client",
  "stable_id": "645e198faadc",
  "docstring": "Typed Git operations wrapper using GitPython.\n\nThis module provides typed Python APIs for Git operations (blame, history) using\nGitPython instead of subprocess calls. Benefits include:\n- 50-80ms latency reduction (no subprocess overhead)\n- Structured data returns (no text parsing)\n- Automatic Unicode/locale handling\n- Specific typed exceptions\n- Unit testable (mock git.Repo)\n\nExample Usage\n-------------\nInitialize client with repository path:\n\n>>> from pathlib import Path\n>>> git_client = GitClient(repo_path=Path(\"/path/to/repo\"))\n\nGet blame for line range:\n\n>>> entries = git_client.blame_range(\"src/main.py\", start_line=10, end_line=20)\n>>> for entry in entries:\n...     print(f\"Line {entry['line']}: {entry['author']} - {entry['message']}\")\n\nGet commit history:\n\n>>> commits = git_client.file_history(\"README.md\", limit=10)\n>>> for commit in commits:\n...     print(f\"{commit['sha']}: {commit['message']}\")\n\nAsync wrapper for non-blocking operations:\n\n>>> async_client = AsyncGitClient(git_client)\n>>> entries = await async_client.blame_range(\"src/main.py\", 10, 20)\n\nSee Also\n--------\ncodeintel_rev.mcp_server.adapters.history : Adapters using GitClient\nGitPython documentation : https://gitpython.readthedocs.io/\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field",
        "replace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "git"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "git.exc"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "as_span"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.steps",
      "names": [
        "StepEvent",
        "emit_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "GitBlameEntry"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 62
    },
    {
      "kind": "function",
      "name": "_string_attr",
      "lineno": 65
    },
    {
      "kind": "function",
      "name": "_commit_iso_date",
      "lineno": 70
    },
    {
      "kind": "function",
      "name": "_author_field",
      "lineno": 80
    },
    {
      "kind": "function",
      "name": "_short_sha",
      "lineno": 88
    },
    {
      "kind": "function",
      "name": "_normalize_line_numbers",
      "lineno": 93
    },
    {
      "kind": "function",
      "name": "_coerce_blame_tuple",
      "lineno": 106
    },
    {
      "kind": "class",
      "name": "GitClient",
      "lineno": 121
    },
    {
      "kind": "class",
      "name": "AsyncGitClient",
      "lineno": 527
    }
  ],
  "exports": [
    "AsyncGitClient",
    "GitClient"
  ],
  "exports_declared": [
    "AsyncGitClient",
    "GitClient"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Typed Git operations wrapper using GitPython.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "_string_attr",
      "qualname": "_string_attr",
      "kind": "function",
      "public": false,
      "lineno": 65,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_commit_iso_date",
      "qualname": "_commit_iso_date",
      "kind": "function",
      "public": false,
      "lineno": 70,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_author_field",
      "qualname": "_author_field",
      "kind": "function",
      "public": false,
      "lineno": 80,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_short_sha",
      "qualname": "_short_sha",
      "kind": "function",
      "public": false,
      "lineno": 88,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_line_numbers",
      "qualname": "_normalize_line_numbers",
      "kind": "function",
      "public": false,
      "lineno": 93,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_blame_tuple",
      "qualname": "_coerce_blame_tuple",
      "kind": "function",
      "public": false,
      "lineno": 106,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "GitClient",
      "qualname": "GitClient",
      "kind": "class",
      "public": true,
      "lineno": 121,
      "doc_summary": "Typed wrapper around GitPython for blame and history operations.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    },
    {
      "name": "AsyncGitClient",
      "qualname": "AsyncGitClient",
      "kind": "class",
      "public": true,
      "lineno": 527,
      "doc_summary": "Async wrapper around GitClient using asyncio.to_thread.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 33,
    "cyclomatic": 34,
    "loc": 670
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 7,
  "cycle_group": 41,
  "imports_internal": [
    "mcp_server/schemas.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "mcp_server/schemas.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.492,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 11,
  "recent_churn_90": 11
}
{
  "path": "io/hybrid_search.py",
  "repo_path": "codeintel_rev/io/hybrid_search.py",
  "module_name": "codeintel_rev.io.hybrid_search",
  "stable_id": "2c650540be98",
  "docstring": "Hybrid retrieval utilities combining FAISS, BM25, and SPLADE.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "math"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "nullcontext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib",
      "names": [
        "import_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Protocol"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "codeintel_rev.observability.metrics"
      ],
      "aliases": {
        "codeintel_rev.observability.metrics": "retrieval_metrics"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.evaluation.hybrid_pool",
      "names": [
        "Hit",
        "HybridPoolEvaluator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs",
        "to_label_str"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline",
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.plugins.channels",
      "names": [
        "Channel",
        "ChannelContext",
        "ChannelError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.plugins.registry",
      "names": [
        "ChannelRegistry"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.boosters",
      "names": [
        "RecencyConfig",
        "apply_recency_boost"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.gating",
      "names": [
        "BudgetDecision",
        "StageGateConfig",
        "analyze_query",
        "decide_budgets",
        "describe_budget_decision"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.rm3_heuristics",
      "names": [
        "RM3Heuristics",
        "RM3Params"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "HybridResultDoc",
        "HybridSearchResult",
        "SearchHit"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.steps",
      "names": [
        "StepEvent",
        "emit_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.capabilities",
      "names": [
        "Capabilities"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ResolvedPaths"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "Settings",
        "SpladeConfig"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 41
    },
    {
      "kind": "class",
      "name": "_LuceneHit",
      "lineno": 44
    },
    {
      "kind": "class",
      "name": "_LuceneSearcher",
      "lineno": 49
    },
    {
      "kind": "class",
      "name": "BM25Rm3Config",
      "lineno": 64
    },
    {
      "kind": "class",
      "name": "BM25SearchProvider",
      "lineno": 73
    },
    {
      "kind": "class",
      "name": "SpladeSearchProvider",
      "lineno": 212
    },
    {
      "kind": "class",
      "name": "HybridSearchTuning",
      "lineno": 430
    },
    {
      "kind": "class",
      "name": "HybridSearchOptions",
      "lineno": 438
    },
    {
      "kind": "class",
      "name": "_MethodStats",
      "lineno": 448
    },
    {
      "kind": "class",
      "name": "_FusionContext",
      "lineno": 457
    },
    {
      "kind": "class",
      "name": "_SearchTelemetryContext",
      "lineno": 471
    },
    {
      "kind": "class",
      "name": "_FusionWork",
      "lineno": 477
    },
    {
      "kind": "class",
      "name": "HybridSearchEngine",
      "lineno": 491
    }
  ],
  "exports": [
    "BM25SearchProvider",
    "HybridResultDoc",
    "HybridSearchEngine",
    "HybridSearchOptions",
    "HybridSearchResult",
    "HybridSearchTuning",
    "SpladeSearchProvider"
  ],
  "exports_declared": [
    "BM25SearchProvider",
    "HybridResultDoc",
    "HybridSearchEngine",
    "HybridSearchOptions",
    "HybridSearchResult",
    "HybridSearchTuning",
    "SpladeSearchProvider"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Hybrid retrieval utilities combining FAISS, BM25, and SPLADE.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_LuceneHit",
      "qualname": "_LuceneHit",
      "kind": "class",
      "public": false,
      "lineno": 44,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_LuceneSearcher",
      "qualname": "_LuceneSearcher",
      "kind": "class",
      "public": false,
      "lineno": 49,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "BM25Rm3Config",
      "qualname": "BM25Rm3Config",
      "kind": "class",
      "public": true,
      "lineno": 64,
      "doc_summary": "Bundle RM3 parameters and heuristics for BM25 search.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "BM25SearchProvider",
      "qualname": "BM25SearchProvider",
      "kind": "class",
      "public": true,
      "lineno": 73,
      "doc_summary": "Pyserini-backed BM25 searcher with optional RM3 heuristics.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeSearchProvider",
      "qualname": "SpladeSearchProvider",
      "kind": "class",
      "public": true,
      "lineno": 212,
      "doc_summary": "SPLADE query encoder and Lucene impact searcher for learned sparse retrieval.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HybridSearchTuning",
      "qualname": "HybridSearchTuning",
      "kind": "class",
      "public": true,
      "lineno": 430,
      "doc_summary": "Runtime overrides for FAISS search metadata.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HybridSearchOptions",
      "qualname": "HybridSearchOptions",
      "kind": "class",
      "public": true,
      "lineno": 438,
      "doc_summary": "Optional knobs influencing hybrid fusion.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_MethodStats",
      "qualname": "_MethodStats",
      "kind": "class",
      "public": false,
      "lineno": 448,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_FusionContext",
      "qualname": "_FusionContext",
      "kind": "class",
      "public": false,
      "lineno": 457,
      "doc_summary": "All inputs required to fuse dense and sparse channel runs.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SearchTelemetryContext",
      "qualname": "_SearchTelemetryContext",
      "kind": "class",
      "public": false,
      "lineno": 471,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_FusionWork",
      "qualname": "_FusionWork",
      "kind": "class",
      "public": false,
      "lineno": 477,
      "doc_summary": "Resolved fusion parameters after pooler/weights are selected.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HybridSearchEngine",
      "qualname": "HybridSearchEngine",
      "kind": "class",
      "public": true,
      "lineno": 491,
      "doc_summary": "Combine dense (FAISS) and sparse channel plugins via RRF.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 139,
    "cyclomatic": 140,
    "loc": 1482
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 5,
  "fan_out": 18,
  "cycle_group": 41,
  "imports_internal": [
    "app/capabilities.py",
    "app/config_context.py",
    "config/settings.py",
    "evaluation/hybrid_pool.py",
    "io/duckdb_manager.py",
    "observability/metrics.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "plugins/channels.py",
    "plugins/registry.py",
    "retrieval/boosters.py",
    "retrieval/gating.py",
    "retrieval/rm3_heuristics.py",
    "retrieval/types.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/capabilities.py",
    "app/config_context.py",
    "config/settings.py",
    "evaluation/hybrid_pool.py",
    "io/duckdb_manager.py",
    "observability/metrics.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "plugins/channels.py",
    "plugins/registry.py",
    "retrieval/boosters.py",
    "retrieval/gating.py",
    "retrieval/rm3_heuristics.py",
    "retrieval/types.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.302,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 26,
  "recent_churn_90": 26
}
{
  "path": "io/parquet_store.py",
  "repo_path": "codeintel_rev/io/parquet_store.py",
  "module_name": "codeintel_rev.io.parquet_store",
  "stable_id": "2c215d4fb61f",
  "docstring": "Parquet storage for chunks and vectors using Arrow.\n\nStores chunks and embeddings in columnar Parquet format with FixedSizeList\nfor efficient vector storage and querying via DuckDB.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "hashlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Literal",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow"
      ],
      "aliases": {
        "pyarrow": "pa"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "pyarrow.parquet"
      ],
      "aliases": {
        "pyarrow.parquet": "pq"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "xxhash"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.chunk_ids",
      "names": [
        "stable_chunk_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.cast_chunker",
      "names": [
        "Chunk"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "xxhash",
      "lineno": 20
    },
    {
      "kind": "variable",
      "name": "np",
      "lineno": 33
    },
    {
      "kind": "function",
      "name": "get_chunks_schema",
      "lineno": 36
    },
    {
      "kind": "variable",
      "name": "EMBEDDINGS_RANK",
      "lineno": 70
    },
    {
      "kind": "class",
      "name": "ParquetWriteOptions",
      "lineno": 74
    },
    {
      "kind": "function",
      "name": "_hash_content",
      "lineno": 85
    },
    {
      "kind": "function",
      "name": "write_chunks_parquet",
      "lineno": 112
    },
    {
      "kind": "function",
      "name": "read_chunks_parquet",
      "lineno": 210
    },
    {
      "kind": "function",
      "name": "extract_embeddings",
      "lineno": 226
    }
  ],
  "exports": [
    "ParquetWriteOptions",
    "extract_embeddings",
    "get_chunks_schema",
    "read_chunks_parquet",
    "write_chunks_parquet"
  ],
  "exports_declared": [
    "ParquetWriteOptions",
    "extract_embeddings",
    "get_chunks_schema",
    "read_chunks_parquet",
    "write_chunks_parquet"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Parquet storage for chunks and vectors using Arrow.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "get_chunks_schema",
      "qualname": "get_chunks_schema",
      "kind": "function",
      "public": true,
      "lineno": 36,
      "doc_summary": "Get Arrow schema for chunks table.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "ParquetWriteOptions",
      "qualname": "ParquetWriteOptions",
      "kind": "class",
      "public": true,
      "lineno": 74,
      "doc_summary": "Configuration for Parquet persistence.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_hash_content",
      "qualname": "_hash_content",
      "kind": "function",
      "public": false,
      "lineno": 85,
      "doc_summary": "Return stable 64-bit hash of chunk content.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "write_chunks_parquet",
      "qualname": "write_chunks_parquet",
      "kind": "function",
      "public": true,
      "lineno": 112,
      "doc_summary": "Write chunks and embeddings to Parquet.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "read_chunks_parquet",
      "qualname": "read_chunks_parquet",
      "kind": "function",
      "public": true,
      "lineno": 210,
      "doc_summary": "Read chunks from Parquet file.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "extract_embeddings",
      "qualname": "extract_embeddings",
      "kind": "function",
      "public": true,
      "lineno": 226,
      "doc_summary": "Extract embeddings from chunks table.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 12,
    "cyclomatic": 13,
    "loc": 264
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 4,
  "cycle_group": 34,
  "imports_internal": [
    "_lazy_imports.py",
    "indexing/cast_chunker.py",
    "indexing/chunk_ids.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "indexing/cast_chunker.py",
    "indexing/chunk_ids.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.17,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 20,
  "recent_churn_90": 20
}
{
  "path": "io/path_utils.py",
  "repo_path": "codeintel_rev/io/path_utils.py",
  "module_name": "codeintel_rev.io.path_utils",
  "stable_id": "d19c89c7d94a",
  "docstring": "Path safety utilities for repository-scoped operations.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "PathOutsideRepositoryError",
      "lineno": 8
    },
    {
      "kind": "function",
      "name": "resolve_within_repo",
      "lineno": 12
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Path safety utilities for repository-scoped operations.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "PathOutsideRepositoryError",
      "qualname": "PathOutsideRepositoryError",
      "kind": "class",
      "public": true,
      "lineno": 8,
      "doc_summary": "Raised when a path escapes the configured repository root.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "resolve_within_repo",
      "qualname": "resolve_within_repo",
      "kind": "function",
      "public": true,
      "lineno": 12,
      "doc_summary": "Resolve ``target`` against ``repo_root`` and ensure it stays within bounds.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 4,
    "cyclomatic": 5,
    "loc": 55
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 5,
  "fan_out": 0,
  "cycle_group": 18,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.801,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "io/rerank_coderankllm.py",
  "repo_path": "codeintel_rev/io/rerank_coderankllm.py",
  "module_name": "codeintel_rev.io.rerank_coderankllm",
  "stable_id": "d42aa13cf13f",
  "docstring": "Listwise reranking using the CodeRankLLM checkpoint.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "threading"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "ClassVar",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "transformers",
      "names": [
        "AutoModelForCausalLM",
        "PreTrainedTokenizerBase"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 16
    },
    {
      "kind": "class",
      "name": "CodeRankListwiseReranker",
      "lineno": 33
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Listwise reranking using the CodeRankLLM checkpoint.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "CodeRankListwiseReranker",
      "qualname": "CodeRankListwiseReranker",
      "kind": "class",
      "public": true,
      "lineno": 33,
      "doc_summary": "Listwise reranking helper built on CodeRankLLM.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 20,
    "cyclomatic": 21,
    "loc": 174
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 122,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.913,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 7,
  "recent_churn_90": 7
}
{
  "path": "io/rrf.py",
  "repo_path": "codeintel_rev/io/rrf.py",
  "module_name": "codeintel_rev.io.rrf",
  "stable_id": "220024ba4290",
  "docstring": "Reciprocal Rank Fusion utilities (legacy compatibility wrappers).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Literal"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.fusion",
      "names": [
        "fuse_weighted_rrf"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "SearchHit"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "weighted_rrf",
      "lineno": 12
    },
    {
      "kind": "function",
      "name": "_normalize_channel_hits",
      "lineno": 114
    },
    {
      "kind": "function",
      "name": "_to_int",
      "lineno": 160
    }
  ],
  "exports": [
    "weighted_rrf"
  ],
  "exports_declared": [
    "weighted_rrf"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Reciprocal Rank Fusion utilities (legacy compatibility wrappers).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "weighted_rrf",
      "qualname": "weighted_rrf",
      "kind": "function",
      "public": true,
      "lineno": 12,
      "doc_summary": "Apply weighted Reciprocal Rank Fusion to channel hits.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_normalize_channel_hits",
      "qualname": "_normalize_channel_hits",
      "kind": "function",
      "public": false,
      "lineno": 114,
      "doc_summary": "Normalize channel hit scores using the specified mode.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_to_int",
      "qualname": "_to_int",
      "kind": "function",
      "public": false,
      "lineno": 160,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 7,
    "cyclomatic": 8,
    "loc": 169
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 3,
  "cycle_group": 125,
  "imports_internal": [
    "retrieval/fusion/__init__.py",
    "retrieval/types.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "retrieval/fusion/__init__.py",
    "retrieval/types.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.76,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "io/splade_manager.py",
  "repo_path": "codeintel_rev/io/splade_manager.py",
  "module_name": "codeintel_rev.io.splade_manager",
  "stable_id": "3fa7ad82568e",
  "docstring": "SPLADE artifact management, encoding, and Lucene impact index builders.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "math"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "shutil"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "statistics"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "sys"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "TextIO",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.path_utils",
      "names": [
        "resolve_within_repo"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.subprocess_utils",
      "names": [
        "run_subprocess"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Protocol"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "Settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "sentence_transformers",
      "names": [
        "SparseEncoder"
      ],
      "aliases": {
        "SparseEncoder": "_SparseEncoderClass"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "sentence_transformers",
      "names": [
        "export_dynamic_quantized_onnx_model"
      ],
      "aliases": {
        "export_dynamic_quantized_onnx_model": "_export_dynamic_quantized_onnx_model"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "sentence_transformers",
      "names": [
        "export_optimized_onnx_model"
      ],
      "aliases": {
        "export_optimized_onnx_model": "_export_optimized_onnx_model"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "_SparseEncoderProtocol",
      "lineno": 30
    },
    {
      "kind": "class",
      "name": "_OptimizerFunction",
      "lineno": 190
    },
    {
      "kind": "class",
      "name": "_QuantizerFunction",
      "lineno": 201
    },
    {
      "kind": "variable",
      "name": "GENERATOR_NAME",
      "lineno": 230
    },
    {
      "kind": "variable",
      "name": "ARTIFACT_METADATA_FILENAME",
      "lineno": 231
    },
    {
      "kind": "variable",
      "name": "ENCODING_METADATA_FILENAME",
      "lineno": 232
    },
    {
      "kind": "variable",
      "name": "INDEX_METADATA_FILENAME",
      "lineno": 233
    },
    {
      "kind": "variable",
      "name": "logger",
      "lineno": 238
    },
    {
      "kind": "class",
      "name": "SpladeArtifactMetadata",
      "lineno": 241
    },
    {
      "kind": "class",
      "name": "SpladeExportSummary",
      "lineno": 256
    },
    {
      "kind": "class",
      "name": "SpladeEncodingMetadata",
      "lineno": 263
    },
    {
      "kind": "class",
      "name": "SpladeEncodingSummary",
      "lineno": 277
    },
    {
      "kind": "class",
      "name": "SpladeBenchmarkOptions",
      "lineno": 286
    },
    {
      "kind": "class",
      "name": "SpladeBenchmarkSummary",
      "lineno": 295
    },
    {
      "kind": "class",
      "name": "SpladeExportOptions",
      "lineno": 311
    },
    {
      "kind": "class",
      "name": "SpladeEncodeOptions",
      "lineno": 322
    },
    {
      "kind": "class",
      "name": "SpladeBuildOptions",
      "lineno": 333
    },
    {
      "kind": "class",
      "name": "SpladeIndexMetadata",
      "lineno": 343
    },
    {
      "kind": "class",
      "name": "_ShardState",
      "lineno": 358
    },
    {
      "kind": "class",
      "name": "_ExportContext",
      "lineno": 374
    },
    {
      "kind": "function",
      "name": "_require_sparse_encoder",
      "lineno": 385
    },
    {
      "kind": "function",
      "name": "_require_export_helpers",
      "lineno": 395
    },
    {
      "kind": "function",
      "name": "_write_struct",
      "lineno": 408
    },
    {
      "kind": "function",
      "name": "_directory_size",
      "lineno": 416
    },
    {
      "kind": "function",
      "name": "_detect_pyserini_version",
      "lineno": 444
    },
    {
      "kind": "function",
      "name": "_serialize_relative",
      "lineno": 453
    },
    {
      "kind": "function",
      "name": "_percentile_value",
      "lineno": 460
    },
    {
      "kind": "function",
      "name": "_quantize_tokens",
      "lineno": 501
    },
    {
      "kind": "function",
      "name": "_iter_corpus",
      "lineno": 512
    },
    {
      "kind": "function",
      "name": "_open_writer",
      "lineno": 521
    },
    {
      "kind": "function",
      "name": "_flush_batch",
      "lineno": 551
    },
    {
      "kind": "function",
      "name": "_persist_encoding_metadata",
      "lineno": 617
    },
    {
      "kind": "function",
      "name": "_encode_records",
      "lineno": 683
    },
    {
      "kind": "function",
      "name": "_optimize_export",
      "lineno": 755
    },
    {
      "kind": "function",
      "name": "_quantize_export",
      "lineno": 805
    },
    {
      "kind": "function",
      "name": "_persist_export_metadata",
      "lineno": 871
    },
    {
      "kind": "class",
      "name": "SpladeArtifactsManager",
      "lineno": 921
    },
    {
      "kind": "class",
      "name": "SpladeEncoderService",
      "lineno": 1006
    },
    {
      "kind": "class",
      "name": "SpladeIndexManager",
      "lineno": 1287
    }
  ],
  "exports": [
    "SpladeArtifactMetadata",
    "SpladeArtifactsManager",
    "SpladeBuildOptions",
    "SpladeEncodeOptions",
    "SpladeEncodingMetadata",
    "SpladeEncodingSummary",
    "SpladeExportOptions",
    "SpladeExportSummary",
    "SpladeIndexManager",
    "SpladeIndexMetadata"
  ],
  "exports_declared": [
    "SpladeArtifactMetadata",
    "SpladeArtifactsManager",
    "SpladeBuildOptions",
    "SpladeEncodeOptions",
    "SpladeEncodingMetadata",
    "SpladeEncodingSummary",
    "SpladeExportOptions",
    "SpladeExportSummary",
    "SpladeIndexManager",
    "SpladeIndexMetadata"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "SPLADE artifact management, encoding, and Lucene impact index builders.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_SparseEncoderProtocol",
      "qualname": "_SparseEncoderProtocol",
      "kind": "class",
      "public": false,
      "lineno": 30,
      "doc_summary": "Protocol defining the interface for SPLADE sparse encoders.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_OptimizerFunction",
      "qualname": "_OptimizerFunction",
      "kind": "class",
      "public": false,
      "lineno": 190,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_QuantizerFunction",
      "qualname": "_QuantizerFunction",
      "kind": "class",
      "public": false,
      "lineno": 201,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeArtifactMetadata",
      "qualname": "SpladeArtifactMetadata",
      "kind": "class",
      "public": true,
      "lineno": 241,
      "doc_summary": "Metadata describing exported SPLADE ONNX artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeExportSummary",
      "qualname": "SpladeExportSummary",
      "kind": "class",
      "public": true,
      "lineno": 256,
      "doc_summary": "Summary returned after exporting SPLADE artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeEncodingMetadata",
      "qualname": "SpladeEncodingMetadata",
      "kind": "class",
      "public": true,
      "lineno": 263,
      "doc_summary": "Metadata describing SPLADE vector encoding runs.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeEncodingSummary",
      "qualname": "SpladeEncodingSummary",
      "kind": "class",
      "public": true,
      "lineno": 277,
      "doc_summary": "Summary describing SPLADE encoding output.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeBenchmarkOptions",
      "qualname": "SpladeBenchmarkOptions",
      "kind": "class",
      "public": true,
      "lineno": 286,
      "doc_summary": "Options controlling SPLADE encoder latency benchmarks.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeBenchmarkSummary",
      "qualname": "SpladeBenchmarkSummary",
      "kind": "class",
      "public": true,
      "lineno": 295,
      "doc_summary": "Summary describing SPLADE encoder latency benchmarks.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeExportOptions",
      "qualname": "SpladeExportOptions",
      "kind": "class",
      "public": true,
      "lineno": 311,
      "doc_summary": "Options controlling SPLADE ONNX export behaviour.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeEncodeOptions",
      "qualname": "SpladeEncodeOptions",
      "kind": "class",
      "public": true,
      "lineno": 322,
      "doc_summary": "Options controlling SPLADE corpus encoding.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeBuildOptions",
      "qualname": "SpladeBuildOptions",
      "kind": "class",
      "public": true,
      "lineno": 333,
      "doc_summary": "Options controlling SPLADE Lucene impact index builds.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeIndexMetadata",
      "qualname": "SpladeIndexMetadata",
      "kind": "class",
      "public": true,
      "lineno": 343,
      "doc_summary": "Metadata describing a SPLADE Lucene impact index.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ShardState",
      "qualname": "_ShardState",
      "kind": "class",
      "public": false,
      "lineno": 358,
      "doc_summary": "Mutable encoding state for shard rotation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ExportContext",
      "qualname": "_ExportContext",
      "kind": "class",
      "public": false,
      "lineno": 374,
      "doc_summary": "Context for SPLADE export operations.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_require_sparse_encoder",
      "qualname": "_require_sparse_encoder",
      "kind": "function",
      "public": false,
      "lineno": 385,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_require_export_helpers",
      "qualname": "_require_export_helpers",
      "kind": "function",
      "public": false,
      "lineno": 395,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_struct",
      "qualname": "_write_struct",
      "kind": "function",
      "public": false,
      "lineno": 408,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_directory_size",
      "qualname": "_directory_size",
      "kind": "function",
      "public": false,
      "lineno": 416,
      "doc_summary": "Compute total size in bytes for all files beneath a directory.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_detect_pyserini_version",
      "qualname": "_detect_pyserini_version",
      "kind": "function",
      "public": false,
      "lineno": 444,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_serialize_relative",
      "qualname": "_serialize_relative",
      "kind": "function",
      "public": false,
      "lineno": 453,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_percentile_value",
      "qualname": "_percentile_value",
      "kind": "function",
      "public": false,
      "lineno": 460,
      "doc_summary": "Return the percentile value using linear interpolation.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_quantize_tokens",
      "qualname": "_quantize_tokens",
      "kind": "function",
      "public": false,
      "lineno": 501,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_iter_corpus",
      "qualname": "_iter_corpus",
      "kind": "function",
      "public": false,
      "lineno": 512,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_open_writer",
      "qualname": "_open_writer",
      "kind": "function",
      "public": false,
      "lineno": 521,
      "doc_summary": "Create a shard writer for the given shard index.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_flush_batch",
      "qualname": "_flush_batch",
      "kind": "function",
      "public": false,
      "lineno": 551,
      "doc_summary": "Encode and persist the current batch of documents.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_persist_encoding_metadata",
      "qualname": "_persist_encoding_metadata",
      "kind": "function",
      "public": false,
      "lineno": 617,
      "doc_summary": "Write metadata for an encoding run and return the summary.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_encode_records",
      "qualname": "_encode_records",
      "kind": "function",
      "public": false,
      "lineno": 683,
      "doc_summary": "Stream records from disk, validate them, and flush in batches.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_optimize_export",
      "qualname": "_optimize_export",
      "kind": "function",
      "public": false,
      "lineno": 755,
      "doc_summary": "Run graph optimization if requested and return the base ONNX path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_quantize_export",
      "qualname": "_quantize_export",
      "kind": "function",
      "public": false,
      "lineno": 805,
      "doc_summary": "Apply dynamic quantization and ensure the target ONNX exists.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_persist_export_metadata",
      "qualname": "_persist_export_metadata",
      "kind": "function",
      "public": false,
      "lineno": 871,
      "doc_summary": "Write export metadata and return the resulting summary.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "SpladeArtifactsManager",
      "qualname": "SpladeArtifactsManager",
      "kind": "class",
      "public": true,
      "lineno": 921,
      "doc_summary": "Manage SPLADE model exports and ONNX artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeEncoderService",
      "qualname": "SpladeEncoderService",
      "kind": "class",
      "public": true,
      "lineno": 1006,
      "doc_summary": "Encode corpora into SPLADE JsonVectorCollection shards.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SpladeIndexManager",
      "qualname": "SpladeIndexManager",
      "kind": "class",
      "public": true,
      "lineno": 1287,
      "doc_summary": "Build SPLADE Lucene impact indexes from vector collections.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 75,
    "cyclomatic": 76,
    "loc": 1437
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 3,
  "cycle_group": 19,
  "imports_internal": [
    "config/settings.py",
    "io/path_utils.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "config/settings.py",
    "io/path_utils.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.628,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 11,
  "recent_churn_90": 11
}
{
  "path": "io/symbol_catalog.py",
  "repo_path": "codeintel_rev/io/symbol_catalog.py",
  "module_name": "codeintel_rev.io.symbol_catalog",
  "stable_id": "203cc07a788b",
  "docstring": "DuckDB symbol catalog writer.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "SymbolDefRow",
      "lineno": 12
    },
    {
      "kind": "class",
      "name": "SymbolOccurrenceRow",
      "lineno": 30
    },
    {
      "kind": "class",
      "name": "SymbolCatalog",
      "lineno": 45
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "DuckDB symbol catalog writer.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "SymbolDefRow",
      "qualname": "SymbolDefRow",
      "kind": "class",
      "public": true,
      "lineno": 12,
      "doc_summary": "Immutable row describing a symbol definition.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SymbolOccurrenceRow",
      "qualname": "SymbolOccurrenceRow",
      "kind": "class",
      "public": true,
      "lineno": 30,
      "doc_summary": "Service row for individual symbol occurrences.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SymbolCatalog",
      "qualname": "SymbolCatalog",
      "kind": "class",
      "public": true,
      "lineno": 45,
      "doc_summary": "Writer for symbol metadata tables alongside `chunks`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 10,
    "cyclomatic": 11,
    "loc": 241
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 1,
  "cycle_group": 38,
  "imports_internal": [
    "io/duckdb_manager.py"
  ],
  "imports_intra_repo": [
    "io/duckdb_manager.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.936,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "io/vllm_client.py",
  "repo_path": "codeintel_rev/io/vllm_client.py",
  "module_name": "codeintel_rev.io.vllm_client",
  "stable_id": "6dd4fe44317a",
  "docstring": "vLLM embedding client using msgspec for fast serialization.\n\nOpenAI-compatible /v1/embeddings endpoint with batching support.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "nullcontext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "functools",
      "names": [
        "lru_cache"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib",
      "names": [
        "import_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "EMBED_BATCH_SIZE",
        "EMBED_LATENCY_SECONDS"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.steps",
      "names": [
        "StepEvent",
        "emit_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32",
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "httpx"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "VLLMConfig"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.vllm_engine",
      "names": [
        "InprocessVLLMEmbedder"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "httpx",
      "lineno": 36
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 38
    },
    {
      "kind": "function",
      "name": "_get_numpy",
      "lineno": 42
    },
    {
      "kind": "class",
      "name": "EmbeddingRequest",
      "lineno": 78
    },
    {
      "kind": "class",
      "name": "EmbeddingData",
      "lineno": 106
    },
    {
      "kind": "class",
      "name": "EmbeddingResponse",
      "lineno": 131
    },
    {
      "kind": "class",
      "name": "VLLMClient",
      "lineno": 162
    }
  ],
  "exports": [
    "EmbeddingData",
    "EmbeddingRequest",
    "EmbeddingResponse",
    "VLLMClient"
  ],
  "exports_declared": [
    "EmbeddingData",
    "EmbeddingRequest",
    "EmbeddingResponse",
    "VLLMClient"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "vLLM embedding client using msgspec for fast serialization.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "_get_numpy",
      "qualname": "_get_numpy",
      "kind": "function",
      "public": false,
      "lineno": 42,
      "doc_summary": "Load numpy lazily when embeddings are computed.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "EmbeddingRequest",
      "qualname": "EmbeddingRequest",
      "kind": "class",
      "public": true,
      "lineno": 78,
      "doc_summary": "OpenAI-compatible embedding request payload.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "EmbeddingData",
      "qualname": "EmbeddingData",
      "kind": "class",
      "public": true,
      "lineno": 106,
      "doc_summary": "Single embedding result from a batch request.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "EmbeddingResponse",
      "qualname": "EmbeddingResponse",
      "kind": "class",
      "public": true,
      "lineno": 131,
      "doc_summary": "OpenAI-compatible embedding response payload.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "VLLMClient",
      "qualname": "VLLMClient",
      "kind": "class",
      "public": true,
      "lineno": 162,
      "doc_summary": "vLLM embedding client supporting HTTP or in-process execution.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": true,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 32,
    "cyclomatic": 33,
    "loc": 657
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 4,
  "fan_out": 10,
  "cycle_group": 41,
  "imports_internal": [
    "_lazy_imports.py",
    "config/settings.py",
    "io/vllm_engine.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "config/settings.py",
    "io/vllm_engine.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.688,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 28,
  "recent_churn_90": 28
}
{
  "path": "io/vllm_engine.py",
  "repo_path": "codeintel_rev/io/vllm_engine.py",
  "module_name": "codeintel_rev.io.vllm_engine",
  "stable_id": "05f2ce899ac3",
  "docstring": "In-process vLLM embedding engine for Stage-0 retrieval.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime",
      "names": [
        "RuntimeCell"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "transformers"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "vllm"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "vllm.config"
      ],
      "aliases": {
        "vllm.config": "vllm_config"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "vllm.inputs"
      ],
      "aliases": {
        "vllm.inputs": "vllm_inputs"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "transformers",
      "names": [
        "PreTrainedTokenizerBase"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "vllm",
      "names": [
        "LLM"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "vllm.config",
      "names": [
        "PoolerConfig"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "vllm.inputs",
      "names": [
        "TokensPrompt"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "VLLMConfig"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "np",
      "lineno": 28
    },
    {
      "kind": "variable",
      "name": "transformers",
      "lineno": 29
    },
    {
      "kind": "variable",
      "name": "vllm",
      "lineno": 30
    },
    {
      "kind": "variable",
      "name": "vllm_config",
      "lineno": 31
    },
    {
      "kind": "variable",
      "name": "vllm_inputs",
      "lineno": 32
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 34
    },
    {
      "kind": "class",
      "name": "_InprocessVLLMRuntime",
      "lineno": 37
    },
    {
      "kind": "class",
      "name": "InprocessVLLMEmbedder",
      "lineno": 60
    }
  ],
  "exports": [
    "InprocessVLLMEmbedder"
  ],
  "exports_declared": [
    "InprocessVLLMEmbedder"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "In-process vLLM embedding engine for Stage-0 retrieval.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "_InprocessVLLMRuntime",
      "qualname": "_InprocessVLLMRuntime",
      "kind": "class",
      "public": false,
      "lineno": 37,
      "doc_summary": "Mutable runtime backing the frozen embedder.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "InprocessVLLMEmbedder",
      "qualname": "InprocessVLLMEmbedder",
      "kind": "class",
      "public": true,
      "lineno": 60,
      "doc_summary": "Embed text batches locally using vLLM.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 11,
    "cyclomatic": 12,
    "loc": 244
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 4,
  "cycle_group": 39,
  "imports_internal": [
    "_lazy_imports.py",
    "config/settings.py",
    "runtime/__init__.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "config/settings.py",
    "runtime/__init__.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.094,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 9,
  "recent_churn_90": 9
}
{
  "path": "io/warp_engine.py",
  "repo_path": "codeintel_rev/io/warp_engine.py",
  "module_name": "codeintel_rev.io.warp_engine",
  "stable_id": "df5fd45da697",
  "docstring": "Adapter for the optional WARP/XTR late interaction executor.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Protocol",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 15
    },
    {
      "kind": "class",
      "name": "WarpExecutorProtocol",
      "lineno": 19
    },
    {
      "kind": "variable",
      "name": "WarpExecutorFactory",
      "lineno": 33
    },
    {
      "kind": "class",
      "name": "WarpUnavailableError",
      "lineno": 36
    },
    {
      "kind": "class",
      "name": "WarpEngine",
      "lineno": 40
    },
    {
      "kind": "function",
      "name": "_safe_int",
      "lineno": 167
    },
    {
      "kind": "function",
      "name": "_safe_float",
      "lineno": 191
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Adapter for the optional WARP/XTR late interaction executor.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "WarpExecutorProtocol",
      "qualname": "WarpExecutorProtocol",
      "kind": "class",
      "public": true,
      "lineno": 19,
      "doc_summary": "Protocol describing the WARP executor search surface.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "WarpUnavailableError",
      "qualname": "WarpUnavailableError",
      "kind": "class",
      "public": true,
      "lineno": 36,
      "doc_summary": "Raised when the WARP executor or index artifacts are missing.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "WarpEngine",
      "qualname": "WarpEngine",
      "kind": "class",
      "public": true,
      "lineno": 40,
      "doc_summary": "Encapsulates interactions with the optional ``xtr-warp`` executor.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_safe_int",
      "qualname": "_safe_int",
      "kind": "function",
      "public": false,
      "lineno": 167,
      "doc_summary": "Convert an object to int safely, falling back to the provided default.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_safe_float",
      "qualname": "_safe_float",
      "kind": "function",
      "public": false,
      "lineno": 191,
      "doc_summary": "Convert an object to float safely, falling back to the provided default.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 15,
    "cyclomatic": 16,
    "loc": 213
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 126,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.836,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 9,
  "recent_churn_90": 9
}
{
  "path": "io/xtr_manager.py",
  "repo_path": "codeintel_rev/io/xtr_manager.py",
  "module_name": "codeintel_rev.io.xtr_manager",
  "stable_id": "23a4d43fc77d",
  "docstring": "Token-level XTR index manager with late-interaction scoring utilities.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "Literal",
        "TypedDict",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "XTRConfig"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "XTR_SEARCH_LATENCY_SECONDS"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "as_span"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime",
      "names": [
        "RuntimeCell"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32",
        "TorchModule",
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "np",
      "lineno": 24
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 26
    },
    {
      "kind": "class",
      "name": "XTRMetadata",
      "lineno": 29
    },
    {
      "kind": "class",
      "name": "_XTRIndexRuntime",
      "lineno": 41
    },
    {
      "kind": "class",
      "name": "XTRIndex",
      "lineno": 65
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Token-level XTR index manager with late-interaction scoring utilities.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "XTRMetadata",
      "qualname": "XTRMetadata",
      "kind": "class",
      "public": true,
      "lineno": 29,
      "doc_summary": "Metadata persisted alongside the token memmap.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_XTRIndexRuntime",
      "qualname": "_XTRIndexRuntime",
      "kind": "class",
      "public": false,
      "lineno": 41,
      "doc_summary": "Mutable runtime artifacts for XTRIndex.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "XTRIndex",
      "qualname": "XTRIndex",
      "kind": "class",
      "public": true,
      "lineno": 65,
      "doc_summary": "Memory-mapped XTR token index with query encoding + scoring helpers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 48,
    "cyclomatic": 49,
    "loc": 641
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 8,
  "fan_out": 7,
  "cycle_group": 40,
  "imports_internal": [
    "_lazy_imports.py",
    "config/settings.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "runtime/__init__.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "config/settings.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "runtime/__init__.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.829,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 10,
  "recent_churn_90": 10
}
{
  "path": "mcp_server/__init__.py",
  "repo_path": "codeintel_rev/mcp_server/__init__.py",
  "module_name": "codeintel_rev.mcp_server",
  "stable_id": "0e84c271d826",
  "docstring": "MCP server implementation and tool adapters for CodeIntel.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib",
      "names": [
        "import_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server",
      "names": [
        "service_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "__getattr__",
      "lineno": 17
    },
    {
      "kind": "function",
      "name": "__dir__",
      "lineno": 45
    }
  ],
  "exports": [
    "service_context"
  ],
  "exports_declared": [
    "service_context"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "MCP server implementation and tool adapters for CodeIntel.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "__getattr__",
      "qualname": "__getattr__",
      "kind": "function",
      "public": false,
      "lineno": 17,
      "doc_summary": "Lazy-load heavy submodules to avoid circular imports.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "__dir__",
      "qualname": "__dir__",
      "kind": "function",
      "public": false,
      "lineno": 45,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 47
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 1,
  "cycle_group": 127,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.24,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 5,
  "recent_churn_90": 5
}
{
  "path": "mcp_server/adapters/__init__.py",
  "repo_path": "codeintel_rev/mcp_server/adapters/__init__.py",
  "module_name": "codeintel_rev.mcp_server.adapters",
  "stable_id": "81b9790692cf",
  "docstring": "MCP tool adapters.\n\nAdapters implement the actual logic for MCP tools, separating\nconcerns between the MCP interface and business logic.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "MCP tool adapters.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 10
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 0,
  "cycle_group": 52,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.194,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "mcp_server/adapters/deep_research.py",
  "repo_path": "codeintel_rev/mcp_server/adapters/deep_research.py",
  "module_name": "codeintel_rev.mcp_server.adapters.deep_research",
  "stable_id": "5a97e213b57f",
  "docstring": "Adapters that expose MCP Deep-Research search/fetch semantics.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "AsyncIterator",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "asynccontextmanager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "FetchObject",
        "FetchObjectMetadata",
        "FetchStructuredContent",
        "FetchToolArgs",
        "SearchResultItem",
        "SearchResultMetadata",
        "SearchStructuredContent",
        "SearchToolArgs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.mcp_search",
      "names": [
        "FetchDependencies",
        "FetchRequest",
        "FetchResponse",
        "SearchDependencies",
        "SearchFilters",
        "SearchRequest",
        "SearchResponse",
        "run_fetch",
        "run_search"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "VectorSearchError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 37
    },
    {
      "kind": "function",
      "name": "_pool_dir",
      "lineno": 45
    },
    {
      "kind": "function",
      "name": "_clamp_top_k",
      "lineno": 49
    },
    {
      "kind": "function",
      "name": "_clamp_max_tokens",
      "lineno": 54
    },
    {
      "kind": "function",
      "name": "_serialize_search_response",
      "lineno": 59
    },
    {
      "kind": "function",
      "name": "_serialize_fetch_response",
      "lineno": 105
    },
    {
      "kind": "function",
      "name": "search",
      "lineno": 140
    },
    {
      "kind": "function",
      "name": "fetch",
      "lineno": 218
    },
    {
      "kind": "function",
      "name": "_normalize_object_ids",
      "lineno": 272
    },
    {
      "kind": "function",
      "name": "_bounded",
      "lineno": 305
    }
  ],
  "exports": [
    "fetch",
    "search"
  ],
  "exports_declared": [
    "fetch",
    "search"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Adapters that expose MCP Deep-Research search/fetch semantics.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_pool_dir",
      "qualname": "_pool_dir",
      "kind": "function",
      "public": false,
      "lineno": 45,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_clamp_top_k",
      "qualname": "_clamp_top_k",
      "kind": "function",
      "public": false,
      "lineno": 49,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_clamp_max_tokens",
      "qualname": "_clamp_max_tokens",
      "kind": "function",
      "public": false,
      "lineno": 54,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_serialize_search_response",
      "qualname": "_serialize_search_response",
      "kind": "function",
      "public": false,
      "lineno": 59,
      "doc_summary": "Convert an internal search response into MCP structured content.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_serialize_fetch_response",
      "qualname": "_serialize_fetch_response",
      "kind": "function",
      "public": false,
      "lineno": 105,
      "doc_summary": "Convert an internal fetch response into MCP structured content.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "search",
      "qualname": "search",
      "kind": "function",
      "public": true,
      "lineno": 140,
      "doc_summary": "Execute the Deep-Research search pipeline.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "fetch",
      "qualname": "fetch",
      "kind": "function",
      "public": true,
      "lineno": 218,
      "doc_summary": "Hydrate chunk ids returned from the MCP search tool.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_object_ids",
      "qualname": "_normalize_object_ids",
      "kind": "function",
      "public": false,
      "lineno": 272,
      "doc_summary": "Normalize object identifiers while preserving ordering.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_bounded",
      "qualname": "_bounded",
      "kind": "function",
      "public": false,
      "lineno": 305,
      "doc_summary": "Enforce concurrency and timeout guards for MCP operations.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 13,
    "cyclomatic": 14,
    "loc": 340
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 5,
  "cycle_group": 129,
  "imports_internal": [
    "app/config_context.py",
    "mcp_server/schemas.py",
    "observability/timeline.py",
    "retrieval/mcp_search.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "mcp_server/schemas.py",
    "observability/timeline.py",
    "retrieval/mcp_search.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.076,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "mcp_server/adapters/files.py",
  "repo_path": "codeintel_rev/mcp_server/adapters/files.py",
  "module_name": "codeintel_rev.mcp_server.adapters.files",
  "stable_id": "aba7c0d9b234",
  "docstring": "File and scope management adapter.\n\nProvides file listing, reading, and scope configuration.\n",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "fnmatch"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "SupportsIndex",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.middleware",
      "names": [
        "get_session_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "FileReadError",
        "InvalidLineRangeError",
        "PathNotDirectoryError",
        "PathNotFoundError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.path_utils",
      "names": [
        "PathOutsideRepositoryError",
        "resolve_within_repo"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "ScopeIn"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.scope_utils",
      "names": [
        "LANGUAGE_EXTENSIONS",
        "get_effective_scope",
        "merge_scope_filters"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 35
    },
    {
      "kind": "class",
      "name": "FileListFilters",
      "lineno": 39
    },
    {
      "kind": "class",
      "name": "DirectoryFilters",
      "lineno": 49
    },
    {
      "kind": "function",
      "name": "set_scope",
      "lineno": 58
    },
    {
      "kind": "function",
      "name": "list_paths",
      "lineno": 102
    },
    {
      "kind": "function",
      "name": "_normalize_list_paths_arguments",
      "lineno": 203
    },
    {
      "kind": "function",
      "name": "_list_paths_sync",
      "lineno": 235
    },
    {
      "kind": "function",
      "name": "_collect_filtered_paths",
      "lineno": 354
    },
    {
      "kind": "function",
      "name": "_prune_directories",
      "lineno": 419
    },
    {
      "kind": "function",
      "name": "_create_file_entry",
      "lineno": 441
    },
    {
      "kind": "function",
      "name": "open_file",
      "lineno": 498
    },
    {
      "kind": "function",
      "name": "_resolve_search_root",
      "lineno": 607
    },
    {
      "kind": "function",
      "name": "_matches_any",
      "lineno": 654
    },
    {
      "kind": "function",
      "name": "_relative_path_str",
      "lineno": 659
    },
    {
      "kind": "function",
      "name": "_safe_stat",
      "lineno": 671
    },
    {
      "kind": "function",
      "name": "_collect_language_extensions",
      "lineno": 678
    },
    {
      "kind": "function",
      "name": "_matches_language",
      "lineno": 697
    }
  ],
  "exports": [
    "list_paths",
    "open_file",
    "set_scope"
  ],
  "exports_declared": [
    "list_paths",
    "open_file",
    "set_scope"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "File and scope management adapter.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "FileListFilters",
      "qualname": "FileListFilters",
      "kind": "class",
      "public": true,
      "lineno": 39,
      "doc_summary": "Configuration for file listing filters.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "DirectoryFilters",
      "qualname": "DirectoryFilters",
      "kind": "class",
      "public": true,
      "lineno": 49,
      "doc_summary": "Prepared filters used during directory traversal.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "set_scope",
      "qualname": "set_scope",
      "kind": "function",
      "public": true,
      "lineno": 58,
      "doc_summary": "Set query scope for subsequent operations.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "list_paths",
      "qualname": "list_paths",
      "kind": "function",
      "public": true,
      "lineno": 102,
      "doc_summary": "List files in repository (async with threadpool offload).",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": true
    },
    {
      "name": "_normalize_list_paths_arguments",
      "qualname": "_normalize_list_paths_arguments",
      "kind": "function",
      "public": false,
      "lineno": 203,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_list_paths_sync",
      "qualname": "_list_paths_sync",
      "kind": "function",
      "public": false,
      "lineno": 235,
      "doc_summary": "List files in repository (synchronous implementation).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_collect_filtered_paths",
      "qualname": "_collect_filtered_paths",
      "kind": "function",
      "public": false,
      "lineno": 354,
      "doc_summary": "Walk directories and apply include/exclude filters.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_prune_directories",
      "qualname": "_prune_directories",
      "kind": "function",
      "public": false,
      "lineno": 419,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_create_file_entry",
      "qualname": "_create_file_entry",
      "kind": "function",
      "public": false,
      "lineno": 441,
      "doc_summary": "Return a file entry dict when filters accept the file.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "open_file",
      "qualname": "open_file",
      "kind": "function",
      "public": true,
      "lineno": 498,
      "doc_summary": "Read file content with optional line slicing.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_resolve_search_root",
      "qualname": "_resolve_search_root",
      "kind": "function",
      "public": false,
      "lineno": 607,
      "doc_summary": "Resolve search root path, raising descriptive errors on failure.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_matches_any",
      "qualname": "_matches_any",
      "kind": "function",
      "public": false,
      "lineno": 654,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_relative_path_str",
      "qualname": "_relative_path_str",
      "kind": "function",
      "public": false,
      "lineno": 659,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_safe_stat",
      "qualname": "_safe_stat",
      "kind": "function",
      "public": false,
      "lineno": 671,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_collect_language_extensions",
      "qualname": "_collect_language_extensions",
      "kind": "function",
      "public": false,
      "lineno": 678,
      "doc_summary": "Return canonical file extensions for the requested languages.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_matches_language",
      "qualname": "_matches_language",
      "kind": "function",
      "public": false,
      "lineno": 697,
      "doc_summary": "Return True when the path matches one of the requested extensions.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 49,
    "cyclomatic": 50,
    "loc": 715
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 7,
  "cycle_group": 130,
  "imports_internal": [
    "app/config_context.py",
    "app/middleware.py",
    "errors.py",
    "io/path_utils.py",
    "mcp_server/schemas.py",
    "mcp_server/scope_utils.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "app/middleware.py",
    "errors.py",
    "io/path_utils.py",
    "mcp_server/schemas.py",
    "mcp_server/scope_utils.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.558,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 20,
  "recent_churn_90": 20
}
{
  "path": "mcp_server/adapters/history.py",
  "repo_path": "codeintel_rev/mcp_server/adapters/history.py",
  "module_name": "codeintel_rev.mcp_server.adapters.history",
  "stable_id": "14c8f25feeb6",
  "docstring": "Git history adapter for blame and log operations.\n\nProvides git blame and commit history using GitPython via GitClient.\nThis replaces subprocess-based Git operations with typed Python APIs for\nbetter performance (50-80ms latency reduction) and reliability.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "git.exc"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "GitOperationError",
        "PathNotFoundError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.path_utils",
      "names": [
        "resolve_within_repo"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 21
    },
    {
      "kind": "function",
      "name": "blame_range",
      "lineno": 24
    },
    {
      "kind": "function",
      "name": "file_history",
      "lineno": 119
    }
  ],
  "exports": [
    "blame_range",
    "file_history"
  ],
  "exports_declared": [
    "blame_range",
    "file_history"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Git history adapter for blame and log operations.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "blame_range",
      "qualname": "blame_range",
      "kind": "function",
      "public": true,
      "lineno": 24,
      "doc_summary": "Get git blame for line range using GitPython (async).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "file_history",
      "qualname": "file_history",
      "kind": "function",
      "public": true,
      "lineno": 119,
      "doc_summary": "Get commit history for file using GitPython (async).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 5,
    "cyclomatic": 6,
    "loc": 204
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 4,
  "cycle_group": 131,
  "imports_internal": [
    "app/config_context.py",
    "errors.py",
    "io/path_utils.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "errors.py",
    "io/path_utils.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.774,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 11,
  "recent_churn_90": 11
}
{
  "path": "mcp_server/adapters/semantic.py",
  "repo_path": "codeintel_rev/mcp_server/adapters/semantic.py",
  "module_name": "codeintel_rev.mcp_server.adapters.semantic",
  "stable_id": "ff75a5952982",
  "docstring": "Semantic search adapter using FAISS GPU and DuckDB.\n\nImplements semantic code search by embedding queries and searching\nthe FAISS index, then hydrating results from DuckDB.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "nullcontext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.middleware",
      "names": [
        "get_session_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "CatalogConsistencyError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.faiss_manager",
      "names": [
        "SearchRuntimeOverrides"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.hybrid_search",
      "names": [
        "HybridSearchOptions",
        "HybridSearchTuning"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.vllm_client",
      "names": [
        "VLLMClient"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.common.observability",
      "names": [
        "Observation",
        "observe_duration"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "AnswerEnvelope",
        "Finding",
        "MethodInfo",
        "ScopeIn"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.scope_utils",
      "names": [
        "get_effective_scope"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.flight_recorder",
      "names": [
        "build_report_uri"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "as_span",
        "current_span_id",
        "current_trace_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs",
        "to_label_str"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline",
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "current_run_id",
        "current_session",
        "telemetry_metadata"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.steps",
      "names": [
        "StepEvent",
        "emit_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "EmbeddingError",
        "VectorSearchError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "httpx"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_catalog",
      "names": [
        "DuckDBCatalog"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "httpx",
      "lineno": 56
    },
    {
      "kind": "variable",
      "name": "np",
      "lineno": 57
    },
    {
      "kind": "variable",
      "name": "SNIPPET_PREVIEW_CHARS",
      "lineno": 59
    },
    {
      "kind": "variable",
      "name": "COMPONENT_NAME",
      "lineno": 60
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 61
    },
    {
      "kind": "class",
      "name": "_ScopeFilterFlags",
      "lineno": 65
    },
    {
      "kind": "class",
      "name": "_FaissFanout",
      "lineno": 100
    },
    {
      "kind": "class",
      "name": "_HybridSearchState",
      "lineno": 108
    },
    {
      "kind": "class",
      "name": "_HybridResult",
      "lineno": 121
    },
    {
      "kind": "class",
      "name": "_SemanticPipelineResult",
      "lineno": 132
    },
    {
      "kind": "class",
      "name": "_FaissStageResult",
      "lineno": 143
    },
    {
      "kind": "class",
      "name": "_HydrationOutcome",
      "lineno": 152
    },
    {
      "kind": "class",
      "name": "_SemanticPipelineRequest",
      "lineno": 161
    },
    {
      "kind": "class",
      "name": "_SearchBudget",
      "lineno": 171
    },
    {
      "kind": "class",
      "name": "_SemanticSearchPlan",
      "lineno": 181
    },
    {
      "kind": "class",
      "name": "_MethodContext",
      "lineno": 194
    },
    {
      "kind": "class",
      "name": "_FaissSearchRequest",
      "lineno": 207
    },
    {
      "kind": "function",
      "name": "semantic_search",
      "lineno": 219
    },
    {
      "kind": "function",
      "name": "_semantic_search_sync",
      "lineno": 286
    },
    {
      "kind": "function",
      "name": "_execute_semantic_pipeline",
      "lineno": 416
    },
    {
      "kind": "function",
      "name": "_run_faiss_stage",
      "lineno": 494
    },
    {
      "kind": "function",
      "name": "_run_hydration_stage",
      "lineno": 540
    },
    {
      "kind": "function",
      "name": "_clamp_result_limit",
      "lineno": 591
    },
    {
      "kind": "function",
      "name": "_build_search_budget",
      "lineno": 620
    },
    {
      "kind": "function",
      "name": "_build_semantic_search_plan",
      "lineno": 663
    },
    {
      "kind": "function",
      "name": "_calculate_faiss_fanout",
      "lineno": 734
    },
    {
      "kind": "function",
      "name": "_overfetch_bonus",
      "lineno": 771
    },
    {
      "kind": "function",
      "name": "_resolve_hybrid_results",
      "lineno": 802
    },
    {
      "kind": "function",
      "name": "_build_hybrid_result",
      "lineno": 904
    },
    {
      "kind": "function",
      "name": "_embed_query_or_raise",
      "lineno": 944
    },
    {
      "kind": "function",
      "name": "_run_faiss_search_or_raise",
      "lineno": 984
    },
    {
      "kind": "function",
      "name": "_ensure_hydration_success",
      "lineno": 1021
    },
    {
      "kind": "function",
      "name": "_warn_scope_filter_reduction",
      "lineno": 1056
    },
    {
      "kind": "function",
      "name": "_annotate_hybrid_contributions",
      "lineno": 1094
    },
    {
      "kind": "function",
      "name": "_embed_query",
      "lineno": 1125
    },
    {
      "kind": "function",
      "name": "_run_faiss_search",
      "lineno": 1149
    },
    {
      "kind": "function",
      "name": "_normalize_scope_faiss_tuning",
      "lineno": 1198
    },
    {
      "kind": "function",
      "name": "_hydrate_findings",
      "lineno": 1263
    },
    {
      "kind": "function",
      "name": "_build_method",
      "lineno": 1389
    },
    {
      "kind": "function",
      "name": "_make_envelope",
      "lineno": 1426
    },
    {
      "kind": "function",
      "name": "_observability_links",
      "lineno": 1479
    },
    {
      "kind": "function",
      "name": "build_observability_links",
      "lineno": 1511
    },
    {
      "kind": "function",
      "name": "_success_extras",
      "lineno": 1528
    },
    {
      "kind": "function",
      "name": "_build_response_extras",
      "lineno": 1552
    }
  ],
  "exports": [
    "semantic_search"
  ],
  "exports_declared": [
    "semantic_search"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Semantic search adapter using FAISS GPU and DuckDB.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "_ScopeFilterFlags",
      "qualname": "_ScopeFilterFlags",
      "kind": "class",
      "public": false,
      "lineno": 65,
      "doc_summary": "Aggregated boolean flags describing the active scope filters.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_FaissFanout",
      "qualname": "_FaissFanout",
      "kind": "class",
      "public": false,
      "lineno": 100,
      "doc_summary": "FAISS fan-out plan produced for a semantic search request.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_HybridSearchState",
      "qualname": "_HybridSearchState",
      "kind": "class",
      "public": false,
      "lineno": 108,
      "doc_summary": "Encapsulate the outputs of FAISS prior to hybrid re-ranking.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_HybridResult",
      "qualname": "_HybridResult",
      "kind": "class",
      "public": false,
      "lineno": 121,
      "doc_summary": "Hydration payload returned after hybrid re-ranking.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SemanticPipelineResult",
      "qualname": "_SemanticPipelineResult",
      "kind": "class",
      "public": false,
      "lineno": 132,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_FaissStageResult",
      "qualname": "_FaissStageResult",
      "kind": "class",
      "public": false,
      "lineno": 143,
      "doc_summary": "Outputs from the FAISS stage before hybrid reranking.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_HydrationOutcome",
      "qualname": "_HydrationOutcome",
      "kind": "class",
      "public": false,
      "lineno": 152,
      "doc_summary": "DuckDB hydration outcome with duration metadata.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SemanticPipelineRequest",
      "qualname": "_SemanticPipelineRequest",
      "kind": "class",
      "public": false,
      "lineno": 161,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SearchBudget",
      "qualname": "_SearchBudget",
      "kind": "class",
      "public": false,
      "lineno": 171,
      "doc_summary": "Typed representation of the effective limit and metadata.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SemanticSearchPlan",
      "qualname": "_SemanticSearchPlan",
      "kind": "class",
      "public": false,
      "lineno": 181,
      "doc_summary": "Bundled semantic search parameters derived from scope and settings.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_MethodContext",
      "qualname": "_MethodContext",
      "kind": "class",
      "public": false,
      "lineno": 194,
      "doc_summary": "Inputs required to build method metadata.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_FaissSearchRequest",
      "qualname": "_FaissSearchRequest",
      "kind": "class",
      "public": false,
      "lineno": 207,
      "doc_summary": "Container describing a FAISS search invocation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "semantic_search",
      "qualname": "semantic_search",
      "kind": "function",
      "public": true,
      "lineno": 219,
      "doc_summary": "Perform semantic search using embeddings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_semantic_search_sync",
      "qualname": "_semantic_search_sync",
      "kind": "function",
      "public": false,
      "lineno": 286,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_execute_semantic_pipeline",
      "qualname": "_execute_semantic_pipeline",
      "kind": "function",
      "public": false,
      "lineno": 416,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_run_faiss_stage",
      "qualname": "_run_faiss_stage",
      "kind": "function",
      "public": false,
      "lineno": 494,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_run_hydration_stage",
      "qualname": "_run_hydration_stage",
      "kind": "function",
      "public": false,
      "lineno": 540,
      "doc_summary": "Execute DuckDB hydration stage with instrumentation and error handling.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_clamp_result_limit",
      "qualname": "_clamp_result_limit",
      "kind": "function",
      "public": false,
      "lineno": 591,
      "doc_summary": "Enforce bounds on requested limit with explanatory metadata.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_search_budget",
      "qualname": "_build_search_budget",
      "kind": "function",
      "public": false,
      "lineno": 620,
      "doc_summary": "Combine limit clamping and FAISS readiness metadata for a search.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_semantic_search_plan",
      "qualname": "_build_semantic_search_plan",
      "kind": "function",
      "public": false,
      "lineno": 663,
      "doc_summary": "Construct FAISS fan-out and tuning plan for a semantic search.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_calculate_faiss_fanout",
      "qualname": "_calculate_faiss_fanout",
      "kind": "function",
      "public": false,
      "lineno": 734,
      "doc_summary": "Compute FAISS fan-out (k) and the target expansion for filtering.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_overfetch_bonus",
      "qualname": "_overfetch_bonus",
      "kind": "function",
      "public": false,
      "lineno": 771,
      "doc_summary": "Determine additional fan-out when scope filters may drop results.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_hybrid_results",
      "qualname": "_resolve_hybrid_results",
      "kind": "function",
      "public": false,
      "lineno": 802,
      "doc_summary": "Join hybrid retrieval results with the FAISS output when available.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_hybrid_result",
      "qualname": "_build_hybrid_result",
      "kind": "function",
      "public": false,
      "lineno": 904,
      "doc_summary": "Trim FAISS/hybrid candidates to the effective limit.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_embed_query_or_raise",
      "qualname": "_embed_query_or_raise",
      "kind": "function",
      "public": false,
      "lineno": 944,
      "doc_summary": "Embed text or raise with a structured embedding error.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_run_faiss_search_or_raise",
      "qualname": "_run_faiss_search_or_raise",
      "kind": "function",
      "public": false,
      "lineno": 984,
      "doc_summary": "Perform FAISS search and raise when the index search fails.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_ensure_hydration_success",
      "qualname": "_ensure_hydration_success",
      "kind": "function",
      "public": false,
      "lineno": 1021,
      "doc_summary": "Stop execution when DuckDB hydration fails.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_warn_scope_filter_reduction",
      "qualname": "_warn_scope_filter_reduction",
      "kind": "function",
      "public": false,
      "lineno": 1056,
      "doc_summary": "Log when scope filtering reduces the result set below the requested limit.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_annotate_hybrid_contributions",
      "qualname": "_annotate_hybrid_contributions",
      "kind": "function",
      "public": false,
      "lineno": 1094,
      "doc_summary": "Attach hybrid contribution narratives to findings when available.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_embed_query",
      "qualname": "_embed_query",
      "kind": "function",
      "public": false,
      "lineno": 1125,
      "doc_summary": "Embed query text and return a normalized vector and error message.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_run_faiss_search",
      "qualname": "_run_faiss_search",
      "kind": "function",
      "public": false,
      "lineno": 1149,
      "doc_summary": "Execute FAISS search and return result identifiers and scores.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_scope_faiss_tuning",
      "qualname": "_normalize_scope_faiss_tuning",
      "kind": "function",
      "public": false,
      "lineno": 1198,
      "doc_summary": "Normalize faiss_tuning payload from scope metadata.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_hydrate_findings",
      "qualname": "_hydrate_findings",
      "kind": "function",
      "public": false,
      "lineno": 1263,
      "doc_summary": "Hydrate FAISS search results from DuckDB.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_method",
      "qualname": "_build_method",
      "kind": "function",
      "public": false,
      "lineno": 1389,
      "doc_summary": "Build method metadata for the response.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_make_envelope",
      "qualname": "_make_envelope",
      "kind": "function",
      "public": false,
      "lineno": 1426,
      "doc_summary": "Construct an AnswerEnvelope with optional metadata.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_observability_links",
      "qualname": "_observability_links",
      "kind": "function",
      "public": false,
      "lineno": 1479,
      "doc_summary": "Return trace/run metadata for AnswerEnvelope extras.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "build_observability_links",
      "qualname": "build_observability_links",
      "kind": "function",
      "public": true,
      "lineno": 1511,
      "doc_summary": "Return observability extras for semantic responses.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_success_extras",
      "qualname": "_success_extras",
      "kind": "function",
      "public": false,
      "lineno": 1528,
      "doc_summary": "Build a success extras payload with optional limits metadata.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_response_extras",
      "qualname": "_build_response_extras",
      "kind": "function",
      "public": false,
      "lineno": 1552,
      "doc_summary": "Build extras payload including method metadata and optional scope.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": true,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 105,
    "cyclomatic": 106,
    "loc": 1601
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 18,
  "cycle_group": 133,
  "imports_internal": [
    "_lazy_imports.py",
    "app/config_context.py",
    "app/middleware.py",
    "errors.py",
    "io/duckdb_catalog.py",
    "io/faiss_manager.py",
    "io/hybrid_search.py",
    "io/vllm_client.py",
    "mcp_server/common/observability.py",
    "mcp_server/schemas.py",
    "mcp_server/scope_utils.py",
    "observability/flight_recorder.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/context.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "app/config_context.py",
    "app/middleware.py",
    "errors.py",
    "io/duckdb_catalog.py",
    "io/faiss_manager.py",
    "io/hybrid_search.py",
    "io/vllm_client.py",
    "mcp_server/common/observability.py",
    "mcp_server/schemas.py",
    "mcp_server/scope_utils.py",
    "observability/flight_recorder.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/context.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.126,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 43,
  "recent_churn_90": 43
}
{
  "path": "mcp_server/adapters/semantic_pro.py",
  "repo_path": "codeintel_rev/mcp_server/adapters/semantic_pro.py",
  "module_name": "codeintel_rev.mcp_server.adapters.semantic_pro",
  "stable_id": "c05541c99e48",
  "docstring": "Two-stage semantic search (CodeRank  optional WARP  optional reranker).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "concurrent.futures",
      "names": [
        "Future",
        "ThreadPoolExecutor"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "TypedDict",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.middleware",
      "names": [
        "get_session_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "RuntimeUnavailableError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.hybrid_search",
      "names": [
        "HybridSearchOptions",
        "HybridSearchTuning"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.rerank_coderankllm",
      "names": [
        "CodeRankListwiseReranker"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.warp_engine",
      "names": [
        "WarpEngine",
        "WarpUnavailableError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.common.observability",
      "names": [
        "Observation",
        "observe_duration"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "AnswerEnvelope",
        "Finding",
        "MethodInfo",
        "ScopeIn",
        "StageInfo"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.scope_utils",
      "names": [
        "get_effective_scope"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.flight_recorder",
      "names": [
        "build_report_uri"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "as_span",
        "current_span_id",
        "current_trace_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs",
        "to_label_str"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline",
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.rerank.base",
      "names": [
        "RerankRequest",
        "RerankResult",
        "ScoredDoc"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.rerank.xtr",
      "names": [
        "XTRReranker"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.gating",
      "names": [
        "StageGateConfig",
        "should_run_secondary_stage"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.telemetry",
      "names": [
        "StageTiming",
        "record_stage_decision",
        "record_stage_metric",
        "track_stage"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "HybridResultDoc",
        "HybridSearchResult",
        "SearchHit",
        "StageDecision",
        "StageSignals"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "current_run_id",
        "telemetry_metadata"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.steps",
      "names": [
        "StepEvent",
        "emit_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "EmbeddingError",
        "VectorSearchError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "CodeRankLLMConfig",
        "RerankConfig",
        "XTRConfig"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.xtr_manager",
      "names": [
        "XTRIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "SNIPPET_PREVIEW_CHARS",
      "lineno": 59
    },
    {
      "kind": "variable",
      "name": "COMPONENT_NAME",
      "lineno": 60
    },
    {
      "kind": "variable",
      "name": "RERANK_STAGE_NAME",
      "lineno": 61
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 62
    },
    {
      "kind": "class",
      "name": "RerankOptionPayload",
      "lineno": 65
    },
    {
      "kind": "class",
      "name": "SemanticProOptions",
      "lineno": 74
    },
    {
      "kind": "class",
      "name": "RerankRuntimeOptions",
      "lineno": 87
    },
    {
      "kind": "class",
      "name": "RerankPlan",
      "lineno": 97
    },
    {
      "kind": "class",
      "name": "SemanticProRuntimeOptions",
      "lineno": 108
    },
    {
      "kind": "variable",
      "name": "WideSearchHandle",
      "lineno": 120
    },
    {
      "kind": "class",
      "name": "StageOnePlan",
      "lineno": 124
    },
    {
      "kind": "class",
      "name": "HydrationPlan",
      "lineno": 136
    },
    {
      "kind": "class",
      "name": "HydrationOutcome",
      "lineno": 149
    },
    {
      "kind": "function",
      "name": "build_runtime_options",
      "lineno": 156
    },
    {
      "kind": "function",
      "name": "_summarize_options",
      "lineno": 238
    },
    {
      "kind": "function",
      "name": "semantic_search_pro",
      "lineno": 251
    },
    {
      "kind": "function",
      "name": "_semantic_search_pro_sync",
      "lineno": 344
    },
    {
      "kind": "function",
      "name": "_run_coderank_stage",
      "lineno": 539
    },
    {
      "kind": "function",
      "name": "_timed_coderank_stage",
      "lineno": 607
    },
    {
      "kind": "function",
      "name": "_maybe_run_warp",
      "lineno": 627
    },
    {
      "kind": "function",
      "name": "_should_execute_stage_two",
      "lineno": 652
    },
    {
      "kind": "function",
      "name": "_execute_stage_two",
      "lineno": 706
    },
    {
      "kind": "function",
      "name": "_run_fusion_stage",
      "lineno": 740
    },
    {
      "kind": "function",
      "name": "_maybe_apply_rerank_stage",
      "lineno": 774
    },
    {
      "kind": "class",
      "name": "_RerankOutcome",
      "lineno": 852
    },
    {
      "kind": "function",
      "name": "_reorder_docs",
      "lineno": 857
    },
    {
      "kind": "function",
      "name": "_emit_rerank_decision",
      "lineno": 899
    },
    {
      "kind": "function",
      "name": "_build_rerank_plan",
      "lineno": 905
    },
    {
      "kind": "function",
      "name": "_resolve_reranker",
      "lineno": 926
    },
    {
      "kind": "function",
      "name": "_maybe_schedule_xtr_wide",
      "lineno": 941
    },
    {
      "kind": "function",
      "name": "_resolve_stage_one_outcome",
      "lineno": 974
    },
    {
      "kind": "function",
      "name": "_run_xtr_wide_stage",
      "lineno": 1052
    },
    {
      "kind": "function",
      "name": "_calculate_xtr_k",
      "lineno": 1084
    },
    {
      "kind": "function",
      "name": "_build_extra_channels",
      "lineno": 1091
    },
    {
      "kind": "function",
      "name": "_append_budget_notes",
      "lineno": 1111
    },
    {
      "kind": "function",
      "name": "_safe_int",
      "lineno": 1126
    },
    {
      "kind": "function",
      "name": "_merge_rrf_weights",
      "lineno": 1134
    },
    {
      "kind": "function",
      "name": "_run_warp_stage",
      "lineno": 1150
    },
    {
      "kind": "function",
      "name": "_warp_executor_hits",
      "lineno": 1173
    },
    {
      "kind": "function",
      "name": "_xtr_rescore_hits",
      "lineno": 1214
    },
    {
      "kind": "function",
      "name": "_hydrate_records",
      "lineno": 1262
    },
    {
      "kind": "function",
      "name": "_hydrate_and_rerank_records",
      "lineno": 1286
    },
    {
      "kind": "function",
      "name": "_maybe_rerank",
      "lineno": 1454
    },
    {
      "kind": "function",
      "name": "_rerank_gate_decision",
      "lineno": 1499
    },
    {
      "kind": "function",
      "name": "_build_findings",
      "lineno": 1516
    },
    {
      "kind": "function",
      "name": "merge_explainability_into_findings",
      "lineno": 1556
    },
    {
      "kind": "function",
      "name": "_build_method_explainability",
      "lineno": 1621
    },
    {
      "kind": "function",
      "name": "_build_method",
      "lineno": 1688
    },
    {
      "kind": "function",
      "name": "_assemble_extras",
      "lineno": 1727
    },
    {
      "kind": "function",
      "name": "_make_envelope",
      "lineno": 1792
    },
    {
      "kind": "function",
      "name": "_observability_links",
      "lineno": 1811
    },
    {
      "kind": "function",
      "name": "build_observability_links",
      "lineno": 1838
    },
    {
      "kind": "function",
      "name": "_clamp_limit",
      "lineno": 1849
    },
    {
      "kind": "function",
      "name": "_coerce_positive_int",
      "lineno": 1860
    },
    {
      "kind": "function",
      "name": "_dedupe_preserve_order",
      "lineno": 1870
    },
    {
      "kind": "class",
      "name": "WarpOutcome",
      "lineno": 1882
    },
    {
      "kind": "class",
      "name": "FusionRequest",
      "lineno": 1893
    },
    {
      "kind": "class",
      "name": "MethodContext",
      "lineno": 1907
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Two-stage semantic search (CodeRank  optional WARP  optional reranker).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "RerankOptionPayload",
      "qualname": "RerankOptionPayload",
      "kind": "class",
      "public": true,
      "lineno": 65,
      "doc_summary": "User-facing payload for overruling rerank behavior.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SemanticProOptions",
      "qualname": "SemanticProOptions",
      "kind": "class",
      "public": true,
      "lineno": 74,
      "doc_summary": "User-facing options for semantic_pro retrieval.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RerankRuntimeOptions",
      "qualname": "RerankRuntimeOptions",
      "kind": "class",
      "public": true,
      "lineno": 87,
      "doc_summary": "Runtime overrides for optional reranker stage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RerankPlan",
      "qualname": "RerankPlan",
      "kind": "class",
      "public": true,
      "lineno": 97,
      "doc_summary": "Concrete rerank execution plan derived from settings + overrides.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SemanticProRuntimeOptions",
      "qualname": "SemanticProRuntimeOptions",
      "kind": "class",
      "public": true,
      "lineno": 108,
      "doc_summary": "Internal immutable representation of semantic_pro options.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "StageOnePlan",
      "qualname": "StageOnePlan",
      "kind": "class",
      "public": true,
      "lineno": 124,
      "doc_summary": "Container for Stage-1 orchestration inputs to reduce argument lists.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HydrationPlan",
      "qualname": "HydrationPlan",
      "kind": "class",
      "public": true,
      "lineno": 136,
      "doc_summary": "Hydration plus rerank inputs passed as a cohesive plan.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HydrationOutcome",
      "qualname": "HydrationOutcome",
      "kind": "class",
      "public": true,
      "lineno": 149,
      "doc_summary": "Result of DuckDB hydration and optional LLM rerank.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "build_runtime_options",
      "qualname": "build_runtime_options",
      "kind": "function",
      "public": true,
      "lineno": 156,
      "doc_summary": "Normalize user-supplied options into an immutable dataclass.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_summarize_options",
      "qualname": "_summarize_options",
      "kind": "function",
      "public": false,
      "lineno": 238,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "semantic_search_pro",
      "qualname": "semantic_search_pro",
      "kind": "function",
      "public": true,
      "lineno": 251,
      "doc_summary": "Execute the two-stage semantic search pipeline (CodeRank  optional WARP  optional reranker).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_semantic_search_pro_sync",
      "qualname": "_semantic_search_pro_sync",
      "kind": "function",
      "public": false,
      "lineno": 344,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_run_coderank_stage",
      "qualname": "_run_coderank_stage",
      "kind": "function",
      "public": false,
      "lineno": 539,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_timed_coderank_stage",
      "qualname": "_timed_coderank_stage",
      "kind": "function",
      "public": false,
      "lineno": 607,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_maybe_run_warp",
      "qualname": "_maybe_run_warp",
      "kind": "function",
      "public": false,
      "lineno": 627,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_should_execute_stage_two",
      "qualname": "_should_execute_stage_two",
      "kind": "function",
      "public": false,
      "lineno": 652,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_execute_stage_two",
      "qualname": "_execute_stage_two",
      "kind": "function",
      "public": false,
      "lineno": 706,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_run_fusion_stage",
      "qualname": "_run_fusion_stage",
      "kind": "function",
      "public": false,
      "lineno": 740,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_maybe_apply_rerank_stage",
      "qualname": "_maybe_apply_rerank_stage",
      "kind": "function",
      "public": false,
      "lineno": 774,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_RerankOutcome",
      "qualname": "_RerankOutcome",
      "kind": "class",
      "public": false,
      "lineno": 852,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_reorder_docs",
      "qualname": "_reorder_docs",
      "kind": "function",
      "public": false,
      "lineno": 857,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_emit_rerank_decision",
      "qualname": "_emit_rerank_decision",
      "kind": "function",
      "public": false,
      "lineno": 899,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_rerank_plan",
      "qualname": "_build_rerank_plan",
      "kind": "function",
      "public": false,
      "lineno": 905,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_reranker",
      "qualname": "_resolve_reranker",
      "kind": "function",
      "public": false,
      "lineno": 926,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_maybe_schedule_xtr_wide",
      "qualname": "_maybe_schedule_xtr_wide",
      "kind": "function",
      "public": false,
      "lineno": 941,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_stage_one_outcome",
      "qualname": "_resolve_stage_one_outcome",
      "kind": "function",
      "public": false,
      "lineno": 974,
      "doc_summary": "Resolve Stage-1 orchestration outcome from a StageOnePlan.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_run_xtr_wide_stage",
      "qualname": "_run_xtr_wide_stage",
      "kind": "function",
      "public": false,
      "lineno": 1052,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_calculate_xtr_k",
      "qualname": "_calculate_xtr_k",
      "kind": "function",
      "public": false,
      "lineno": 1084,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_extra_channels",
      "qualname": "_build_extra_channels",
      "kind": "function",
      "public": false,
      "lineno": 1091,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_append_budget_notes",
      "qualname": "_append_budget_notes",
      "kind": "function",
      "public": false,
      "lineno": 1111,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_safe_int",
      "qualname": "_safe_int",
      "kind": "function",
      "public": false,
      "lineno": 1126,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_merge_rrf_weights",
      "qualname": "_merge_rrf_weights",
      "kind": "function",
      "public": false,
      "lineno": 1134,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_run_warp_stage",
      "qualname": "_run_warp_stage",
      "kind": "function",
      "public": false,
      "lineno": 1150,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_warp_executor_hits",
      "qualname": "_warp_executor_hits",
      "kind": "function",
      "public": false,
      "lineno": 1173,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_xtr_rescore_hits",
      "qualname": "_xtr_rescore_hits",
      "kind": "function",
      "public": false,
      "lineno": 1214,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_hydrate_records",
      "qualname": "_hydrate_records",
      "kind": "function",
      "public": false,
      "lineno": 1262,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_hydrate_and_rerank_records",
      "qualname": "_hydrate_and_rerank_records",
      "kind": "function",
      "public": false,
      "lineno": 1286,
      "doc_summary": "Hydrate DuckDB records and optionally rerank them using CodeRankLLM.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_maybe_rerank",
      "qualname": "_maybe_rerank",
      "kind": "function",
      "public": false,
      "lineno": 1454,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_rerank_gate_decision",
      "qualname": "_rerank_gate_decision",
      "kind": "function",
      "public": false,
      "lineno": 1499,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_findings",
      "qualname": "_build_findings",
      "kind": "function",
      "public": false,
      "lineno": 1516,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "merge_explainability_into_findings",
      "qualname": "merge_explainability_into_findings",
      "kind": "function",
      "public": true,
      "lineno": 1556,
      "doc_summary": "Append token-level explainability snippets to existing findings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_build_method_explainability",
      "qualname": "_build_method_explainability",
      "kind": "function",
      "public": false,
      "lineno": 1621,
      "doc_summary": "Build explainability payload for MethodInfo.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_build_method",
      "qualname": "_build_method",
      "kind": "function",
      "public": false,
      "lineno": 1688,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_assemble_extras",
      "qualname": "_assemble_extras",
      "kind": "function",
      "public": false,
      "lineno": 1727,
      "doc_summary": "Assemble response metadata extras dictionary.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_make_envelope",
      "qualname": "_make_envelope",
      "kind": "function",
      "public": false,
      "lineno": 1792,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_observability_links",
      "qualname": "_observability_links",
      "kind": "function",
      "public": false,
      "lineno": 1811,
      "doc_summary": "Return trace/run metadata for semantic_pro envelopes.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "build_observability_links",
      "qualname": "build_observability_links",
      "kind": "function",
      "public": true,
      "lineno": 1838,
      "doc_summary": "Return observability extras for semantic-pro responses.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_clamp_limit",
      "qualname": "_clamp_limit",
      "kind": "function",
      "public": false,
      "lineno": 1849,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_positive_int",
      "qualname": "_coerce_positive_int",
      "kind": "function",
      "public": false,
      "lineno": 1860,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_dedupe_preserve_order",
      "qualname": "_dedupe_preserve_order",
      "kind": "function",
      "public": false,
      "lineno": 1870,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "WarpOutcome",
      "qualname": "WarpOutcome",
      "kind": "class",
      "public": true,
      "lineno": 1882,
      "doc_summary": "Container describing the results of the optional WARP stage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FusionRequest",
      "qualname": "FusionRequest",
      "kind": "class",
      "public": true,
      "lineno": 1893,
      "doc_summary": "Inputs required to execute the fusion stage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "MethodContext",
      "qualname": "MethodContext",
      "kind": "class",
      "public": true,
      "lineno": 1907,
      "doc_summary": "Inputs required to build the MethodInfo payload.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 178,
    "cyclomatic": 179,
    "loc": 1920
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 24,
  "cycle_group": 136,
  "imports_internal": [
    "app/config_context.py",
    "app/middleware.py",
    "config/settings.py",
    "errors.py",
    "io/hybrid_search.py",
    "io/rerank_coderankllm.py",
    "io/warp_engine.py",
    "io/xtr_manager.py",
    "mcp_server/common/observability.py",
    "mcp_server/schemas.py",
    "mcp_server/scope_utils.py",
    "observability/flight_recorder.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "rerank/base.py",
    "rerank/xtr.py",
    "retrieval/gating.py",
    "retrieval/telemetry.py",
    "retrieval/types.py",
    "telemetry/context.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "app/middleware.py",
    "config/settings.py",
    "errors.py",
    "io/hybrid_search.py",
    "io/rerank_coderankllm.py",
    "io/warp_engine.py",
    "io/xtr_manager.py",
    "mcp_server/common/observability.py",
    "mcp_server/schemas.py",
    "mcp_server/scope_utils.py",
    "observability/flight_recorder.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "rerank/base.py",
    "rerank/xtr.py",
    "retrieval/gating.py",
    "retrieval/telemetry.py",
    "retrieval/types.py",
    "telemetry/context.py",
    "telemetry/decorators.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.392,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 19,
  "recent_churn_90": 19
}
{
  "path": "mcp_server/adapters/text_search.py",
  "repo_path": "codeintel_rev/mcp_server/adapters/text_search.py",
  "module_name": "codeintel_rev.mcp_server.adapters.text_search",
  "stable_id": "4e20123bfb1b",
  "docstring": "Text search adapter using ripgrep.\n\nFast text search with regex support.\n",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.middleware",
      "names": [
        "get_session_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.common.observability",
      "names": [
        "Observation",
        "observe_duration"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "Match",
        "ScopeIn"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.scope_utils",
      "names": [
        "get_effective_scope",
        "merge_scope_filters"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs",
        "to_label_str"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "current_run_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "VectorSearchError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.subprocess_utils",
      "names": [
        "SubprocessError",
        "SubprocessTimeoutError",
        "run_subprocess"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "SEARCH_TIMEOUT_SECONDS",
      "lineno": 37
    },
    {
      "kind": "variable",
      "name": "MAX_PREVIEW_CHARS",
      "lineno": 38
    },
    {
      "kind": "variable",
      "name": "GREP_SPLIT_PARTS",
      "lineno": 39
    },
    {
      "kind": "variable",
      "name": "COMMAND_NOT_FOUND_RETURN_CODE",
      "lineno": 40
    },
    {
      "kind": "variable",
      "name": "COMPONENT_NAME",
      "lineno": 41
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 42
    },
    {
      "kind": "class",
      "name": "TextSearchOptions",
      "lineno": 46
    },
    {
      "kind": "function",
      "name": "_bool_override",
      "lineno": 121
    },
    {
      "kind": "function",
      "name": "_sequence_override",
      "lineno": 148
    },
    {
      "kind": "function",
      "name": "_int_override",
      "lineno": 181
    },
    {
      "kind": "function",
      "name": "search_text",
      "lineno": 208
    },
    {
      "kind": "function",
      "name": "_search_text_sync",
      "lineno": 291
    },
    {
      "kind": "function",
      "name": "_fallback_grep",
      "lineno": 435
    },
    {
      "kind": "class",
      "name": "RipgrepCommandParams",
      "lineno": 554
    },
    {
      "kind": "function",
      "name": "_build_ripgrep_command",
      "lineno": 566
    },
    {
      "kind": "function",
      "name": "_parse_ripgrep_output",
      "lineno": 606
    },
    {
      "kind": "function",
      "name": "_preview_text",
      "lineno": 673
    },
    {
      "kind": "function",
      "name": "_clean_attrs",
      "lineno": 698
    }
  ],
  "exports": [
    "search_text"
  ],
  "exports_declared": [
    "search_text"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Text search adapter using ripgrep.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "TextSearchOptions",
      "qualname": "TextSearchOptions",
      "kind": "class",
      "public": true,
      "lineno": 46,
      "doc_summary": "Parameters controlling ripgrep execution.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_bool_override",
      "qualname": "_bool_override",
      "kind": "function",
      "public": false,
      "lineno": 121,
      "doc_summary": "Return a boolean override for the given key.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_sequence_override",
      "qualname": "_sequence_override",
      "kind": "function",
      "public": false,
      "lineno": 148,
      "doc_summary": "Return a sequence override if the value is a valid sequence of strings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_int_override",
      "qualname": "_int_override",
      "kind": "function",
      "public": false,
      "lineno": 181,
      "doc_summary": "Return an integer override for the given key.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "search_text",
      "qualname": "search_text",
      "kind": "function",
      "public": true,
      "lineno": 208,
      "doc_summary": "Fast text search using ripgrep (async wrapper).",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_search_text_sync",
      "qualname": "_search_text_sync",
      "kind": "function",
      "public": false,
      "lineno": 291,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_fallback_grep",
      "qualname": "_fallback_grep",
      "kind": "function",
      "public": false,
      "lineno": 435,
      "doc_summary": "Fallback to basic grep if ripgrep unavailable.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "RipgrepCommandParams",
      "qualname": "RipgrepCommandParams",
      "kind": "class",
      "public": true,
      "lineno": 554,
      "doc_summary": "Parameter bundle for constructing ripgrep commands.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_ripgrep_command",
      "qualname": "_build_ripgrep_command",
      "kind": "function",
      "public": false,
      "lineno": 566,
      "doc_summary": "Assemble the ripgrep command arguments.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_parse_ripgrep_output",
      "qualname": "_parse_ripgrep_output",
      "kind": "function",
      "public": false,
      "lineno": 606,
      "doc_summary": "Parse ripgrep JSON output into structured matches.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_preview_text",
      "qualname": "_preview_text",
      "kind": "function",
      "public": false,
      "lineno": 673,
      "doc_summary": "Return a truncated preview suitable for span attributes.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_clean_attrs",
      "qualname": "_clean_attrs",
      "kind": "function",
      "public": false,
      "lineno": 698,
      "doc_summary": "Filter out ``None`` values to keep span attributes compact.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 64,
    "cyclomatic": 65,
    "loc": 718
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 10,
  "cycle_group": 137,
  "imports_internal": [
    "app/config_context.py",
    "app/middleware.py",
    "mcp_server/common/observability.py",
    "mcp_server/schemas.py",
    "mcp_server/scope_utils.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "telemetry/context.py",
    "telemetry/decorators.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "app/middleware.py",
    "mcp_server/common/observability.py",
    "mcp_server/schemas.py",
    "mcp_server/scope_utils.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "telemetry/context.py",
    "telemetry/decorators.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.763,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 27,
  "recent_churn_90": 27
}
{
  "path": "mcp_server/common/__init__.py",
  "repo_path": "codeintel_rev/mcp_server/common/__init__.py",
  "module_name": "codeintel_rev.mcp_server.common",
  "stable_id": "29899b856a69",
  "docstring": "Common utilities and shared code for MCP server adapters.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Common utilities and shared code for MCP server adapters.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 138,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "mcp_server/common/observability.py",
  "repo_path": "codeintel_rev/mcp_server/common/observability.py",
  "module_name": "codeintel_rev.mcp_server.common.observability",
  "stable_id": "c552b5bf2197",
  "docstring": "Unified observability helpers for CodeIntel MCP adapters.\n\nThe adapters previously duplicated more than sixty lines of metrics boilerplate.\nThis module centralises the logic, delegates to :mod:`kgfoundry_common`\nobservability primitives, and keeps behaviour backward compatible with existing\nPrometheus dashboards.\n\nExamples\n--------\nBasic usage in an adapter:\n\n>>> from codeintel_rev.mcp_server.common.observability import observe_duration\n>>> with observe_duration(\"search\", \"text_search\") as observation:\n...     result = perform_search()\n...     observation.mark_success()\n\nGraceful degradation when metrics are unavailable:\n\n>>> with observe_duration(\"semantic_search\", \"codeintel_mcp\") as observation:\n...     try:\n...         perform_semantic_search()\n...         observation.mark_success()\n...     except RuntimeError:\n...         observation.mark_error()\n...         raise\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Protocol"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "current_trace_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.observability",
      "names": [
        "MetricsProvider"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.observability",
      "names": [
        "observe_duration"
      ],
      "aliases": {
        "observe_duration": "_base_observe_duration"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.observability",
      "names": [
        "DurationObservation"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 47
    },
    {
      "kind": "function",
      "name": "_supports_histogram_labels",
      "lineno": 50
    },
    {
      "kind": "class",
      "name": "_NoopObservation",
      "lineno": 73
    },
    {
      "kind": "class",
      "name": "Observation",
      "lineno": 83
    },
    {
      "kind": "function",
      "name": "observe_duration",
      "lineno": 94
    },
    {
      "kind": "function",
      "name": "_record_exemplar",
      "lineno": 152
    }
  ],
  "exports": [
    "Observation",
    "observe_duration"
  ],
  "exports_declared": [
    "Observation",
    "observe_duration"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Unified observability helpers for CodeIntel MCP adapters.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_supports_histogram_labels",
      "qualname": "_supports_histogram_labels",
      "kind": "function",
      "public": false,
      "lineno": 50,
      "doc_summary": "Return ``True`` when the histogram exposes label support.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_NoopObservation",
      "qualname": "_NoopObservation",
      "kind": "class",
      "public": false,
      "lineno": 73,
      "doc_summary": "Fallback observation used when metrics cannot be recorded.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Observation",
      "qualname": "Observation",
      "kind": "class",
      "public": true,
      "lineno": 83,
      "doc_summary": "Protocol describing the helpers provided by metrics observations.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "observe_duration",
      "qualname": "observe_duration",
      "kind": "function",
      "public": true,
      "lineno": 94,
      "doc_summary": "Yield a metrics observation with graceful degradation.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_record_exemplar",
      "qualname": "_record_exemplar",
      "kind": "function",
      "public": false,
      "lineno": 152,
      "doc_summary": "Attach exemplars to the duration histogram when supported.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 12,
    "cyclomatic": 13,
    "loc": 176
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 2,
  "cycle_group": 132,
  "imports_internal": [
    "observability/otel.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "observability/otel.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.055,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "mcp_server/error_handling.py",
  "repo_path": "codeintel_rev/mcp_server/error_handling.py",
  "module_name": "codeintel_rev.mcp_server.error_handling",
  "stable_id": "cc362e82f6f8",
  "docstring": "Centralized error handling for CodeIntel MCP server.\n\nThis module provides the unified error handling infrastructure for all MCP tools,\nensuring consistent error responses with RFC 9457 Problem Details compliance and\nstructured logging for observability.\n\nArchitecture\n------------\nThe error handling follows a three-layer pattern:\n\n1. **Adapter Layer**: Pure domain logic that raises typed exceptions\n2. **Decorator Layer**: Automatic exception  envelope conversion\n3. **Client Layer**: Uniform error envelope with Problem Details\n\nAll MCP tool functions are decorated with ``@handle_adapter_errors`` which\ncatches all exceptions, converts them to Problem Details, logs with structured\ncontext, and returns a unified error envelope.\n\nExamples\n--------\nApplying decorator to MCP tool:\n\n>>> @mcp.tool()\n>>> @handle_adapter_errors(\n...     operation=\"files:open_file\", empty_result={\"path\": \"\", \"content\": \"\", \"lines\": 0, \"size\": 0}\n... )\n... def open_file(path: str, start_line: int | None, end_line: int | None) -> dict:\n...     context = get_context()\n...     return files_adapter.open_file(context, path, start_line, end_line)\n\nError envelope structure:\n\n>>> # On success:\n>>> {\"path\": \"src/main.py\", \"content\": \"...\", \"lines\": 10, \"size\": 234}\n>>>\n>>> # On error (FileNotFoundError):\n>>> {\n...     \"path\": \"\",\n...     \"content\": \"\",\n...     \"lines\": 0,\n...     \"size\": 0,\n...     \"error\": \"File not found: src/main.py\",\n...     \"problem\": {\n...         \"type\": \"https://kgfoundry.dev/problems/file-not-found\",\n...         \"title\": \"File Not Found\",\n...         \"status\": 404,\n...         \"detail\": \"File not found: src/main.py\",\n...         \"instance\": \"urn:codeintel:files:open_file\",\n...         \"code\": \"file-not-found\",\n...     },\n... }\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "inspect"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "traceback"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Awaitable",
        "Callable",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "functools",
      "names": [
        "wraps"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "http",
      "names": [
        "HTTPStatus"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib",
      "names": [
        "import_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "TypeVar",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "PathNotDirectoryError",
        "PathNotFoundError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.path_utils",
      "names": [
        "PathOutsideRepositoryError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "current_trace_id",
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.runpack",
      "names": [
        "make_runpack"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "current_run_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.steps",
      "names": [
        "StepEvent",
        "emit_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "KgFoundryError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger",
        "with_fields"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.problem_details",
      "names": [
        "build_problem_details"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.problem_details",
      "names": [
        "ProblemDetails"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 80
    },
    {
      "kind": "variable",
      "name": "COMPONENT_NAME",
      "lineno": 81
    },
    {
      "kind": "variable",
      "name": "F",
      "lineno": 83
    },
    {
      "kind": "class",
      "name": "ProblemMapping",
      "lineno": 119
    },
    {
      "kind": "variable",
      "name": "EXCEPTION_TO_ERROR_CODE",
      "lineno": 160
    },
    {
      "kind": "function",
      "name": "format_error_response",
      "lineno": 176
    },
    {
      "kind": "function",
      "name": "convert_exception_to_envelope",
      "lineno": 234
    },
    {
      "kind": "function",
      "name": "_record_exception_event",
      "lineno": 420
    },
    {
      "kind": "function",
      "name": "handle_adapter_errors",
      "lineno": 447
    },
    {
      "kind": "function",
      "name": "_extract_context_from_args",
      "lineno": 739
    },
    {
      "kind": "function",
      "name": "_maybe_attach_runpack",
      "lineno": 763
    }
  ],
  "exports": [
    "EXCEPTION_TO_ERROR_CODE",
    "convert_exception_to_envelope",
    "format_error_response",
    "handle_adapter_errors"
  ],
  "exports_declared": [
    "EXCEPTION_TO_ERROR_CODE",
    "convert_exception_to_envelope",
    "format_error_response",
    "handle_adapter_errors"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Centralized error handling for CodeIntel MCP server.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "ProblemMapping",
      "qualname": "ProblemMapping",
      "kind": "class",
      "public": true,
      "lineno": 119,
      "doc_summary": "Mapping from exception type to RFC 9457 Problem Details metadata.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "format_error_response",
      "qualname": "format_error_response",
      "kind": "function",
      "public": true,
      "lineno": 176,
      "doc_summary": "Return Problem Details payload for the provided exception.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "convert_exception_to_envelope",
      "qualname": "convert_exception_to_envelope",
      "kind": "function",
      "public": true,
      "lineno": 234,
      "doc_summary": "Convert exception to unified error envelope with Problem Details.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_record_exception_event",
      "qualname": "_record_exception_event",
      "kind": "function",
      "public": false,
      "lineno": 420,
      "doc_summary": "Emit an OpenTelemetry exception event for adapter errors.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "handle_adapter_errors",
      "qualname": "handle_adapter_errors",
      "kind": "function",
      "public": true,
      "lineno": 447,
      "doc_summary": "Convert adapter exceptions to unified error envelopes.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_extract_context_from_args",
      "qualname": "_extract_context_from_args",
      "kind": "function",
      "public": false,
      "lineno": 739,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_maybe_attach_runpack",
      "qualname": "_maybe_attach_runpack",
      "kind": "function",
      "public": false,
      "lineno": 763,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": true,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 31,
    "cyclomatic": 32,
    "loc": 791
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 9,
  "cycle_group": 51,
  "imports_internal": [
    "app/config_context.py",
    "errors.py",
    "io/path_utils.py",
    "observability/otel.py",
    "observability/runpack.py",
    "observability/timeline.py",
    "telemetry/context.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "errors.py",
    "io/path_utils.py",
    "observability/otel.py",
    "observability/runpack.py",
    "observability/timeline.py",
    "telemetry/context.py",
    "telemetry/steps.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.622,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 15,
  "recent_churn_90": 15
}
{
  "path": "mcp_server/fetch_tool.py",
  "repo_path": "codeintel_rev/mcp_server/fetch_tool.py",
  "module_name": "codeintel_rev.mcp_server.fetch_tool",
  "stable_id": "b3b50a063a5c",
  "docstring": "Lightweight fetch helper used by the in-process MCP harness.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Literal"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.types",
      "names": [
        "FetchedObject",
        "FetchInput",
        "FetchOutput"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "CatalogProtocol",
      "lineno": 11
    },
    {
      "kind": "function",
      "name": "handle_fetch",
      "lineno": 19
    },
    {
      "kind": "function",
      "name": "_build_url",
      "lineno": 78
    },
    {
      "kind": "function",
      "name": "_normalize_fetch_input",
      "lineno": 97
    },
    {
      "kind": "function",
      "name": "_coerce_optional_int",
      "lineno": 131
    },
    {
      "kind": "function",
      "name": "_coerce_object_ids",
      "lineno": 149
    },
    {
      "kind": "function",
      "name": "_coerce_resolve",
      "lineno": 183
    },
    {
      "kind": "function",
      "name": "_coerce_int",
      "lineno": 216
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Lightweight fetch helper used by the in-process MCP harness.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "CatalogProtocol",
      "qualname": "CatalogProtocol",
      "kind": "class",
      "public": true,
      "lineno": 11,
      "doc_summary": "Protocol describing the catalog lookups required for fetch.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "handle_fetch",
      "qualname": "handle_fetch",
      "kind": "function",
      "public": true,
      "lineno": 19,
      "doc_summary": "Hydrate chunk IDs using the provided catalog.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_url",
      "qualname": "_build_url",
      "kind": "function",
      "public": false,
      "lineno": 78,
      "doc_summary": "Build a repo:// URL from chunk metadata row.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_fetch_input",
      "qualname": "_normalize_fetch_input",
      "kind": "function",
      "public": false,
      "lineno": 97,
      "doc_summary": "Normalize and validate fetch tool input arguments.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_optional_int",
      "qualname": "_coerce_optional_int",
      "kind": "function",
      "public": false,
      "lineno": 131,
      "doc_summary": "Coerce an optional value to int or None.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_object_ids",
      "qualname": "_coerce_object_ids",
      "kind": "function",
      "public": false,
      "lineno": 149,
      "doc_summary": "Coerce object IDs to a list of non-empty strings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_resolve",
      "qualname": "_coerce_resolve",
      "kind": "function",
      "public": false,
      "lineno": 183,
      "doc_summary": "Coerce resolve option to a valid literal value.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_int",
      "qualname": "_coerce_int",
      "kind": "function",
      "public": false,
      "lineno": 216,
      "doc_summary": "Coerce a value to an integer with fallback to default.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [
    "NotImplementedError"
  ],
  "complexity": {
    "branches": 28,
    "cyclomatic": 29,
    "loc": 253
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 2,
  "cycle_group": 140,
  "imports_internal": [
    "mcp_server/types.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "mcp_server/types.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.121,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "mcp_server/registry.py",
  "repo_path": "codeintel_rev/mcp_server/registry.py",
  "module_name": "codeintel_rev.mcp_server.registry",
  "stable_id": "c1f97ff1e534",
  "docstring": "In-process registry for the lightweight MCP testing harness.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.fetch_tool",
      "names": [
        "handle_fetch"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.search_tool",
      "names": [
        "SearchDeps",
        "handle_search"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.types",
      "names": [
        "FetchOutput",
        "fetch_input_schema",
        "fetch_output_schema",
        "search_input_schema",
        "search_output_schema"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "McpDeps",
      "lineno": 23
    },
    {
      "kind": "function",
      "name": "list_tools",
      "lineno": 31
    },
    {
      "kind": "function",
      "name": "call_tool",
      "lineno": 55
    },
    {
      "kind": "function",
      "name": "_error_response",
      "lineno": 99
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "In-process registry for the lightweight MCP testing harness.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "McpDeps",
      "qualname": "McpDeps",
      "kind": "class",
      "public": true,
      "lineno": 23,
      "doc_summary": "Dependencies required for running the lightweight MCP tools.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "list_tools",
      "qualname": "list_tools",
      "kind": "function",
      "public": true,
      "lineno": 31,
      "doc_summary": "Return tool metadata compatible with MCP /tools/list responses.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "call_tool",
      "qualname": "call_tool",
      "kind": "function",
      "public": true,
      "lineno": 55,
      "doc_summary": "Execute a tool using the provided dependencies.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_error_response",
      "qualname": "_error_response",
      "kind": "function",
      "public": false,
      "lineno": 99,
      "doc_summary": "Build an MCP-compatible error response envelope.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 6,
    "cyclomatic": 7,
    "loc": 118
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 4,
  "cycle_group": 142,
  "imports_internal": [
    "mcp_server/fetch_tool.py",
    "mcp_server/search_tool.py",
    "mcp_server/types.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "mcp_server/fetch_tool.py",
    "mcp_server/search_tool.py",
    "mcp_server/types.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.887,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "mcp_server/retrieval/__init__.py",
  "repo_path": "codeintel_rev/mcp_server/retrieval/__init__.py",
  "module_name": "codeintel_rev.mcp_server.retrieval",
  "stable_id": "40652e1cf6f3",
  "docstring": "Retrieval utilities exposed via MCP tooling.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "codeintel_rev.mcp_server.retrieval",
      "names": [
        "xtr_cli"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "xtr_cli"
  ],
  "exports_declared": [
    "xtr_cli"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Retrieval utilities exposed via MCP tooling.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 6
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 143,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "mcp_server/retrieval/xtr_cli.py",
  "repo_path": "codeintel_rev/mcp_server/retrieval/xtr_cli.py",
  "module_name": "codeintel_rev.mcp_server.retrieval.xtr_cli",
  "stable_id": "bdcb50761ec2",
  "docstring": "Typer CLI for building, verifying, and probing XTR artifacts.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Annotated"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "resolve_application_paths"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.indexing.xtr_build",
      "names": [
        "build_xtr_index"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.xtr_manager",
      "names": [
        "XTRIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "app",
      "lineno": 14
    },
    {
      "kind": "function",
      "name": "build",
      "lineno": 31
    },
    {
      "kind": "function",
      "name": "verify",
      "lineno": 44
    },
    {
      "kind": "function",
      "name": "search",
      "lineno": 70
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 158
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Typer CLI for building, verifying, and probing XTR artifacts.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "build",
      "qualname": "build",
      "kind": "function",
      "public": true,
      "lineno": 31,
      "doc_summary": "Build token-level XTR artifacts from the DuckDB catalog.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "verify",
      "qualname": "verify",
      "kind": "function",
      "public": true,
      "lineno": 44,
      "doc_summary": "Verify that XTR artifacts can be opened.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "search",
      "qualname": "search",
      "kind": "function",
      "public": true,
      "lineno": 70,
      "doc_summary": "Run a quick XTR search (wide or narrow depending on candidate ids).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 158,
      "doc_summary": "Execute the Typer app.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 12,
    "cyclomatic": 13,
    "loc": 165
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 5,
  "cycle_group": 77,
  "imports_internal": [
    "app/config_context.py",
    "config/settings.py",
    "indexing/xtr_build.py",
    "io/xtr_manager.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "config/settings.py",
    "indexing/xtr_build.py",
    "io/xtr_manager.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.117,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 5,
  "recent_churn_90": 5
}
{
  "path": "mcp_server/schemas.py",
  "repo_path": "codeintel_rev/mcp_server/schemas.py",
  "module_name": "codeintel_rev.mcp_server.schemas",
  "stable_id": "7d2f88956b49",
  "docstring": "MCP server schemas using TypedDict for FastMCP compatibility.\n\nTypedDict provides automatic JSON Schema generation for FastMCP tools.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Literal",
        "NotRequired",
        "TypedDict"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.problem_details",
      "names": [
        "ProblemDetailsDict"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "BaseErrorFields",
      "lineno": 13
    },
    {
      "kind": "class",
      "name": "ScopeIn",
      "lineno": 35
    },
    {
      "kind": "class",
      "name": "Match",
      "lineno": 92
    },
    {
      "kind": "class",
      "name": "Location",
      "lineno": 130
    },
    {
      "kind": "class",
      "name": "Finding",
      "lineno": 168
    },
    {
      "kind": "class",
      "name": "MethodInfo",
      "lineno": 218
    },
    {
      "kind": "class",
      "name": "StageInfo",
      "lineno": 256
    },
    {
      "kind": "class",
      "name": "SearchFilterPayload",
      "lineno": 268
    },
    {
      "kind": "class",
      "name": "SearchToolArgs",
      "lineno": 290
    },
    {
      "kind": "class",
      "name": "SearchExplainability",
      "lineno": 299
    },
    {
      "kind": "class",
      "name": "SearchResultMetadata",
      "lineno": 308
    },
    {
      "kind": "class",
      "name": "SearchResultItem",
      "lineno": 321
    },
    {
      "kind": "class",
      "name": "SearchStructuredContent",
      "lineno": 333
    },
    {
      "kind": "class",
      "name": "FetchToolArgs",
      "lineno": 342
    },
    {
      "kind": "class",
      "name": "FetchObjectMetadata",
      "lineno": 349
    },
    {
      "kind": "class",
      "name": "FetchObject",
      "lineno": 360
    },
    {
      "kind": "class",
      "name": "FetchStructuredContent",
      "lineno": 370
    },
    {
      "kind": "class",
      "name": "AnswerEnvelope",
      "lineno": 376
    },
    {
      "kind": "class",
      "name": "SymbolInfo",
      "lineno": 480
    },
    {
      "kind": "class",
      "name": "GitBlameEntry",
      "lineno": 511
    },
    {
      "kind": "class",
      "name": "OpenFileResponse",
      "lineno": 544
    },
    {
      "kind": "class",
      "name": "ListPathsResponse",
      "lineno": 568
    },
    {
      "kind": "class",
      "name": "BlameRangeResponse",
      "lineno": 589
    },
    {
      "kind": "class",
      "name": "FileHistoryResponse",
      "lineno": 604
    },
    {
      "kind": "class",
      "name": "SearchTextResponse",
      "lineno": 619
    }
  ],
  "exports": [
    "AnswerEnvelope",
    "BaseErrorFields",
    "BlameRangeResponse",
    "FetchObject",
    "FetchObjectMetadata",
    "FetchStructuredContent",
    "FetchToolArgs",
    "FileHistoryResponse",
    "Finding",
    "GitBlameEntry",
    "ListPathsResponse",
    "Location",
    "Match",
    "MethodInfo",
    "OpenFileResponse",
    "ScopeIn",
    "SearchExplainability",
    "SearchFilterPayload",
    "SearchResultItem",
    "SearchResultMetadata",
    "SearchStructuredContent",
    "SearchTextResponse",
    "SearchToolArgs",
    "SymbolInfo"
  ],
  "exports_declared": [
    "AnswerEnvelope",
    "BaseErrorFields",
    "BlameRangeResponse",
    "FetchObject",
    "FetchObjectMetadata",
    "FetchStructuredContent",
    "FetchToolArgs",
    "FileHistoryResponse",
    "Finding",
    "GitBlameEntry",
    "ListPathsResponse",
    "Location",
    "Match",
    "MethodInfo",
    "OpenFileResponse",
    "ScopeIn",
    "SearchExplainability",
    "SearchFilterPayload",
    "SearchResultItem",
    "SearchResultMetadata",
    "SearchStructuredContent",
    "SearchTextResponse",
    "SearchToolArgs",
    "SymbolInfo"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "MCP server schemas using TypedDict for FastMCP compatibility.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "BaseErrorFields",
      "qualname": "BaseErrorFields",
      "kind": "class",
      "public": true,
      "lineno": 13,
      "doc_summary": "Base fields present in ALL error responses.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ScopeIn",
      "qualname": "ScopeIn",
      "kind": "class",
      "public": true,
      "lineno": 35,
      "doc_summary": "Query scope parameters for filtering search results.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Match",
      "qualname": "Match",
      "kind": "class",
      "public": true,
      "lineno": 92,
      "doc_summary": "Search match result from text or semantic search.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Location",
      "qualname": "Location",
      "kind": "class",
      "public": true,
      "lineno": 130,
      "doc_summary": "Source code location with precise line and column positions.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Finding",
      "qualname": "Finding",
      "kind": "class",
      "public": true,
      "lineno": 168,
      "doc_summary": "Generic finding result from code intelligence queries.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "MethodInfo",
      "qualname": "MethodInfo",
      "kind": "class",
      "public": true,
      "lineno": 218,
      "doc_summary": "Retrieval method metadata for search operations.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "StageInfo",
      "qualname": "StageInfo",
      "kind": "class",
      "public": true,
      "lineno": 256,
      "doc_summary": "Timing metadata for an individual retrieval stage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchFilterPayload",
      "qualname": "SearchFilterPayload",
      "kind": "class",
      "public": true,
      "lineno": 268,
      "doc_summary": "Structured filter payload for Deep Research search requests.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchToolArgs",
      "qualname": "SearchToolArgs",
      "kind": "class",
      "public": true,
      "lineno": 290,
      "doc_summary": "Input schema for the MCP ``search`` tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchExplainability",
      "qualname": "SearchExplainability",
      "kind": "class",
      "public": true,
      "lineno": 299,
      "doc_summary": "Explainability payload attached to each search result.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchResultMetadata",
      "qualname": "SearchResultMetadata",
      "kind": "class",
      "public": true,
      "lineno": 308,
      "doc_summary": "Metadata exposed alongside each MCP search hit.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchResultItem",
      "qualname": "SearchResultItem",
      "kind": "class",
      "public": true,
      "lineno": 321,
      "doc_summary": "Single MCP search result entry.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchStructuredContent",
      "qualname": "SearchStructuredContent",
      "kind": "class",
      "public": true,
      "lineno": 333,
      "doc_summary": "Structured payload returned by the MCP ``search`` tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchToolArgs",
      "qualname": "FetchToolArgs",
      "kind": "class",
      "public": true,
      "lineno": 342,
      "doc_summary": "Input schema for the MCP ``fetch`` tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchObjectMetadata",
      "qualname": "FetchObjectMetadata",
      "kind": "class",
      "public": true,
      "lineno": 349,
      "doc_summary": "Metadata describing a hydrated chunk object.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchObject",
      "qualname": "FetchObject",
      "kind": "class",
      "public": true,
      "lineno": 360,
      "doc_summary": "Object entry returned by the MCP ``fetch`` tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchStructuredContent",
      "qualname": "FetchStructuredContent",
      "kind": "class",
      "public": true,
      "lineno": 370,
      "doc_summary": "Structured payload returned by the MCP ``fetch`` tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "AnswerEnvelope",
      "qualname": "AnswerEnvelope",
      "kind": "class",
      "public": true,
      "lineno": 376,
      "doc_summary": "Standard response envelope for MCP code intelligence tools.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SymbolInfo",
      "qualname": "SymbolInfo",
      "kind": "class",
      "public": true,
      "lineno": 480,
      "doc_summary": "Symbol information with location and documentation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "GitBlameEntry",
      "qualname": "GitBlameEntry",
      "kind": "class",
      "public": true,
      "lineno": 511,
      "doc_summary": "Git blame entry for a single line of code.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "OpenFileResponse",
      "qualname": "OpenFileResponse",
      "kind": "class",
      "public": true,
      "lineno": 544,
      "doc_summary": "Response from open_file tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ListPathsResponse",
      "qualname": "ListPathsResponse",
      "kind": "class",
      "public": true,
      "lineno": 568,
      "doc_summary": "Response from list_paths tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "BlameRangeResponse",
      "qualname": "BlameRangeResponse",
      "kind": "class",
      "public": true,
      "lineno": 589,
      "doc_summary": "Response from blame_range tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FileHistoryResponse",
      "qualname": "FileHistoryResponse",
      "kind": "class",
      "public": true,
      "lineno": 604,
      "doc_summary": "Response from file_history tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchTextResponse",
      "qualname": "SearchTextResponse",
      "kind": "class",
      "public": true,
      "lineno": 619,
      "doc_summary": "Response from search_text tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": true,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 666
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 13,
  "fan_out": 1,
  "cycle_group": 30,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.838,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 12,
  "recent_churn_90": 12
}
{
  "path": "mcp_server/scope_utils.py",
  "repo_path": "codeintel_rev/mcp_server/scope_utils.py",
  "module_name": "codeintel_rev.mcp_server.scope_utils",
  "stable_id": "6f904dca7d37",
  "docstring": "Scope filtering and merging utilities for CodeIntel MCP.\n\nThis module provides helper functions for retrieving session scopes, merging them\nwith explicit adapter parameters, and applying path/language filters to search results.\n\nKey Functions\n-------------\nget_effective_scope : Retrieve session scope from registry\nmerge_scope_filters : Merge session scope with explicit parameters (explicit wins)\napply_path_filters : Filter paths using glob patterns (fnmatch)\napply_language_filter : Filter paths by programming language extension\npath_matches_glob : Test if path matches glob pattern\n\nDesign Principles\n-----------------\n- **Explicit Precedence**: Explicit adapter parameters always override session scope\n- **Fail-Safe**: Missing scope or empty filters return unfiltered results\n- **Cross-Platform**: Normalize path separators for Windows/Unix compatibility\n- **Performance**: Early-exit for empty filters to avoid unnecessary iterations\n\nExample Usage\n-------------\nRetrieve and merge scope in adapter:\n\n>>> from codeintel_rev.mcp_server.scope_utils import get_effective_scope, merge_scope_filters\n>>> session_id = get_session_id()\n>>> scope = get_effective_scope(context, session_id)\n>>> merged = merge_scope_filters(scope, {\"include_globs\": [\"src/**\"]})\n>>> # merged[\"include_globs\"] is now [\"src/**\"] (explicit overrides scope)\n\nFilter paths by glob patterns:\n\n>>> from codeintel_rev.mcp_server.scope_utils import apply_path_filters\n>>> paths = [\"src/main.py\", \"tests/test_main.py\", \"docs/README.md\"]\n>>> filtered = apply_path_filters(paths, include_globs=[\"**/*.py\"], exclude_globs=[\"**/test_*.py\"])\n>>> filtered\n['src/main.py']\n\nFilter paths by language:\n\n>>> from codeintel_rev.mcp_server.scope_utils import apply_language_filter\n>>> paths = [\"src/main.py\", \"src/app.ts\", \"README.md\"]\n>>> filtered = apply_language_filter(paths, [\"python\"])\n>>> filtered\n['src/main.py']\n\nSee Also\n--------\ncodeintel_rev.app.scope_store : ScopeStore for storing session scopes\ncodeintel_rev.app.middleware : get_session_id for retrieving session ID\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "fnmatch"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.otel_metrics",
      "names": [
        "build_histogram"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "ScopeIn"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 66
    },
    {
      "kind": "variable",
      "name": "LANGUAGE_EXTENSIONS",
      "lineno": 77
    },
    {
      "kind": "function",
      "name": "get_effective_scope",
      "lineno": 116
    },
    {
      "kind": "function",
      "name": "merge_scope_filters",
      "lineno": 160
    },
    {
      "kind": "function",
      "name": "apply_path_filters",
      "lineno": 235
    },
    {
      "kind": "function",
      "name": "apply_language_filter",
      "lineno": 324
    },
    {
      "kind": "function",
      "name": "path_matches_glob",
      "lineno": 418
    }
  ],
  "exports": [
    "LANGUAGE_EXTENSIONS",
    "apply_language_filter",
    "apply_path_filters",
    "get_effective_scope",
    "merge_scope_filters",
    "path_matches_glob"
  ],
  "exports_declared": [
    "LANGUAGE_EXTENSIONS",
    "apply_language_filter",
    "apply_path_filters",
    "get_effective_scope",
    "merge_scope_filters",
    "path_matches_glob"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Scope filtering and merging utilities for CodeIntel MCP.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "get_effective_scope",
      "qualname": "get_effective_scope",
      "kind": "function",
      "public": true,
      "lineno": 116,
      "doc_summary": "Retrieve session scope from the scope store.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "merge_scope_filters",
      "qualname": "merge_scope_filters",
      "kind": "function",
      "public": true,
      "lineno": 160,
      "doc_summary": "Merge session scope with explicit adapter parameters.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "apply_path_filters",
      "qualname": "apply_path_filters",
      "kind": "function",
      "public": true,
      "lineno": 235,
      "doc_summary": "Filter paths using glob patterns.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "apply_language_filter",
      "qualname": "apply_language_filter",
      "kind": "function",
      "public": true,
      "lineno": 324,
      "doc_summary": "Filter paths by programming language.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "path_matches_glob",
      "qualname": "path_matches_glob",
      "kind": "function",
      "public": true,
      "lineno": 418,
      "doc_summary": "Test if path matches glob pattern.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 16,
    "cyclomatic": 17,
    "loc": 487
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 5,
  "fan_out": 4,
  "cycle_group": 41,
  "imports_internal": [
    "app/config_context.py",
    "mcp_server/schemas.py",
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "mcp_server/schemas.py",
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.335,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 8,
  "recent_churn_90": 8
}
{
  "path": "mcp_server/search_tool.py",
  "repo_path": "codeintel_rev/mcp_server/search_tool.py",
  "module_name": "codeintel_rev.mcp_server.search_tool",
  "stable_id": "3b3a0bfd4adb",
  "docstring": "Lightweight search helpers used by the in-process MCP harness.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Protocol"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.types",
      "names": [
        "SearchInput",
        "SearchOutput",
        "SearchResultItem"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "CatalogProtocol",
      "lineno": 12
    },
    {
      "kind": "class",
      "name": "SearchDeps",
      "lineno": 21
    },
    {
      "kind": "function",
      "name": "handle_search",
      "lineno": 29
    },
    {
      "kind": "function",
      "name": "_merge_candidates",
      "lineno": 101
    },
    {
      "kind": "function",
      "name": "_build_url",
      "lineno": 132
    },
    {
      "kind": "function",
      "name": "_build_snippet",
      "lineno": 151
    },
    {
      "kind": "function",
      "name": "_normalize_search_input",
      "lineno": 173
    },
    {
      "kind": "function",
      "name": "_coerce_int",
      "lineno": 203
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Lightweight search helpers used by the in-process MCP harness.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "CatalogProtocol",
      "qualname": "CatalogProtocol",
      "kind": "class",
      "public": true,
      "lineno": 12,
      "doc_summary": "Protocol describing the catalog surface used by the lightweight MCP tools.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchDeps",
      "qualname": "SearchDeps",
      "kind": "class",
      "public": true,
      "lineno": 21,
      "doc_summary": "Dependencies required to execute the light search helper.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "handle_search",
      "qualname": "handle_search",
      "kind": "function",
      "public": true,
      "lineno": 29,
      "doc_summary": "Execute a lightweight search suitable for MCP tests or tooling.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_merge_candidates",
      "qualname": "_merge_candidates",
      "kind": "function",
      "public": false,
      "lineno": 101,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_url",
      "qualname": "_build_url",
      "kind": "function",
      "public": false,
      "lineno": 132,
      "doc_summary": "Build a repo:// URL from chunk metadata row.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_snippet",
      "qualname": "_build_snippet",
      "kind": "function",
      "public": false,
      "lineno": 151,
      "doc_summary": "Build a text snippet from chunk metadata row.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_search_input",
      "qualname": "_normalize_search_input",
      "kind": "function",
      "public": false,
      "lineno": 173,
      "doc_summary": "Normalize and validate search tool input arguments.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_int",
      "qualname": "_coerce_int",
      "kind": "function",
      "public": false,
      "lineno": 203,
      "doc_summary": "Coerce a value to an integer with fallback to default.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [
    "NotImplementedError"
  ],
  "complexity": {
    "branches": 35,
    "cyclomatic": 36,
    "loc": 240
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 2,
  "cycle_group": 141,
  "imports_internal": [
    "mcp_server/types.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "mcp_server/types.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.184,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "mcp_server/server.py",
  "repo_path": "codeintel_rev/mcp_server/server.py",
  "module_name": "codeintel_rev.mcp_server.server",
  "stable_id": "166304cfd836",
  "docstring": "FastMCP server with QueryScope tools.\n\nImplements full MCP tool catalog for code intelligence.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "contextvars"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "fastmcp",
      "names": [
        "FastMCP"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "starlette.types",
      "names": [
        "ASGIApp"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.capabilities",
      "names": [
        "Capabilities"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.adapters",
      "names": [
        "files"
      ],
      "aliases": {
        "files": "files_adapter"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.adapters",
      "names": [
        "history"
      ],
      "aliases": {
        "history": "history_adapter"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.adapters",
      "names": [
        "text_search"
      ],
      "aliases": {
        "text_search": "text_search_adapter"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.error_handling",
      "names": [
        "handle_adapter_errors"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "ScopeIn"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.telemetry",
      "names": [
        "tool_operation_scope"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.reporting",
      "names": [
        "latest_run_report"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "mcp",
      "lineno": 25
    },
    {
      "kind": "variable",
      "name": "app_context",
      "lineno": 30
    },
    {
      "kind": "function",
      "name": "get_context",
      "lineno": 35
    },
    {
      "kind": "function",
      "name": "set_scope",
      "lineno": 63
    },
    {
      "kind": "function",
      "name": "list_paths",
      "lineno": 86
    },
    {
      "kind": "function",
      "name": "open_file",
      "lineno": 139
    },
    {
      "kind": "function",
      "name": "search_text",
      "lineno": 180
    },
    {
      "kind": "function",
      "name": "blame_range",
      "lineno": 238
    },
    {
      "kind": "function",
      "name": "file_history",
      "lineno": 278
    },
    {
      "kind": "function",
      "name": "report_latest_run",
      "lineno": 310
    },
    {
      "kind": "function",
      "name": "file_resource",
      "lineno": 338
    },
    {
      "kind": "function",
      "name": "prompt_code_review",
      "lineno": 362
    },
    {
      "kind": "function",
      "name": "build_http_app",
      "lineno": 378
    }
  ],
  "exports": [
    "app_context",
    "build_http_app",
    "get_context",
    "mcp"
  ],
  "exports_declared": [
    "app_context",
    "build_http_app",
    "get_context",
    "mcp"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "FastMCP server with QueryScope tools.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "get_context",
      "qualname": "get_context",
      "kind": "function",
      "public": true,
      "lineno": 35,
      "doc_summary": "Extract ApplicationContext from context variable.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "set_scope",
      "qualname": "set_scope",
      "kind": "function",
      "public": true,
      "lineno": 63,
      "doc_summary": "Set query scope for subsequent operations.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "list_paths",
      "qualname": "list_paths",
      "kind": "function",
      "public": true,
      "lineno": 86,
      "doc_summary": "List files in scope (async).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "open_file",
      "qualname": "open_file",
      "kind": "function",
      "public": true,
      "lineno": 139,
      "doc_summary": "Read file content.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "search_text",
      "qualname": "search_text",
      "kind": "function",
      "public": true,
      "lineno": 180,
      "doc_summary": "Fast text search (ripgrep-like).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "blame_range",
      "qualname": "blame_range",
      "kind": "function",
      "public": true,
      "lineno": 238,
      "doc_summary": "Git blame for line range (async).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "file_history",
      "qualname": "file_history",
      "kind": "function",
      "public": true,
      "lineno": 278,
      "doc_summary": "Get file commit history (async).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "report_latest_run",
      "qualname": "report_latest_run",
      "kind": "function",
      "public": true,
      "lineno": 310,
      "doc_summary": "Return metadata about the most recent run report artifact.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "file_resource",
      "qualname": "file_resource",
      "kind": "function",
      "public": true,
      "lineno": 338,
      "doc_summary": "Serve file content as resource.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "prompt_code_review",
      "qualname": "prompt_code_review",
      "kind": "function",
      "public": true,
      "lineno": 362,
      "doc_summary": "Code review prompt template.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "build_http_app",
      "qualname": "build_http_app",
      "kind": "function",
      "public": true,
      "lineno": 378,
      "doc_summary": "Return the FastMCP ASGI app with capability-gated tool registration.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 15,
    "cyclomatic": 16,
    "loc": 417
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 7,
  "cycle_group": 53,
  "imports_internal": [
    "app/capabilities.py",
    "app/config_context.py",
    "mcp_server/adapters/__init__.py",
    "mcp_server/error_handling.py",
    "mcp_server/schemas.py",
    "mcp_server/telemetry.py",
    "observability/reporting.py"
  ],
  "imports_intra_repo": [
    "app/capabilities.py",
    "app/config_context.py",
    "mcp_server/adapters/__init__.py",
    "mcp_server/error_handling.py",
    "mcp_server/schemas.py",
    "mcp_server/telemetry.py",
    "observability/reporting.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.356,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 14,
  "recent_churn_90": 14
}
{
  "path": "mcp_server/server_semantic.py",
  "repo_path": "codeintel_rev/mcp_server/server_semantic.py",
  "module_name": "codeintel_rev.mcp_server.server_semantic",
  "stable_id": "e318c5f5617c",
  "docstring": "Semantic MCP tool registrations (pure move from server.py).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "asyncio"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.adapters",
      "names": [
        "deep_research"
      ],
      "aliases": {
        "deep_research": "deep_research_adapter"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.adapters",
      "names": [
        "semantic"
      ],
      "aliases": {
        "semantic": "semantic_adapter"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.adapters",
      "names": [
        "semantic_pro"
      ],
      "aliases": {
        "semantic_pro": "semantic_pro_adapter"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.error_handling",
      "names": [
        "handle_adapter_errors"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "AnswerEnvelope",
        "FetchStructuredContent",
        "FetchToolArgs",
        "SearchFilterPayload",
        "SearchStructuredContent",
        "SearchToolArgs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.server",
      "names": [
        "get_context",
        "mcp"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.telemetry",
      "names": [
        "tool_operation_scope"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "current_trace_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "current_session"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.reporter",
      "names": [
        "build_report"
      ],
      "aliases": {
        "build_report": "build_run_report"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.reporter",
      "names": [
        "report_to_json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "deep_research_search",
      "lineno": 34
    },
    {
      "kind": "function",
      "name": "deep_research_fetch",
      "lineno": 96
    },
    {
      "kind": "function",
      "name": "semantic_search",
      "lineno": 143
    },
    {
      "kind": "function",
      "name": "semantic_search_pro",
      "lineno": 194
    },
    {
      "kind": "function",
      "name": "telemetry_run_report",
      "lineno": 255
    },
    {
      "kind": "function",
      "name": "_render_run_report",
      "lineno": 293
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Semantic MCP tool registrations (pure move from server.py).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "deep_research_search",
      "qualname": "deep_research_search",
      "kind": "function",
      "public": true,
      "lineno": 34,
      "doc_summary": "Deep-Research compatible semantic search that returns chunk ids.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "deep_research_fetch",
      "qualname": "deep_research_fetch",
      "kind": "function",
      "public": true,
      "lineno": 96,
      "doc_summary": "Hydrate chunk ids produced by :func:`deep_research_search`.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "semantic_search",
      "qualname": "semantic_search",
      "kind": "function",
      "public": true,
      "lineno": 143,
      "doc_summary": "Semantic code search using embeddings.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "semantic_search_pro",
      "qualname": "semantic_search_pro",
      "kind": "function",
      "public": true,
      "lineno": 194,
      "doc_summary": "Two-stage semantic retrieval with optional late interaction and reranker.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "telemetry_run_report",
      "qualname": "telemetry_run_report",
      "kind": "function",
      "public": true,
      "lineno": 255,
      "doc_summary": "Return the latest run report for the active or requested session.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_render_run_report",
      "qualname": "_render_run_report",
      "kind": "function",
      "public": false,
      "lineno": 293,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": true,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 14,
    "cyclomatic": 15,
    "loc": 309
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 10,
  "cycle_group": 144,
  "imports_internal": [
    "app/config_context.py",
    "mcp_server/adapters/__init__.py",
    "mcp_server/error_handling.py",
    "mcp_server/schemas.py",
    "mcp_server/server.py",
    "mcp_server/telemetry.py",
    "observability/otel.py",
    "telemetry/context.py",
    "telemetry/reporter.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "mcp_server/adapters/__init__.py",
    "mcp_server/error_handling.py",
    "mcp_server/schemas.py",
    "mcp_server/server.py",
    "mcp_server/telemetry.py",
    "observability/otel.py",
    "telemetry/context.py",
    "telemetry/reporter.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.338,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 8,
  "recent_churn_90": 8
}
{
  "path": "mcp_server/server_symbols.py",
  "repo_path": "codeintel_rev/mcp_server/server_symbols.py",
  "module_name": "codeintel_rev.mcp_server.server_symbols",
  "stable_id": "ba3b5f662bbb",
  "docstring": "Symbol MCP tool registrations (pure move from server.py).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.error_handling",
      "names": [
        "handle_adapter_errors"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "Location",
        "SymbolInfo"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.server",
      "names": [
        "get_context",
        "mcp"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.telemetry",
      "names": [
        "tool_operation_scope"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "symbol_search",
      "lineno": 16
    },
    {
      "kind": "function",
      "name": "definition_at",
      "lineno": 108
    },
    {
      "kind": "function",
      "name": "references_at",
      "lineno": 189
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Symbol MCP tool registrations (pure move from server.py).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "symbol_search",
      "qualname": "symbol_search",
      "kind": "function",
      "public": true,
      "lineno": 16,
      "doc_summary": "Search for symbols (functions, classes, etc).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "definition_at",
      "qualname": "definition_at",
      "kind": "function",
      "public": true,
      "lineno": 108,
      "doc_summary": "Find definition at position.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "references_at",
      "qualname": "references_at",
      "kind": "function",
      "public": true,
      "lineno": 189,
      "doc_summary": "Find references at position.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 16,
    "cyclomatic": 17,
    "loc": 263
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 4,
  "cycle_group": 145,
  "imports_internal": [
    "mcp_server/error_handling.py",
    "mcp_server/schemas.py",
    "mcp_server/server.py",
    "mcp_server/telemetry.py"
  ],
  "imports_intra_repo": [
    "mcp_server/error_handling.py",
    "mcp_server/schemas.py",
    "mcp_server/server.py",
    "mcp_server/telemetry.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.057,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "mcp_server/service_context.py",
  "repo_path": "codeintel_rev/mcp_server/service_context.py",
  "module_name": "codeintel_rev.mcp_server.service_context",
  "stable_id": "90678ce8c403",
  "docstring": "Cached application context for MCP tool adapters.\n\nThis module exposes a small facade that lazily creates and caches the\n:class:`~codeintel_rev.app.config_context.ApplicationContext` used by the MCP\nserver tool adapters. The cached context reuses the same configuration and\npath-resolution logic as the FastAPI app and readiness probes because it\nultimately delegates creation to :meth:`ApplicationContext.create`, which reads\nenvironment overrides and resolves paths via\n:func:`~codeintel_rev.app.config_context.resolve_application_paths`.\n\nThe cache ensures heavy resources such as the FAISS index manager and DuckDB\ncatalog are only initialized once per process. Tests and administrative scripts\ncan call :func:`reset_service_context` to clear the cache when environment\nvariables change or when they need fresh dependencies.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "Lock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "_get_cached_context",
      "lineno": 31
    },
    {
      "kind": "function",
      "name": "_set_cached_context",
      "lineno": 42
    },
    {
      "kind": "function",
      "name": "get_service_context",
      "lineno": 47
    },
    {
      "kind": "function",
      "name": "reset_service_context",
      "lineno": 71
    }
  ],
  "exports": [
    "get_service_context",
    "reset_service_context"
  ],
  "exports_declared": [
    "get_service_context",
    "reset_service_context"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Cached application context for MCP tool adapters.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_get_cached_context",
      "qualname": "_get_cached_context",
      "kind": "function",
      "public": false,
      "lineno": 31,
      "doc_summary": "Return the cached context instance, if any.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_set_cached_context",
      "qualname": "_set_cached_context",
      "kind": "function",
      "public": false,
      "lineno": 42,
      "doc_summary": "Update the cached context reference.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "get_service_context",
      "qualname": "get_service_context",
      "kind": "function",
      "public": true,
      "lineno": 47,
      "doc_summary": "Return the cached :class:`ApplicationContext` instance.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "reset_service_context",
      "qualname": "reset_service_context",
      "kind": "function",
      "public": true,
      "lineno": 71,
      "doc_summary": "Clear the cached :class:`ApplicationContext`.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 4,
    "cyclomatic": 5,
    "loc": 80
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 1,
  "cycle_group": 146,
  "imports_internal": [
    "app/config_context.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.361,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 10,
  "recent_churn_90": 10
}
{
  "path": "mcp_server/telemetry.py",
  "repo_path": "codeintel_rev/mcp_server/telemetry.py",
  "module_name": "codeintel_rev.mcp_server.telemetry",
  "stable_id": "8fde0897565d",
  "docstring": "Telemetry helpers for MCP tools.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.middleware",
      "names": [
        "get_capability_stamp",
        "get_session_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "MCP_REQUEST_LATENCY_SECONDS"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.ledger",
      "names": [
        "RunLedger",
        "dated_run_dir"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.reporting",
      "names": [
        "render_run_report"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.runtime_observer",
      "names": [
        "bind_run_ledger",
        "current_run_ledger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline",
        "current_or_new_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "telemetry_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.reporter",
      "names": [
        "finalize_run",
        "start_run"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 23
    },
    {
      "kind": "function",
      "name": "tool_operation_scope",
      "lineno": 27
    },
    {
      "kind": "function",
      "name": "_maybe_render_report",
      "lineno": 166
    }
  ],
  "exports": [
    "tool_operation_scope"
  ],
  "exports_declared": [
    "tool_operation_scope"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Telemetry helpers for MCP tools.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "tool_operation_scope",
      "qualname": "tool_operation_scope",
      "kind": "function",
      "public": true,
      "lineno": 27,
      "doc_summary": "Emit start/end events for an MCP tool and yield the active timeline.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_maybe_render_report",
      "qualname": "_maybe_render_report",
      "kind": "function",
      "public": false,
      "lineno": 166,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 15,
    "cyclomatic": 16,
    "loc": 173
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 11,
  "cycle_group": 49,
  "imports_internal": [
    "app/middleware.py",
    "metrics/registry.py",
    "observability/ledger.py",
    "observability/otel.py",
    "observability/reporting.py",
    "observability/runtime_observer.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/context.py",
    "telemetry/decorators.py",
    "telemetry/reporter.py"
  ],
  "imports_intra_repo": [
    "app/middleware.py",
    "metrics/registry.py",
    "observability/ledger.py",
    "observability/otel.py",
    "observability/reporting.py",
    "observability/runtime_observer.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "telemetry/context.py",
    "telemetry/decorators.py",
    "telemetry/reporter.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.48,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 12,
  "recent_churn_90": 12
}
{
  "path": "mcp_server/testing.py",
  "repo_path": "codeintel_rev/mcp_server/testing.py",
  "module_name": "codeintel_rev.mcp_server.testing",
  "stable_id": "b9fec1d0c458",
  "docstring": "Small in-process harness for exercising MCP tools without FastMCP.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.registry",
      "names": [
        "McpDeps",
        "call_tool",
        "list_tools"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "InProcessMCP",
      "lineno": 12
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Small in-process harness for exercising MCP tools without FastMCP.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "InProcessMCP",
      "qualname": "InProcessMCP",
      "kind": "class",
      "public": true,
      "lineno": 12,
      "doc_summary": "Minimal harness for exercising MCP tools without FastMCP wiring.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 49
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 2,
  "cycle_group": 147,
  "imports_internal": [
    "mcp_server/registry.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "mcp_server/registry.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.194,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "mcp_server/tools/__init__.py",
  "repo_path": "codeintel_rev/mcp_server/tools/__init__.py",
  "module_name": "codeintel_rev.mcp_server.tools",
  "stable_id": "f42bca65fcf5",
  "docstring": "Public tool exports for the CodeIntel MCP server.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Public tool exports for the CodeIntel MCP server.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 148,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "mcp_server/tools/gpu_doctor.py",
  "repo_path": "codeintel_rev/mcp_server/tools/gpu_doctor.py",
  "module_name": "codeintel_rev.mcp_server.tools.gpu_doctor",
  "stable_id": "77fd41d20e69",
  "docstring": "GPU diagnostics script for PyTorch and FAISS.\n\nTiny GPU diagnostics for PyTorch and FAISS:\n- Initializes CUDA context\n- Runs a small GEMM in torch (cuBLAS path)\n- Runs a tiny FAISS-GPU search (GpuIndexFlatIP)\n\nExits non-zero if --require-gpu is set and a GPU isn't usable.\n\nUsage:\n    python -m codeintel_rev.mcp_server.tools.gpu_doctor\n    python -m codeintel_rev.mcp_server.tools.gpu_doctor --require-gpu\n    python -m codeintel_rev.mcp_server.tools.gpu_doctor --torch-only\n    python -m codeintel_rev.mcp_server.tools.gpu_doctor --faiss-only\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "argparse"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "sys"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "traceback"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev._lazy_imports",
      "names": [
        "LazyModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "FaissModule",
        "NumpyModule",
        "TorchModule",
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "np",
      "lineno": 28
    },
    {
      "kind": "function",
      "name": "check_torch",
      "lineno": 31
    },
    {
      "kind": "function",
      "name": "check_faiss",
      "lineno": 91
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 144
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "GPU diagnostics script for PyTorch and FAISS.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "check_torch",
      "qualname": "check_torch",
      "kind": "function",
      "public": true,
      "lineno": 31,
      "doc_summary": "Check PyTorch CUDA availability and perform smoke test.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "check_faiss",
      "qualname": "check_faiss",
      "kind": "function",
      "public": true,
      "lineno": 91,
      "doc_summary": "Check FAISS GPU availability and perform smoke test.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 144,
      "doc_summary": "Run GPU diagnostics and print results.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 17,
    "cyclomatic": 18,
    "loc": 197
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 2,
  "cycle_group": 149,
  "imports_internal": [
    "_lazy_imports.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "_lazy_imports.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.869,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 8,
  "recent_churn_90": 8
}
{
  "path": "mcp_server/types.py",
  "repo_path": "codeintel_rev/mcp_server/types.py",
  "module_name": "codeintel_rev.mcp_server.types",
  "stable_id": "d3a3e4961a4d",
  "docstring": "Typed DTOs and JSON Schema helpers for MCP search/fetch tools.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "Literal"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "msgspec"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "SearchInput",
      "lineno": 12
    },
    {
      "kind": "class",
      "name": "SearchResultItem",
      "lineno": 20
    },
    {
      "kind": "class",
      "name": "SearchOutput",
      "lineno": 32
    },
    {
      "kind": "class",
      "name": "FetchInput",
      "lineno": 41
    },
    {
      "kind": "class",
      "name": "FetchedObject",
      "lineno": 49
    },
    {
      "kind": "class",
      "name": "FetchOutput",
      "lineno": 59
    },
    {
      "kind": "function",
      "name": "search_input_schema",
      "lineno": 65
    },
    {
      "kind": "function",
      "name": "search_output_schema",
      "lineno": 85
    },
    {
      "kind": "function",
      "name": "fetch_input_schema",
      "lineno": 121
    },
    {
      "kind": "function",
      "name": "fetch_output_schema",
      "lineno": 144
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Typed DTOs and JSON Schema helpers for MCP search/fetch tools.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "SearchInput",
      "qualname": "SearchInput",
      "kind": "class",
      "public": true,
      "lineno": 12,
      "doc_summary": "Incoming payload for the lightweight MCP search tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchResultItem",
      "qualname": "SearchResultItem",
      "kind": "class",
      "public": true,
      "lineno": 20,
      "doc_summary": "Single search result entry returned by the lightweight MCP tools.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchOutput",
      "qualname": "SearchOutput",
      "kind": "class",
      "public": true,
      "lineno": 32,
      "doc_summary": "Structured search response returned to the caller.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchInput",
      "qualname": "FetchInput",
      "kind": "class",
      "public": true,
      "lineno": 41,
      "doc_summary": "Incoming payload for the lightweight MCP fetch tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchedObject",
      "qualname": "FetchedObject",
      "kind": "class",
      "public": true,
      "lineno": 49,
      "doc_summary": "Hydrated chunk entry returned from fetch operations.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchOutput",
      "qualname": "FetchOutput",
      "kind": "class",
      "public": true,
      "lineno": 59,
      "doc_summary": "Fetch response wrapping one or more hydrated chunk objects.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "search_input_schema",
      "qualname": "search_input_schema",
      "kind": "function",
      "public": true,
      "lineno": 65,
      "doc_summary": "Return the JSON Schema describing search tool inputs.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "search_output_schema",
      "qualname": "search_output_schema",
      "kind": "function",
      "public": true,
      "lineno": 85,
      "doc_summary": "Return the JSON Schema describing search tool outputs.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "fetch_input_schema",
      "qualname": "fetch_input_schema",
      "kind": "function",
      "public": true,
      "lineno": 121,
      "doc_summary": "Return the JSON Schema describing fetch tool inputs.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "fetch_output_schema",
      "qualname": "fetch_output_schema",
      "kind": "function",
      "public": true,
      "lineno": 144,
      "doc_summary": "Return the JSON Schema describing fetch tool outputs.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 173
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 1,
  "cycle_group": 139,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.398,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "metrics/__init__.py",
  "repo_path": "codeintel_rev/metrics/__init__.py",
  "module_name": "codeintel_rev.metrics",
  "stable_id": "a0ea0af89d5d",
  "docstring": "Metric registry package.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Metric registry package.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 150,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "metrics/registry.py",
  "repo_path": "codeintel_rev/metrics/registry.py",
  "module_name": "codeintel_rev.metrics.registry",
  "stable_id": "708963431897",
  "docstring": "Central Prometheus metric registry for FAISS/hybrid retrieval.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.otel_metrics",
      "names": [
        "build_counter",
        "build_gauge",
        "build_histogram"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "FAISS_BUILD_TOTAL",
      "lineno": 7
    },
    {
      "kind": "variable",
      "name": "FAISS_BUILD_SECONDS_LAST",
      "lineno": 8
    },
    {
      "kind": "variable",
      "name": "FAISS_INDEX_SIZE_VECTORS",
      "lineno": 11
    },
    {
      "kind": "variable",
      "name": "FAISS_INDEX_CODE_SIZE_BYTES",
      "lineno": 14
    },
    {
      "kind": "variable",
      "name": "FAISS_INDEX_DIM",
      "lineno": 17
    },
    {
      "kind": "variable",
      "name": "FAISS_INDEX_FACTORY",
      "lineno": 20
    },
    {
      "kind": "variable",
      "name": "FAISS_INDEX_GPU_ENABLED",
      "lineno": 23
    },
    {
      "kind": "variable",
      "name": "FAISS_INDEX_CUVS_ENABLED",
      "lineno": 26
    },
    {
      "kind": "variable",
      "name": "FAISS_SEARCH_TOTAL",
      "lineno": 30
    },
    {
      "kind": "variable",
      "name": "FAISS_SEARCH_ERRORS_TOTAL",
      "lineno": 31
    },
    {
      "kind": "variable",
      "name": "FAISS_SEARCH_LAST_MS",
      "lineno": 34
    },
    {
      "kind": "variable",
      "name": "FAISS_SEARCH_LAST_K",
      "lineno": 37
    },
    {
      "kind": "variable",
      "name": "FAISS_SEARCH_NPROBE",
      "lineno": 38
    },
    {
      "kind": "variable",
      "name": "FAISS_ANN_LATENCY_SECONDS",
      "lineno": 42
    },
    {
      "kind": "variable",
      "name": "FAISS_REFINE_LATENCY_SECONDS",
      "lineno": 47
    },
    {
      "kind": "variable",
      "name": "FAISS_POSTFILTER_DENSITY",
      "lineno": 52
    },
    {
      "kind": "variable",
      "name": "FAISS_REFINE_KEPT_RATIO",
      "lineno": 57
    },
    {
      "kind": "variable",
      "name": "HNSW_SEARCH_EF",
      "lineno": 61
    },
    {
      "kind": "variable",
      "name": "HYBRID_RETRIEVE_TOTAL",
      "lineno": 64
    },
    {
      "kind": "variable",
      "name": "HYBRID_LAST_MS",
      "lineno": 67
    },
    {
      "kind": "variable",
      "name": "RERANK_XTR_LAST_MS",
      "lineno": 70
    },
    {
      "kind": "variable",
      "name": "RECALL_EST_AT_K",
      "lineno": 73
    },
    {
      "kind": "variable",
      "name": "HITS_ABOVE_THRESH",
      "lineno": 76
    },
    {
      "kind": "variable",
      "name": "POOL_SHARE_FAISS",
      "lineno": 79
    },
    {
      "kind": "variable",
      "name": "POOL_SHARE_BM25",
      "lineno": 82
    },
    {
      "kind": "variable",
      "name": "POOL_SHARE_SPLADE",
      "lineno": 83
    },
    {
      "kind": "variable",
      "name": "POOL_SHARE_XTR",
      "lineno": 86
    },
    {
      "kind": "variable",
      "name": "GPU_AVAILABLE",
      "lineno": 89
    },
    {
      "kind": "variable",
      "name": "GPU_TEMP_SCRATCH_BYTES",
      "lineno": 90
    },
    {
      "kind": "variable",
      "name": "FAISS_COMPILE_FLAGS_ID",
      "lineno": 93
    },
    {
      "kind": "variable",
      "name": "OFFLINE_EVAL_RECALL_AT_K",
      "lineno": 96
    },
    {
      "kind": "variable",
      "name": "OFFLINE_EVAL_QUERY_COUNT",
      "lineno": 101
    },
    {
      "kind": "variable",
      "name": "SCIP_CHUNK_COVERAGE_RATIO",
      "lineno": 104
    },
    {
      "kind": "variable",
      "name": "SCIP_INDEX_COVERAGE_RATIO",
      "lineno": 108
    },
    {
      "kind": "variable",
      "name": "SCIP_RETRIEVAL_COVERAGE_RATIO",
      "lineno": 112
    },
    {
      "kind": "variable",
      "name": "MCP_SEARCH_LATENCY_SECONDS",
      "lineno": 117
    },
    {
      "kind": "variable",
      "name": "MCP_FETCH_LATENCY_SECONDS",
      "lineno": 121
    },
    {
      "kind": "variable",
      "name": "MCP_SEARCH_POSTFILTER_DENSITY",
      "lineno": 125
    },
    {
      "kind": "variable",
      "name": "MCP_SEARCH_ANN_LATENCY_MS",
      "lineno": 129
    },
    {
      "kind": "variable",
      "name": "MCP_SEARCH_HYDRATION_LATENCY_MS",
      "lineno": 132
    },
    {
      "kind": "variable",
      "name": "MCP_SEARCH_RERANK_LATENCY_MS",
      "lineno": 136
    },
    {
      "kind": "variable",
      "name": "DUCKDB_EXECUTE_SECONDS",
      "lineno": 141
    },
    {
      "kind": "variable",
      "name": "MCP_RUNS_TOTAL",
      "lineno": 148
    },
    {
      "kind": "variable",
      "name": "MCP_RUN_ERRORS_TOTAL",
      "lineno": 154
    },
    {
      "kind": "variable",
      "name": "MCP_REQUEST_LATENCY_SECONDS",
      "lineno": 160
    },
    {
      "kind": "variable",
      "name": "MCP_STAGE_LATENCY_SECONDS",
      "lineno": 167
    },
    {
      "kind": "variable",
      "name": "EMBED_BATCH_SIZE",
      "lineno": 175
    },
    {
      "kind": "variable",
      "name": "EMBED_LATENCY_SECONDS",
      "lineno": 181
    },
    {
      "kind": "variable",
      "name": "FAISS_SEARCH_LATENCY_SECONDS",
      "lineno": 187
    },
    {
      "kind": "variable",
      "name": "XTR_SEARCH_LATENCY_SECONDS",
      "lineno": 193
    },
    {
      "kind": "variable",
      "name": "GATING_DECISIONS_TOTAL",
      "lineno": 199
    },
    {
      "kind": "variable",
      "name": "GATING_RRF_K",
      "lineno": 205
    },
    {
      "kind": "variable",
      "name": "GATING_QUERY_AMBIGUITY",
      "lineno": 211
    },
    {
      "kind": "function",
      "name": "_stable_u32",
      "lineno": 218
    },
    {
      "kind": "function",
      "name": "set_factory_id",
      "lineno": 252
    },
    {
      "kind": "function",
      "name": "set_compile_flags_id",
      "lineno": 257
    }
  ],
  "exports": [
    "DUCKDB_EXECUTE_SECONDS",
    "EMBED_BATCH_SIZE",
    "EMBED_LATENCY_SECONDS",
    "FAISS_ANN_LATENCY_SECONDS",
    "FAISS_BUILD_SECONDS_LAST",
    "FAISS_BUILD_TOTAL",
    "FAISS_COMPILE_FLAGS_ID",
    "FAISS_INDEX_CODE_SIZE_BYTES",
    "FAISS_INDEX_CUVS_ENABLED",
    "FAISS_INDEX_DIM",
    "FAISS_INDEX_FACTORY",
    "FAISS_INDEX_GPU_ENABLED",
    "FAISS_INDEX_SIZE_VECTORS",
    "FAISS_POSTFILTER_DENSITY",
    "FAISS_REFINE_KEPT_RATIO",
    "FAISS_REFINE_LATENCY_SECONDS",
    "FAISS_SEARCH_ERRORS_TOTAL",
    "FAISS_SEARCH_LAST_K",
    "FAISS_SEARCH_LAST_MS",
    "FAISS_SEARCH_LATENCY_SECONDS",
    "FAISS_SEARCH_NPROBE",
    "FAISS_SEARCH_TOTAL",
    "GATING_DECISIONS_TOTAL",
    "GATING_QUERY_AMBIGUITY",
    "GATING_RRF_K",
    "GPU_AVAILABLE",
    "GPU_TEMP_SCRATCH_BYTES",
    "HITS_ABOVE_THRESH",
    "HNSW_SEARCH_EF",
    "HYBRID_LAST_MS",
    "HYBRID_RETRIEVE_TOTAL",
    "MCP_FETCH_LATENCY_SECONDS",
    "MCP_REQUEST_LATENCY_SECONDS",
    "MCP_RUNS_TOTAL",
    "MCP_RUN_ERRORS_TOTAL",
    "MCP_SEARCH_ANN_LATENCY_MS",
    "MCP_SEARCH_HYDRATION_LATENCY_MS",
    "MCP_SEARCH_LATENCY_SECONDS",
    "MCP_SEARCH_POSTFILTER_DENSITY",
    "MCP_SEARCH_RERANK_LATENCY_MS",
    "MCP_STAGE_LATENCY_SECONDS",
    "OFFLINE_EVAL_QUERY_COUNT",
    "OFFLINE_EVAL_RECALL_AT_K",
    "POOL_SHARE_BM25",
    "POOL_SHARE_FAISS",
    "POOL_SHARE_SPLADE",
    "POOL_SHARE_XTR",
    "RECALL_EST_AT_K",
    "RERANK_XTR_LAST_MS",
    "SCIP_CHUNK_COVERAGE_RATIO",
    "SCIP_INDEX_COVERAGE_RATIO",
    "SCIP_RETRIEVAL_COVERAGE_RATIO",
    "XTR_SEARCH_LATENCY_SECONDS",
    "set_compile_flags_id",
    "set_factory_id"
  ],
  "exports_declared": [
    "DUCKDB_EXECUTE_SECONDS",
    "EMBED_BATCH_SIZE",
    "EMBED_LATENCY_SECONDS",
    "FAISS_ANN_LATENCY_SECONDS",
    "FAISS_BUILD_SECONDS_LAST",
    "FAISS_BUILD_TOTAL",
    "FAISS_COMPILE_FLAGS_ID",
    "FAISS_INDEX_CODE_SIZE_BYTES",
    "FAISS_INDEX_CUVS_ENABLED",
    "FAISS_INDEX_DIM",
    "FAISS_INDEX_FACTORY",
    "FAISS_INDEX_GPU_ENABLED",
    "FAISS_INDEX_SIZE_VECTORS",
    "FAISS_POSTFILTER_DENSITY",
    "FAISS_REFINE_KEPT_RATIO",
    "FAISS_REFINE_LATENCY_SECONDS",
    "FAISS_SEARCH_ERRORS_TOTAL",
    "FAISS_SEARCH_LAST_K",
    "FAISS_SEARCH_LAST_MS",
    "FAISS_SEARCH_LATENCY_SECONDS",
    "FAISS_SEARCH_NPROBE",
    "FAISS_SEARCH_TOTAL",
    "GATING_DECISIONS_TOTAL",
    "GATING_QUERY_AMBIGUITY",
    "GATING_RRF_K",
    "GPU_AVAILABLE",
    "GPU_TEMP_SCRATCH_BYTES",
    "HITS_ABOVE_THRESH",
    "HNSW_SEARCH_EF",
    "HYBRID_LAST_MS",
    "HYBRID_RETRIEVE_TOTAL",
    "MCP_FETCH_LATENCY_SECONDS",
    "MCP_REQUEST_LATENCY_SECONDS",
    "MCP_RUNS_TOTAL",
    "MCP_RUN_ERRORS_TOTAL",
    "MCP_SEARCH_ANN_LATENCY_MS",
    "MCP_SEARCH_HYDRATION_LATENCY_MS",
    "MCP_SEARCH_LATENCY_SECONDS",
    "MCP_SEARCH_POSTFILTER_DENSITY",
    "MCP_SEARCH_RERANK_LATENCY_MS",
    "MCP_STAGE_LATENCY_SECONDS",
    "OFFLINE_EVAL_QUERY_COUNT",
    "OFFLINE_EVAL_RECALL_AT_K",
    "POOL_SHARE_BM25",
    "POOL_SHARE_FAISS",
    "POOL_SHARE_SPLADE",
    "POOL_SHARE_XTR",
    "RECALL_EST_AT_K",
    "RERANK_XTR_LAST_MS",
    "SCIP_CHUNK_COVERAGE_RATIO",
    "SCIP_INDEX_COVERAGE_RATIO",
    "SCIP_RETRIEVAL_COVERAGE_RATIO",
    "XTR_SEARCH_LATENCY_SECONDS",
    "set_compile_flags_id",
    "set_factory_id"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Central Prometheus metric registry for FAISS/hybrid retrieval.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_stable_u32",
      "qualname": "_stable_u32",
      "kind": "function",
      "public": false,
      "lineno": 218,
      "doc_summary": "Return a deterministic 32-bit hash for the provided string.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "set_factory_id",
      "qualname": "set_factory_id",
      "kind": "function",
      "public": true,
      "lineno": 252,
      "doc_summary": "Record the current FAISS factory string as a hashed gauge.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "set_compile_flags_id",
      "qualname": "set_compile_flags_id",
      "kind": "function",
      "public": true,
      "lineno": 257,
      "doc_summary": "Record FAISS compile options for readiness/diagnostics.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": true,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 1,
    "cyclomatic": 2,
    "loc": 319
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 13,
  "fan_out": 1,
  "cycle_group": 15,
  "imports_internal": [
    "telemetry/otel_metrics.py"
  ],
  "imports_intra_repo": [
    "telemetry/otel_metrics.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.959,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 10,
  "recent_churn_90": 10
}
{
  "path": "module_utils.py",
  "repo_path": "codeintel_rev/module_utils.py",
  "module_name": "codeintel_rev.module_utils",
  "stable_id": "691588941a48",
  "docstring": "Helpers for converting between module paths and dotted names.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "normalize_module_name",
      "lineno": 9
    },
    {
      "kind": "function",
      "name": "module_name_candidates",
      "lineno": 34
    },
    {
      "kind": "function",
      "name": "resolve_relative_module",
      "lineno": 59
    },
    {
      "kind": "function",
      "name": "import_targets_for_entry",
      "lineno": 87
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Helpers for converting between module paths and dotted names.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "normalize_module_name",
      "qualname": "normalize_module_name",
      "kind": "function",
      "public": true,
      "lineno": 9,
      "doc_summary": "Return a dotted module name for a repo-relative path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "module_name_candidates",
      "qualname": "module_name_candidates",
      "kind": "function",
      "public": true,
      "lineno": 34,
      "doc_summary": "Return candidate module names (with and without prefix).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "resolve_relative_module",
      "qualname": "resolve_relative_module",
      "kind": "function",
      "public": true,
      "lineno": 59,
      "doc_summary": "Resolve a relative import into an absolute dotted module name.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "import_targets_for_entry",
      "qualname": "import_targets_for_entry",
      "kind": "function",
      "public": true,
      "lineno": 87,
      "doc_summary": "Return candidate absolute module names for a single import entry.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 18,
    "cyclomatic": 19,
    "loc": 123
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 0,
  "cycle_group": 91,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.0,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "observability/__init__.py",
  "repo_path": "codeintel_rev/observability/__init__.py",
  "module_name": "codeintel_rev.observability",
  "stable_id": "22bcc06c8bc7",
  "docstring": "Observability helpers (telemetry + lightweight timelines).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability",
      "names": [
        "flight_recorder",
        "metrics",
        "otel",
        "runtime_observer",
        "semantic_conventions",
        "timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "flight_recorder",
    "metrics",
    "otel",
    "runtime_observer",
    "semantic_conventions",
    "timeline"
  ],
  "exports_declared": [
    "flight_recorder",
    "metrics",
    "otel",
    "runtime_observer",
    "semantic_conventions",
    "timeline"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Observability helpers (telemetry + lightweight timelines).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 22
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 151,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "observability/flight_recorder.py",
  "repo_path": "codeintel_rev/observability/flight_recorder.py",
  "module_name": "codeintel_rev.observability.flight_recorder",
  "stable_id": "ca81410a4a60",
  "docstring": "Trace-anchored flight recorder that mirrors run execution timelines.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "threading"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field",
        "replace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 17
    },
    {
      "kind": "variable",
      "name": "FlightEvent",
      "lineno": 20
    },
    {
      "kind": "function",
      "name": "_data_root",
      "lineno": 23
    },
    {
      "kind": "function",
      "name": "_date_segment",
      "lineno": 34
    },
    {
      "kind": "function",
      "name": "_scrub_value",
      "lineno": 53
    },
    {
      "kind": "function",
      "name": "_event_start_ns",
      "lineno": 65
    },
    {
      "kind": "function",
      "name": "_report_path",
      "lineno": 70
    },
    {
      "kind": "function",
      "name": "build_report_uri",
      "lineno": 106
    },
    {
      "kind": "class",
      "name": "_RunBuffer",
      "lineno": 140
    },
    {
      "kind": "class",
      "name": "_FlightRecorder",
      "lineno": 152
    },
    {
      "kind": "class",
      "name": "FlightRecorderSpanProcessor",
      "lineno": 261
    },
    {
      "kind": "function",
      "name": "install_flight_recorder",
      "lineno": 299
    },
    {
      "kind": "function",
      "name": "_trace_id",
      "lineno": 319
    },
    {
      "kind": "function",
      "name": "_span_id",
      "lineno": 329
    },
    {
      "kind": "function",
      "name": "_update_identities",
      "lineno": 339
    },
    {
      "kind": "function",
      "name": "_update_status",
      "lineno": 367
    },
    {
      "kind": "function",
      "name": "_is_root_span",
      "lineno": 408
    },
    {
      "kind": "function",
      "name": "_build_event",
      "lineno": 416
    },
    {
      "kind": "function",
      "name": "build_event_summary",
      "lineno": 445
    },
    {
      "kind": "function",
      "name": "_convert_span_events",
      "lineno": 486
    },
    {
      "kind": "function",
      "name": "_ts",
      "lineno": 500
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Trace-anchored flight recorder that mirrors run execution timelines.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_data_root",
      "qualname": "_data_root",
      "kind": "function",
      "public": false,
      "lineno": 23,
      "doc_summary": "Return the base directory for diagnostic run artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_date_segment",
      "qualname": "_date_segment",
      "kind": "function",
      "public": false,
      "lineno": 34,
      "doc_summary": "Return the YYYYMMDD segment for a run report.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_scrub_value",
      "qualname": "_scrub_value",
      "kind": "function",
      "public": false,
      "lineno": 53,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_event_start_ns",
      "qualname": "_event_start_ns",
      "kind": "function",
      "public": false,
      "lineno": 65,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_report_path",
      "qualname": "_report_path",
      "kind": "function",
      "public": false,
      "lineno": 70,
      "doc_summary": "Return the filesystem path for a diagnostic run report.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "build_report_uri",
      "qualname": "build_report_uri",
      "kind": "function",
      "public": true,
      "lineno": 106,
      "doc_summary": "Return the expected diagnostic report path for the provided identifiers.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_RunBuffer",
      "qualname": "_RunBuffer",
      "kind": "class",
      "public": false,
      "lineno": 140,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_FlightRecorder",
      "qualname": "_FlightRecorder",
      "kind": "class",
      "public": false,
      "lineno": 152,
      "doc_summary": "Collect spans per-trace and emit ordered JSON reports.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FlightRecorderSpanProcessor",
      "qualname": "FlightRecorderSpanProcessor",
      "kind": "class",
      "public": true,
      "lineno": 261,
      "doc_summary": "Minimal SpanProcessor-compatible shim.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "install_flight_recorder",
      "qualname": "install_flight_recorder",
      "kind": "function",
      "public": true,
      "lineno": 299,
      "doc_summary": "Attach the flight recorder span processor exactly once.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_trace_id",
      "qualname": "_trace_id",
      "kind": "function",
      "public": false,
      "lineno": 319,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_span_id",
      "qualname": "_span_id",
      "kind": "function",
      "public": false,
      "lineno": 329,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_update_identities",
      "qualname": "_update_identities",
      "kind": "function",
      "public": false,
      "lineno": 339,
      "doc_summary": "Update buffer with identity attributes from span, returning new buffer if changed.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_update_status",
      "qualname": "_update_status",
      "kind": "function",
      "public": false,
      "lineno": 367,
      "doc_summary": "Update buffer status based on span status and events, returning new buffer if changed.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_is_root_span",
      "qualname": "_is_root_span",
      "kind": "function",
      "public": false,
      "lineno": 408,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_event",
      "qualname": "_build_event",
      "kind": "function",
      "public": false,
      "lineno": 416,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "build_event_summary",
      "qualname": "build_event_summary",
      "kind": "function",
      "public": true,
      "lineno": 445,
      "doc_summary": "Build a compact summary describing the recorded events.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_convert_span_events",
      "qualname": "_convert_span_events",
      "kind": "function",
      "public": false,
      "lineno": 486,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_ts",
      "qualname": "_ts",
      "kind": "function",
      "public": false,
      "lineno": 500,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 80,
    "cyclomatic": 81,
    "loc": 505
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 2,
  "cycle_group": 7,
  "imports_internal": [
    "observability/semantic_conventions.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "observability/semantic_conventions.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.585,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 7,
  "recent_churn_90": 7
}
{
  "path": "observability/ledger.py",
  "repo_path": "codeintel_rev/observability/ledger.py",
  "module_name": "codeintel_rev.observability.ledger",
  "stable_id": "6d5ac5e2163e",
  "docstring": "Append-only run ledger utilities.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "io"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "ensure_ledger_root",
      "lineno": 15
    },
    {
      "kind": "function",
      "name": "dated_run_dir",
      "lineno": 32
    },
    {
      "kind": "class",
      "name": "RunLedger",
      "lineno": 53
    }
  ],
  "exports": [
    "RunLedger",
    "dated_run_dir",
    "ensure_ledger_root"
  ],
  "exports_declared": [
    "RunLedger",
    "dated_run_dir",
    "ensure_ledger_root"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Append-only run ledger utilities.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "ensure_ledger_root",
      "qualname": "ensure_ledger_root",
      "kind": "function",
      "public": true,
      "lineno": 15,
      "doc_summary": "Ensure the run-ledger root exists and return it.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "dated_run_dir",
      "qualname": "dated_run_dir",
      "kind": "function",
      "public": true,
      "lineno": 32,
      "doc_summary": "Return the YYYY-MM-DD ledger directory under ``base_dir``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "RunLedger",
      "qualname": "RunLedger",
      "kind": "class",
      "public": true,
      "lineno": 53,
      "doc_summary": "Append-only JSONL ledger scoped to a single run.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 5,
    "cyclomatic": 6,
    "loc": 114
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 4,
  "fan_out": 1,
  "cycle_group": 41,
  "imports_internal": [
    "io/__init__.py"
  ],
  "imports_intra_repo": [
    "io/__init__.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.847,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "observability/logs.py",
  "repo_path": "codeintel_rev/observability/logs.py",
  "module_name": "codeintel_rev.observability.logs",
  "stable_id": "9099edebf03b",
  "docstring": "OpenTelemetry logging bootstrap helpers.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry._logs",
      "names": [
        "set_logger_provider"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.sdk._logs",
      "names": [
        "LoggerProvider",
        "LoggingHandler"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.sdk._logs.export",
      "names": [
        "BatchLogRecordProcessor"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.sdk.resources",
      "names": [
        "Resource"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.exporter.otlp.proto.http.log_exporter",
      "names": [
        "OTLPLogExporter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "set_logger_provider",
      "lineno": 18
    },
    {
      "kind": "variable",
      "name": "LoggerProvider",
      "lineno": 19
    },
    {
      "kind": "variable",
      "name": "LoggingHandler",
      "lineno": 20
    },
    {
      "kind": "variable",
      "name": "BatchLogRecordProcessor",
      "lineno": 21
    },
    {
      "kind": "variable",
      "name": "Resource",
      "lineno": 22
    },
    {
      "kind": "variable",
      "name": "OTLPLogExporter",
      "lineno": 29
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 32
    },
    {
      "kind": "function",
      "name": "_should_enable",
      "lineno": 38
    },
    {
      "kind": "function",
      "name": "_instrument_stdlib_logging",
      "lineno": 47
    },
    {
      "kind": "function",
      "name": "init_otel_logging",
      "lineno": 66
    }
  ],
  "exports": [
    "init_otel_logging"
  ],
  "exports_declared": [
    "init_otel_logging"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "OpenTelemetry logging bootstrap helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_should_enable",
      "qualname": "_should_enable",
      "kind": "function",
      "public": false,
      "lineno": 38,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_instrument_stdlib_logging",
      "qualname": "_instrument_stdlib_logging",
      "kind": "function",
      "public": false,
      "lineno": 47,
      "doc_summary": "Enable OpenTelemetry's stdlib logging bridge when the package is installed.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "init_otel_logging",
      "qualname": "init_otel_logging",
      "kind": "function",
      "public": true,
      "lineno": 66,
      "doc_summary": "Bridge stdlib logging into OpenTelemetry logs when available.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 19,
    "cyclomatic": 20,
    "loc": 115
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 0,
  "cycle_group": 8,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.899,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "observability/metrics.py",
  "repo_path": "codeintel_rev/observability/metrics.py",
  "module_name": "codeintel_rev.observability.metrics",
  "stable_id": "c7c2831b31cd",
  "docstring": "Telemetry metrics registry and OpenTelemetry Meter bootstrap.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "threading"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.otel_metrics",
      "names": [
        "build_counter",
        "build_gauge",
        "build_histogram"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.sdk.metrics.export",
      "names": [
        "MetricReader"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.sdk.metrics.view",
      "names": [
        "View"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.sdk.resources",
      "names": [
        "Resource"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "prometheus_client",
      "names": [
        "start_http_server"
      ],
      "aliases": {
        "start_http_server": "_prom_start_http_server"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 21
    },
    {
      "kind": "class",
      "name": "_MetricsState",
      "lineno": 25
    },
    {
      "kind": "function",
      "name": "_env_flag",
      "lineno": 41
    },
    {
      "kind": "function",
      "name": "_import_module",
      "lineno": 48
    },
    {
      "kind": "function",
      "name": "_build_metric_views",
      "lineno": 67
    },
    {
      "kind": "function",
      "name": "_build_prometheus_reader",
      "lineno": 113
    },
    {
      "kind": "function",
      "name": "_start_prometheus_http_server",
      "lineno": 127
    },
    {
      "kind": "function",
      "name": "_load_metrics_modules",
      "lineno": 158
    },
    {
      "kind": "function",
      "name": "_build_otlp_reader",
      "lineno": 179
    },
    {
      "kind": "function",
      "name": "install_metrics_provider",
      "lineno": 211
    },
    {
      "kind": "variable",
      "name": "QUERIES_TOTAL",
      "lineno": 281
    },
    {
      "kind": "variable",
      "name": "QUERY_ERRORS_TOTAL",
      "lineno": 287
    },
    {
      "kind": "variable",
      "name": "RRF_DURATION_SECONDS",
      "lineno": 293
    },
    {
      "kind": "variable",
      "name": "CHANNEL_LATENCY_SECONDS",
      "lineno": 300
    },
    {
      "kind": "variable",
      "name": "INDEX_VERSION_INFO",
      "lineno": 308
    },
    {
      "kind": "variable",
      "name": "RRF_K",
      "lineno": 314
    },
    {
      "kind": "variable",
      "name": "BUDGET_DEPTH",
      "lineno": 319
    },
    {
      "kind": "variable",
      "name": "QUERY_AMBIGUITY",
      "lineno": 325
    },
    {
      "kind": "variable",
      "name": "DEBUG_BUNDLE_TOTAL",
      "lineno": 331
    },
    {
      "kind": "variable",
      "name": "RESULTS_TOTAL",
      "lineno": 336
    },
    {
      "kind": "variable",
      "name": "RECENCY_BOOSTED_TOTAL",
      "lineno": 341
    },
    {
      "kind": "variable",
      "name": "RECALL_AT_K",
      "lineno": 346
    },
    {
      "kind": "function",
      "name": "observe_budget_depths",
      "lineno": 353
    },
    {
      "kind": "function",
      "name": "record_recall",
      "lineno": 359
    },
    {
      "kind": "function",
      "name": "set_index_version",
      "lineno": 364
    }
  ],
  "exports": [
    "BUDGET_DEPTH",
    "CHANNEL_LATENCY_SECONDS",
    "DEBUG_BUNDLE_TOTAL",
    "INDEX_VERSION_INFO",
    "QUERIES_TOTAL",
    "QUERY_AMBIGUITY",
    "QUERY_ERRORS_TOTAL",
    "RECALL_AT_K",
    "RECENCY_BOOSTED_TOTAL",
    "RESULTS_TOTAL",
    "RRF_DURATION_SECONDS",
    "RRF_K",
    "install_metrics_provider",
    "observe_budget_depths",
    "record_recall",
    "set_index_version"
  ],
  "exports_declared": [
    "BUDGET_DEPTH",
    "CHANNEL_LATENCY_SECONDS",
    "DEBUG_BUNDLE_TOTAL",
    "INDEX_VERSION_INFO",
    "QUERIES_TOTAL",
    "QUERY_AMBIGUITY",
    "QUERY_ERRORS_TOTAL",
    "RECALL_AT_K",
    "RECENCY_BOOSTED_TOTAL",
    "RESULTS_TOTAL",
    "RRF_DURATION_SECONDS",
    "RRF_K",
    "install_metrics_provider",
    "observe_budget_depths",
    "record_recall",
    "set_index_version"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Telemetry metrics registry and OpenTelemetry Meter bootstrap.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_MetricsState",
      "qualname": "_MetricsState",
      "kind": "class",
      "public": false,
      "lineno": 25,
      "doc_summary": "Thread-safe metrics provider state.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_env_flag",
      "qualname": "_env_flag",
      "kind": "function",
      "public": false,
      "lineno": 41,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_import_module",
      "qualname": "_import_module",
      "kind": "function",
      "public": false,
      "lineno": 48,
      "doc_summary": "Import a module by name, returning None if unavailable.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_metric_views",
      "qualname": "_build_metric_views",
      "kind": "function",
      "public": false,
      "lineno": 67,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_prometheus_reader",
      "qualname": "_build_prometheus_reader",
      "kind": "function",
      "public": false,
      "lineno": 113,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_start_prometheus_http_server",
      "qualname": "_start_prometheus_http_server",
      "kind": "function",
      "public": false,
      "lineno": 127,
      "doc_summary": "Start Prometheus HTTP server for metrics scraping (idempotent).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_load_metrics_modules",
      "qualname": "_load_metrics_modules",
      "kind": "function",
      "public": false,
      "lineno": 158,
      "doc_summary": "Load all required metrics SDK modules.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_otlp_reader",
      "qualname": "_build_otlp_reader",
      "kind": "function",
      "public": false,
      "lineno": 179,
      "doc_summary": "Build OTLP metric reader if available.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "install_metrics_provider",
      "qualname": "install_metrics_provider",
      "kind": "function",
      "public": true,
      "lineno": 211,
      "doc_summary": "Install a global MeterProvider with OTLP + Prometheus readers.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "observe_budget_depths",
      "qualname": "observe_budget_depths",
      "kind": "function",
      "public": true,
      "lineno": 353,
      "doc_summary": "Record per-channel depth decisions.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "record_recall",
      "qualname": "record_recall",
      "kind": "function",
      "public": true,
      "lineno": 359,
      "doc_summary": "Record recall@k values produced by offline harnesses.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "set_index_version",
      "qualname": "set_index_version",
      "kind": "function",
      "public": true,
      "lineno": 364,
      "doc_summary": "Expose the current index version for dashboards.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 44,
    "cyclomatic": 45,
    "loc": 384
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 2,
  "cycle_group": 9,
  "imports_internal": [
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "telemetry/otel_metrics.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.412,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "observability/otel.py",
  "repo_path": "codeintel_rev/observability/otel.py",
  "module_name": "codeintel_rev.observability.otel",
  "stable_id": "dfb5300b7ab6",
  "docstring": "Optional OpenTelemetry bootstrap helpers.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "AbstractContextManager",
        "suppress"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "ModuleType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "Protocol",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.logs",
      "names": [
        "init_otel_logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.observability",
      "names": [
        "start_span"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.sdk.resources",
      "names": [
        "Resource"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.flight_recorder",
      "names": [
        "install_flight_recorder"
      ],
      "aliases": {
        "install_flight_recorder": "_install_flight_recorder"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.metrics",
      "names": [
        "install_metrics_provider"
      ],
      "aliases": {
        "install_metrics_provider": "_install_metrics_provider"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 27
    },
    {
      "kind": "variable",
      "name": "SpanAttribute",
      "lineno": 29
    },
    {
      "kind": "class",
      "name": "_TelemetryState",
      "lineno": 32
    },
    {
      "kind": "class",
      "name": "SupportsState",
      "lineno": 55
    },
    {
      "kind": "class",
      "name": "_TraceHandles",
      "lineno": 62
    },
    {
      "kind": "function",
      "name": "_env_flag",
      "lineno": 80
    },
    {
      "kind": "function",
      "name": "_sanitize_span_attrs",
      "lineno": 110
    },
    {
      "kind": "function",
      "name": "_coerce_span_value",
      "lineno": 119
    },
    {
      "kind": "function",
      "name": "_should_enable",
      "lineno": 133
    },
    {
      "kind": "function",
      "name": "_optional_import",
      "lineno": 139
    },
    {
      "kind": "function",
      "name": "_load_trace_modules",
      "lineno": 146
    },
    {
      "kind": "function",
      "name": "_parse_sampler_spec",
      "lineno": 173
    },
    {
      "kind": "function",
      "name": "_build_sampler",
      "lineno": 186
    },
    {
      "kind": "function",
      "name": "_build_resource",
      "lineno": 215
    },
    {
      "kind": "function",
      "name": "_merge_detected_resources",
      "lineno": 250
    },
    {
      "kind": "function",
      "name": "_build_provider",
      "lineno": 293
    },
    {
      "kind": "function",
      "name": "telemetry_enabled",
      "lineno": 321
    },
    {
      "kind": "function",
      "name": "_initialize_tracing_state",
      "lineno": 332
    },
    {
      "kind": "function",
      "name": "_initialize_metrics_provider",
      "lineno": 350
    },
    {
      "kind": "function",
      "name": "_initialize_flight_recorder",
      "lineno": 377
    },
    {
      "kind": "function",
      "name": "init_telemetry",
      "lineno": 393
    },
    {
      "kind": "function",
      "name": "init_otel",
      "lineno": 459
    },
    {
      "kind": "function",
      "name": "init_all_telemetry",
      "lineno": 482
    },
    {
      "kind": "function",
      "name": "as_span",
      "lineno": 506
    },
    {
      "kind": "function",
      "name": "record_span_event",
      "lineno": 534
    },
    {
      "kind": "function",
      "name": "_current_span",
      "lineno": 558
    },
    {
      "kind": "function",
      "name": "set_current_span_attrs",
      "lineno": 571
    },
    {
      "kind": "function",
      "name": "_current_span_context",
      "lineno": 587
    },
    {
      "kind": "function",
      "name": "current_trace_id",
      "lineno": 600
    },
    {
      "kind": "function",
      "name": "current_span_id",
      "lineno": 616
    },
    {
      "kind": "function",
      "name": "_install_logging_instrumentation",
      "lineno": 632
    },
    {
      "kind": "function",
      "name": "instrument_fastapi",
      "lineno": 646
    },
    {
      "kind": "function",
      "name": "instrument_httpx",
      "lineno": 661
    }
  ],
  "exports": [
    "as_span",
    "current_span_id",
    "current_trace_id",
    "init_all_telemetry",
    "init_otel",
    "init_telemetry",
    "instrument_fastapi",
    "instrument_httpx",
    "record_span_event",
    "set_current_span_attrs",
    "telemetry_enabled"
  ],
  "exports_declared": [
    "as_span",
    "current_span_id",
    "current_trace_id",
    "init_all_telemetry",
    "init_otel",
    "init_telemetry",
    "instrument_fastapi",
    "instrument_httpx",
    "record_span_event",
    "set_current_span_attrs",
    "telemetry_enabled"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Optional OpenTelemetry bootstrap helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_TelemetryState",
      "qualname": "_TelemetryState",
      "kind": "class",
      "public": false,
      "lineno": 32,
      "doc_summary": "Mutable telemetry state shared across module functions.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SupportsState",
      "qualname": "SupportsState",
      "kind": "class",
      "public": true,
      "lineno": 55,
      "doc_summary": "Protocol describing FastAPI-style objects exposing ``state``.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_TraceHandles",
      "qualname": "_TraceHandles",
      "kind": "class",
      "public": false,
      "lineno": 62,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_env_flag",
      "qualname": "_env_flag",
      "kind": "function",
      "public": false,
      "lineno": 80,
      "doc_summary": "Check if an environment variable is set to a truthy value.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_sanitize_span_attrs",
      "qualname": "_sanitize_span_attrs",
      "kind": "function",
      "public": false,
      "lineno": 110,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_span_value",
      "qualname": "_coerce_span_value",
      "kind": "function",
      "public": false,
      "lineno": 119,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_should_enable",
      "qualname": "_should_enable",
      "kind": "function",
      "public": false,
      "lineno": 133,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_optional_import",
      "qualname": "_optional_import",
      "kind": "function",
      "public": false,
      "lineno": 139,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_load_trace_modules",
      "qualname": "_load_trace_modules",
      "kind": "function",
      "public": false,
      "lineno": 146,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parse_sampler_spec",
      "qualname": "_parse_sampler_spec",
      "kind": "function",
      "public": false,
      "lineno": 173,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_sampler",
      "qualname": "_build_sampler",
      "kind": "function",
      "public": false,
      "lineno": 186,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_resource",
      "qualname": "_build_resource",
      "kind": "function",
      "public": false,
      "lineno": 215,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_merge_detected_resources",
      "qualname": "_merge_detected_resources",
      "kind": "function",
      "public": false,
      "lineno": 250,
      "doc_summary": "Augment ``resource`` with optional detector-provided attributes.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_provider",
      "qualname": "_build_provider",
      "kind": "function",
      "public": false,
      "lineno": 293,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "telemetry_enabled",
      "qualname": "telemetry_enabled",
      "kind": "function",
      "public": true,
      "lineno": 321,
      "doc_summary": "Return ``True`` when tracing has been configured for this process.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_initialize_tracing_state",
      "qualname": "_initialize_tracing_state",
      "kind": "function",
      "public": false,
      "lineno": 332,
      "doc_summary": "Update application state with telemetry enabled status.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_initialize_metrics_provider",
      "qualname": "_initialize_metrics_provider",
      "kind": "function",
      "public": false,
      "lineno": 350,
      "doc_summary": "Initialize metrics provider if enabled.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_initialize_flight_recorder",
      "qualname": "_initialize_flight_recorder",
      "kind": "function",
      "public": false,
      "lineno": 377,
      "doc_summary": "Initialize flight recorder if available.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "init_telemetry",
      "qualname": "init_telemetry",
      "kind": "function",
      "public": true,
      "lineno": 393,
      "doc_summary": "Best-effort OpenTelemetry bootstrap (safe no-op when disabled/unavailable).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "init_otel",
      "qualname": "init_otel",
      "kind": "function",
      "public": true,
      "lineno": 459,
      "doc_summary": "Initialize tracing/metrics using the CODEINTEL_OTEL_* env conventions.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "init_all_telemetry",
      "qualname": "init_all_telemetry",
      "kind": "function",
      "public": true,
      "lineno": 482,
      "doc_summary": "Initialize traces, metrics, and logs in one call.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "as_span",
      "qualname": "as_span",
      "kind": "function",
      "public": true,
      "lineno": 506,
      "doc_summary": "Create a span context that no-ops when telemetry is disabled.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "record_span_event",
      "qualname": "record_span_event",
      "kind": "function",
      "public": true,
      "lineno": 534,
      "doc_summary": "Attach ``name`` as an event on the current span when tracing is active.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_current_span",
      "qualname": "_current_span",
      "kind": "function",
      "public": false,
      "lineno": 558,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "set_current_span_attrs",
      "qualname": "set_current_span_attrs",
      "kind": "function",
      "public": true,
      "lineno": 571,
      "doc_summary": "Attach attributes to the active span when tracing is enabled.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_current_span_context",
      "qualname": "_current_span_context",
      "kind": "function",
      "public": false,
      "lineno": 587,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "current_trace_id",
      "qualname": "current_trace_id",
      "kind": "function",
      "public": true,
      "lineno": 600,
      "doc_summary": "Return the hex trace identifier for the active span.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "current_span_id",
      "qualname": "current_span_id",
      "kind": "function",
      "public": true,
      "lineno": 616,
      "doc_summary": "Return the hex span identifier for the active span.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_install_logging_instrumentation",
      "qualname": "_install_logging_instrumentation",
      "kind": "function",
      "public": false,
      "lineno": 632,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "instrument_fastapi",
      "qualname": "instrument_fastapi",
      "kind": "function",
      "public": true,
      "lineno": 646,
      "doc_summary": "Instrument FastAPI routes when instrumentation packages are installed.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "instrument_httpx",
      "qualname": "instrument_httpx",
      "kind": "function",
      "public": true,
      "lineno": 661,
      "doc_summary": "Instrument httpx clients when instrumentation packages are installed.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 101,
    "cyclomatic": 102,
    "loc": 689
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 22,
  "fan_out": 4,
  "cycle_group": 10,
  "imports_internal": [
    "observability/flight_recorder.py",
    "observability/logs.py",
    "observability/metrics.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "observability/flight_recorder.py",
    "observability/logs.py",
    "observability/metrics.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.255,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 13,
  "recent_churn_90": 13
}
{
  "path": "observability/reporting.py",
  "repo_path": "codeintel_rev/observability/reporting.py",
  "module_name": "codeintel_rev.observability.reporting",
  "stable_id": "d7bdbcad4448",
  "docstring": "Timeline-based run report builder and CLI helpers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "itertools",
      "names": [
        "pairwise"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "TimelineRunReport",
      "lineno": 22
    },
    {
      "kind": "function",
      "name": "render_timeline_markdown",
      "lineno": 48
    },
    {
      "kind": "function",
      "name": "timeline_mermaid",
      "lineno": 77
    },
    {
      "kind": "function",
      "name": "_ensure_runs_dir",
      "lineno": 112
    },
    {
      "kind": "function",
      "name": "render_run_report",
      "lineno": 118
    },
    {
      "kind": "function",
      "name": "latest_run_report",
      "lineno": 188
    },
    {
      "kind": "function",
      "name": "build_timeline_run_report",
      "lineno": 202
    },
    {
      "kind": "function",
      "name": "_resolve_timeline_dir",
      "lineno": 259
    },
    {
      "kind": "function",
      "name": "resolve_timeline_dir",
      "lineno": 267
    },
    {
      "kind": "function",
      "name": "_load_events",
      "lineno": 285
    },
    {
      "kind": "function",
      "name": "_summarize_events",
      "lineno": 305
    },
    {
      "kind": "function",
      "name": "_collect_channel_stats",
      "lineno": 327
    },
    {
      "kind": "function",
      "name": "_render_markdown_report",
      "lineno": 342
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Timeline-based run report builder and CLI helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "TimelineRunReport",
      "qualname": "TimelineRunReport",
      "kind": "class",
      "public": true,
      "lineno": 22,
      "doc_summary": "Structured summary derived from Timeline JSONL records.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "render_timeline_markdown",
      "qualname": "render_timeline_markdown",
      "kind": "function",
      "public": true,
      "lineno": 48,
      "doc_summary": "Return Markdown for the provided :class:`TimelineRunReport`.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "timeline_mermaid",
      "qualname": "timeline_mermaid",
      "kind": "function",
      "public": true,
      "lineno": 77,
      "doc_summary": "Return a Mermaid diagram that visualizes the recorded events.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_ensure_runs_dir",
      "qualname": "_ensure_runs_dir",
      "kind": "function",
      "public": false,
      "lineno": 112,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "render_run_report",
      "qualname": "render_run_report",
      "kind": "function",
      "public": true,
      "lineno": 118,
      "doc_summary": "Render Markdown + JSON artifacts for the provided timeline.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "latest_run_report",
      "qualname": "latest_run_report",
      "kind": "function",
      "public": true,
      "lineno": 188,
      "doc_summary": "Return metadata for the most recently rendered run report.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "build_timeline_run_report",
      "qualname": "build_timeline_run_report",
      "kind": "function",
      "public": true,
      "lineno": 202,
      "doc_summary": "Build a run report by parsing Timeline JSONL artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_timeline_dir",
      "qualname": "_resolve_timeline_dir",
      "kind": "function",
      "public": false,
      "lineno": 259,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "resolve_timeline_dir",
      "qualname": "resolve_timeline_dir",
      "kind": "function",
      "public": true,
      "lineno": 267,
      "doc_summary": "Return the normalized diagnostics directory used for timeline artifacts.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_load_events",
      "qualname": "_load_events",
      "kind": "function",
      "public": false,
      "lineno": 285,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_summarize_events",
      "qualname": "_summarize_events",
      "kind": "function",
      "public": false,
      "lineno": 305,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_collect_channel_stats",
      "qualname": "_collect_channel_stats",
      "kind": "function",
      "public": false,
      "lineno": 327,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_render_markdown_report",
      "qualname": "_render_markdown_report",
      "kind": "function",
      "public": false,
      "lineno": 342,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 41,
    "cyclomatic": 42,
    "loc": 384
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 5,
  "fan_out": 2,
  "cycle_group": 48,
  "imports_internal": [
    "observability/timeline.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "observability/timeline.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.507,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "observability/run_report.py",
  "repo_path": "codeintel_rev/observability/run_report.py",
  "module_name": "codeintel_rev.observability.run_report",
  "stable_id": "82a01db6449a",
  "docstring": "Utilities for composing run reports from JSONL ledgers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "LedgerRunReport",
      "lineno": 13
    },
    {
      "kind": "function",
      "name": "load_ledger",
      "lineno": 23
    },
    {
      "kind": "function",
      "name": "infer_stop_reason",
      "lineno": 53
    },
    {
      "kind": "function",
      "name": "build_run_report",
      "lineno": 77
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Utilities for composing run reports from JSONL ledgers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "LedgerRunReport",
      "qualname": "LedgerRunReport",
      "kind": "class",
      "public": true,
      "lineno": 13,
      "doc_summary": "Structured run report derived from a run ledger.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "load_ledger",
      "qualname": "load_ledger",
      "kind": "function",
      "public": true,
      "lineno": 23,
      "doc_summary": "Return all JSONL records contained in ``path`` (best effort).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "infer_stop_reason",
      "qualname": "infer_stop_reason",
      "kind": "function",
      "public": true,
      "lineno": 53,
      "doc_summary": "Return a human-readable stop reason based on structured step events.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "build_run_report",
      "qualname": "build_run_report",
      "kind": "function",
      "public": true,
      "lineno": 77,
      "doc_summary": "Compose a report for ``run_id`` using the JSONL ledger at ``ledger_path``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 11,
    "cyclomatic": 12,
    "loc": 107
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 1,
  "cycle_group": 56,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.871,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "observability/runpack.py",
  "repo_path": "codeintel_rev/observability/runpack.py",
  "module_name": "codeintel_rev.observability.runpack",
  "stable_id": "8e9a9c1d16e1",
  "docstring": "Helpers for building per-run diagnostic artifacts (\"runpacks\").",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "io"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "zipfile"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "fields",
        "is_dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "telemetry_enabled"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.reporting",
      "names": [
        "build_timeline_run_report",
        "latest_run_report",
        "resolve_timeline_dir"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.reporter",
      "names": [
        "build_report",
        "report_to_json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 24
    },
    {
      "kind": "function",
      "name": "_json_bytes",
      "lineno": 29
    },
    {
      "kind": "function",
      "name": "_write_bytes",
      "lineno": 33
    },
    {
      "kind": "function",
      "name": "_sanitize_dataclass",
      "lineno": 39
    },
    {
      "kind": "function",
      "name": "_settings_summary",
      "lineno": 52
    },
    {
      "kind": "function",
      "name": "_runtime_facts",
      "lineno": 74
    },
    {
      "kind": "function",
      "name": "_context_snapshot",
      "lineno": 99
    },
    {
      "kind": "function",
      "name": "_extract_budget",
      "lineno": 108
    },
    {
      "kind": "function",
      "name": "_structured_report",
      "lineno": 123
    },
    {
      "kind": "function",
      "name": "make_runpack",
      "lineno": 138
    }
  ],
  "exports": [
    "make_runpack"
  ],
  "exports_declared": [
    "make_runpack"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Helpers for building per-run diagnostic artifacts (\"runpacks\").",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_json_bytes",
      "qualname": "_json_bytes",
      "kind": "function",
      "public": false,
      "lineno": 29,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_bytes",
      "qualname": "_write_bytes",
      "kind": "function",
      "public": false,
      "lineno": 33,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_sanitize_dataclass",
      "qualname": "_sanitize_dataclass",
      "kind": "function",
      "public": false,
      "lineno": 39,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_settings_summary",
      "qualname": "_settings_summary",
      "kind": "function",
      "public": false,
      "lineno": 52,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_runtime_facts",
      "qualname": "_runtime_facts",
      "kind": "function",
      "public": false,
      "lineno": 74,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_context_snapshot",
      "qualname": "_context_snapshot",
      "kind": "function",
      "public": false,
      "lineno": 99,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_extract_budget",
      "qualname": "_extract_budget",
      "kind": "function",
      "public": false,
      "lineno": 108,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_structured_report",
      "qualname": "_structured_report",
      "kind": "function",
      "public": false,
      "lineno": 123,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "make_runpack",
      "qualname": "make_runpack",
      "kind": "function",
      "public": true,
      "lineno": 138,
      "doc_summary": "Build a zipped telemetry artifact for ``session_id``/``run_id``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 27,
    "cyclomatic": 28,
    "loc": 237
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 6,
  "cycle_group": 50,
  "imports_internal": [
    "app/config_context.py",
    "io/__init__.py",
    "observability/otel.py",
    "observability/reporting.py",
    "telemetry/reporter.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "io/__init__.py",
    "observability/otel.py",
    "observability/reporting.py",
    "telemetry/reporter.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.436,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "observability/runtime_observer.py",
  "repo_path": "codeintel_rev/observability/runtime_observer.py",
  "module_name": "codeintel_rev.observability.runtime_observer",
  "stable_id": "1f297d686433",
  "docstring": "RuntimeCell observer that writes lifecycle events to the active timeline.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "contextvars"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.ledger",
      "names": [
        "RunLedger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline",
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.cells",
      "names": [
        "RuntimeCellCloseResult",
        "RuntimeCellInitContext",
        "RuntimeCellInitResult",
        "RuntimeCellObserver"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "current_run_ledger",
      "lineno": 31
    },
    {
      "kind": "function",
      "name": "bind_run_ledger",
      "lineno": 44
    },
    {
      "kind": "class",
      "name": "TimelineRuntimeObserver",
      "lineno": 53
    }
  ],
  "exports": [
    "TimelineRuntimeObserver",
    "bind_run_ledger",
    "current_run_ledger"
  ],
  "exports_declared": [
    "TimelineRuntimeObserver",
    "bind_run_ledger",
    "current_run_ledger"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "RuntimeCell observer that writes lifecycle events to the active timeline.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "current_run_ledger",
      "qualname": "current_run_ledger",
      "kind": "function",
      "public": true,
      "lineno": 31,
      "doc_summary": "Return the run ledger bound to the current context, if any.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "bind_run_ledger",
      "qualname": "bind_run_ledger",
      "kind": "function",
      "public": true,
      "lineno": 44,
      "doc_summary": "Bind ``ledger`` to the current context for the duration of the block.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "TimelineRuntimeObserver",
      "qualname": "TimelineRuntimeObserver",
      "kind": "class",
      "public": true,
      "lineno": 53,
      "doc_summary": "Emit runtime cell lifecycle events to the active or fallback timeline.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 17,
    "cyclomatic": 18,
    "loc": 144
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 4,
  "fan_out": 3,
  "cycle_group": 41,
  "imports_internal": [
    "observability/ledger.py",
    "observability/timeline.py",
    "runtime/cells.py"
  ],
  "imports_intra_repo": [
    "observability/ledger.py",
    "observability/timeline.py",
    "runtime/cells.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.262,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "observability/semantic_conventions.py",
  "repo_path": "codeintel_rev/observability/semantic_conventions.py",
  "module_name": "codeintel_rev.observability.semantic_conventions",
  "stable_id": "d18814fce23b",
  "docstring": "Shared OpenTelemetry semantic convention helpers for CodeIntel.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "Attrs",
      "lineno": 10
    },
    {
      "kind": "function",
      "name": "as_kv",
      "lineno": 110
    },
    {
      "kind": "function",
      "name": "to_label_str",
      "lineno": 128
    }
  ],
  "exports": [
    "Attrs",
    "as_kv",
    "to_label_str"
  ],
  "exports_declared": [
    "Attrs",
    "as_kv",
    "to_label_str"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Shared OpenTelemetry semantic convention helpers for CodeIntel.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "Attrs",
      "qualname": "Attrs",
      "kind": "class",
      "public": true,
      "lineno": 10,
      "doc_summary": "Trusted attribute keys used across spans, metrics, and logs.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "as_kv",
      "qualname": "as_kv",
      "kind": "function",
      "public": true,
      "lineno": 110,
      "doc_summary": "Return a dict filtered to values that are not ``None``.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "to_label_str",
      "qualname": "to_label_str",
      "kind": "function",
      "public": true,
      "lineno": 128,
      "doc_summary": "Return a deterministic string label for structured values.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 151
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 20,
  "fan_out": 0,
  "cycle_group": 6,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.18,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "observability/timeline.py",
  "repo_path": "codeintel_rev/observability/timeline.py",
  "module_name": "codeintel_rev.observability.timeline",
  "stable_id": "bf32ec83a972",
  "docstring": "Lightweight per-session timeline recording utilities.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "contextvars"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "hashlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "secrets"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "threading"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "uuid"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Iterator",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "AbstractContextManager",
        "contextmanager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib",
      "names": [
        "import_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "TracebackType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "Self",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "as_span",
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 24
    },
    {
      "kind": "function",
      "name": "_env_float",
      "lineno": 35
    },
    {
      "kind": "function",
      "name": "_env_int",
      "lineno": 46
    },
    {
      "kind": "function",
      "name": "_clamp",
      "lineno": 57
    },
    {
      "kind": "function",
      "name": "_diagnostics_dir",
      "lineno": 65
    },
    {
      "kind": "function",
      "name": "_max_field_len",
      "lineno": 71
    },
    {
      "kind": "class",
      "name": "_FlightRecorder",
      "lineno": 75
    },
    {
      "kind": "function",
      "name": "_get_record_payload_fn",
      "lineno": 183
    },
    {
      "kind": "function",
      "name": "_scrub_value",
      "lineno": 210
    },
    {
      "kind": "function",
      "name": "_scrub_attrs",
      "lineno": 231
    },
    {
      "kind": "class",
      "name": "Timeline",
      "lineno": 236
    },
    {
      "kind": "class",
      "name": "_TimelineScope",
      "lineno": 378
    },
    {
      "kind": "function",
      "name": "new_timeline",
      "lineno": 431
    },
    {
      "kind": "function",
      "name": "current_timeline",
      "lineno": 476
    },
    {
      "kind": "function",
      "name": "current_or_new_timeline",
      "lineno": 487
    },
    {
      "kind": "function",
      "name": "bind_timeline",
      "lineno": 532
    }
  ],
  "exports": [
    "Timeline",
    "bind_timeline",
    "current_timeline",
    "new_timeline"
  ],
  "exports_declared": [
    "Timeline",
    "bind_timeline",
    "current_timeline",
    "new_timeline"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Lightweight per-session timeline recording utilities.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_env_float",
      "qualname": "_env_float",
      "kind": "function",
      "public": false,
      "lineno": 35,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_env_int",
      "qualname": "_env_int",
      "kind": "function",
      "public": false,
      "lineno": 46,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_clamp",
      "qualname": "_clamp",
      "kind": "function",
      "public": false,
      "lineno": 57,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_diagnostics_dir",
      "qualname": "_diagnostics_dir",
      "kind": "function",
      "public": false,
      "lineno": 65,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_max_field_len",
      "qualname": "_max_field_len",
      "kind": "function",
      "public": false,
      "lineno": 71,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_FlightRecorder",
      "qualname": "_FlightRecorder",
      "kind": "class",
      "public": false,
      "lineno": 75,
      "doc_summary": "Append-only JSONL recorder with sampling and rotation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_get_record_payload_fn",
      "qualname": "_get_record_payload_fn",
      "kind": "function",
      "public": false,
      "lineno": 183,
      "doc_summary": "Return the cached reporter hook, importing lazily when required.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_scrub_value",
      "qualname": "_scrub_value",
      "kind": "function",
      "public": false,
      "lineno": 210,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_scrub_attrs",
      "qualname": "_scrub_attrs",
      "kind": "function",
      "public": false,
      "lineno": 231,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Timeline",
      "qualname": "Timeline",
      "kind": "class",
      "public": true,
      "lineno": 236,
      "doc_summary": "Append-only JSONL event recorder for a single session/run pair.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_TimelineScope",
      "qualname": "_TimelineScope",
      "kind": "class",
      "public": false,
      "lineno": 378,
      "doc_summary": "Context manager that emits start/end events with duration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "new_timeline",
      "qualname": "new_timeline",
      "kind": "function",
      "public": true,
      "lineno": 431,
      "doc_summary": "Return a new timeline bound to ``session_id``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "current_timeline",
      "qualname": "current_timeline",
      "kind": "function",
      "public": true,
      "lineno": 476,
      "doc_summary": "Return the timeline bound to the current context, if any.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "current_or_new_timeline",
      "qualname": "current_or_new_timeline",
      "kind": "function",
      "public": true,
      "lineno": 487,
      "doc_summary": "Return the active timeline or create a new one when missing.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "bind_timeline",
      "qualname": "bind_timeline",
      "kind": "function",
      "public": true,
      "lineno": 532,
      "doc_summary": "Bind ``timeline`` to the current async/task context.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 44,
    "cyclomatic": 45,
    "loc": 568
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 20,
  "fan_out": 2,
  "cycle_group": 12,
  "imports_internal": [
    "observability/otel.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "observability/otel.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.949,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 10,
  "recent_churn_90": 10
}
{
  "path": "ops/__init__.py",
  "repo_path": "codeintel_rev/ops/__init__.py",
  "module_name": "codeintel_rev.ops",
  "stable_id": "f3b54654c2fd",
  "docstring": "Operations and maintenance scripts.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Operations and maintenance scripts.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 4
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 152,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "ops/runtime/__init__.py",
  "repo_path": "codeintel_rev/ops/runtime/__init__.py",
  "module_name": "codeintel_rev.ops.runtime",
  "stable_id": "bc075ff6800a",
  "docstring": "Runtime health and validation utilities.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Runtime health and validation utilities.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 4
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 153,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "ops/runtime/xtr_open.py",
  "repo_path": "codeintel_rev/ops/runtime/xtr_open.py",
  "module_name": "codeintel_rev.ops.runtime.xtr_open",
  "stable_id": "284400846588",
  "docstring": "Fail-fast probe for XTR artifacts.\n\nExample failure payload::\n\n    {\n        \"type\": \"https://kgfoundry.dev/problems/resource-unavailable\",\n        \"title\": \"XTR artifacts unavailable\",\n        \"status\": 503,\n        \"detail\": \"Index metadata missing.\",\n        \"runtime\": \"xtr\",\n        \"instance\": \"/ops/runtime/xtr-open\",\n    }\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": true,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Annotated"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "typer"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "resolve_application_paths"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "load_settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "RuntimeUnavailableError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.xtr_manager",
      "names": [
        "XTRIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 29
    },
    {
      "kind": "variable",
      "name": "APP",
      "lineno": 30
    },
    {
      "kind": "variable",
      "name": "PROBLEM_INSTANCE",
      "lineno": 31
    },
    {
      "kind": "function",
      "name": "xtr_open",
      "lineno": 53
    },
    {
      "kind": "function",
      "name": "_exit_with_problem",
      "lineno": 165
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 182
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Fail-fast probe for XTR artifacts.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": true
  },
  "doc_items": [
    {
      "name": "xtr_open",
      "qualname": "xtr_open",
      "kind": "function",
      "public": true,
      "lineno": 53,
      "doc_summary": "Validate that XTR artifacts are present and readable.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": true
    },
    {
      "name": "_exit_with_problem",
      "qualname": "_exit_with_problem",
      "kind": "function",
      "public": false,
      "lineno": 165,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 182,
      "doc_summary": "Execute the Typer CLI.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 11,
    "cyclomatic": 12,
    "loc": 189
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 5,
  "cycle_group": 154,
  "imports_internal": [
    "app/config_context.py",
    "config/settings.py",
    "errors.py",
    "io/xtr_manager.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/config_context.py",
    "config/settings.py",
    "errors.py",
    "io/xtr_manager.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.033,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "overlay_manager.py",
  "repo_path": "codeintel_rev/overlay_manager.py",
  "module_name": "codeintel_rev.overlay_manager",
  "stable_id": "6e36c18fb0c1",
  "docstring": "Targeted overlay manager for opt-in stub generation.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.module_utils",
      "names": [
        "normalize_module_name"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "OverlayPlan",
      "lineno": 14
    },
    {
      "kind": "function",
      "name": "select_overlay_candidates",
      "lineno": 21
    },
    {
      "kind": "function",
      "name": "generate_overlay_stub",
      "lineno": 62
    },
    {
      "kind": "function",
      "name": "activate_generated_overlays",
      "lineno": 96
    },
    {
      "kind": "function",
      "name": "_safe_int",
      "lineno": 130
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Targeted overlay manager for opt-in stub generation.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "OverlayPlan",
      "qualname": "OverlayPlan",
      "kind": "class",
      "public": true,
      "lineno": 14,
      "doc_summary": "Plan describing overlays to generate.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "select_overlay_candidates",
      "qualname": "select_overlay_candidates",
      "kind": "function",
      "public": true,
      "lineno": 21,
      "doc_summary": "Return overlay candidates based on re-exports and typedness.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "generate_overlay_stub",
      "qualname": "generate_overlay_stub",
      "kind": "function",
      "public": true,
      "lineno": 62,
      "doc_summary": "Write a re-export-only stub for ``plan``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "activate_generated_overlays",
      "qualname": "activate_generated_overlays",
      "kind": "function",
      "public": true,
      "lineno": 96,
      "doc_summary": "Symlink generated overlays into the primary stub path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_safe_int",
      "qualname": "_safe_int",
      "kind": "function",
      "public": false,
      "lineno": 130,
      "doc_summary": "Return a best-effort integer conversion.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 16,
    "cyclomatic": 17,
    "loc": 155
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 1,
  "cycle_group": 155,
  "imports_internal": [
    "module_utils.py"
  ],
  "imports_intra_repo": [
    "module_utils.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.691,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "patches/Supporting Documentation/BM25+SPLADEv3-patchfiles/tools_recall_harness.py",
  "repo_path": "codeintel_rev/patches/Supporting Documentation/BM25+SPLADEv3-patchfiles/tools_recall_harness.py",
  "module_name": "codeintel_rev.patches.Supporting Documentation.BM25+SPLADEv3-patchfiles.tools_recall_harness",
  "stable_id": "5c9e3facde80",
  "docstring": "High-recall harness for BM25 + RM3 and (optionally) SPLADE.\n\nThis script evaluates Recall@K over a query set while sweeping BM25 (k1, b)\nand RM3 configurations. It also supports an *auto* mode that applies the same\nRM3 heuristics used in production to validate toggle decisions.\n\nUsage\n-----\npython tools/recall_harness.py +  --bm25-index ~/indexes/bm25 +  --queries data/queries.jsonl +  --qrels data/qrels.tsv +  --k 10 +  --sweep-k1 0.6,0.9,1.2 +  --sweep-b 0.2,0.4,0.75 +  --rm3 off,10-10-0.5,20-10-0.5 +  --auto-rm3 true +  --outdir runs/2025-11-11\n\nInput formats\n-------------\n* queries.jsonl: one JSON per line: {\"qid\": \"...\", \"text\": \"...\"}\n* qrels.tsv: TREC qrels TSV: qid <tab> docid <tab> rel (rel>0 = relevant)\n\nOutputs\n-------\n* summary.json        : per-configuration Recall@K, MRR@K (optional), decisions\n* decisions.csv       : per-query RM3 decisions in auto mode (enable/disable)\n* runs/*.tsv          : simple runs for debugging\n\nNotes\n-----\n* Requires Pyserini for BM25/RM3. SPLADE evaluation is optional (provide\n  --splade-index and --splade-encoder to enable; used for hybrid oracle).\n* Designed to be run in CI/nightly as a regression guard.\n\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "argparse"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "csv"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "dataclasses"
      ],
      "aliases": {
        "dataclasses": "dc"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "re"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib",
      "names": [
        "import_module"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "math"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "_read_jsonl",
      "lineno": 41
    },
    {
      "kind": "function",
      "name": "_read_qrels",
      "lineno": 52
    },
    {
      "kind": "class",
      "name": "RM3Params",
      "lineno": 65
    },
    {
      "kind": "class",
      "name": "RM3Heuristics",
      "lineno": 101
    },
    {
      "kind": "function",
      "name": "_lucene_searcher",
      "lineno": 156
    },
    {
      "kind": "function",
      "name": "_apply_rm3",
      "lineno": 168
    },
    {
      "kind": "function",
      "name": "_recall_at_k",
      "lineno": 179
    },
    {
      "kind": "function",
      "name": "_mrr_at_k",
      "lineno": 190
    },
    {
      "kind": "function",
      "name": "_parse_rm3_list",
      "lineno": 206
    },
    {
      "kind": "function",
      "name": "_write_run",
      "lineno": 218
    },
    {
      "kind": "function",
      "name": "sweep",
      "lineno": 225
    },
    {
      "kind": "function",
      "name": "main",
      "lineno": 362
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "High-recall harness for BM25 + RM3 and (optionally) SPLADE.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_read_jsonl",
      "qualname": "_read_jsonl",
      "kind": "function",
      "public": false,
      "lineno": 41,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_read_qrels",
      "qualname": "_read_qrels",
      "kind": "function",
      "public": false,
      "lineno": 52,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RM3Params",
      "qualname": "RM3Params",
      "kind": "class",
      "public": true,
      "lineno": 65,
      "doc_summary": "Parameters for RM3 (Relevance Model 3) query expansion.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RM3Heuristics",
      "qualname": "RM3Heuristics",
      "kind": "class",
      "public": true,
      "lineno": 101,
      "doc_summary": "Copy of the production heuristic (kept self-contained here).",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_lucene_searcher",
      "qualname": "_lucene_searcher",
      "kind": "function",
      "public": false,
      "lineno": 156,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_apply_rm3",
      "qualname": "_apply_rm3",
      "kind": "function",
      "public": false,
      "lineno": 168,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_recall_at_k",
      "qualname": "_recall_at_k",
      "kind": "function",
      "public": false,
      "lineno": 179,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_mrr_at_k",
      "qualname": "_mrr_at_k",
      "kind": "function",
      "public": false,
      "lineno": 190,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_parse_rm3_list",
      "qualname": "_parse_rm3_list",
      "kind": "function",
      "public": false,
      "lineno": 206,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_run",
      "qualname": "_write_run",
      "kind": "function",
      "public": false,
      "lineno": 218,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "sweep",
      "qualname": "sweep",
      "kind": "function",
      "public": true,
      "lineno": 225,
      "doc_summary": "Sweep BM25 and RM3 configurations and evaluate Recall@K.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "main",
      "qualname": "main",
      "kind": "function",
      "public": true,
      "lineno": 362,
      "doc_summary": "Main entry point for the recall harness script.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 0.96,
    "returns": 0.9
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 44,
    "cyclomatic": 45,
    "loc": 427
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [
    "patches/Supporting Documentation/BM25+SPLADEv3-patchfiles/grafana_codeintel_retrieval.json",
    "patches/Supporting Documentation/BM25+SPLADEv3-patchfiles/grafana-codeintel-retrieval.json",
    "patches/Supporting Documentation/faiss_1_12_0_api_inventory.json",
    "patches/Supporting Documentation/FastAPI.md",
    "patches/Supporting Documentation/opentelemetry.md",
    "patches/Supporting Documentation/libcst.md",
    "patches/Supporting Documentation/vllm.md",
    "patches/Supporting Documentation/tree-sitter.md",
    "patches/Supporting Documentation/251111_FAISS_whl_overview_rev.md",
    "patches/Supporting Documentation/pyrarrow.md",
    "patches/Supporting Documentation/duckdb.md",
    "patches/Supporting Documentation/HyperCorn.md",
    "patches/Supporting Documentation/nginx.md",
    "patches/AST_CST_SCIP_data_pipeline_hardening.md",
    "patches/OpenTelemetry_ExtensionPhase2.md",
    "patches/CST_Data_Build.md",
    "patches/SCIP+CST+AST pipeline hardening.md",
    "patches/OpenTelemetry_ExtensionPhase4.md",
    "patches/Typing_gating_follow_small_architecture_changes.md",
    "patches/FAISS_detailed_implementation_plan.md",
    "patches/Enrich_Expansion.md",
    "patches/OpenTelemetry_ExtensionPhase2addon.md",
    "patches/OpenTelemetry_Reconfig_for_efficient_libraries_phase2.md",
    "patches/Front_End_Hardening_Phase2.md",
    "patches/Enrich_Extension.md",
    "patches/Networking_Implementation.md",
    "patches/FAISS-Hardening.md",
    "patches/Type_Gating_Factory_Scope_phase2.md",
    "patches/BM25+SPLADEv3_Implementation.md",
    "patches/OpenTelemetry_ExtensionPhase1.md",
    "patches/Type_Gating_Factory_Scope.md",
    "patches/MCP_through_search_hardening_phase2.md",
    "patches/DuckDB_data_expansion_FAISS.md",
    "patches/Type_Gating_Followup.md",
    "patches/OpenTelemetry_Reconfig_for_efficient_libraries.md",
    "patches/Cli_enrich_fix.md",
    "patches/AST_Data_Build.md",
    "patches/audit_closeout.md",
    "patches/MCP_through_search_hardening.md",
    "patches/Index Lifecycle Manager and Concurrency.md",
    "patches/MCP_schema_implementation.md",
    "patches/OpenTelemetry_ExtensionPhase0.md",
    "patches/FAISS Implementation Phase 2 rev.md",
    "patches/warp_technical_overview.md",
    "patches/OpenTelemetry_ExtensionPhase3.md",
    "patches/Telemetry_Implementation.md",
    "patches/vllm scope.md",
    "patches/Enrich_scope_addendum.md",
    "patches/FAISS-Phase2-Refinements.md",
    "patches/SCIP+CST+AST pipeline hardening_phase2.md",
    "patches/Front_End_Hardening_Phase1.md",
    "patches/Enrich_Scope.md",
    "patches/Runtime_Cells_Followup_Scope.md",
    "patches/FAISS-Implementation-Stage2.md"
  ],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 156,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.695,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "plugins/__init__.py",
  "repo_path": "codeintel_rev/plugins/__init__.py",
  "module_name": "codeintel_rev.plugins",
  "stable_id": "1fb69bd1ad21",
  "docstring": "Plugin surfaces for pluggable retrieval channels.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Plugin surfaces for pluggable retrieval channels.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 157,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "plugins/builtins.py",
  "repo_path": "codeintel_rev/plugins/builtins.py",
  "module_name": "codeintel_rev.plugins.builtins",
  "stable_id": "ef7364cbd3e6",
  "docstring": "Built-in retrieval channel implementations (BM25, SPLADE).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "Lock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.hybrid_search",
      "names": [
        "BM25Rm3Config",
        "BM25SearchProvider",
        "SpladeSearchProvider"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.plugins.channels",
      "names": [
        "Channel",
        "ChannelContext",
        "ChannelError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.rm3_heuristics",
      "names": [
        "RM3Heuristics",
        "RM3Params"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "SearchHit"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 15
    },
    {
      "kind": "function",
      "name": "bm25_factory",
      "lineno": 20
    },
    {
      "kind": "function",
      "name": "splade_factory",
      "lineno": 52
    },
    {
      "kind": "class",
      "name": "_BM25Channel",
      "lineno": 85
    },
    {
      "kind": "class",
      "name": "_SpladeChannel",
      "lineno": 214
    },
    {
      "kind": "function",
      "name": "_resolve_path",
      "lineno": 319
    },
    {
      "kind": "function",
      "name": "_classify_skip_reason",
      "lineno": 326
    }
  ],
  "exports": [
    "bm25_factory",
    "splade_factory"
  ],
  "exports_declared": [
    "bm25_factory",
    "splade_factory"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Built-in retrieval channel implementations (BM25, SPLADE).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "bm25_factory",
      "qualname": "bm25_factory",
      "kind": "function",
      "public": true,
      "lineno": 20,
      "doc_summary": "Return the built-in BM25 channel.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "splade_factory",
      "qualname": "splade_factory",
      "kind": "function",
      "public": true,
      "lineno": 52,
      "doc_summary": "Return the built-in SPLADE impact channel.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_BM25Channel",
      "qualname": "_BM25Channel",
      "kind": "class",
      "public": false,
      "lineno": 85,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SpladeChannel",
      "qualname": "_SpladeChannel",
      "kind": "class",
      "public": false,
      "lineno": 214,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_path",
      "qualname": "_resolve_path",
      "kind": "function",
      "public": false,
      "lineno": 319,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_classify_skip_reason",
      "qualname": "_classify_skip_reason",
      "kind": "function",
      "public": false,
      "lineno": 326,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 26,
    "cyclomatic": 27,
    "loc": 333
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 4,
  "cycle_group": 158,
  "imports_internal": [
    "io/hybrid_search.py",
    "plugins/channels.py",
    "retrieval/rm3_heuristics.py",
    "retrieval/types.py"
  ],
  "imports_intra_repo": [
    "io/hybrid_search.py",
    "plugins/channels.py",
    "retrieval/rm3_heuristics.py",
    "retrieval/types.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.19,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "plugins/channels.py",
  "repo_path": "codeintel_rev/plugins/channels.py",
  "module_name": "codeintel_rev.plugins.channels",
  "stable_id": "c175a773d54b",
  "docstring": "Channel plugin contracts for hybrid retrieval.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "Protocol"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "SearchHit"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.capabilities",
      "names": [
        "Capabilities"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ResolvedPaths"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.config.settings",
      "names": [
        "Settings"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "Capabilities",
      "lineno": 16
    },
    {
      "kind": "variable",
      "name": "ResolvedPaths",
      "lineno": 17
    },
    {
      "kind": "variable",
      "name": "Settings",
      "lineno": 18
    },
    {
      "kind": "class",
      "name": "ChannelContext",
      "lineno": 24
    },
    {
      "kind": "class",
      "name": "Channel",
      "lineno": 32
    },
    {
      "kind": "class",
      "name": "ChannelError",
      "lineno": 44
    }
  ],
  "exports": [
    "Channel",
    "ChannelContext",
    "ChannelError"
  ],
  "exports_declared": [
    "Channel",
    "ChannelContext",
    "ChannelError"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Channel plugin contracts for hybrid retrieval.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "ChannelContext",
      "qualname": "ChannelContext",
      "kind": "class",
      "public": true,
      "lineno": 24,
      "doc_summary": "Context passed to channel factories when they are constructed.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Channel",
      "qualname": "Channel",
      "kind": "class",
      "public": true,
      "lineno": 32,
      "doc_summary": "Retrieval channel plugin interface.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "ChannelError",
      "qualname": "ChannelError",
      "kind": "class",
      "public": true,
      "lineno": 44,
      "doc_summary": "Raised by channels when they cannot satisfy a search request.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 1,
    "cyclomatic": 2,
    "loc": 50
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 5,
  "cycle_group": 41,
  "imports_internal": [
    "app/capabilities.py",
    "app/config_context.py",
    "config/settings.py",
    "retrieval/types.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/capabilities.py",
    "app/config_context.py",
    "config/settings.py",
    "retrieval/types.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "plugins/registry.py",
  "repo_path": "codeintel_rev/plugins/registry.py",
  "module_name": "codeintel_rev.plugins.registry",
  "stable_id": "b24a80872208",
  "docstring": "Entry-point driven registry for retrieval channels.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Iterable",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "importlib.metadata",
      "names": [
        "EntryPoint",
        "entry_points"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.plugins.channels",
      "names": [
        "Channel",
        "ChannelContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 12
    },
    {
      "kind": "class",
      "name": "ChannelRegistry",
      "lineno": 19
    },
    {
      "kind": "function",
      "name": "_iter_entry_points",
      "lineno": 113
    },
    {
      "kind": "function",
      "name": "_load_factory",
      "lineno": 140
    }
  ],
  "exports": [
    "ChannelRegistry"
  ],
  "exports_declared": [
    "ChannelRegistry"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Entry-point driven registry for retrieval channels.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "ChannelRegistry",
      "qualname": "ChannelRegistry",
      "kind": "class",
      "public": true,
      "lineno": 19,
      "doc_summary": "Registry that discovers channel plugins via Python entry points.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_iter_entry_points",
      "qualname": "_iter_entry_points",
      "kind": "function",
      "public": false,
      "lineno": 113,
      "doc_summary": "Return entry points for the channel group across Python versions.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_load_factory",
      "qualname": "_load_factory",
      "kind": "function",
      "public": false,
      "lineno": 140,
      "doc_summary": "Return a callable factory if the entry point loads successfully.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 8,
    "cyclomatic": 9,
    "loc": 178
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 2,
  "cycle_group": 41,
  "imports_internal": [
    "plugins/channels.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "plugins/channels.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.792,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "polars_support.py",
  "repo_path": "codeintel_rev/polars_support.py",
  "module_name": "codeintel_rev.polars_support",
  "stable_id": "68a30a3e3d68",
  "docstring": "Helpers for optional polars exports.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "PolarsDataFrame",
        "PolarsModule"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "resolve_polars_frame_factory",
      "lineno": 15
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Helpers for optional polars exports.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "resolve_polars_frame_factory",
      "qualname": "resolve_polars_frame_factory",
      "kind": "function",
      "public": true,
      "lineno": 15,
      "doc_summary": "Return a DataFrame factory that works across polars versions.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 48
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 1,
  "cycle_group": 96,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.517,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "rerank/__init__.py",
  "repo_path": "codeintel_rev/rerank/__init__.py",
  "module_name": "codeintel_rev.rerank",
  "stable_id": "ffdc59df205b",
  "docstring": "Late-interaction reranker interfaces.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Late-interaction reranker interfaces.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 159,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "rerank/base.py",
  "repo_path": "codeintel_rev/rerank/base.py",
  "module_name": "codeintel_rev.rerank.base",
  "stable_id": "669975d6fa52",
  "docstring": "Shared reranker interfaces and request/response types.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Protocol"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "ScoredDoc",
      "lineno": 13
    },
    {
      "kind": "class",
      "name": "RerankResult",
      "lineno": 21
    },
    {
      "kind": "class",
      "name": "RerankRequest",
      "lineno": 29
    },
    {
      "kind": "class",
      "name": "Reranker",
      "lineno": 38
    }
  ],
  "exports": [
    "RerankRequest",
    "RerankResult",
    "Reranker",
    "ScoredDoc"
  ],
  "exports_declared": [
    "RerankRequest",
    "RerankResult",
    "Reranker",
    "ScoredDoc"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Shared reranker interfaces and request/response types.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "ScoredDoc",
      "qualname": "ScoredDoc",
      "kind": "class",
      "public": true,
      "lineno": 13,
      "doc_summary": "Document identifier + score pair.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RerankResult",
      "qualname": "RerankResult",
      "kind": "class",
      "public": true,
      "lineno": 21,
      "doc_summary": "Result emitted by rerankers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RerankRequest",
      "qualname": "RerankRequest",
      "kind": "class",
      "public": true,
      "lineno": 29,
      "doc_summary": "Structured rerank invocation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "Reranker",
      "qualname": "Reranker",
      "kind": "class",
      "public": true,
      "lineno": 38,
      "doc_summary": "Protocol implemented by pluggable rerankers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 47
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 1,
  "cycle_group": 134,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.309,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "rerank/xtr.py",
  "repo_path": "codeintel_rev/rerank/xtr.py",
  "module_name": "codeintel_rev.rerank.xtr",
  "stable_id": "acc436051b02",
  "docstring": "XTR-backed reranker implementation.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.xtr_manager",
      "names": [
        "XTRIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.rerank.base",
      "names": [
        "Reranker",
        "RerankRequest",
        "RerankResult"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "XTRReranker",
      "lineno": 13
    }
  ],
  "exports": [
    "XTRReranker"
  ],
  "exports_declared": [
    "XTRReranker"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "XTR-backed reranker implementation.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "XTRReranker",
      "qualname": "XTRReranker",
      "kind": "class",
      "public": true,
      "lineno": 13,
      "doc_summary": "Rerank hits using the XTR MaxSim scorer.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 3,
    "cyclomatic": 4,
    "loc": 74
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 2,
  "cycle_group": 135,
  "imports_internal": [
    "io/xtr_manager.py",
    "rerank/base.py"
  ],
  "imports_intra_repo": [
    "io/xtr_manager.py",
    "rerank/base.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.584,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "retrieval/__init__.py",
  "repo_path": "codeintel_rev/retrieval/__init__.py",
  "module_name": "codeintel_rev.retrieval",
  "stable_id": "028c4700520d",
  "docstring": "Hybrid retrieval algorithms for the CodeIntel MCP stack.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [],
  "defs": [],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Hybrid retrieval algorithms for the CodeIntel MCP stack.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 2
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 0,
  "cycle_group": 160,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 0.755,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "retrieval/boosters.py",
  "repo_path": "codeintel_rev/retrieval/boosters.py",
  "module_name": "codeintel_rev.retrieval.boosters",
  "stable_id": "e4a89bc3fab7",
  "docstring": "Score boosters applied after fusion.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "re"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Iterable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "HybridResultDoc"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "duckdb"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager"
      ],
      "aliases": {
        "DuckDBManager": "DuckDBManagerType"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_manager",
      "names": [
        "DuckDBManager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "duckdb",
      "names": [
        "DuckDBPyConnection"
      ],
      "aliases": {
        "DuckDBPyConnection": "DuckConnection"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "duckdb",
      "lineno": 16
    },
    {
      "kind": "variable",
      "name": "DuckDBManagerType",
      "lineno": 21
    },
    {
      "kind": "variable",
      "name": "DuckDBManager",
      "lineno": 26
    },
    {
      "kind": "variable",
      "name": "DuckConnection",
      "lineno": 31
    },
    {
      "kind": "class",
      "name": "RecencyConfig",
      "lineno": 39
    },
    {
      "kind": "function",
      "name": "_now",
      "lineno": 50
    },
    {
      "kind": "function",
      "name": "_exp_decay",
      "lineno": 54
    },
    {
      "kind": "function",
      "name": "_safe_identifier",
      "lineno": 60
    },
    {
      "kind": "function",
      "name": "_normalize_ids",
      "lineno": 67
    },
    {
      "kind": "function",
      "name": "_create_recency_view",
      "lineno": 77
    },
    {
      "kind": "function",
      "name": "_populate_id_table",
      "lineno": 89
    },
    {
      "kind": "function",
      "name": "_fetch_commit_ts_duckdb",
      "lineno": 94
    },
    {
      "kind": "function",
      "name": "apply_recency_boost",
      "lineno": 141
    }
  ],
  "exports": [
    "RecencyConfig",
    "apply_recency_boost"
  ],
  "exports_declared": [
    "RecencyConfig",
    "apply_recency_boost"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Score boosters applied after fusion.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "RecencyConfig",
      "qualname": "RecencyConfig",
      "kind": "class",
      "public": true,
      "lineno": 39,
      "doc_summary": "Configuration parameters controlling recency boosts.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_now",
      "qualname": "_now",
      "kind": "function",
      "public": false,
      "lineno": 50,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_exp_decay",
      "qualname": "_exp_decay",
      "kind": "function",
      "public": false,
      "lineno": 54,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_safe_identifier",
      "qualname": "_safe_identifier",
      "kind": "function",
      "public": false,
      "lineno": 60,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_ids",
      "qualname": "_normalize_ids",
      "kind": "function",
      "public": false,
      "lineno": 67,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_create_recency_view",
      "qualname": "_create_recency_view",
      "kind": "function",
      "public": false,
      "lineno": 77,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_populate_id_table",
      "qualname": "_populate_id_table",
      "kind": "function",
      "public": false,
      "lineno": 89,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_fetch_commit_ts_duckdb",
      "qualname": "_fetch_commit_ts_duckdb",
      "kind": "function",
      "public": false,
      "lineno": 94,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "apply_recency_boost",
      "qualname": "apply_recency_boost",
      "kind": "function",
      "public": true,
      "lineno": 141,
      "doc_summary": "Return a new doc list with an exponential recency boost applied.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": true
  },
  "raises": [],
  "complexity": {
    "branches": 28,
    "cyclomatic": 29,
    "loc": 204
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 3,
  "cycle_group": 28,
  "imports_internal": [
    "io/duckdb_manager.py",
    "retrieval/types.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "io/duckdb_manager.py",
    "retrieval/types.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.211,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 7,
  "recent_churn_90": 7
}
{
  "path": "retrieval/fusion/__init__.py",
  "repo_path": "codeintel_rev/retrieval/fusion/__init__.py",
  "module_name": "codeintel_rev.retrieval.fusion",
  "stable_id": "ab87fe8ea5ff",
  "docstring": "Fusion helpers for multi-channel retrieval.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.fusion.weighted_rrf",
      "names": [
        "fuse_weighted_rrf"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "fuse_weighted_rrf"
  ],
  "exports_declared": [
    "fuse_weighted_rrf"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Fusion helpers for multi-channel retrieval.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 8
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 124,
  "imports_internal": [
    "retrieval/fusion/weighted_rrf.py"
  ],
  "imports_intra_repo": [
    "retrieval/fusion/weighted_rrf.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.194,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "retrieval/fusion/weighted_rrf.py",
  "repo_path": "codeintel_rev/retrieval/fusion/weighted_rrf.py",
  "module_name": "codeintel_rev.retrieval.fusion.weighted_rrf",
  "stable_id": "b2aa2d94b436",
  "docstring": "Weighted reciprocal rank fusion utilities.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "HybridResultDoc",
        "SearchHit"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "fuse_weighted_rrf",
      "lineno": 10
    }
  ],
  "exports": [
    "fuse_weighted_rrf"
  ],
  "exports_declared": [
    "fuse_weighted_rrf"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Weighted reciprocal rank fusion utilities.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "fuse_weighted_rrf",
      "qualname": "fuse_weighted_rrf",
      "kind": "function",
      "public": true,
      "lineno": 10,
      "doc_summary": "Apply weighted RRF across runs and return fused docs plus contributions.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 5,
    "cyclomatic": 6,
    "loc": 91
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 123,
  "imports_internal": [
    "retrieval/types.py"
  ],
  "imports_intra_repo": [
    "retrieval/types.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.57,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "retrieval/gating.py",
  "repo_path": "codeintel_rev/retrieval/gating.py",
  "module_name": "codeintel_rev.retrieval.gating",
  "stable_id": "4d5783030e31",
  "docstring": "Adaptive gating helpers for multi-stage retrieval pipelines.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "re"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "GATING_DECISIONS_TOTAL",
        "GATING_QUERY_AMBIGUITY",
        "GATING_RRF_K"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "record_span_event",
        "set_current_span_attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs",
        "to_label_str"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.telemetry",
      "names": [
        "record_stage_decision"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "StageDecision",
        "StageSignals"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.steps",
      "names": [
        "StepEvent",
        "emit_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "StageGateConfig",
      "lineno": 23
    },
    {
      "kind": "function",
      "name": "should_run_secondary_stage",
      "lineno": 72
    },
    {
      "kind": "class",
      "name": "QueryProfile",
      "lineno": 160
    },
    {
      "kind": "class",
      "name": "BudgetDecision",
      "lineno": 212
    },
    {
      "kind": "function",
      "name": "_tokenize",
      "lineno": 246
    },
    {
      "kind": "function",
      "name": "_code_like_count",
      "lineno": 250
    },
    {
      "kind": "function",
      "name": "analyze_query",
      "lineno": 259
    },
    {
      "kind": "function",
      "name": "decide_budgets",
      "lineno": 331
    },
    {
      "kind": "function",
      "name": "describe_budget_decision",
      "lineno": 409
    }
  ],
  "exports": [
    "BudgetDecision",
    "QueryProfile",
    "StageGateConfig",
    "analyze_query",
    "decide_budgets",
    "describe_budget_decision",
    "should_run_secondary_stage"
  ],
  "exports_declared": [
    "BudgetDecision",
    "QueryProfile",
    "StageGateConfig",
    "analyze_query",
    "decide_budgets",
    "describe_budget_decision",
    "should_run_secondary_stage"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Adaptive gating helpers for multi-stage retrieval pipelines.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "StageGateConfig",
      "qualname": "StageGateConfig",
      "kind": "class",
      "public": true,
      "lineno": 23,
      "doc_summary": "Configuration inputs for deciding whether to invoke a follow-up stage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "should_run_secondary_stage",
      "qualname": "should_run_secondary_stage",
      "kind": "function",
      "public": true,
      "lineno": 72,
      "doc_summary": "Return a gating decision for a downstream stage based on upstream signals.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "QueryProfile",
      "qualname": "QueryProfile",
      "kind": "class",
      "public": true,
      "lineno": 160,
      "doc_summary": "Query characteristics profile for adaptive retrieval gating.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "BudgetDecision",
      "qualname": "BudgetDecision",
      "kind": "class",
      "public": true,
      "lineno": 212,
      "doc_summary": "Retrieval budget decision for multi-stage search pipelines.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_tokenize",
      "qualname": "_tokenize",
      "kind": "function",
      "public": false,
      "lineno": 246,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_code_like_count",
      "qualname": "_code_like_count",
      "kind": "function",
      "public": false,
      "lineno": 250,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "analyze_query",
      "qualname": "analyze_query",
      "kind": "function",
      "public": true,
      "lineno": 259,
      "doc_summary": "Analyze query characteristics to build a query profile.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "decide_budgets",
      "qualname": "decide_budgets",
      "kind": "function",
      "public": true,
      "lineno": 331,
      "doc_summary": "Decide retrieval budgets based on query profile.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "describe_budget_decision",
      "qualname": "describe_budget_decision",
      "kind": "function",
      "public": true,
      "lineno": 409,
      "doc_summary": "Serialize query profile and budget decision to a dictionary.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 31,
    "cyclomatic": 32,
    "loc": 457
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 7,
  "cycle_group": 41,
  "imports_internal": [
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "retrieval/telemetry.py",
    "retrieval/types.py",
    "telemetry/steps.py"
  ],
  "imports_intra_repo": [
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "retrieval/telemetry.py",
    "retrieval/types.py",
    "telemetry/steps.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.517,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 11,
  "recent_churn_90": 11
}
{
  "path": "retrieval/hybrid.py",
  "repo_path": "codeintel_rev/retrieval/hybrid.py",
  "module_name": "codeintel_rev.retrieval.hybrid",
  "stable_id": "63678047162a",
  "docstring": "Hybrid retrieval with RRF fusion.\n\nFuses results from BM25, SPLADE, and FAISS using Reciprocal Rank Fusion.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "SearchHit"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "reciprocal_rank_fusion",
      "lineno": 16
    },
    {
      "kind": "function",
      "name": "create_hit_list",
      "lineno": 64
    }
  ],
  "exports": [
    "SearchHit",
    "create_hit_list",
    "reciprocal_rank_fusion"
  ],
  "exports_declared": [
    "SearchHit",
    "create_hit_list",
    "reciprocal_rank_fusion"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Hybrid retrieval with RRF fusion.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "reciprocal_rank_fusion",
      "qualname": "reciprocal_rank_fusion",
      "kind": "function",
      "public": true,
      "lineno": 16,
      "doc_summary": "Fuse multiple ranked lists using RRF.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "create_hit_list",
      "qualname": "create_hit_list",
      "kind": "function",
      "public": true,
      "lineno": 64,
      "doc_summary": "Create SearchHit list from retrieval results.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 4,
    "cyclomatic": 5,
    "loc": 96
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 0,
  "fan_out": 2,
  "cycle_group": 161,
  "imports_internal": [
    "retrieval/types.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "retrieval/types.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.524,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "retrieval/mcp_search.py",
  "repo_path": "codeintel_rev/retrieval/mcp_search.py",
  "module_name": "codeintel_rev.retrieval.mcp_search",
  "stable_id": "5d62ae9ae91d",
  "docstring": "Deep-Research compatible search/fetch orchestration helpers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "replace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Protocol",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "uuid",
      "names": [
        "uuid4"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.eval.pool_writer",
      "names": [
        "write_pool"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.faiss_manager",
      "names": [
        "SearchRuntimeOverrides"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "MCP_FETCH_LATENCY_SECONDS",
        "MCP_SEARCH_ANN_LATENCY_MS",
        "MCP_SEARCH_HYDRATION_LATENCY_MS",
        "MCP_SEARCH_LATENCY_SECONDS",
        "MCP_SEARCH_POSTFILTER_DENSITY",
        "MCP_SEARCH_RERANK_LATENCY_MS"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.otel",
      "names": [
        "record_span_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs",
        "to_label_str"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "SearchPoolRow"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "NDArrayF32",
        "NDArrayI64"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.errors",
      "names": [
        "EmbeddingError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_catalog",
      "names": [
        "StructureAnnotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.mcp_server.schemas",
      "names": [
        "SearchFilterPayload"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "Timeline",
      "lineno": 37
    },
    {
      "kind": "variable",
      "name": "StructureAnnotations",
      "lineno": 38
    },
    {
      "kind": "variable",
      "name": "SearchFilterPayload",
      "lineno": 39
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 43
    },
    {
      "kind": "class",
      "name": "EmbeddingClient",
      "lineno": 46
    },
    {
      "kind": "class",
      "name": "IndexConfigLike",
      "lineno": 54
    },
    {
      "kind": "class",
      "name": "LimitsConfigLike",
      "lineno": 84
    },
    {
      "kind": "class",
      "name": "SearchSettings",
      "lineno": 118
    },
    {
      "kind": "class",
      "name": "CatalogLike",
      "lineno": 132
    },
    {
      "kind": "class",
      "name": "VectorIndex",
      "lineno": 155
    },
    {
      "kind": "class",
      "name": "SearchFilters",
      "lineno": 180
    },
    {
      "kind": "class",
      "name": "SearchRequest",
      "lineno": 265
    },
    {
      "kind": "class",
      "name": "SearchResult",
      "lineno": 275
    },
    {
      "kind": "class",
      "name": "SearchResponse",
      "lineno": 288
    },
    {
      "kind": "class",
      "name": "HydrationPayload",
      "lineno": 298
    },
    {
      "kind": "class",
      "name": "SearchDependencies",
      "lineno": 306
    },
    {
      "kind": "class",
      "name": "FetchRequest",
      "lineno": 321
    },
    {
      "kind": "class",
      "name": "FetchObjectResult",
      "lineno": 329
    },
    {
      "kind": "class",
      "name": "FetchResponse",
      "lineno": 340
    },
    {
      "kind": "class",
      "name": "FetchDependencies",
      "lineno": 347
    },
    {
      "kind": "function",
      "name": "run_search",
      "lineno": 355
    },
    {
      "kind": "function",
      "name": "run_fetch",
      "lineno": 518
    },
    {
      "kind": "function",
      "name": "_normalize_str_list",
      "lineno": 584
    },
    {
      "kind": "function",
      "name": "_embed_query",
      "lineno": 590
    },
    {
      "kind": "function",
      "name": "_compute_fanout",
      "lineno": 612
    },
    {
      "kind": "function",
      "name": "_build_runtime_overrides",
      "lineno": 621
    },
    {
      "kind": "function",
      "name": "_flatten_ids",
      "lineno": 648
    },
    {
      "kind": "function",
      "name": "_flatten_scores",
      "lineno": 654
    },
    {
      "kind": "function",
      "name": "_hydrate_chunks",
      "lineno": 660
    },
    {
      "kind": "function",
      "name": "_build_results",
      "lineno": 684
    },
    {
      "kind": "function",
      "name": "_matches_symbols",
      "lineno": 716
    },
    {
      "kind": "function",
      "name": "_build_metadata",
      "lineno": 723
    },
    {
      "kind": "function",
      "name": "_build_hit_reasons",
      "lineno": 748
    },
    {
      "kind": "function",
      "name": "_build_title",
      "lineno": 770
    },
    {
      "kind": "function",
      "name": "_build_url",
      "lineno": 777
    },
    {
      "kind": "function",
      "name": "_build_snippet",
      "lineno": 784
    },
    {
      "kind": "function",
      "name": "_truncate_content",
      "lineno": 792
    },
    {
      "kind": "function",
      "name": "_build_fetch_metadata",
      "lineno": 800
    },
    {
      "kind": "function",
      "name": "_write_pool_rows",
      "lineno": 811
    },
    {
      "kind": "function",
      "name": "_record_postfilter_density",
      "lineno": 853
    },
    {
      "kind": "function",
      "name": "_log_search_completion",
      "lineno": 860
    },
    {
      "kind": "function",
      "name": "_coerce_int",
      "lineno": 880
    },
    {
      "kind": "function",
      "name": "_string_sequence",
      "lineno": 895
    },
    {
      "kind": "function",
      "name": "_repair_single_result",
      "lineno": 901
    },
    {
      "kind": "function",
      "name": "_resolve_snippet",
      "lineno": 916
    },
    {
      "kind": "function",
      "name": "_merge_metadata",
      "lineno": 926
    },
    {
      "kind": "class",
      "name": "_RepairStats",
      "lineno": 956
    },
    {
      "kind": "function",
      "name": "post_search_validate_and_fill",
      "lineno": 964
    }
  ],
  "exports": [
    "FetchDependencies",
    "FetchObjectResult",
    "FetchRequest",
    "FetchResponse",
    "SearchDependencies",
    "SearchFilters",
    "SearchRequest",
    "SearchResponse",
    "SearchResult",
    "post_search_validate_and_fill",
    "run_fetch",
    "run_search"
  ],
  "exports_declared": [
    "FetchDependencies",
    "FetchObjectResult",
    "FetchRequest",
    "FetchResponse",
    "SearchDependencies",
    "SearchFilters",
    "SearchRequest",
    "SearchResponse",
    "SearchResult",
    "post_search_validate_and_fill",
    "run_fetch",
    "run_search"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Deep-Research compatible search/fetch orchestration helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "EmbeddingClient",
      "qualname": "EmbeddingClient",
      "kind": "class",
      "public": true,
      "lineno": 46,
      "doc_summary": "Protocol describing the minimal embedder surface needed for search.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "IndexConfigLike",
      "qualname": "IndexConfigLike",
      "kind": "class",
      "public": true,
      "lineno": 54,
      "doc_summary": "PEP 544 view of the index configuration needed by MCP search.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "LimitsConfigLike",
      "qualname": "LimitsConfigLike",
      "kind": "class",
      "public": true,
      "lineno": 84,
      "doc_summary": "PEP 544 view of server limit configuration.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchSettings",
      "qualname": "SearchSettings",
      "kind": "class",
      "public": true,
      "lineno": 118,
      "doc_summary": "Protocol for the subset of :class:`~codeintel_rev.config.settings.Settings`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CatalogLike",
      "qualname": "CatalogLike",
      "kind": "class",
      "public": true,
      "lineno": 132,
      "doc_summary": "DuckDB catalog surface used by the MCP tools.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "VectorIndex",
      "qualname": "VectorIndex",
      "kind": "class",
      "public": true,
      "lineno": 155,
      "doc_summary": "FAISS manager surface consumed by MCP search.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchFilters",
      "qualname": "SearchFilters",
      "kind": "class",
      "public": true,
      "lineno": 180,
      "doc_summary": "Normalized filter payload for the MCP search tool.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchRequest",
      "qualname": "SearchRequest",
      "kind": "class",
      "public": true,
      "lineno": 265,
      "doc_summary": "Search invocation parameters.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchResult",
      "qualname": "SearchResult",
      "kind": "class",
      "public": true,
      "lineno": 275,
      "doc_summary": "Single search result entry.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchResponse",
      "qualname": "SearchResponse",
      "kind": "class",
      "public": true,
      "lineno": 288,
      "doc_summary": "Structured search response returned to MCP adapters.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HydrationPayload",
      "qualname": "HydrationPayload",
      "kind": "class",
      "public": true,
      "lineno": 298,
      "doc_summary": "Bundle of hydrated rows and structural annotations.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchDependencies",
      "qualname": "SearchDependencies",
      "kind": "class",
      "public": true,
      "lineno": 306,
      "doc_summary": "Dependency bundle consumed by :func:`run_search`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchRequest",
      "qualname": "FetchRequest",
      "kind": "class",
      "public": true,
      "lineno": 321,
      "doc_summary": "Fetch invocation parameters.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchObjectResult",
      "qualname": "FetchObjectResult",
      "kind": "class",
      "public": true,
      "lineno": 329,
      "doc_summary": "Single hydrated chunk.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchResponse",
      "qualname": "FetchResponse",
      "kind": "class",
      "public": true,
      "lineno": 340,
      "doc_summary": "Structured fetch response used by MCP adapters.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FetchDependencies",
      "qualname": "FetchDependencies",
      "kind": "class",
      "public": true,
      "lineno": 347,
      "doc_summary": "Dependency bundle for :func:`run_fetch`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "run_search",
      "qualname": "run_search",
      "kind": "function",
      "public": true,
      "lineno": 355,
      "doc_summary": "Execute FAISS search  DuckDB hydration and return MCP-ready results.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "run_fetch",
      "qualname": "run_fetch",
      "kind": "function",
      "public": true,
      "lineno": 518,
      "doc_summary": "Hydrate chunk content and metadata for the MCP fetch tool.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_str_list",
      "qualname": "_normalize_str_list",
      "kind": "function",
      "public": false,
      "lineno": 584,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_embed_query",
      "qualname": "_embed_query",
      "kind": "function",
      "public": false,
      "lineno": 590,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_compute_fanout",
      "qualname": "_compute_fanout",
      "kind": "function",
      "public": false,
      "lineno": 612,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_runtime_overrides",
      "qualname": "_build_runtime_overrides",
      "kind": "function",
      "public": false,
      "lineno": 621,
      "doc_summary": "Return FAISS runtime overrides derived from the rerank flag.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_flatten_ids",
      "qualname": "_flatten_ids",
      "kind": "function",
      "public": false,
      "lineno": 648,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_flatten_scores",
      "qualname": "_flatten_scores",
      "kind": "function",
      "public": false,
      "lineno": 654,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_hydrate_chunks",
      "qualname": "_hydrate_chunks",
      "kind": "function",
      "public": false,
      "lineno": 660,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_results",
      "qualname": "_build_results",
      "kind": "function",
      "public": false,
      "lineno": 684,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_matches_symbols",
      "qualname": "_matches_symbols",
      "kind": "function",
      "public": false,
      "lineno": 716,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_metadata",
      "qualname": "_build_metadata",
      "kind": "function",
      "public": false,
      "lineno": 723,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_hit_reasons",
      "qualname": "_build_hit_reasons",
      "kind": "function",
      "public": false,
      "lineno": 748,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_title",
      "qualname": "_build_title",
      "kind": "function",
      "public": false,
      "lineno": 770,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_url",
      "qualname": "_build_url",
      "kind": "function",
      "public": false,
      "lineno": 777,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_snippet",
      "qualname": "_build_snippet",
      "kind": "function",
      "public": false,
      "lineno": 784,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_truncate_content",
      "qualname": "_truncate_content",
      "kind": "function",
      "public": false,
      "lineno": 792,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_build_fetch_metadata",
      "qualname": "_build_fetch_metadata",
      "kind": "function",
      "public": false,
      "lineno": 800,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_write_pool_rows",
      "qualname": "_write_pool_rows",
      "kind": "function",
      "public": false,
      "lineno": 811,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_record_postfilter_density",
      "qualname": "_record_postfilter_density",
      "kind": "function",
      "public": false,
      "lineno": 853,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_log_search_completion",
      "qualname": "_log_search_completion",
      "kind": "function",
      "public": false,
      "lineno": 860,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_coerce_int",
      "qualname": "_coerce_int",
      "kind": "function",
      "public": false,
      "lineno": 880,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_string_sequence",
      "qualname": "_string_sequence",
      "kind": "function",
      "public": false,
      "lineno": 895,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_repair_single_result",
      "qualname": "_repair_single_result",
      "kind": "function",
      "public": false,
      "lineno": 901,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_resolve_snippet",
      "qualname": "_resolve_snippet",
      "kind": "function",
      "public": false,
      "lineno": 916,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_merge_metadata",
      "qualname": "_merge_metadata",
      "kind": "function",
      "public": false,
      "lineno": 926,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_RepairStats",
      "qualname": "_RepairStats",
      "kind": "class",
      "public": false,
      "lineno": 956,
      "doc_summary": "Aggregate counters describing validator repairs.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "post_search_validate_and_fill",
      "qualname": "post_search_validate_and_fill",
      "kind": "function",
      "public": true,
      "lineno": 964,
      "doc_summary": "Ensure MCP results have required metadata, dropping corrupt rows.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 104,
    "cyclomatic": 105,
    "loc": 1023
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 11,
  "cycle_group": 128,
  "imports_internal": [
    "eval/pool_writer.py",
    "io/duckdb_catalog.py",
    "io/faiss_manager.py",
    "mcp_server/schemas.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "retrieval/types.py",
    "telemetry/decorators.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "eval/pool_writer.py",
    "io/duckdb_catalog.py",
    "io/faiss_manager.py",
    "mcp_server/schemas.py",
    "metrics/registry.py",
    "observability/otel.py",
    "observability/semantic_conventions.py",
    "observability/timeline.py",
    "retrieval/types.py",
    "telemetry/decorators.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.972,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "retrieval/rerank_flat.py",
  "repo_path": "codeintel_rev/retrieval/rerank_flat.py",
  "module_name": "codeintel_rev.retrieval.rerank_flat",
  "stable_id": "9a1286c00def",
  "docstring": "Exact reranking utilities for FAISS candidates.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.io.duckdb_catalog",
      "names": [
        "DuckDBCatalog"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "span_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.otel_metrics",
      "names": [
        "build_histogram"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 15
    },
    {
      "kind": "variable",
      "name": "RERANK_LATENCY_MS",
      "lineno": 20
    },
    {
      "kind": "function",
      "name": "_perform_exact_rerank",
      "lineno": 27
    },
    {
      "kind": "function",
      "name": "_normalize_queries",
      "lineno": 153
    },
    {
      "kind": "function",
      "name": "_prepare_candidate_matrix",
      "lineno": 187
    },
    {
      "kind": "function",
      "name": "_hydrate_embeddings",
      "lineno": 233
    },
    {
      "kind": "function",
      "name": "_build_candidate_vectors",
      "lineno": 289
    },
    {
      "kind": "function",
      "name": "_compute_similarity",
      "lineno": 358
    },
    {
      "kind": "function",
      "name": "_effective_top_k",
      "lineno": 427
    },
    {
      "kind": "function",
      "name": "_select_topk",
      "lineno": 477
    },
    {
      "kind": "function",
      "name": "_empty_result",
      "lineno": 536
    },
    {
      "kind": "class",
      "name": "FlatReranker",
      "lineno": 582
    },
    {
      "kind": "function",
      "name": "exact_rerank",
      "lineno": 643
    }
  ],
  "exports": [
    "FlatReranker",
    "exact_rerank"
  ],
  "exports_declared": [
    "FlatReranker",
    "exact_rerank"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Exact reranking utilities for FAISS candidates.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_perform_exact_rerank",
      "qualname": "_perform_exact_rerank",
      "kind": "function",
      "public": false,
      "lineno": 27,
      "doc_summary": "Hydrate embeddings for candidate ids and compute exact similarities.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_queries",
      "qualname": "_normalize_queries",
      "kind": "function",
      "public": false,
      "lineno": 153,
      "doc_summary": "Normalize query vectors to 2D array format for batch processing.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_prepare_candidate_matrix",
      "qualname": "_prepare_candidate_matrix",
      "kind": "function",
      "public": false,
      "lineno": 187,
      "doc_summary": "Validate and prepare candidate ID matrix for embedding retrieval.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_hydrate_embeddings",
      "qualname": "_hydrate_embeddings",
      "kind": "function",
      "public": false,
      "lineno": 233,
      "doc_summary": "Retrieve embeddings from catalog for valid candidate IDs.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_candidate_vectors",
      "qualname": "_build_candidate_vectors",
      "kind": "function",
      "public": false,
      "lineno": 289,
      "doc_summary": "Assemble candidate embedding vectors from lookup dictionary.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_compute_similarity",
      "qualname": "_compute_similarity",
      "kind": "function",
      "public": false,
      "lineno": 358,
      "doc_summary": "Compute batch similarity scores between queries and candidate vectors.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_effective_top_k",
      "qualname": "_effective_top_k",
      "kind": "function",
      "public": false,
      "lineno": 427,
      "doc_summary": "Compute effective top-k value bounded by available candidates.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_select_topk",
      "qualname": "_select_topk",
      "kind": "function",
      "public": false,
      "lineno": 477,
      "doc_summary": "Select top-k candidates by similarity score with efficient partial sorting.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_empty_result",
      "qualname": "_empty_result",
      "kind": "function",
      "public": false,
      "lineno": 536,
      "doc_summary": "Create sentinel result arrays for empty or failed reranking operations.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "FlatReranker",
      "qualname": "FlatReranker",
      "kind": "class",
      "public": true,
      "lineno": 582,
      "doc_summary": "Rerank ANN candidates using exact similarities from DuckDB embeddings.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "exact_rerank",
      "qualname": "exact_rerank",
      "kind": "function",
      "public": true,
      "lineno": 643,
      "doc_summary": "Backward-compatible helper delegating to :class:`FlatReranker`.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 15,
    "cyclomatic": 16,
    "loc": 706
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 4,
  "cycle_group": 41,
  "imports_internal": [
    "io/duckdb_catalog.py",
    "observability/semantic_conventions.py",
    "telemetry/decorators.py",
    "telemetry/otel_metrics.py"
  ],
  "imports_intra_repo": [
    "io/duckdb_catalog.py",
    "observability/semantic_conventions.py",
    "telemetry/decorators.py",
    "telemetry/otel_metrics.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.113,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 7,
  "recent_churn_90": 7
}
{
  "path": "retrieval/rm3_heuristics.py",
  "repo_path": "codeintel_rev/retrieval/rm3_heuristics.py",
  "module_name": "codeintel_rev.retrieval.rm3_heuristics",
  "stable_id": "2fdaa252cf9d",
  "docstring": "Heuristics for toggling RM3 pseudo-relevance feedback per query.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "re"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "RM3Params",
      "lineno": 13
    },
    {
      "kind": "class",
      "name": "RM3Heuristics",
      "lineno": 21
    }
  ],
  "exports": [
    "RM3Heuristics",
    "RM3Params"
  ],
  "exports_declared": [
    "RM3Heuristics",
    "RM3Params"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Heuristics for toggling RM3 pseudo-relevance feedback per query.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "RM3Params",
      "qualname": "RM3Params",
      "kind": "class",
      "public": true,
      "lineno": 13,
      "doc_summary": "Default RM3 parameters used when pseudo-relevance feedback is enabled.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RM3Heuristics",
      "qualname": "RM3Heuristics",
      "kind": "class",
      "public": true,
      "lineno": 21,
      "doc_summary": "Lightweight heuristics to decide when RM3 should be enabled for a query.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 7,
    "cyclomatic": 8,
    "loc": 124
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 0,
  "cycle_group": 25,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.645,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "retrieval/telemetry.py",
  "repo_path": "codeintel_rev/retrieval/telemetry.py",
  "module_name": "codeintel_rev.retrieval.telemetry",
  "stable_id": "8fe9392e82e2",
  "docstring": "Stage-level telemetry helpers used by multi-stage retrieval pipelines.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterator"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.retrieval.types",
      "names": [
        "StageDecision"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.otel_metrics",
      "names": [
        "build_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.observability",
      "names": [
        "MetricsProvider"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "StageTiming",
      "lineno": 17
    },
    {
      "kind": "class",
      "name": "_TimerRuntime",
      "lineno": 41
    },
    {
      "kind": "class",
      "name": "_StageTimer",
      "lineno": 83
    },
    {
      "kind": "function",
      "name": "track_stage",
      "lineno": 147
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 193
    },
    {
      "kind": "function",
      "name": "record_stage_metric",
      "lineno": 201
    },
    {
      "kind": "function",
      "name": "record_stage_decision",
      "lineno": 226
    }
  ],
  "exports": [
    "StageTiming",
    "record_stage_decision",
    "record_stage_metric",
    "track_stage"
  ],
  "exports_declared": [
    "StageTiming",
    "record_stage_decision",
    "record_stage_metric",
    "track_stage"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Stage-level telemetry helpers used by multi-stage retrieval pipelines.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "StageTiming",
      "qualname": "StageTiming",
      "kind": "class",
      "public": true,
      "lineno": 17,
      "doc_summary": "Snapshot describing how long a stage took relative to its budget.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_TimerRuntime",
      "qualname": "_TimerRuntime",
      "kind": "class",
      "public": false,
      "lineno": 41,
      "doc_summary": "Mutable stopwatch backing the frozen stage timer.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_StageTimer",
      "qualname": "_StageTimer",
      "kind": "class",
      "public": false,
      "lineno": 83,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "track_stage",
      "qualname": "track_stage",
      "kind": "function",
      "public": true,
      "lineno": 147,
      "doc_summary": "Context manager yielding a timer that can be converted into StageTiming.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "record_stage_metric",
      "qualname": "record_stage_metric",
      "kind": "function",
      "public": true,
      "lineno": 201,
      "doc_summary": "Record the provided ``timing`` in Prometheus metrics.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "record_stage_decision",
      "qualname": "record_stage_decision",
      "kind": "function",
      "public": true,
      "lineno": 226,
      "doc_summary": "Increment the stage decision counter for the given outcome.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 7,
    "cyclomatic": 8,
    "loc": 247
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 2,
  "cycle_group": 27,
  "imports_internal": [
    "retrieval/types.py",
    "telemetry/otel_metrics.py"
  ],
  "imports_intra_repo": [
    "retrieval/types.py",
    "telemetry/otel_metrics.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.85,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "retrieval/types.py",
  "repo_path": "codeintel_rev/retrieval/types.py",
  "module_name": "codeintel_rev.retrieval.types",
  "stable_id": "fc0f0c7ea93f",
  "docstring": "Shared retrieval dataclasses for multi-stage pipelines.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "ChunkId",
      "lineno": 8
    },
    {
      "kind": "variable",
      "name": "FaissRow",
      "lineno": 9
    },
    {
      "kind": "variable",
      "name": "Distance",
      "lineno": 10
    },
    {
      "kind": "variable",
      "name": "FactoryString",
      "lineno": 11
    },
    {
      "kind": "class",
      "name": "SearchHit",
      "lineno": 15
    },
    {
      "kind": "class",
      "name": "SearchPoolRow",
      "lineno": 27
    },
    {
      "kind": "class",
      "name": "HybridResultDoc",
      "lineno": 39
    },
    {
      "kind": "class",
      "name": "HybridSearchResult",
      "lineno": 47
    },
    {
      "kind": "class",
      "name": "StageSignals",
      "lineno": 58
    },
    {
      "kind": "class",
      "name": "StageDecision",
      "lineno": 80
    }
  ],
  "exports": [
    "ChunkId",
    "Distance",
    "FactoryString",
    "FaissRow",
    "HybridResultDoc",
    "HybridSearchResult",
    "SearchHit",
    "SearchPoolRow",
    "StageDecision",
    "StageSignals"
  ],
  "exports_declared": [
    "ChunkId",
    "Distance",
    "FactoryString",
    "FaissRow",
    "HybridResultDoc",
    "HybridSearchResult",
    "SearchHit",
    "SearchPoolRow",
    "StageDecision",
    "StageSignals"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Shared retrieval dataclasses for multi-stage pipelines.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "SearchHit",
      "qualname": "SearchHit",
      "kind": "class",
      "public": true,
      "lineno": 15,
      "doc_summary": "Single retrieval hit emitted by FAISS/BM25/SPLADE/XTR stages.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SearchPoolRow",
      "qualname": "SearchPoolRow",
      "kind": "class",
      "public": true,
      "lineno": 27,
      "doc_summary": "Structured row recorded in evaluator pools.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HybridResultDoc",
      "qualname": "HybridResultDoc",
      "kind": "class",
      "public": true,
      "lineno": 39,
      "doc_summary": "Final fused result produced by weighted RRF.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HybridSearchResult",
      "qualname": "HybridSearchResult",
      "kind": "class",
      "public": true,
      "lineno": 47,
      "doc_summary": "Container for fused docs alongside explainability metadata.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "StageSignals",
      "qualname": "StageSignals",
      "kind": "class",
      "public": true,
      "lineno": 58,
      "doc_summary": "Signals gathered from a stage for downstream gating decisions.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "StageDecision",
      "qualname": "StageDecision",
      "kind": "class",
      "public": true,
      "lineno": 80,
      "doc_summary": "Decision emitted by gating logic describing whether to run the stage.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 100
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 14,
  "fan_out": 0,
  "cycle_group": 24,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.046,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "risk_hotspots.py",
  "repo_path": "codeintel_rev/risk_hotspots.py",
  "module_name": "codeintel_rev.risk_hotspots",
  "stable_id": "58e46abe40dd",
  "docstring": "Hotspot scoring utilities.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "math"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "functools",
      "names": [
        "lru_cache"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "git",
      "names": [
        "Repo"
      ],
      "aliases": {
        "Repo": "_RuntimeGitRepo"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "git.exc",
      "names": [
        "GitError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "git",
      "names": [
        "Repo"
      ],
      "aliases": {
        "Repo": "GitRepoType"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 14
    },
    {
      "kind": "variable",
      "name": "GitError",
      "lineno": 21
    },
    {
      "kind": "variable",
      "name": "GitRepoType",
      "lineno": 26
    },
    {
      "kind": "function",
      "name": "compute_hotspot_score",
      "lineno": 29
    },
    {
      "kind": "function",
      "name": "_git_churn",
      "lineno": 63
    },
    {
      "kind": "function",
      "name": "_open_repo",
      "lineno": 98
    },
    {
      "kind": "function",
      "name": "_repo_root",
      "lineno": 117
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Hotspot scoring utilities.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "compute_hotspot_score",
      "qualname": "compute_hotspot_score",
      "kind": "function",
      "public": true,
      "lineno": 29,
      "doc_summary": "Compute a heuristic hotspot score for a module record.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_git_churn",
      "qualname": "_git_churn",
      "kind": "function",
      "public": false,
      "lineno": 63,
      "doc_summary": "Return the number of commits touching ``path``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_open_repo",
      "qualname": "_open_repo",
      "kind": "function",
      "public": false,
      "lineno": 98,
      "doc_summary": "Open project Git repository for analytics.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_repo_root",
      "qualname": "_repo_root",
      "kind": "function",
      "public": false,
      "lineno": 117,
      "doc_summary": "Return repository root path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 14,
    "cyclomatic": 15,
    "loc": 126
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 1,
  "cycle_group": 93,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.818,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 7,
  "recent_churn_90": 7
}
{
  "path": "runtime/__init__.py",
  "repo_path": "codeintel_rev/runtime/__init__.py",
  "module_name": "codeintel_rev.runtime",
  "stable_id": "ea7baf2566ab",
  "docstring": "Runtime helpers for mutable, closeable state.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.cells",
      "names": [
        "NullRuntimeCellObserver",
        "RuntimeCell",
        "RuntimeCellCloseResult",
        "RuntimeCellInitContext",
        "RuntimeCellInitResult",
        "RuntimeCellObserver"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.factory_adjustment",
      "names": [
        "DefaultFactoryAdjuster",
        "FactoryAdjuster",
        "NoopFactoryAdjuster"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "DefaultFactoryAdjuster",
    "FactoryAdjuster",
    "NoopFactoryAdjuster",
    "NullRuntimeCellObserver",
    "RuntimeCell",
    "RuntimeCellCloseResult",
    "RuntimeCellInitContext",
    "RuntimeCellInitResult",
    "RuntimeCellObserver"
  ],
  "exports_declared": [
    "DefaultFactoryAdjuster",
    "FactoryAdjuster",
    "NoopFactoryAdjuster",
    "NullRuntimeCellObserver",
    "RuntimeCell",
    "RuntimeCellCloseResult",
    "RuntimeCellInitContext",
    "RuntimeCellInitResult",
    "RuntimeCellObserver"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Runtime helpers for mutable, closeable state.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 30
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 2,
  "cycle_group": 35,
  "imports_internal": [
    "runtime/cells.py",
    "runtime/factory_adjustment.py"
  ],
  "imports_intra_repo": [
    "runtime/cells.py",
    "runtime/factory_adjustment.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.471,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "runtime/cells.py",
  "repo_path": "codeintel_rev/runtime/cells.py",
  "module_name": "codeintel_rev.runtime.cells",
  "stable_id": "0fb13588498c",
  "docstring": "Thread-safe runtime cell primitive for mutable subsystems.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "time"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "Condition",
        "RLock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Literal",
        "Protocol",
        "TypeVar",
        "final",
        "runtime_checkable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.errors",
      "names": [
        "RuntimeLifecycleError",
        "RuntimeUnavailableError"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "Timeline",
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.factory_adjustment",
      "names": [
        "FactoryAdjuster",
        "NoopFactoryAdjuster"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.request_context",
      "names": [
        "capability_stamp_var",
        "session_id_var"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "get_logger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "T",
      "lineno": 18
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 20
    },
    {
      "kind": "variable",
      "name": "InitStatus",
      "lineno": 26
    },
    {
      "kind": "variable",
      "name": "CloseStatus",
      "lineno": 27
    },
    {
      "kind": "class",
      "name": "RuntimeCellCloseResult",
      "lineno": 31
    },
    {
      "kind": "class",
      "name": "RuntimeCellInitContext",
      "lineno": 43
    },
    {
      "kind": "class",
      "name": "RuntimeCellInitResult",
      "lineno": 52
    },
    {
      "kind": "function",
      "name": "_seed_allowed",
      "lineno": 64
    },
    {
      "kind": "class",
      "name": "RuntimeCellObserver",
      "lineno": 71
    },
    {
      "kind": "class",
      "name": "NullRuntimeCellObserver",
      "lineno": 90
    },
    {
      "kind": "class",
      "name": "RuntimeCell",
      "lineno": 117
    }
  ],
  "exports": [
    "NullRuntimeCellObserver",
    "RuntimeCell",
    "RuntimeCellCloseResult",
    "RuntimeCellInitContext",
    "RuntimeCellInitResult",
    "RuntimeCellObserver"
  ],
  "exports_declared": [
    "NullRuntimeCellObserver",
    "RuntimeCell",
    "RuntimeCellCloseResult",
    "RuntimeCellInitContext",
    "RuntimeCellInitResult",
    "RuntimeCellObserver"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Thread-safe runtime cell primitive for mutable subsystems.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "RuntimeCellCloseResult",
      "qualname": "RuntimeCellCloseResult",
      "kind": "class",
      "public": true,
      "lineno": 31,
      "doc_summary": "Immutable payload describing close outcome.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RuntimeCellInitContext",
      "qualname": "RuntimeCellInitContext",
      "kind": "class",
      "public": true,
      "lineno": 43,
      "doc_summary": "Request-scoped metadata captured during initialization.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RuntimeCellInitResult",
      "qualname": "RuntimeCellInitResult",
      "kind": "class",
      "public": true,
      "lineno": 52,
      "doc_summary": "Immutable payload describing initialization outcome.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_seed_allowed",
      "qualname": "_seed_allowed",
      "kind": "function",
      "public": false,
      "lineno": 64,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RuntimeCellObserver",
      "qualname": "RuntimeCellObserver",
      "kind": "class",
      "public": true,
      "lineno": 71,
      "doc_summary": "Protocol for observing RuntimeCell lifecycle events.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "NullRuntimeCellObserver",
      "qualname": "NullRuntimeCellObserver",
      "kind": "class",
      "public": true,
      "lineno": 90,
      "doc_summary": "No-op observer used when instrumentation is disabled.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RuntimeCell",
      "qualname": "RuntimeCell",
      "kind": "class",
      "public": true,
      "lineno": 117,
      "doc_summary": "Thread-safe lazy holder for mutable runtime state with single-flight init.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [
    "cooldown_error"
  ],
  "complexity": {
    "branches": 45,
    "cyclomatic": 46,
    "loc": 637
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 5,
  "cycle_group": 14,
  "imports_internal": [
    "errors.py",
    "observability/timeline.py",
    "runtime/factory_adjustment.py",
    "runtime/request_context.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "errors.py",
    "observability/timeline.py",
    "runtime/factory_adjustment.py",
    "runtime/request_context.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.581,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 13,
  "recent_churn_90": 13
}
{
  "path": "runtime/factory_adjustment.py",
  "repo_path": "codeintel_rev/runtime/factory_adjustment.py",
  "module_name": "codeintel_rev.runtime.factory_adjustment",
  "stable_id": "72ad12008ef8",
  "docstring": "Factory adjustment hooks for RuntimeCell initialization.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "TracebackType"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "Protocol",
        "TypeVar",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "T",
      "lineno": 10
    },
    {
      "kind": "class",
      "name": "FactoryAdjuster",
      "lineno": 13
    },
    {
      "kind": "class",
      "name": "NoopFactoryAdjuster",
      "lineno": 47
    },
    {
      "kind": "class",
      "name": "DefaultFactoryAdjuster",
      "lineno": 75
    },
    {
      "kind": "class",
      "name": "SuppressException",
      "lineno": 225
    }
  ],
  "exports": [
    "DefaultFactoryAdjuster",
    "FactoryAdjuster",
    "NoopFactoryAdjuster"
  ],
  "exports_declared": [
    "DefaultFactoryAdjuster",
    "FactoryAdjuster",
    "NoopFactoryAdjuster"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Factory adjustment hooks for RuntimeCell initialization.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "FactoryAdjuster",
      "qualname": "FactoryAdjuster",
      "kind": "class",
      "public": true,
      "lineno": 13,
      "doc_summary": "Protocol for wrapping runtime cell factory functions.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "NoopFactoryAdjuster",
      "qualname": "NoopFactoryAdjuster",
      "kind": "class",
      "public": true,
      "lineno": 47,
      "doc_summary": "Default adjuster that returns the original factory.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "DefaultFactoryAdjuster",
      "qualname": "DefaultFactoryAdjuster",
      "kind": "class",
      "public": true,
      "lineno": 75,
      "doc_summary": "Reference adjuster that tunes common runtimes after creation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "SuppressException",
      "qualname": "SuppressException",
      "kind": "class",
      "public": true,
      "lineno": 225,
      "doc_summary": "Context manager that suppresses adjustment failures.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 20,
    "cyclomatic": 21,
    "loc": 241
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 4,
  "fan_out": 1,
  "cycle_group": 13,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.191,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "runtime/request_context.py",
  "repo_path": "codeintel_rev/runtime/request_context.py",
  "module_name": "codeintel_rev.runtime.request_context",
  "stable_id": "2970e3c11258",
  "docstring": "Shared request-scoped context variables for runtime components.\n\nThese context variables are defined in the runtime package so that both\nmiddleware layers and lower-level runtime primitives (like :mod:`runtime.cells`)\ncan exchange session metadata without introducing circular imports between the\n``codeintel_rev.app`` and ``codeintel_rev.runtime`` packages.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "contextvars"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Final"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "session_id_var",
      "lineno": 18
    },
    {
      "kind": "variable",
      "name": "capability_stamp_var",
      "lineno": 25
    }
  ],
  "exports": [
    "capability_stamp_var",
    "session_id_var"
  ],
  "exports_declared": [
    "capability_stamp_var",
    "session_id_var"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Shared request-scoped context variables for runtime components.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 29
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 3,
  "fan_out": 1,
  "cycle_group": 11,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.398,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "telemetry/__init__.py",
  "repo_path": "codeintel_rev/telemetry/__init__.py",
  "module_name": "codeintel_rev.telemetry",
  "stable_id": "792677221ec4",
  "docstring": "Phase-0 telemetry helpers (tracing, metrics, logging, run reports).",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "attach_context_attrs",
        "current_run_id",
        "current_session",
        "current_stage",
        "request_tool_var",
        "run_id_var",
        "session_id_var",
        "set_request_stage",
        "telemetry_context"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.decorators",
      "names": [
        "trace_span",
        "trace_step"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.events",
      "names": [
        "RunCheckpoint",
        "TimelineEvent",
        "checkpoint_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.logging",
      "names": [
        "install_structured_logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [],
  "exports": [
    "RunCheckpoint",
    "TimelineEvent",
    "attach_context_attrs",
    "checkpoint_event",
    "current_run_id",
    "current_session",
    "current_stage",
    "install_structured_logging",
    "request_tool_var",
    "run_id_var",
    "session_id_var",
    "set_request_stage",
    "telemetry_context",
    "trace_span",
    "trace_step"
  ],
  "exports_declared": [
    "RunCheckpoint",
    "TimelineEvent",
    "attach_context_attrs",
    "checkpoint_event",
    "current_run_id",
    "current_session",
    "current_stage",
    "install_structured_logging",
    "request_tool_var",
    "run_id_var",
    "session_id_var",
    "set_request_stage",
    "telemetry_context",
    "trace_span",
    "trace_step"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Phase-0 telemetry helpers (tracing, metrics, logging, run reports).",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 0,
    "cyclomatic": 1,
    "loc": 37
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 4,
  "cycle_group": 23,
  "imports_internal": [
    "telemetry/context.py",
    "telemetry/decorators.py",
    "telemetry/events.py",
    "telemetry/logging.py"
  ],
  "imports_intra_repo": [
    "telemetry/context.py",
    "telemetry/decorators.py",
    "telemetry/events.py",
    "telemetry/logging.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.471,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "telemetry/context.py",
  "repo_path": "codeintel_rev/telemetry/context.py",
  "module_name": "codeintel_rev.telemetry.context",
  "stable_id": "3110e210efa9",
  "docstring": "Context variable helpers for telemetry metadata.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "contextvars"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterator",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.request_context",
      "names": [
        "capability_stamp_var"
      ],
      "aliases": {
        "capability_stamp_var": "_capability_stamp_var"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.runtime.request_context",
      "names": [
        "session_id_var"
      ],
      "aliases": {
        "session_id_var": "_session_id_var"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "set_correlation_id"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "session_id_var",
      "lineno": 18
    },
    {
      "kind": "variable",
      "name": "capability_stamp_var",
      "lineno": 19
    },
    {
      "kind": "variable",
      "name": "run_id_var",
      "lineno": 20
    },
    {
      "kind": "variable",
      "name": "request_tool_var",
      "lineno": 24
    },
    {
      "kind": "variable",
      "name": "stage_var",
      "lineno": 28
    },
    {
      "kind": "function",
      "name": "current_session",
      "lineno": 48
    },
    {
      "kind": "function",
      "name": "current_run_id",
      "lineno": 59
    },
    {
      "kind": "function",
      "name": "_set_run_id",
      "lineno": 70
    },
    {
      "kind": "function",
      "name": "set_request_stage",
      "lineno": 76
    },
    {
      "kind": "function",
      "name": "current_stage",
      "lineno": 92
    },
    {
      "kind": "function",
      "name": "telemetry_context",
      "lineno": 104
    },
    {
      "kind": "function",
      "name": "attach_context_attrs",
      "lineno": 126
    },
    {
      "kind": "function",
      "name": "telemetry_metadata",
      "lineno": 158
    }
  ],
  "exports": [
    "attach_context_attrs",
    "capability_stamp_var",
    "current_run_id",
    "current_session",
    "current_stage",
    "request_tool_var",
    "run_id_var",
    "session_id_var",
    "set_request_stage",
    "telemetry_context",
    "telemetry_metadata"
  ],
  "exports_declared": [
    "attach_context_attrs",
    "capability_stamp_var",
    "current_run_id",
    "current_session",
    "current_stage",
    "request_tool_var",
    "run_id_var",
    "session_id_var",
    "set_request_stage",
    "telemetry_context",
    "telemetry_metadata"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Context variable helpers for telemetry metadata.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "current_session",
      "qualname": "current_session",
      "kind": "function",
      "public": true,
      "lineno": 48,
      "doc_summary": "Return the session identifier stored in context.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "current_run_id",
      "qualname": "current_run_id",
      "kind": "function",
      "public": true,
      "lineno": 59,
      "doc_summary": "Return the active run identifier (alias of the current trace ID).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_set_run_id",
      "qualname": "_set_run_id",
      "kind": "function",
      "public": false,
      "lineno": 70,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "set_request_stage",
      "qualname": "set_request_stage",
      "kind": "function",
      "public": true,
      "lineno": 76,
      "doc_summary": "Bind the current pipeline stage to the context.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "current_stage",
      "qualname": "current_stage",
      "kind": "function",
      "public": true,
      "lineno": 92,
      "doc_summary": "Return the stage currently executing within the request.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "telemetry_context",
      "qualname": "telemetry_context",
      "kind": "function",
      "public": true,
      "lineno": 104,
      "doc_summary": "Bind telemetry identifiers to the current context.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "attach_context_attrs",
      "qualname": "attach_context_attrs",
      "kind": "function",
      "public": true,
      "lineno": 126,
      "doc_summary": "Return attributes merged with current telemetry identifiers.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "telemetry_metadata",
      "qualname": "telemetry_metadata",
      "kind": "function",
      "public": true,
      "lineno": 158,
      "doc_summary": "Return telemetry metadata (session/run IDs) for response envelopes.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 12,
    "cyclomatic": 13,
    "loc": 176
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 12,
  "fan_out": 2,
  "cycle_group": 22,
  "imports_internal": [
    "runtime/request_context.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "runtime/request_context.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.422,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 3,
  "recent_churn_90": 3
}
{
  "path": "telemetry/decorators.py",
  "repo_path": "codeintel_rev/telemetry/decorators.py",
  "module_name": "codeintel_rev.telemetry.decorators",
  "stable_id": "e9275414bbe2",
  "docstring": "Decorators for consistent span/timeline instrumentation.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "functools"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "inspect"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Awaitable",
        "Callable",
        "Iterator",
        "Mapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "contextlib",
      "names": [
        "contextmanager",
        "nullcontext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "time",
      "names": [
        "perf_counter"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "types",
      "names": [
        "SimpleNamespace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "TypeVar",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry",
      "names": [
        "trace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.trace",
      "names": [
        "Span",
        "SpanKind",
        "Status",
        "StatusCode"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.trace",
      "names": [
        "Span"
      ],
      "aliases": {
        "Span": "SpanType"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.trace",
      "names": [
        "SpanKind"
      ],
      "aliases": {
        "SpanKind": "SpanKindType"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.trace",
      "names": [
        "Status"
      ],
      "aliases": {
        "Status": "StatusType"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.trace",
      "names": [
        "StatusCode"
      ],
      "aliases": {
        "StatusCode": "StatusCodeType"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "MCP_STAGE_LATENCY_SECONDS"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.timeline",
      "names": [
        "current_timeline"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry",
      "names": [
        "steps"
      ],
      "aliases": {
        "steps": "telemetry_steps"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "attach_context_attrs",
        "set_request_stage"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "_NullSpan",
      "lineno": 22
    },
    {
      "kind": "class",
      "name": "_SpanContext",
      "lineno": 94
    },
    {
      "kind": "class",
      "name": "_NoopTracer",
      "lineno": 101
    },
    {
      "kind": "class",
      "name": "_SpanKindEnum",
      "lineno": 139
    },
    {
      "kind": "class",
      "name": "_StatusCodeEnum",
      "lineno": 146
    },
    {
      "kind": "class",
      "name": "_StatusStub",
      "lineno": 150
    },
    {
      "kind": "variable",
      "name": "trace",
      "lineno": 153
    },
    {
      "kind": "variable",
      "name": "Span",
      "lineno": 154
    },
    {
      "kind": "variable",
      "name": "SpanKind",
      "lineno": 155
    },
    {
      "kind": "variable",
      "name": "Status",
      "lineno": 156
    },
    {
      "kind": "variable",
      "name": "StatusCode",
      "lineno": 157
    },
    {
      "kind": "variable",
      "name": "SpanType",
      "lineno": 165
    },
    {
      "kind": "variable",
      "name": "SpanKindType",
      "lineno": 166
    },
    {
      "kind": "variable",
      "name": "StatusType",
      "lineno": 167
    },
    {
      "kind": "variable",
      "name": "StatusCodeType",
      "lineno": 168
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 175
    },
    {
      "kind": "variable",
      "name": "F",
      "lineno": 177
    },
    {
      "kind": "function",
      "name": "_record_stage_latency",
      "lineno": 180
    },
    {
      "kind": "variable",
      "name": "TRACER",
      "lineno": 196
    },
    {
      "kind": "function",
      "name": "_emit_checkpoint",
      "lineno": 199
    },
    {
      "kind": "function",
      "name": "_set_span_attributes",
      "lineno": 247
    },
    {
      "kind": "function",
      "name": "_span_scope",
      "lineno": 282
    },
    {
      "kind": "function",
      "name": "_record_exception",
      "lineno": 349
    },
    {
      "kind": "function",
      "name": "span_context",
      "lineno": 383
    },
    {
      "kind": "function",
      "name": "trace_span",
      "lineno": 471
    },
    {
      "kind": "function",
      "name": "trace_step",
      "lineno": 623
    },
    {
      "kind": "function",
      "name": "emit_event",
      "lineno": 671
    },
    {
      "kind": "function",
      "name": "_build_step_payload",
      "lineno": 815
    },
    {
      "kind": "function",
      "name": "_with_duration",
      "lineno": 831
    }
  ],
  "exports": [
    "emit_event",
    "span_context",
    "trace_span",
    "trace_step"
  ],
  "exports_declared": [
    "emit_event",
    "span_context",
    "trace_span",
    "trace_step"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Decorators for consistent span/timeline instrumentation.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_NullSpan",
      "qualname": "_NullSpan",
      "kind": "class",
      "public": false,
      "lineno": 22,
      "doc_summary": "Minimal span stub used when OpenTelemetry is unavailable.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SpanContext",
      "qualname": "_SpanContext",
      "kind": "class",
      "public": false,
      "lineno": 94,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_NoopTracer",
      "qualname": "_NoopTracer",
      "kind": "class",
      "public": false,
      "lineno": 101,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_SpanKindEnum",
      "qualname": "_SpanKindEnum",
      "kind": "class",
      "public": false,
      "lineno": 139,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_StatusCodeEnum",
      "qualname": "_StatusCodeEnum",
      "kind": "class",
      "public": false,
      "lineno": 146,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_StatusStub",
      "qualname": "_StatusStub",
      "kind": "class",
      "public": false,
      "lineno": 150,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_record_stage_latency",
      "qualname": "_record_stage_latency",
      "kind": "function",
      "public": false,
      "lineno": 180,
      "doc_summary": "Record latency for a retrieval stage.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_emit_checkpoint",
      "qualname": "_emit_checkpoint",
      "kind": "function",
      "public": false,
      "lineno": 199,
      "doc_summary": "Emit a checkpoint event for telemetry reporting.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_set_span_attributes",
      "qualname": "_set_span_attributes",
      "kind": "function",
      "public": false,
      "lineno": 247,
      "doc_summary": "Set attributes on an OpenTelemetry span from a mapping.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_span_scope",
      "qualname": "_span_scope",
      "kind": "function",
      "public": false,
      "lineno": 282,
      "doc_summary": "Create a context manager for OpenTelemetry span and timeline step coordination.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_record_exception",
      "qualname": "_record_exception",
      "kind": "function",
      "public": false,
      "lineno": 349,
      "doc_summary": "Record an exception on an OpenTelemetry span and mark it as an error.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "span_context",
      "qualname": "span_context",
      "kind": "function",
      "public": true,
      "lineno": 383,
      "doc_summary": "Create a span/timeline scope for the wrapped block.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "trace_span",
      "qualname": "trace_span",
      "kind": "function",
      "public": true,
      "lineno": 471,
      "doc_summary": "Wrap callable execution in an OpenTelemetry span + timeline step.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "trace_step",
      "qualname": "trace_step",
      "kind": "function",
      "public": true,
      "lineno": 623,
      "doc_summary": "Specialized decorator that records checkpoints for pipeline stages.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "emit_event",
      "qualname": "emit_event",
      "kind": "function",
      "public": true,
      "lineno": 671,
      "doc_summary": "Emit a :class:`StepEvent` reflecting the wrapped callable's outcome.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_step_payload",
      "qualname": "_build_step_payload",
      "kind": "function",
      "public": false,
      "lineno": 815,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_with_duration",
      "qualname": "_with_duration",
      "kind": "function",
      "public": false,
      "lineno": 831,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 36,
    "cyclomatic": 37,
    "loc": 838
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 11,
  "fan_out": 5,
  "cycle_group": 23,
  "imports_internal": [
    "metrics/registry.py",
    "observability/timeline.py",
    "telemetry/__init__.py",
    "telemetry/context.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "metrics/registry.py",
    "observability/timeline.py",
    "telemetry/__init__.py",
    "telemetry/context.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.771,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 8,
  "recent_churn_90": 8
}
{
  "path": "telemetry/events.py",
  "repo_path": "codeintel_rev/telemetry/events.py",
  "module_name": "codeintel_rev.telemetry.events",
  "stable_id": "524edd6148e9",
  "docstring": "Typed event helpers shared across telemetry modules.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "RunCheckpoint",
      "lineno": 20
    },
    {
      "kind": "class",
      "name": "TimelineEvent",
      "lineno": 44
    },
    {
      "kind": "function",
      "name": "checkpoint_event",
      "lineno": 57
    },
    {
      "kind": "function",
      "name": "coerce_event",
      "lineno": 93
    },
    {
      "kind": "class",
      "name": "RunEventRecord",
      "lineno": 129
    },
    {
      "kind": "function",
      "name": "normalize_run_event",
      "lineno": 150
    },
    {
      "kind": "function",
      "name": "_maybe_str",
      "lineno": 194
    }
  ],
  "exports": [
    "RunCheckpoint",
    "RunEventRecord",
    "TimelineEvent",
    "checkpoint_event",
    "coerce_event",
    "normalize_run_event"
  ],
  "exports_declared": [
    "RunCheckpoint",
    "RunEventRecord",
    "TimelineEvent",
    "checkpoint_event",
    "coerce_event",
    "normalize_run_event"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Typed event helpers shared across telemetry modules.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "RunCheckpoint",
      "qualname": "RunCheckpoint",
      "kind": "class",
      "public": true,
      "lineno": 20,
      "doc_summary": "Structured checkpoint emitted after significant pipeline stages.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "TimelineEvent",
      "qualname": "TimelineEvent",
      "kind": "class",
      "public": true,
      "lineno": 44,
      "doc_summary": "Normalized representation of a timeline entry.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "checkpoint_event",
      "qualname": "checkpoint_event",
      "kind": "function",
      "public": true,
      "lineno": 57,
      "doc_summary": "Create a RunCheckpoint instance.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "coerce_event",
      "qualname": "coerce_event",
      "kind": "function",
      "public": true,
      "lineno": 93,
      "doc_summary": "Coerce a raw timeline payload into :class:`TimelineEvent`.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "RunEventRecord",
      "qualname": "RunEventRecord",
      "kind": "class",
      "public": true,
      "lineno": 129,
      "doc_summary": "Structured representation of a run-level event.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "normalize_run_event",
      "qualname": "normalize_run_event",
      "kind": "function",
      "public": true,
      "lineno": 150,
      "doc_summary": "Return a :class:`RunEventRecord` from ``payload`` with defaults applied.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_maybe_str",
      "qualname": "_maybe_str",
      "kind": "function",
      "public": false,
      "lineno": 194,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 8,
    "cyclomatic": 9,
    "loc": 198
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 1,
  "cycle_group": 21,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.792,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "telemetry/logging.py",
  "repo_path": "codeintel_rev/telemetry/logging.py",
  "module_name": "codeintel_rev.telemetry.logging",
  "stable_id": "e0453ca7baaf",
  "docstring": "Structured logging bridge + optional OTLP exporter.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.logs",
      "names": [
        "init_otel_logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.logging",
      "names": [
        "setup_logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 10
    },
    {
      "kind": "function",
      "name": "install_structured_logging",
      "lineno": 14
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Structured logging bridge + optional OTLP exporter.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "install_structured_logging",
      "qualname": "install_structured_logging",
      "kind": "function",
      "public": true,
      "lineno": 14,
      "doc_summary": "Install JSON logging and delegate OpenTelemetry export to observability stack.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 2,
    "cyclomatic": 3,
    "loc": 27
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 2,
  "fan_out": 1,
  "cycle_group": 20,
  "imports_internal": [
    "observability/logs.py"
  ],
  "imports_intra_repo": [
    "observability/logs.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.517,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 4,
  "recent_churn_90": 4
}
{
  "path": "telemetry/otel_metrics.py",
  "repo_path": "codeintel_rev/telemetry/otel_metrics.py",
  "module_name": "codeintel_rev.telemetry.otel_metrics",
  "stable_id": "d7cdba9062ab",
  "docstring": "Compatibility layer exposing Prometheus-like helpers backed by OpenTelemetry.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "replace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "threading",
      "names": [
        "Lock"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry",
      "names": [
        "metrics"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.metrics",
      "names": [
        "CallbackOptions",
        "Counter",
        "Histogram",
        "Observation"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry.util.types",
      "names": [
        "Attributes"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "CounterHandle",
      "lineno": 26
    },
    {
      "kind": "class",
      "name": "HistogramHandle",
      "lineno": 40
    },
    {
      "kind": "class",
      "name": "CounterLike",
      "lineno": 54
    },
    {
      "kind": "class",
      "name": "HistogramLike",
      "lineno": 98
    },
    {
      "kind": "class",
      "name": "_GaugeEntry",
      "lineno": 177
    },
    {
      "kind": "class",
      "name": "GaugeHandle",
      "lineno": 182
    },
    {
      "kind": "class",
      "name": "GaugeLike",
      "lineno": 196
    },
    {
      "kind": "function",
      "name": "build_counter",
      "lineno": 297
    },
    {
      "kind": "function",
      "name": "build_histogram",
      "lineno": 312
    },
    {
      "kind": "function",
      "name": "build_gauge",
      "lineno": 336
    }
  ],
  "exports": [
    "CounterLike",
    "GaugeLike",
    "HistogramLike",
    "build_counter",
    "build_gauge",
    "build_histogram"
  ],
  "exports_declared": [
    "CounterLike",
    "GaugeLike",
    "HistogramLike",
    "build_counter",
    "build_gauge",
    "build_histogram"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Compatibility layer exposing Prometheus-like helpers backed by OpenTelemetry.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "CounterHandle",
      "qualname": "CounterHandle",
      "kind": "class",
      "public": true,
      "lineno": 26,
      "doc_summary": "Lightweight handle mutating a counter with pre-bound attributes.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HistogramHandle",
      "qualname": "HistogramHandle",
      "kind": "class",
      "public": true,
      "lineno": 40,
      "doc_summary": "Histogram view that records values with pre-bound attributes.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "CounterLike",
      "qualname": "CounterLike",
      "kind": "class",
      "public": true,
      "lineno": 54,
      "doc_summary": "Counter facade exposing `.inc()` and `.labels().inc()`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "HistogramLike",
      "qualname": "HistogramLike",
      "kind": "class",
      "public": true,
      "lineno": 98,
      "doc_summary": "Histogram facade exposing `.observe()` and `.labels().observe()`.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_GaugeEntry",
      "qualname": "_GaugeEntry",
      "kind": "class",
      "public": false,
      "lineno": 177,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "GaugeHandle",
      "qualname": "GaugeHandle",
      "kind": "class",
      "public": true,
      "lineno": 182,
      "doc_summary": "Gauge handle supporting ``set`` semantics.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "GaugeLike",
      "qualname": "GaugeLike",
      "kind": "class",
      "public": true,
      "lineno": 196,
      "doc_summary": "Gauge facade backed by an ObservableGauge.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "build_counter",
      "qualname": "build_counter",
      "kind": "function",
      "public": true,
      "lineno": 297,
      "doc_summary": "Return a CounterLike backed by OpenTelemetry.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "build_histogram",
      "qualname": "build_histogram",
      "kind": "function",
      "public": true,
      "lineno": 312,
      "doc_summary": "Return a HistogramLike backed by OpenTelemetry.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "build_gauge",
      "qualname": "build_gauge",
      "kind": "function",
      "public": true,
      "lineno": 336,
      "doc_summary": "Return an ObservableGauge facade.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 21,
    "cyclomatic": 22,
    "loc": 356
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 9,
  "fan_out": 1,
  "cycle_group": 4,
  "imports_internal": [
    "typing.py"
  ],
  "imports_intra_repo": [
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.446,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 6,
  "recent_churn_90": 6
}
{
  "path": "telemetry/reporter.py",
  "repo_path": "codeintel_rev/telemetry/reporter.py",
  "module_name": "codeintel_rev.telemetry.reporter",
  "stable_id": "5e0047a206da",
  "docstring": "In-memory run report builder fed by timeline events.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "os"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "threading"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections",
      "names": [
        "deque"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Iterable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass",
        "field"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "itertools",
      "names": [
        "pairwise"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.capabilities",
      "names": [
        "Capabilities"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.app.config_context",
      "names": [
        "ApplicationContext"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.diagnostics.detectors",
      "names": [
        "detect"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.metrics.registry",
      "names": [
        "MCP_RUN_ERRORS_TOTAL",
        "MCP_RUNS_TOTAL"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "current_run_id",
        "current_session"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.events",
      "names": [
        "RunCheckpoint",
        "TimelineEvent",
        "checkpoint_event",
        "coerce_event"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "function",
      "name": "_env_retention",
      "lineno": 49
    },
    {
      "kind": "function",
      "name": "_infer_stop_reason_from_events",
      "lineno": 58
    },
    {
      "kind": "function",
      "name": "_default_budget_snapshot",
      "lineno": 72
    },
    {
      "kind": "function",
      "name": "_checkpoint_hit",
      "lineno": 89
    },
    {
      "kind": "function",
      "name": "_checkpoint_summaries",
      "lineno": 102
    },
    {
      "kind": "function",
      "name": "_compute_ops_coverage",
      "lineno": 123
    },
    {
      "kind": "function",
      "name": "_normalize_stage_event",
      "lineno": 148
    },
    {
      "kind": "function",
      "name": "_build_stage_summary",
      "lineno": 177
    },
    {
      "kind": "function",
      "name": "_budgets_from_timeline",
      "lineno": 248
    },
    {
      "kind": "class",
      "name": "RunRecord",
      "lineno": 273
    },
    {
      "kind": "class",
      "name": "RunReport",
      "lineno": 315
    },
    {
      "kind": "class",
      "name": "RunReportStore",
      "lineno": 363
    },
    {
      "kind": "variable",
      "name": "RUN_REPORT_STORE",
      "lineno": 520
    },
    {
      "kind": "function",
      "name": "start_run",
      "lineno": 523
    },
    {
      "kind": "function",
      "name": "finalize_run",
      "lineno": 541
    },
    {
      "kind": "function",
      "name": "record_timeline_payload",
      "lineno": 559
    },
    {
      "kind": "function",
      "name": "record_step_payload",
      "lineno": 564
    },
    {
      "kind": "function",
      "name": "emit_checkpoint",
      "lineno": 569
    },
    {
      "kind": "function",
      "name": "_build_operations",
      "lineno": 586
    },
    {
      "kind": "function",
      "name": "_collect",
      "lineno": 625
    },
    {
      "kind": "function",
      "name": "build_report",
      "lineno": 646
    },
    {
      "kind": "function",
      "name": "build_run_report_v2",
      "lineno": 728
    },
    {
      "kind": "function",
      "name": "report_to_json",
      "lineno": 812
    },
    {
      "kind": "class",
      "name": "RunReportStage",
      "lineno": 863
    },
    {
      "kind": "class",
      "name": "RunReportV2",
      "lineno": 896
    },
    {
      "kind": "function",
      "name": "render_mermaid",
      "lineno": 936
    },
    {
      "kind": "function",
      "name": "render_markdown",
      "lineno": 974
    },
    {
      "kind": "function",
      "name": "_format_markdown_header",
      "lineno": 1051
    },
    {
      "kind": "function",
      "name": "_format_markdown_stages",
      "lineno": 1077
    },
    {
      "kind": "function",
      "name": "_format_markdown_timeline",
      "lineno": 1100
    },
    {
      "kind": "function",
      "name": "_format_markdown_events",
      "lineno": 1126
    },
    {
      "kind": "function",
      "name": "render_markdown_v2",
      "lineno": 1151
    }
  ],
  "exports": [
    "RUN_REPORT_STORE",
    "RunReport",
    "RunReportStore",
    "RunReportV2",
    "build_report",
    "build_run_report_v2",
    "emit_checkpoint",
    "finalize_run",
    "record_step_payload",
    "record_timeline_payload",
    "render_markdown",
    "render_markdown_v2",
    "render_mermaid",
    "report_to_json",
    "start_run"
  ],
  "exports_declared": [
    "RUN_REPORT_STORE",
    "RunReport",
    "RunReportStore",
    "RunReportV2",
    "build_report",
    "build_run_report_v2",
    "emit_checkpoint",
    "finalize_run",
    "record_step_payload",
    "record_timeline_payload",
    "render_markdown",
    "render_markdown_v2",
    "render_mermaid",
    "report_to_json",
    "start_run"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "In-memory run report builder fed by timeline events.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "_env_retention",
      "qualname": "_env_retention",
      "kind": "function",
      "public": false,
      "lineno": 49,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_infer_stop_reason_from_events",
      "qualname": "_infer_stop_reason_from_events",
      "kind": "function",
      "public": false,
      "lineno": 58,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_default_budget_snapshot",
      "qualname": "_default_budget_snapshot",
      "kind": "function",
      "public": false,
      "lineno": 72,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_checkpoint_hit",
      "qualname": "_checkpoint_hit",
      "kind": "function",
      "public": false,
      "lineno": 89,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_checkpoint_summaries",
      "qualname": "_checkpoint_summaries",
      "kind": "function",
      "public": false,
      "lineno": 102,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_compute_ops_coverage",
      "qualname": "_compute_ops_coverage",
      "kind": "function",
      "public": false,
      "lineno": 123,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_normalize_stage_event",
      "qualname": "_normalize_stage_event",
      "kind": "function",
      "public": false,
      "lineno": 148,
      "doc_summary": "Normalize event kind to a stage label.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_build_stage_summary",
      "qualname": "_build_stage_summary",
      "kind": "function",
      "public": false,
      "lineno": 177,
      "doc_summary": "Return ordered stage summaries and the last completed stage.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_budgets_from_timeline",
      "qualname": "_budgets_from_timeline",
      "kind": "function",
      "public": false,
      "lineno": 248,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RunRecord",
      "qualname": "RunRecord",
      "kind": "class",
      "public": true,
      "lineno": 273,
      "doc_summary": "Mutable storage for a sampled run.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RunReport",
      "qualname": "RunReport",
      "kind": "class",
      "public": true,
      "lineno": 315,
      "doc_summary": "Structured run summary consumable by humans and automation.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RunReportStore",
      "qualname": "RunReportStore",
      "kind": "class",
      "public": true,
      "lineno": 363,
      "doc_summary": "Thread-safe circular buffer of run data.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "start_run",
      "qualname": "start_run",
      "kind": "function",
      "public": true,
      "lineno": 523,
      "doc_summary": "Register a run at request ingress.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "finalize_run",
      "qualname": "finalize_run",
      "kind": "function",
      "public": true,
      "lineno": 541,
      "doc_summary": "Mark the run as complete/partial/error.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "record_timeline_payload",
      "qualname": "record_timeline_payload",
      "kind": "function",
      "public": true,
      "lineno": 559,
      "doc_summary": "Subscribe to timeline events.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "record_step_payload",
      "qualname": "record_step_payload",
      "kind": "function",
      "public": true,
      "lineno": 564,
      "doc_summary": "Record structured step events for inclusion in run reports.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "emit_checkpoint",
      "qualname": "emit_checkpoint",
      "kind": "function",
      "public": true,
      "lineno": 569,
      "doc_summary": "Capture a stage checkpoint tied to the current request.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_build_operations",
      "qualname": "_build_operations",
      "kind": "function",
      "public": false,
      "lineno": 586,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_collect",
      "qualname": "_collect",
      "kind": "function",
      "public": false,
      "lineno": 625,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "build_report",
      "qualname": "build_report",
      "kind": "function",
      "public": true,
      "lineno": 646,
      "doc_summary": "Build a run report for the provided session/run identifiers.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "build_run_report_v2",
      "qualname": "build_run_report_v2",
      "kind": "function",
      "public": true,
      "lineno": 728,
      "doc_summary": "Return a compact stage-centric report for ``session_id``/``run_id``.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "report_to_json",
      "qualname": "report_to_json",
      "kind": "function",
      "public": true,
      "lineno": 812,
      "doc_summary": "Return JSON-serializable payload for the report.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "RunReportStage",
      "qualname": "RunReportStage",
      "kind": "class",
      "public": true,
      "lineno": 863,
      "doc_summary": "Normalized stage summary for RunReportV2.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "RunReportV2",
      "qualname": "RunReportV2",
      "kind": "class",
      "public": true,
      "lineno": 896,
      "doc_summary": "Compact narrative describing key retrieval stages.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "render_mermaid",
      "qualname": "render_mermaid",
      "kind": "function",
      "public": true,
      "lineno": 936,
      "doc_summary": "Return a Mermaid graph describing stage checkpoints.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "render_markdown",
      "qualname": "render_markdown",
      "kind": "function",
      "public": true,
      "lineno": 974,
      "doc_summary": "Render the report as Markdown.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_format_markdown_header",
      "qualname": "_format_markdown_header",
      "kind": "function",
      "public": false,
      "lineno": 1051,
      "doc_summary": "Format report header section.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_format_markdown_stages",
      "qualname": "_format_markdown_stages",
      "kind": "function",
      "public": false,
      "lineno": 1077,
      "doc_summary": "Format stages section.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_format_markdown_timeline",
      "qualname": "_format_markdown_timeline",
      "kind": "function",
      "public": false,
      "lineno": 1100,
      "doc_summary": "Format timeline section.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_format_markdown_events",
      "qualname": "_format_markdown_events",
      "kind": "function",
      "public": false,
      "lineno": 1126,
      "doc_summary": "Format discrete events section.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "render_markdown_v2",
      "qualname": "render_markdown_v2",
      "kind": "function",
      "public": true,
      "lineno": 1151,
      "doc_summary": "Render a RunReportV2 payload as Markdown text.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 152,
    "cyclomatic": 153,
    "loc": 1194
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 6,
  "fan_out": 8,
  "cycle_group": 45,
  "imports_internal": [
    "app/capabilities.py",
    "app/config_context.py",
    "diagnostics/detectors.py",
    "metrics/registry.py",
    "observability/semantic_conventions.py",
    "telemetry/context.py",
    "telemetry/events.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "app/capabilities.py",
    "app/config_context.py",
    "diagnostics/detectors.py",
    "metrics/registry.py",
    "observability/semantic_conventions.py",
    "telemetry/context.py",
    "telemetry/events.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 3.141,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 10,
  "recent_churn_90": 10
}
{
  "path": "telemetry/steps.py",
  "repo_path": "codeintel_rev/telemetry/steps.py",
  "module_name": "codeintel_rev.telemetry.steps",
  "stable_id": "de3893282ff6",
  "docstring": "Structured step event helpers.",
  "doc_has_summary": true,
  "doc_param_parity": false,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "importlib"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "json"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "logging"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Mapping",
        "MutableMapping"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "asdict",
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "datetime",
      "names": [
        "UTC",
        "datetime"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "Any",
        "Literal",
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "opentelemetry",
      "names": [
        "trace"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.ledger",
      "names": [
        "RunLedger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.runtime_observer",
      "names": [
        "current_run_ledger"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.observability.semantic_conventions",
      "names": [
        "Attrs",
        "to_label_str"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.telemetry.context",
      "names": [
        "current_run_id",
        "current_session"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "trace",
      "lineno": 16
    },
    {
      "kind": "variable",
      "name": "LOGGER",
      "lineno": 23
    },
    {
      "kind": "variable",
      "name": "StepStatus",
      "lineno": 26
    },
    {
      "kind": "class",
      "name": "StepEvent",
      "lineno": 32
    },
    {
      "kind": "function",
      "name": "_now_iso",
      "lineno": 41
    },
    {
      "kind": "function",
      "name": "emit_step",
      "lineno": 45
    },
    {
      "kind": "function",
      "name": "_record_structured_event",
      "lineno": 85
    }
  ],
  "exports": [
    "StepEvent",
    "StepStatus",
    "emit_step"
  ],
  "exports_declared": [
    "StepEvent",
    "StepStatus",
    "emit_step"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Structured step event helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": false,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "StepEvent",
      "qualname": "StepEvent",
      "kind": "class",
      "public": true,
      "lineno": 32,
      "doc_summary": "Immutable representation of a discrete pipeline step.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "_now_iso",
      "qualname": "_now_iso",
      "kind": "function",
      "public": false,
      "lineno": 41,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "emit_step",
      "qualname": "emit_step",
      "kind": "function",
      "public": true,
      "lineno": 45,
      "doc_summary": "Emit a structured step event to the current sinks.",
      "doc_has_summary": true,
      "doc_param_parity": false,
      "doc_examples_present": false
    },
    {
      "name": "_record_structured_event",
      "qualname": "_record_structured_event",
      "kind": "function",
      "public": false,
      "lineno": 85,
      "doc_summary": null,
      "doc_has_summary": false,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 16,
    "cyclomatic": 17,
    "loc": 102
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 9,
  "fan_out": 5,
  "cycle_group": 41,
  "imports_internal": [
    "observability/ledger.py",
    "observability/runtime_observer.py",
    "observability/semantic_conventions.py",
    "telemetry/context.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "observability/ledger.py",
    "observability/runtime_observer.py",
    "observability/semantic_conventions.py",
    "telemetry/context.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.497,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 2,
  "recent_churn_90": 2
}
{
  "path": "typedness.py",
  "repo_path": "codeintel_rev/typedness.py",
  "module_name": "codeintel_rev.typedness",
  "stable_id": "49cc160909a0",
  "docstring": "Typedness utilities that build on Pyrefly/Pyright summaries.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.libcst_bridge",
      "names": [
        "ModuleIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.type_integration",
      "names": [
        "TypeSummary",
        "collect_pyrefly",
        "collect_pyright"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "FileTypeSignals",
      "lineno": 13
    },
    {
      "kind": "function",
      "name": "collect_type_signals",
      "lineno": 25
    },
    {
      "kind": "function",
      "name": "annotation_ratio",
      "lineno": 67
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Typedness utilities that build on Pyrefly/Pyright summaries.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "FileTypeSignals",
      "qualname": "FileTypeSignals",
      "kind": "class",
      "public": true,
      "lineno": 13,
      "doc_summary": "Joined Pyrefly/Pyright error counts for a single file.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "collect_type_signals",
      "qualname": "collect_type_signals",
      "kind": "function",
      "public": true,
      "lineno": 25,
      "doc_summary": "Collect Pyrefly/Pyright diagnostics keyed by file path.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "annotation_ratio",
      "qualname": "annotation_ratio",
      "kind": "function",
      "public": true,
      "lineno": 67,
      "doc_summary": "Return per-module annotation ratios derived from :class:`ModuleIndex`.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": false,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 5,
    "cyclomatic": 6,
    "loc": 85
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 2,
  "cycle_group": 85,
  "imports_internal": [
    "enrich/libcst_bridge.py",
    "enrich/type_integration.py"
  ],
  "imports_intra_repo": [
    "enrich/libcst_bridge.py",
    "enrich/type_integration.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 1.685,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 1,
  "recent_churn_90": 1
}
{
  "path": "typing.py",
  "repo_path": "codeintel_rev/typing.py",
  "module_name": "codeintel_rev.typing",
  "stable_id": "af66b5ad0dc6",
  "docstring": "Typing faade for codeintel_rev heavy optional dependencies.\n\nThis module centralizes numpy-style array aliases and exposes a wrapper around\n``kgfoundry_common.typing.gate_import`` that is aware of the local heavy\ndependency policy. Keeping aliases and dependency metadata in one place lets\nlint/type tooling (PR-E) and runtime helpers share the same source of truth.\n",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "collections.abc",
      "names": [
        "Callable",
        "Mapping",
        "Sequence"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "os",
      "names": [
        "PathLike"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "TYPE_CHECKING",
        "Any",
        "Literal",
        "Protocol"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.typing",
      "names": [
        "HEAVY_DEPS"
      ],
      "aliases": {
        "HEAVY_DEPS": "_BASE_HEAVY_DEPS"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": "kgfoundry_common.typing",
      "names": [
        "gate_import"
      ],
      "aliases": {
        "gate_import": "_base_gate_import"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy"
      ],
      "aliases": {
        "numpy": "np"
      },
      "is_star": false,
      "level": 0
    },
    {
      "module": null,
      "names": [
        "numpy.typing"
      ],
      "aliases": {
        "numpy.typing": "npt"
      },
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "variable",
      "name": "NDArrayF32",
      "lineno": 26
    },
    {
      "kind": "variable",
      "name": "NDArrayI64",
      "lineno": 27
    },
    {
      "kind": "variable",
      "name": "NDArrayAny",
      "lineno": 28
    },
    {
      "kind": "variable",
      "name": "HEAVY_DEPS",
      "lineno": 44
    },
    {
      "kind": "function",
      "name": "gate_import",
      "lineno": 48
    },
    {
      "kind": "class",
      "name": "TorchDeviceProperties",
      "lineno": 91
    },
    {
      "kind": "class",
      "name": "TorchCudaAPI",
      "lineno": 97
    },
    {
      "kind": "class",
      "name": "TorchTensor",
      "lineno": 194
    },
    {
      "kind": "class",
      "name": "TorchModule",
      "lineno": 243
    },
    {
      "kind": "class",
      "name": "FaissStandardGpuResources",
      "lineno": 261
    },
    {
      "kind": "class",
      "name": "FaissGpuClonerOptions",
      "lineno": 265
    },
    {
      "kind": "class",
      "name": "FaissIndex",
      "lineno": 273
    },
    {
      "kind": "class",
      "name": "FaissGpuIndexFlatIP",
      "lineno": 279
    },
    {
      "kind": "class",
      "name": "FaissModule",
      "lineno": 291
    },
    {
      "kind": "class",
      "name": "NumpyRandomState",
      "lineno": 330
    },
    {
      "kind": "class",
      "name": "NumpyRandomNamespace",
      "lineno": 351
    },
    {
      "kind": "class",
      "name": "NumpyLinalgNamespace",
      "lineno": 375
    },
    {
      "kind": "class",
      "name": "NumpyModule",
      "lineno": 400
    },
    {
      "kind": "class",
      "name": "PolarsDataFrame",
      "lineno": 407
    },
    {
      "kind": "class",
      "name": "PolarsModule",
      "lineno": 428
    }
  ],
  "exports": [
    "FaissModule",
    "HEAVY_DEPS",
    "NDArrayAny",
    "NDArrayF32",
    "NDArrayI64",
    "NumpyModule",
    "PolarsDataFrame",
    "PolarsModule",
    "TorchModule",
    "gate_import"
  ],
  "exports_declared": [
    "FaissModule",
    "HEAVY_DEPS",
    "NDArrayAny",
    "NDArrayF32",
    "NDArrayI64",
    "NumpyModule",
    "PolarsDataFrame",
    "PolarsModule",
    "TorchModule",
    "gate_import"
  ],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage",
    "public-api",
    "reexport-hub"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "Typing faade for codeintel_rev heavy optional dependencies.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "gate_import",
      "qualname": "gate_import",
      "kind": "function",
      "public": true,
      "lineno": 48,
      "doc_summary": "Resolve ``module_name`` lazily using the heavy dependency policy.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "TorchDeviceProperties",
      "qualname": "TorchDeviceProperties",
      "kind": "class",
      "public": true,
      "lineno": 91,
      "doc_summary": "Subset of torch.cuda device properties accessed by diagnostics.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "TorchCudaAPI",
      "qualname": "TorchCudaAPI",
      "kind": "class",
      "public": true,
      "lineno": 97,
      "doc_summary": "Minimal CUDA API surface used throughout the codebase.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "TorchTensor",
      "qualname": "TorchTensor",
      "kind": "class",
      "public": true,
      "lineno": 194,
      "doc_summary": "Tensor operations invoked inside diagnostics.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "TorchModule",
      "qualname": "TorchModule",
      "kind": "class",
      "public": true,
      "lineno": 243,
      "doc_summary": "Subset of torch's module-level API we rely on.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FaissStandardGpuResources",
      "qualname": "FaissStandardGpuResources",
      "kind": "class",
      "public": true,
      "lineno": 261,
      "doc_summary": "GPU resource handle for FAISS.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FaissGpuClonerOptions",
      "qualname": "FaissGpuClonerOptions",
      "kind": "class",
      "public": true,
      "lineno": 265,
      "doc_summary": "Options controlling FAISS GPU cloning behavior.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FaissIndex",
      "qualname": "FaissIndex",
      "kind": "class",
      "public": true,
      "lineno": 273,
      "doc_summary": "Minimal FAISS index surface used in diagnostics.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FaissGpuIndexFlatIP",
      "qualname": "FaissGpuIndexFlatIP",
      "kind": "class",
      "public": true,
      "lineno": 279,
      "doc_summary": "GPU FAISS index used for smoke testing.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "FaissModule",
      "qualname": "FaissModule",
      "kind": "class",
      "public": true,
      "lineno": 291,
      "doc_summary": "Subset of the FAISS module accessed via gate_import.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "NumpyRandomState",
      "qualname": "NumpyRandomState",
      "kind": "class",
      "public": true,
      "lineno": 330,
      "doc_summary": "Random state wrapper for numpy.random.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "NumpyRandomNamespace",
      "qualname": "NumpyRandomNamespace",
      "kind": "class",
      "public": true,
      "lineno": 351,
      "doc_summary": "Namespace for numpy.random helpers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "NumpyLinalgNamespace",
      "qualname": "NumpyLinalgNamespace",
      "kind": "class",
      "public": true,
      "lineno": 375,
      "doc_summary": "Namespace for numpy.linalg helpers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "NumpyModule",
      "qualname": "NumpyModule",
      "kind": "class",
      "public": true,
      "lineno": 400,
      "doc_summary": "Enough of numpy's surface for lazy imports.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PolarsDataFrame",
      "qualname": "PolarsDataFrame",
      "kind": "class",
      "public": true,
      "lineno": 407,
      "doc_summary": "Subset of polars.DataFrame used for Parquet exports.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "PolarsModule",
      "qualname": "PolarsModule",
      "kind": "class",
      "public": true,
      "lineno": 428,
      "doc_summary": "Minimal polars API used within optional export helpers.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 1,
    "cyclomatic": 2,
    "loc": 454
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 111,
  "fan_out": 0,
  "cycle_group": 1,
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.764,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 14,
  "recent_churn_90": 14
}
{
  "path": "uses_builder.py",
  "repo_path": "codeintel_rev/uses_builder.py",
  "module_name": "codeintel_rev.uses_builder",
  "stable_id": "61f6e755f279",
  "docstring": "SCIP-based symbol use graph helpers.",
  "doc_has_summary": true,
  "doc_param_parity": true,
  "doc_examples_present": false,
  "imports": [
    {
      "module": "__future__",
      "names": [
        "annotations"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "dataclasses",
      "names": [
        "dataclass"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "pathlib",
      "names": [
        "Path"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "typing",
      "names": [
        "cast"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.enrich.scip_reader",
      "names": [
        "SCIPIndex"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.polars_support",
      "names": [
        "resolve_polars_frame_factory"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    },
    {
      "module": "codeintel_rev.typing",
      "names": [
        "PolarsModule",
        "gate_import"
      ],
      "aliases": {},
      "is_star": false,
      "level": 0
    }
  ],
  "defs": [
    {
      "kind": "class",
      "name": "UseGraph",
      "lineno": 16
    },
    {
      "kind": "function",
      "name": "build_use_graph",
      "lineno": 24
    },
    {
      "kind": "function",
      "name": "write_use_graph",
      "lineno": 60
    },
    {
      "kind": "function",
      "name": "_is_definition",
      "lineno": 86
    },
    {
      "kind": "function",
      "name": "_write_parquet",
      "lineno": 106
    }
  ],
  "exports": [],
  "exports_declared": [],
  "outline_nodes": [],
  "scip_symbols": [],
  "parse_ok": true,
  "errors": [],
  "tags": [
    "low-coverage"
  ],
  "type_errors": 0,
  "type_error_count": 0,
  "doc_summary": "SCIP-based symbol use graph helpers.",
  "doc_metrics": {
    "has_summary": true,
    "param_parity": true,
    "examples_present": false
  },
  "doc_items": [
    {
      "name": "UseGraph",
      "qualname": "UseGraph",
      "kind": "class",
      "public": true,
      "lineno": 16,
      "doc_summary": "Definition-to-use relationships summarised by file.",
      "doc_has_summary": true,
      "doc_param_parity": null,
      "doc_examples_present": false
    },
    {
      "name": "build_use_graph",
      "qualname": "build_use_graph",
      "kind": "function",
      "public": true,
      "lineno": 24,
      "doc_summary": "Build a use graph from SCIP occurrences.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "write_use_graph",
      "qualname": "write_use_graph",
      "kind": "function",
      "public": true,
      "lineno": 60,
      "doc_summary": "Persist use graph edges to Parquet (or JSONL fallback).",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_is_definition",
      "qualname": "_is_definition",
      "kind": "function",
      "public": false,
      "lineno": 86,
      "doc_summary": "Check if any role indicates a definition.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    },
    {
      "name": "_write_parquet",
      "qualname": "_write_parquet",
      "kind": "function",
      "public": false,
      "lineno": 106,
      "doc_summary": "Write records via polars when available.",
      "doc_has_summary": true,
      "doc_param_parity": true,
      "doc_examples_present": false
    }
  ],
  "annotation_ratio": {
    "params": 1.0,
    "returns": 1.0
  },
  "untyped_defs": 0,
  "side_effects": {
    "filesystem": true,
    "network": false,
    "subprocess": false,
    "database": false
  },
  "raises": [],
  "complexity": {
    "branches": 16,
    "cyclomatic": 17,
    "loc": 131
  },
  "covered_lines_ratio": 0.0,
  "covered_defs_ratio": 0.0,
  "config_refs": [],
  "overlay_needed": false,
  "fan_in": 1,
  "fan_out": 3,
  "cycle_group": 97,
  "imports_internal": [
    "enrich/scip_reader.py",
    "polars_support.py",
    "typing.py"
  ],
  "imports_intra_repo": [
    "enrich/scip_reader.py",
    "polars_support.py",
    "typing.py"
  ],
  "used_by_files": 0,
  "used_by_symbols": 0,
  "hotspot_score": 2.057,
  "owner": "paul-heyse",
  "primary_authors": [
    "paul-heyse"
  ],
  "bus_factor": 1.0,
  "recent_churn_30": 5,
  "recent_churn_90": 5
}
