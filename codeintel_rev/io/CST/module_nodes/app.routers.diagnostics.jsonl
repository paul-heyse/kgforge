{"path": "app/routers/diagnostics.py", "node_id": "3a8f144f628cd91dfcedc08185d0c6e4", "kind": "Module", "name": "", "span": {"start": [1, 0], "end": [54, 0]}, "text_preview": "\"\"\"Diagnostics endpoints for runtime execution ledger reports.\"\"\"", "parents": ["Module"], "scope": "Global", "qnames": [], "doc": {"module": "Diagnostics endpoints for runtime execution ledger reports."}, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "ff4e1f4b067d5dd1c5f34b685aa0ee5b", "kind": "ImportFrom", "name": "annotations", "span": {"start": [3, 0], "end": [3, 34]}, "text_preview": "from __future__ import annotations", "parents": ["Module", "SimpleStatementLine", "ImportFrom:annotations"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "__future__", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "c18fc1101aa68b2422dbb37f1b24300b", "kind": "Name", "name": "__future__", "span": {"start": [3, 5], "end": [3, 15]}, "text_preview": "from __future__ import annotations", "parents": ["Module", "SimpleStatementLine", "ImportFrom:annotations", "Name:__future__"], "scope": null, "qnames": [], "is_public": false, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "2b2eb64e8c1b8f4fb980e4e1845e556b", "kind": "Name", "name": "annotations", "span": {"start": [3, 23], "end": [3, 34]}, "text_preview": "from __future__ import annotations", "parents": ["Module", "SimpleStatementLine", "ImportFrom:annotations", "ImportAlias", "Name:annotations"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "e08bd3affa8ccb80ca0bb2d9906a1fdb", "kind": "ImportFrom", "name": "APIRouter", "span": {"start": [5, 0], "end": [5, 44]}, "text_preview": "from fastapi import APIRouter, HTTPException", "parents": ["Module", "SimpleStatementLine", "ImportFrom:APIRouter"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "fastapi", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "ed3c60e5bfa7f2861c141c4f357b9fa1", "kind": "Name", "name": "fastapi", "span": {"start": [5, 5], "end": [5, 12]}, "text_preview": "from fastapi import APIRouter, HTTPException", "parents": ["Module", "SimpleStatementLine", "ImportFrom:APIRouter", "Name:fastapi"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "2edd9ed48183b577a9a241b164dcc0a7", "kind": "Name", "name": "APIRouter", "span": {"start": [5, 20], "end": [5, 29]}, "text_preview": "from fastapi import APIRouter, HTTPException", "parents": ["Module", "SimpleStatementLine", "ImportFrom:APIRouter", "ImportAlias", "Name:APIRouter"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "fe07f64872381f4a49dbee55718f3a85", "kind": "Name", "name": "HTTPException", "span": {"start": [5, 31], "end": [5, 44]}, "text_preview": "from fastapi import APIRouter, HTTPException", "parents": ["Module", "SimpleStatementLine", "ImportFrom:APIRouter", "ImportAlias", "Name:HTTPException"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "e89e7b6d59d15cdf2678bc3814dcb4aa", "kind": "ImportFrom", "name": "JSONResponse", "span": {"start": [6, 0], "end": [6, 61]}, "text_preview": "from fastapi.responses import JSONResponse, PlainTextResponse", "parents": ["Module", "SimpleStatementLine", "ImportFrom:JSONResponse"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "fastapi.responses", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "a5c365bd268d6f02870518d642f989ab", "kind": "Attribute", "name": "responses", "span": {"start": [6, 5], "end": [6, 22]}, "text_preview": "from fastapi.responses import JSONResponse, PlainTextResponse", "parents": ["Module", "SimpleStatementLine", "ImportFrom:JSONResponse", "Attribute:responses"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "6b484cfffe3fc5db3b7a7fd284c77fdd", "kind": "Name", "name": "fastapi", "span": {"start": [6, 5], "end": [6, 12]}, "text_preview": "from fastapi.responses import JSONResponse, PlainTextResponse", "parents": ["Module", "SimpleStatementLine", "ImportFrom:JSONResponse", "Attribute:responses", "Name:fastapi"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "5a527dfb879ba9e38f17cf4b41ff1b16", "kind": "Name", "name": "responses", "span": {"start": [6, 13], "end": [6, 22]}, "text_preview": "from fastapi.responses import JSONResponse, PlainTextResponse", "parents": ["Module", "SimpleStatementLine", "ImportFrom:JSONResponse", "Attribute:responses", "Name:responses"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "97be8cd7704b7d3e6388a83fec74000b", "kind": "Name", "name": "JSONResponse", "span": {"start": [6, 30], "end": [6, 42]}, "text_preview": "from fastapi.responses import JSONResponse, PlainTextResponse", "parents": ["Module", "SimpleStatementLine", "ImportFrom:JSONResponse", "ImportAlias", "Name:JSONResponse"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "02f4b0d56e6c477058722a347f198531", "kind": "Name", "name": "PlainTextResponse", "span": {"start": [6, 44], "end": [6, 61]}, "text_preview": "from fastapi.responses import JSONResponse, PlainTextResponse", "parents": ["Module", "SimpleStatementLine", "ImportFrom:JSONResponse", "ImportAlias", "Name:PlainTextResponse"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "b9504346fe07c36912cfe4fb9f4ac87a", "kind": "ImportFrom", "name": "execution_ledger", "span": {"start": [8, 0], "end": [8, 56]}, "text_preview": "from codeintel_rev.observability import execution_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:execution_ledger"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "codeintel_rev.observability", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "706c87c5a3beca3409c82e39b375cd32", "kind": "Attribute", "name": "observability", "span": {"start": [8, 5], "end": [8, 32]}, "text_preview": "from codeintel_rev.observability import execution_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:execution_ledger", "Attribute:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "9ba790bdd013600d94d9e04a28d632e2", "kind": "Name", "name": "codeintel_rev", "span": {"start": [8, 5], "end": [8, 18]}, "text_preview": "from codeintel_rev.observability import execution_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:execution_ledger", "Attribute:observability", "Name:codeintel_rev"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "67aa7fdd986e84b98f99afbbf107e8ec", "kind": "Name", "name": "observability", "span": {"start": [8, 19], "end": [8, 32]}, "text_preview": "from codeintel_rev.observability import execution_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:execution_ledger", "Attribute:observability", "Name:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "eaaf5986a6568077bea457b8bb6399c1", "kind": "Name", "name": "execution_ledger", "span": {"start": [8, 40], "end": [8, 56]}, "text_preview": "from codeintel_rev.observability import execution_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:execution_ledger", "ImportAlias", "Name:execution_ledger"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "86fbb89b671e49d31d48faf2a60dfae6", "kind": "Assign", "name": "router", "span": {"start": [10, 0], "end": [10, 63]}, "text_preview": "router = APIRouter(prefix=\"/diagnostics\", tags=[\"diagnostics\"])", "parents": ["Module", "SimpleStatementLine", "Assign:router"], "scope": "Global", "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "bb4487f8c46990724886d50d44d3a8cb", "kind": "Name", "name": "router", "span": {"start": [10, 0], "end": [10, 6]}, "text_preview": "router = APIRouter(prefix=\"/diagnostics\", tags=[\"diagnostics\"])", "parents": ["Module", "SimpleStatementLine", "Assign:router", "AssignTarget", "Name:router"], "scope": "Global", "qnames": ["app.routers.diagnostics.router", "router"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "20c7882249557c00bf7097483a75393f", "kind": "Call", "name": "APIRouter", "span": {"start": [10, 9], "end": [10, 63]}, "text_preview": "router = APIRouter(prefix=\"/diagnostics\", tags=[\"diagnostics\"])", "parents": ["Module", "SimpleStatementLine", "Assign:router", "Call:APIRouter"], "scope": "Global", "qnames": ["fastapi.APIRouter"], "is_public": true, "call_target_qnames": ["fastapi.APIRouter"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "9a4418bcb80acd23e896b21e1598b9c5", "kind": "Name", "name": "APIRouter", "span": {"start": [10, 9], "end": [10, 18]}, "text_preview": "router = APIRouter(prefix=\"/diagnostics\", tags=[\"diagnostics\"])", "parents": ["Module", "SimpleStatementLine", "Assign:router", "Call:APIRouter", "Name:APIRouter"], "scope": "Global", "qnames": ["fastapi.APIRouter"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "148696f802ddea89c88b92bb8e931059", "kind": "Name", "name": "prefix", "span": {"start": [10, 19], "end": [10, 25]}, "text_preview": "router = APIRouter(prefix=\"/diagnostics\", tags=[\"diagnostics\"])", "parents": ["Module", "SimpleStatementLine", "Assign:router", "Call:APIRouter", "Arg", "Name:prefix"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "dcc64f293eba2b9b60fafd65d77b36f7", "kind": "Name", "name": "tags", "span": {"start": [10, 42], "end": [10, 46]}, "text_preview": "router = APIRouter(prefix=\"/diagnostics\", tags=[\"diagnostics\"])", "parents": ["Module", "SimpleStatementLine", "Assign:router", "Call:APIRouter", "Arg", "Name:tags"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "10cd14209075bfc0d92996fdcdfe0a12", "kind": "FunctionDef", "name": "get_run_report", "span": {"start": [14, 0], "end": [31, 32]}, "text_preview": "def get_run_report(run_id: str) -> JSONResponse:", "parents": ["Module", "FunctionDef:get_run_report"], "scope": "Global", "qnames": ["app.routers.diagnostics.get_run_report", "get_run_report"], "doc": {"def": "Return the execution ledger report for ``run_id`` as JSON."}, "is_public": true, "decorators": ["router.get(\"/run_report/{run_id}\")"], "ann": "JSONResponse", "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "89783ddb8e5f6e906e131ec418868a65", "kind": "Call", "name": "get", "span": {"start": [13, 1], "end": [13, 35]}, "text_preview": "@router.get(\"/run_report/{run_id}\")", "parents": ["Module", "FunctionDef:get_run_report", "Decorator", "Call:get"], "scope": "Global", "qnames": ["app.routers.diagnostics.router.get", "router.get"], "is_public": true, "call_target_qnames": ["app.routers.diagnostics.router.get", "router.get"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "11fec85f361a909a7090a5f41ca76e95", "kind": "Attribute", "name": "get", "span": {"start": [13, 1], "end": [13, 11]}, "text_preview": "@router.get(\"/run_report/{run_id}\")", "parents": ["Module", "FunctionDef:get_run_report", "Decorator", "Call:get", "Attribute:get"], "scope": "Global", "qnames": ["app.routers.diagnostics.router.get", "router.get"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "036de7b83fb81455580c72c18659a468", "kind": "Name", "name": "router", "span": {"start": [13, 1], "end": [13, 7]}, "text_preview": "@router.get(\"/run_report/{run_id}\")", "parents": ["Module", "FunctionDef:get_run_report", "Decorator", "Call:get", "Attribute:get", "Name:router"], "scope": "Global", "qnames": ["app.routers.diagnostics.router", "router"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "a75864bb1394daee2b2078020cb7209b", "kind": "Name", "name": "get", "span": {"start": [13, 8], "end": [13, 11]}, "text_preview": "@router.get(\"/run_report/{run_id}\")", "parents": ["Module", "FunctionDef:get_run_report", "Decorator", "Call:get", "Attribute:get", "Name:get"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "92cd521ad33034c59a9d3dabac669532", "kind": "Name", "name": "get_run_report", "span": {"start": [14, 4], "end": [14, 18]}, "text_preview": "def get_run_report(run_id: str) -> JSONResponse:", "parents": ["Module", "FunctionDef:get_run_report", "Name:get_run_report"], "scope": "Global", "qnames": ["app.routers.diagnostics.get_run_report", "get_run_report"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "761bf3d406d28002600e4cef63bfde67", "kind": "Name", "name": "run_id", "span": {"start": [14, 19], "end": [14, 25]}, "text_preview": "def get_run_report(run_id: str) -> JSONResponse:", "parents": ["Module", "FunctionDef:get_run_report", "Parameters", "Param", "Name:run_id"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report.<locals>.run_id", "get_run_report.<locals>.run_id"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "006e5760c1af5d656366e85ae4e9cdfe", "kind": "Name", "name": "str", "span": {"start": [14, 27], "end": [14, 30]}, "text_preview": "def get_run_report(run_id: str) -> JSONResponse:", "parents": ["Module", "FunctionDef:get_run_report", "Parameters", "Param", "Annotation", "Name:str"], "scope": "Global", "qnames": ["builtins.str"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "57eb2d4a5218924577eb6f7ba8b3d316", "kind": "Name", "name": "JSONResponse", "span": {"start": [14, 35], "end": [14, 47]}, "text_preview": "def get_run_report(run_id: str) -> JSONResponse:", "parents": ["Module", "FunctionDef:get_run_report", "Annotation", "Name:JSONResponse"], "scope": "Global", "qnames": ["fastapi.responses.JSONResponse"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "f5eecac99889cf520d8ac015c3695113", "kind": "Try", "name": "", "span": {"start": [27, 4], "end": [30, 70]}, "text_preview": "try:", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "2128d9d05c8624991a026d0c401e56c2", "kind": "Assign", "name": "payload", "span": {"start": [28, 8], "end": [28, 59]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "8e8edfeb47dce5d81fb6e57f48c12f8f", "kind": "Name", "name": "payload", "span": {"start": [28, 8], "end": [28, 15]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "AssignTarget", "Name:payload"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report.<locals>.payload", "get_run_report.<locals>.payload"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "c25a6c87af23f745617766509481d308", "kind": "Call", "name": "build_run_report", "span": {"start": [28, 18], "end": [28, 59]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report"], "scope": "Function", "qnames": ["codeintel_rev.observability.execution_ledger.build_run_report"], "is_public": true, "call_target_qnames": ["codeintel_rev.observability.execution_ledger.build_run_report"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "3f3ef3d2441999e36ae9e8d6f27e86ba", "kind": "Attribute", "name": "build_run_report", "span": {"start": [28, 18], "end": [28, 51]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report", "Attribute:build_run_report"], "scope": "Function", "qnames": ["codeintel_rev.observability.execution_ledger.build_run_report"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "369c8ce73645f73b978d4753cc4f852b", "kind": "Name", "name": "execution_ledger", "span": {"start": [28, 18], "end": [28, 34]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["FunctionDef:get_run_report", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report", "Attribute:build_run_report", "Name:execution_ledger"], "scope": "Function", "qnames": ["codeintel_rev.observability.execution_ledger"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "aedd1e108b3cf594a5b489ae4ddbd0ec", "kind": "Name", "name": "build_run_report", "span": {"start": [28, 35], "end": [28, 51]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["FunctionDef:get_run_report", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report", "Attribute:build_run_report", "Name:build_run_report"], "scope": null, "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "2da27f1ac4f24963d074b6536b9f989e", "kind": "Name", "name": "run_id", "span": {"start": [28, 52], "end": [28, 58]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["FunctionDef:get_run_report", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report", "Arg", "Name:run_id"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report.<locals>.run_id", "get_run_report.<locals>.run_id"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "efa210c99f6ba8c0960ab3d348343bb7", "kind": "ExceptHandler", "name": "", "span": {"start": [29, 4], "end": [30, 70]}, "text_preview": "except KeyError as exc: # pragma: no cover - FastAPI converts to 404", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try", "ExceptHandler"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "21bd3381517bbe914e3eee133737ec7a", "kind": "Name", "name": "KeyError", "span": {"start": [29, 11], "end": [29, 19]}, "text_preview": "except KeyError as exc: # pragma: no cover - FastAPI converts to 404", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try", "ExceptHandler", "Name:KeyError"], "scope": "Function", "qnames": ["builtins.KeyError"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "5038d41b1e5f1b440f8835c9674c414b", "kind": "Name", "name": "exc", "span": {"start": [29, 23], "end": [29, 26]}, "text_preview": "except KeyError as exc: # pragma: no cover - FastAPI converts to 404", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try", "ExceptHandler", "AsName", "Name:exc"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report.<locals>.exc", "get_run_report.<locals>.exc"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "ff2826246a43a2d1e38e1201da6a07a0", "kind": "Raise", "name": "", "span": {"start": [30, 8], "end": [30, 70]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "87dcc5df0b03d16670c92242f0a41d90", "kind": "Call", "name": "HTTPException", "span": {"start": [30, 14], "end": [30, 61]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException"], "scope": "Function", "qnames": ["fastapi.HTTPException"], "is_public": true, "call_target_qnames": ["fastapi.HTTPException"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "88d1e755975dcb11a041c8e36259af9a", "kind": "Name", "name": "HTTPException", "span": {"start": [30, 14], "end": [30, 27]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["FunctionDef:get_run_report", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Name:HTTPException"], "scope": "Function", "qnames": ["fastapi.HTTPException"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "ef336da8ad9966c471769e42dd8c6fe1", "kind": "Name", "name": "status_code", "span": {"start": [30, 28], "end": [30, 39]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Name:status_code"], "scope": null, "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "48ae7308eb7bd7463e012cbcfbecf9b1", "kind": "Name", "name": "detail", "span": {"start": [30, 45], "end": [30, 51]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Name:detail"], "scope": null, "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "fc90a02ecc198cd43524cf1db66e51af", "kind": "Call", "name": "str", "span": {"start": [30, 52], "end": [30, 60]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Call:str"], "scope": "Function", "qnames": ["builtins.str"], "call_target_qnames": ["builtins.str"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "978989efa51d789a646ef3198dc71348", "kind": "Name", "name": "str", "span": {"start": [30, 52], "end": [30, 55]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Call:str", "Name:str"], "scope": "Function", "qnames": ["builtins.str"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "9175dd304121507820074ff6ecf68312", "kind": "Name", "name": "exc", "span": {"start": [30, 56], "end": [30, 59]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Call:str", "Arg", "Name:exc"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report.<locals>.exc", "get_run_report.<locals>.exc"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "bd63e2073dac00e6e958540917a0e566", "kind": "Name", "name": "exc", "span": {"start": [30, 67], "end": [30, 70]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["FunctionDef:get_run_report", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "From", "Name:exc"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report.<locals>.exc", "get_run_report.<locals>.exc"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "e8cfd66f962535071d1fe269afdfdeeb", "kind": "Return", "name": "", "span": {"start": [31, 4], "end": [31, 32]}, "text_preview": "return JSONResponse(payload)", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "SimpleStatementLine", "Return"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "112f19ebf6ad865073e4eb801c31073f", "kind": "Call", "name": "JSONResponse", "span": {"start": [31, 11], "end": [31, 32]}, "text_preview": "return JSONResponse(payload)", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "SimpleStatementLine", "Return", "Call:JSONResponse"], "scope": "Function", "qnames": ["fastapi.responses.JSONResponse"], "is_public": true, "call_target_qnames": ["fastapi.responses.JSONResponse"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "09ec44ca099474ee67b372a1bbb6b3a7", "kind": "Name", "name": "JSONResponse", "span": {"start": [31, 11], "end": [31, 23]}, "text_preview": "return JSONResponse(payload)", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "SimpleStatementLine", "Return", "Call:JSONResponse", "Name:JSONResponse"], "scope": "Function", "qnames": ["fastapi.responses.JSONResponse"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "ec0d6cd4482ca08de848e2102aa812c3", "kind": "Name", "name": "payload", "span": {"start": [31, 24], "end": [31, 31]}, "text_preview": "return JSONResponse(payload)", "parents": ["Module", "FunctionDef:get_run_report", "IndentedBlock", "SimpleStatementLine", "Return", "Call:JSONResponse", "Arg", "Name:payload"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report.<locals>.payload", "get_run_report.<locals>.payload"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "f1e9185257c99eb3191666d62f4cfd95", "kind": "FunctionDef", "name": "get_run_report_markdown", "span": {"start": [35, 0], "end": [53, 38]}, "text_preview": "def get_run_report_markdown(run_id: str) -> PlainTextResponse:", "parents": ["Module", "FunctionDef:get_run_report_markdown"], "scope": "Global", "qnames": ["app.routers.diagnostics.get_run_report_markdown", "get_run_report_markdown"], "doc": {"def": "Return execution ledger report rendered as Markdown."}, "is_public": true, "decorators": ["router.get(\"/run_report/{run_id}.md\", response_class=PlainTextResponse)"], "ann": "PlainTextResponse", "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "10b03324eeb51e4c5ae0af2dc3589bb9", "kind": "Call", "name": "get", "span": {"start": [34, 1], "end": [34, 72]}, "text_preview": "@router.get(\"/run_report/{run_id}.md\", response_class=PlainTextResponse)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Decorator", "Call:get"], "scope": "Global", "qnames": ["app.routers.diagnostics.router.get", "router.get"], "is_public": true, "call_target_qnames": ["app.routers.diagnostics.router.get", "router.get"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "261aa6d78f1310a3bf1a2a080099917c", "kind": "Attribute", "name": "get", "span": {"start": [34, 1], "end": [34, 11]}, "text_preview": "@router.get(\"/run_report/{run_id}.md\", response_class=PlainTextResponse)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Decorator", "Call:get", "Attribute:get"], "scope": "Global", "qnames": ["app.routers.diagnostics.router.get", "router.get"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "94a48322500455c205a69f46df6f3911", "kind": "Name", "name": "router", "span": {"start": [34, 1], "end": [34, 7]}, "text_preview": "@router.get(\"/run_report/{run_id}.md\", response_class=PlainTextResponse)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Decorator", "Call:get", "Attribute:get", "Name:router"], "scope": "Global", "qnames": ["app.routers.diagnostics.router", "router"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "43149f0912b432285e86d0c5e722655d", "kind": "Name", "name": "get", "span": {"start": [34, 8], "end": [34, 11]}, "text_preview": "@router.get(\"/run_report/{run_id}.md\", response_class=PlainTextResponse)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Decorator", "Call:get", "Attribute:get", "Name:get"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "7a294c7ad96940109e5f7c7a9a447f48", "kind": "Name", "name": "response_class", "span": {"start": [34, 39], "end": [34, 53]}, "text_preview": "@router.get(\"/run_report/{run_id}.md\", response_class=PlainTextResponse)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Decorator", "Call:get", "Arg", "Name:response_class"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "1ade619d195bb2f09948b7361c370381", "kind": "Name", "name": "PlainTextResponse", "span": {"start": [34, 54], "end": [34, 71]}, "text_preview": "@router.get(\"/run_report/{run_id}.md\", response_class=PlainTextResponse)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Decorator", "Call:get", "Arg", "Name:PlainTextResponse"], "scope": "Global", "qnames": ["fastapi.responses.PlainTextResponse"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "729b68ce845bf0bbe6505d6d4de86c0c", "kind": "Name", "name": "get_run_report_markdown", "span": {"start": [35, 4], "end": [35, 27]}, "text_preview": "def get_run_report_markdown(run_id: str) -> PlainTextResponse:", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Name:get_run_report_markdown"], "scope": "Global", "qnames": ["app.routers.diagnostics.get_run_report_markdown", "get_run_report_markdown"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "e62657fb3c5bea162451414798d7ff52", "kind": "Name", "name": "run_id", "span": {"start": [35, 28], "end": [35, 34]}, "text_preview": "def get_run_report_markdown(run_id: str) -> PlainTextResponse:", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Parameters", "Param", "Name:run_id"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report_markdown.<locals>.run_id", "get_run_report_markdown.<locals>.run_id"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "3f85fa42526c2e2b4c3607a81fdbd4f3", "kind": "Name", "name": "str", "span": {"start": [35, 36], "end": [35, 39]}, "text_preview": "def get_run_report_markdown(run_id: str) -> PlainTextResponse:", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Parameters", "Param", "Annotation", "Name:str"], "scope": "Global", "qnames": ["builtins.str"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "4f5946023533dc879c26a64c2b9fd6d0", "kind": "Name", "name": "PlainTextResponse", "span": {"start": [35, 44], "end": [35, 61]}, "text_preview": "def get_run_report_markdown(run_id: str) -> PlainTextResponse:", "parents": ["Module", "FunctionDef:get_run_report_markdown", "Annotation", "Name:PlainTextResponse"], "scope": "Global", "qnames": ["fastapi.responses.PlainTextResponse"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "26addde06be25522c4ba80be6e653b9f", "kind": "Try", "name": "", "span": {"start": [48, 4], "end": [51, 70]}, "text_preview": "try:", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "a77331370d4e9b81d8307f77a0b5d74f", "kind": "Assign", "name": "payload", "span": {"start": [49, 8], "end": [49, 59]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "e936425e29ee5bf5069093b465f8a155", "kind": "Name", "name": "payload", "span": {"start": [49, 8], "end": [49, 15]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "AssignTarget", "Name:payload"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report_markdown.<locals>.payload", "get_run_report_markdown.<locals>.payload"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "dce13d846ce8ae4c9908c1e9eb85c7ec", "kind": "Call", "name": "build_run_report", "span": {"start": [49, 18], "end": [49, 59]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report"], "scope": "Function", "qnames": ["codeintel_rev.observability.execution_ledger.build_run_report"], "is_public": true, "call_target_qnames": ["codeintel_rev.observability.execution_ledger.build_run_report"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "e83697446bde8393f50d78c6c01568e1", "kind": "Attribute", "name": "build_run_report", "span": {"start": [49, 18], "end": [49, 51]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report", "Attribute:build_run_report"], "scope": "Function", "qnames": ["codeintel_rev.observability.execution_ledger.build_run_report"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "36c4d7ee4145f8ad630ed9331f652036", "kind": "Name", "name": "execution_ledger", "span": {"start": [49, 18], "end": [49, 34]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report", "Attribute:build_run_report", "Name:execution_ledger"], "scope": "Function", "qnames": ["codeintel_rev.observability.execution_ledger"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "bb1f45cfb66717d972e241469f7e40d3", "kind": "Name", "name": "build_run_report", "span": {"start": [49, 35], "end": [49, 51]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report", "Attribute:build_run_report", "Name:build_run_report"], "scope": null, "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "3e172aa4f87b648d07d97a5c10c4ca82", "kind": "Name", "name": "run_id", "span": {"start": [49, 52], "end": [49, 58]}, "text_preview": "payload = execution_ledger.build_run_report(run_id)", "parents": ["FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:payload", "Call:build_run_report", "Arg", "Name:run_id"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report_markdown.<locals>.run_id", "get_run_report_markdown.<locals>.run_id"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "80482ea291a68713bf32aebfdf616995", "kind": "ExceptHandler", "name": "", "span": {"start": [50, 4], "end": [51, 70]}, "text_preview": "except KeyError as exc: # pragma: no cover - FastAPI converts to 404", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "ExceptHandler"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "5fa1f03d77ef184d8de1fb58e04898fc", "kind": "Name", "name": "KeyError", "span": {"start": [50, 11], "end": [50, 19]}, "text_preview": "except KeyError as exc: # pragma: no cover - FastAPI converts to 404", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "ExceptHandler", "Name:KeyError"], "scope": "Function", "qnames": ["builtins.KeyError"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "97167e27d490b4efdc888e5b60628234", "kind": "Name", "name": "exc", "span": {"start": [50, 23], "end": [50, 26]}, "text_preview": "except KeyError as exc: # pragma: no cover - FastAPI converts to 404", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "ExceptHandler", "AsName", "Name:exc"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report_markdown.<locals>.exc", "get_run_report_markdown.<locals>.exc"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "9b9b43a5c936f2f3f7302a5a9d958a60", "kind": "Raise", "name": "", "span": {"start": [51, 8], "end": [51, 70]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "4e85a29f8a92212b7849a613bb8dc4d7", "kind": "Call", "name": "HTTPException", "span": {"start": [51, 14], "end": [51, 61]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException"], "scope": "Function", "qnames": ["fastapi.HTTPException"], "is_public": true, "call_target_qnames": ["fastapi.HTTPException"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "8796d8485709237b33091b4fcb4af7da", "kind": "Name", "name": "HTTPException", "span": {"start": [51, 14], "end": [51, 27]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Name:HTTPException"], "scope": "Function", "qnames": ["fastapi.HTTPException"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "cc3b4672132680d683916df0eb135951", "kind": "Name", "name": "status_code", "span": {"start": [51, 28], "end": [51, 39]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Name:status_code"], "scope": null, "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "3fccb2ffaab7fd183c1cd9e3d1d5f933", "kind": "Name", "name": "detail", "span": {"start": [51, 45], "end": [51, 51]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Name:detail"], "scope": null, "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "36c7fb52ce7dddea24fff1fc4428ae61", "kind": "Call", "name": "str", "span": {"start": [51, 52], "end": [51, 60]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Call:str"], "scope": "Function", "qnames": ["builtins.str"], "call_target_qnames": ["builtins.str"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "074558f0297ddafd040a3d8fb3796a18", "kind": "Name", "name": "str", "span": {"start": [51, 52], "end": [51, 55]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Call:str", "Name:str"], "scope": "Function", "qnames": ["builtins.str"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "df95d2953ea00f2f138126e4db9c1e78", "kind": "Name", "name": "exc", "span": {"start": [51, 56], "end": [51, 59]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:HTTPException", "Arg", "Call:str", "Arg", "Name:exc"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report_markdown.<locals>.exc", "get_run_report_markdown.<locals>.exc"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "6fc7600d9e25553dd93211055365b6b2", "kind": "Name", "name": "exc", "span": {"start": [51, 67], "end": [51, 70]}, "text_preview": "raise HTTPException(status_code=404, detail=str(exc)) from exc", "parents": ["FunctionDef:get_run_report_markdown", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Raise", "From", "Name:exc"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report_markdown.<locals>.exc", "get_run_report_markdown.<locals>.exc"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "45fe0c5de49ec4b50a84d49598e8874c", "kind": "Assign", "name": "markdown", "span": {"start": [52, 4], "end": [52, 59]}, "text_preview": "markdown = execution_ledger.report_to_markdown(payload)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Assign:markdown"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "78dc869450e45d36ad75b481b934d857", "kind": "Name", "name": "markdown", "span": {"start": [52, 4], "end": [52, 12]}, "text_preview": "markdown = execution_ledger.report_to_markdown(payload)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Assign:markdown", "AssignTarget", "Name:markdown"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report_markdown.<locals>.markdown", "get_run_report_markdown.<locals>.markdown"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "89d757c8f19f87ad96ccea4394bc7222", "kind": "Call", "name": "report_to_markdown", "span": {"start": [52, 15], "end": [52, 59]}, "text_preview": "markdown = execution_ledger.report_to_markdown(payload)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Assign:markdown", "Call:report_to_markdown"], "scope": "Function", "qnames": ["codeintel_rev.observability.execution_ledger.report_to_markdown"], "is_public": true, "call_target_qnames": ["codeintel_rev.observability.execution_ledger.report_to_markdown"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "b87bcfde2f04f82250f56f21dee5db41", "kind": "Attribute", "name": "report_to_markdown", "span": {"start": [52, 15], "end": [52, 50]}, "text_preview": "markdown = execution_ledger.report_to_markdown(payload)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Assign:markdown", "Call:report_to_markdown", "Attribute:report_to_markdown"], "scope": "Function", "qnames": ["codeintel_rev.observability.execution_ledger.report_to_markdown"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "b1e94636d960bbbfafc1d3030fe119b6", "kind": "Name", "name": "execution_ledger", "span": {"start": [52, 15], "end": [52, 31]}, "text_preview": "markdown = execution_ledger.report_to_markdown(payload)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Assign:markdown", "Call:report_to_markdown", "Attribute:report_to_markdown", "Name:execution_ledger"], "scope": "Function", "qnames": ["codeintel_rev.observability.execution_ledger"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "a52728d6044bf78a32b5d5dbdf0622e8", "kind": "Name", "name": "report_to_markdown", "span": {"start": [52, 32], "end": [52, 50]}, "text_preview": "markdown = execution_ledger.report_to_markdown(payload)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Assign:markdown", "Call:report_to_markdown", "Attribute:report_to_markdown", "Name:report_to_markdown"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "ea7245d4b1733f312bffbb56777d8fc9", "kind": "Name", "name": "payload", "span": {"start": [52, 51], "end": [52, 58]}, "text_preview": "markdown = execution_ledger.report_to_markdown(payload)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Assign:markdown", "Call:report_to_markdown", "Arg", "Name:payload"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report_markdown.<locals>.payload", "get_run_report_markdown.<locals>.payload"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "34a70c0c9fdbb16e962cf8fd355c0b2c", "kind": "Return", "name": "", "span": {"start": [53, 4], "end": [53, 38]}, "text_preview": "return PlainTextResponse(markdown)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Return"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "5edd5efa1f1a1a9561b29f8eb9358705", "kind": "Call", "name": "PlainTextResponse", "span": {"start": [53, 11], "end": [53, 38]}, "text_preview": "return PlainTextResponse(markdown)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Return", "Call:PlainTextResponse"], "scope": "Function", "qnames": ["fastapi.responses.PlainTextResponse"], "is_public": true, "call_target_qnames": ["fastapi.responses.PlainTextResponse"], "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "b28d4268fd085531d57b6bf096ee76ae", "kind": "Name", "name": "PlainTextResponse", "span": {"start": [53, 11], "end": [53, 28]}, "text_preview": "return PlainTextResponse(markdown)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Return", "Call:PlainTextResponse", "Name:PlainTextResponse"], "scope": "Function", "qnames": ["fastapi.responses.PlainTextResponse"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/routers/diagnostics.py", "node_id": "ce034d72986cf45b52e79796c6eb14f3", "kind": "Name", "name": "markdown", "span": {"start": [53, 29], "end": [53, 37]}, "text_preview": "return PlainTextResponse(markdown)", "parents": ["Module", "FunctionDef:get_run_report_markdown", "IndentedBlock", "SimpleStatementLine", "Return", "Call:PlainTextResponse", "Arg", "Name:markdown"], "scope": "Function", "qnames": ["app.routers.diagnostics.get_run_report_markdown.<locals>.markdown", "get_run_report_markdown.<locals>.markdown"], "is_public": true, "stitch": {"module_id": "app/routers/diagnostics.py", "scip_symbol": null, "evidence": ["module-path"]}}
