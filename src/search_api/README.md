# `search_api`

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- END doctoc generated TOC please keep comment here to allow auto update -->

## API
- **`search_api.app`** — Module for search_api.app → [open](./app.py:1:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/app.py#L1)
  - **`search_api.app.NavMap`** — Structure describing a module navmap → [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/kgfoundry_common/navmap_types.py#L38-L51)
  - **`search_api.app.SearchRequest`** — Searchrequest → [open](./schemas.py:34:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/schemas.py#L34-L40)
  - **`search_api.app.SearchResult`** — Searchresult → [open](./schemas.py:44:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/schemas.py#L44-L54)
  - **`search_api.app.apply_kg_boosts`** — Apply knowledge-graph boosting heuristics to ranked candidates → [open](./app.py:184:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/app.py#L184-L224)
  - **`search_api.app.auth`** — Validate the bearer token supplied in the ``Authorization`` header → [open](./app.py:122:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/app.py#L122-L141)
  - **`search_api.app.graph_concepts`** — Return KG concepts that match the provided query fragment → [open](./app.py:302:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/app.py#L302-L325)
  - **`search_api.app.healthz`** — Return a summary of dependency health for readiness checks → [open](./app.py:145:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/app.py#L145-L157)
  - **`search_api.app.rrf_fuse`** — Fuse ranked result lists using reciprocal rank fusion (RRF) → [open](./app.py:161:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/app.py#L161-L180)
  - **`search_api.app.search`** — Execute a search request across dense and sparse indices → [open](./app.py:228:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/app.py#L228-L298)
- **`search_api.bm25_index`** — Module for search_api.bm25_index → [open](./bm25_index.py:1:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/bm25_index.py#L1)
  - **`search_api.bm25_index.BM25Doc`** — Container storing fields required for BM25 scoring → [open](./bm25_index.py:49:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/bm25_index.py#L49-L58)
  - **`search_api.bm25_index.BM25Index`** — Construct, persist, and query a BM25 index → [open](./bm25_index.py:62:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/bm25_index.py#L62-L185)
  - **`search_api.bm25_index.NavMap`** — Structure describing a module navmap → [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/kgfoundry_common/navmap_types.py#L38-L51)
  - **`search_api.bm25_index.toks`** — Tokenise ``text`` into lowercase alphanumeric terms → [open](./bm25_index.py:43:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/bm25_index.py#L43-L45)
- **`search_api.faiss_adapter`** — Module for search_api.faiss_adapter → [open](./faiss_adapter.py:1:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/faiss_adapter.py#L1)
  - **`search_api.faiss_adapter.DenseVecs`** — Dense vector matrix paired with chunk identifiers → [open](./faiss_adapter.py:56:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/faiss_adapter.py#L56-L61)
  - **`search_api.faiss_adapter.FaissAdapter`** — Load dense vectors from DuckDB and expose FAISS search utilities → [open](./faiss_adapter.py:65:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/faiss_adapter.py#L65-L181)
  - **`search_api.faiss_adapter.NavMap`** — Structure describing a module navmap → [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/kgfoundry_common/navmap_types.py#L38-L51)
- **`search_api.fixture_index`** — Module for search_api.fixture_index → [open](./fixture_index.py:1:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/fixture_index.py#L1)
  - **`search_api.fixture_index.FixtureDoc`** — Chunk-level document representation used by the lexical index → [open](./fixture_index.py:47:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/fixture_index.py#L47-L55)
  - **`search_api.fixture_index.FixtureIndex`** — Materialise a lexical index from DuckDB parquet exports → [open](./fixture_index.py:59:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/fixture_index.py#L59-L147)
  - **`search_api.fixture_index.NavMap`** — Structure describing a module navmap → [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/kgfoundry_common/navmap_types.py#L38-L51)
  - **`search_api.fixture_index.tokenize`** — Tokenise ``text`` into lowercase alphanumeric tokens → [open](./fixture_index.py:41:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/fixture_index.py#L41-L43)
- **`search_api.fusion`** — Module for search_api.fusion → [open](./fusion.py:1:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/fusion.py#L1)
  - **`search_api.fusion.NavMap`** — Structure describing a module navmap → [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/kgfoundry_common/navmap_types.py#L38-L51)
  - **`search_api.fusion.rrf_fuse`** — Fuse ranked lists using reciprocal rank fusion (RRF) → [open](./fusion.py:31:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/fusion.py#L31-L37)
- **`search_api.kg_mock`** — Module for search_api.kg_mock → [open](./kg_mock.py:1:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/kg_mock.py#L1)
  - **`search_api.kg_mock.ConceptMeta`** — Metadata describing a mock concept and its keyword matches → [open](./kg_mock.py:33:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/kg_mock.py#L33-L37)
  - **`search_api.kg_mock.NavMap`** — Structure describing a module navmap → [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/kgfoundry_common/navmap_types.py#L38-L51)
  - **`search_api.kg_mock.detect_query_concepts`** — Extract concept identifiers from ``query`` using simple heuristics → [open](./kg_mock.py:53:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/kg_mock.py#L53-L60)
  - **`search_api.kg_mock.kg_boost`** — Return a boost weight when query and chunk share a concept → [open](./kg_mock.py:75:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/kg_mock.py#L75-L83)
  - **`search_api.kg_mock.linked_concepts_for_text`** — Derive concept URNs mentioned in a chunk of indexed text → [open](./kg_mock.py:64:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/kg_mock.py#L64-L71)
- **`search_api.schemas`** — Module for search_api.schemas → [open](./schemas.py:1:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/schemas.py#L1)
  - **`search_api.schemas.NavMap`** — Structure describing a module navmap → [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/kgfoundry_common/navmap_types.py#L38-L51)
  - **`search_api.schemas.SearchRequest`** — Searchrequest → [open](./schemas.py:34:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/schemas.py#L34-L40)
  - **`search_api.schemas.SearchResult`** — Searchresult → [open](./schemas.py:44:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/schemas.py#L44-L54)
- **`search_api.service`** — Module for search_api.service → [open](./service.py:1:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/service.py#L1)
  - **`search_api.service.NavMap`** — Structure describing a module navmap → [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/kgfoundry_common/navmap_types.py#L38-L51)
  - **`search_api.service.apply_kg_boosts`** — Apply knowledge-graph based boosts to fused search results → [open](./service.py:68:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/service.py#L68-L71)
  - **`search_api.service.mmr_deduplicate`** — De-duplicate search results using maximal marginal relevance heuristics → [open](./service.py:75:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/service.py#L75-L80)
  - **`search_api.service.rrf_fuse`** — Fuse dense and sparse rankings via reciprocal rank fusion → [open](./service.py:59:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/service.py#L59-L64)
- **`search_api.splade_index`** — Module for search_api.splade_index → [open](./splade_index.py:1:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/splade_index.py#L1)
  - **`search_api.splade_index.NavMap`** — Structure describing a module navmap → [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/kgfoundry_common/navmap_types.py#L38-L51)
  - **`search_api.splade_index.SpladeDoc`** — Chunk-level document representation for the sparse index → [open](./splade_index.py:46:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/splade_index.py#L46-L53)
  - **`search_api.splade_index.SpladeIndex`** — Load chunk text and expose a sparse similarity search API → [open](./splade_index.py:57:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/splade_index.py#L57-L129)
  - **`search_api.splade_index.tok`** — Tokenise ``text`` into lowercase alphanumeric units → [open](./splade_index.py:40:1) | [view](https://github.com/paul-heyse/kgfoundry/blob/88ccab0c57ccecf30fc5b8829a70ebdc05634b35/src/search_api/splade_index.py#L40-L42)
