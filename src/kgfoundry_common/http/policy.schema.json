// src/kgfoundry_common/http/policy.schema.json (excerpt)
{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "required": ["name", "methods", "retry_on", "stop", "wait"],
  "properties": {
    "name": {"type":"string"},
    "description": {"type":"string"},
    "methods": {"type":"array","items":{"type":"string"}},
    "retry_on": {
      "type":"object",
      "properties":{
        "status":{"type":"array","items":{"type":["integer","string"]}},
        "exceptions":{"type":"array","items":{"type":"string"}}
      }
    },
    "give_up_on_status":{"type":"array","items":{"type":"integer"}},
    "respect_retry_after":{"type":"boolean"},
    "require_idempotency_key":{"type":"boolean"},
    "stop":{
      "type":"object",
      "properties":{
        "after_attempt":{"type":"integer"},
        "after_delay_s":{"type":"number"}
      }
    },
    "wait":{
      "type":"object",
      "properties":{
        "kind":{"enum":["exponential_jitter"]},
        "initial_s":{"type":"number"},
        "max_s":{"type":"number"},
        "jitter":{"type":"number"},
        "base":{"type":"number"}
      }
    },
    "metrics_label":{"type":"string"}
  },
  "additionalProperties": false
}
