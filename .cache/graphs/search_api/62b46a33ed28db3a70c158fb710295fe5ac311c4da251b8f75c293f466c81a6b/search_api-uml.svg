<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: classes_search_api Pages: 1 -->
<svg width="1484pt" height="454pt"
 viewBox="0.00 0.00 1483.50 454.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 450)">
<title>classes_search_api</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-450 1479.5,-450 1479.5,4 -4,4"/>
<!-- src.search_api.bm25_index.BM25Doc -->
<g id="node1" class="node">
<title>src.search_api.bm25_index.BM25Doc</title>
<polygon fill="none" stroke="black" points="81,-286.5 81,-430.5 191,-430.5 191,-286.5 81,-286.5"/>
<text text-anchor="start" x="107" y="-415.3" font-family="Times,serif" font-size="14.00">BM25Doc</text>
<polyline fill="none" stroke="black" points="81,-407.5 191,-407.5 "/>
<text text-anchor="start" x="89" y="-392.3" font-family="Times,serif" font-size="14.00">chunk_id : str</text>
<text text-anchor="start" x="89" y="-377.3" font-family="Times,serif" font-size="14.00">dl : float</text>
<text text-anchor="start" x="89" y="-362.3" font-family="Times,serif" font-size="14.00">doc_id : str</text>
<text text-anchor="start" x="89" y="-347.3" font-family="Times,serif" font-size="14.00">section : str</text>
<text text-anchor="start" x="89" y="-332.3" font-family="Times,serif" font-size="14.00">tf : dict[str, float]</text>
<text text-anchor="start" x="89" y="-317.3" font-family="Times,serif" font-size="14.00">title : str</text>
<polyline fill="none" stroke="black" points="81,-309.5 191,-309.5 "/>
<text text-anchor="start" x="134" y="-294.3" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- src.search_api.bm25_index.BM25Index -->
<g id="node2" class="node">
<title>src.search_api.bm25_index.BM25Index</title>
<polygon fill="none" stroke="black" points="0,-0.5 0,-219.5 272,-219.5 272,-0.5 0,-0.5"/>
<text text-anchor="start" x="102.5" y="-204.3" font-family="Times,serif" font-size="14.00">BM25Index</text>
<polyline fill="none" stroke="black" points="0,-196.5 272,-196.5 "/>
<text text-anchor="start" x="76" y="-181.3" font-family="Times,serif" font-size="14.00">N : int</text>
<text text-anchor="start" x="76" y="-166.3" font-family="Times,serif" font-size="14.00">avgdl : float</text>
<text text-anchor="start" x="76" y="-151.3" font-family="Times,serif" font-size="14.00">b : float</text>
<text text-anchor="start" x="76" y="-136.3" font-family="Times,serif" font-size="14.00">df : dict[str, int]</text>
<text text-anchor="start" x="76" y="-121.3" font-family="Times,serif" font-size="14.00">docs : list[BM25Doc]</text>
<text text-anchor="start" x="76" y="-106.3" font-family="Times,serif" font-size="14.00">k1 : float</text>
<polyline fill="none" stroke="black" points="0,-98.5 272,-98.5 "/>
<text text-anchor="start" x="8" y="-83.3" font-family="Times,serif" font-size="14.00">build_from_duckdb(db_path: str): BM25Index</text>
<text text-anchor="start" x="8" y="-68.3" font-family="Times,serif" font-size="14.00">doc(index: int): BM25Doc</text>
<text text-anchor="start" x="8" y="-53.3" font-family="Times,serif" font-size="14.00">from_parquet(path: str): BM25Index</text>
<text text-anchor="start" x="8" y="-38.3" font-family="Times,serif" font-size="14.00">load(path: str): BM25Index</text>
<text text-anchor="start" x="8" y="-23.3" font-family="Times,serif" font-size="14.00">save(path: str): None</text>
<text text-anchor="start" x="8" y="-8.3" font-family="Times,serif" font-size="14.00">search(query: str, k: int): list[tuple[int, float]]</text>
</g>
<!-- src.search_api.bm25_index.BM25Index&#45;&gt;src.search_api.bm25_index.BM25Doc -->
<g id="edge1" class="edge">
<title>src.search_api.bm25_index.BM25Index&#45;&gt;src.search_api.bm25_index.BM25Doc</title>
<path fill="none" stroke="black" d="M136,-219.84C136,-238.79 136,-258.21 136,-276.26"/>
<polygon fill="black" stroke="black" points="136,-286.42 131.5,-276.42 136,-281.42 136,-276.42 136,-276.42 136,-276.42 136,-281.42 140.5,-276.42 136,-286.42 136,-286.42"/>
<text text-anchor="middle" x="148.5" y="-241.8" font-family="Times,serif" font-size="14.00" fill="green">docs</text>
</g>
<!-- src.search_api.kg_mock.ConceptMeta -->
<g id="node3" class="node">
<title>src.search_api.kg_mock.ConceptMeta</title>
<polygon fill="none" stroke="black" points="290.5,-68 290.5,-152 409.5,-152 409.5,-68 290.5,-68"/>
<text text-anchor="start" x="313" y="-136.8" font-family="Times,serif" font-size="14.00">ConceptMeta</text>
<polyline fill="none" stroke="black" points="290.5,-129 409.5,-129 "/>
<text text-anchor="start" x="298.5" y="-113.8" font-family="Times,serif" font-size="14.00">keywords : list[str]</text>
<text text-anchor="start" x="298.5" y="-98.8" font-family="Times,serif" font-size="14.00">label : str</text>
<polyline fill="none" stroke="black" points="290.5,-91 409.5,-91 "/>
<text text-anchor="start" x="348" y="-75.8" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- src.search_api.faiss_adapter.DenseVecs -->
<g id="node4" class="node">
<title>src.search_api.faiss_adapter.DenseVecs</title>
<polygon fill="none" stroke="black" points="427.5,-68 427.5,-152 510.5,-152 510.5,-68 427.5,-68"/>
<text text-anchor="start" x="439" y="-136.8" font-family="Times,serif" font-size="14.00">DenseVecs</text>
<polyline fill="none" stroke="black" points="427.5,-129 510.5,-129 "/>
<text text-anchor="start" x="435.5" y="-113.8" font-family="Times,serif" font-size="14.00">ids : list[str]</text>
<text text-anchor="start" x="435.5" y="-98.8" font-family="Times,serif" font-size="14.00">mat</text>
<polyline fill="none" stroke="black" points="427.5,-91 510.5,-91 "/>
<text text-anchor="start" x="467" y="-75.8" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- src.search_api.faiss_adapter.FaissAdapter -->
<g id="node5" class="node">
<title>src.search_api.faiss_adapter.FaissAdapter</title>
<polygon fill="none" stroke="black" points="322.5,-271.5 322.5,-445.5 615.5,-445.5 615.5,-271.5 322.5,-271.5"/>
<text text-anchor="start" x="433" y="-430.3" font-family="Times,serif" font-size="14.00">FaissAdapter</text>
<polyline fill="none" stroke="black" points="322.5,-422.5 615.5,-422.5 "/>
<text text-anchor="start" x="401.5" y="-407.3" font-family="Times,serif" font-size="14.00">db_path : str</text>
<text text-anchor="start" x="401.5" y="-392.3" font-family="Times,serif" font-size="14.00">factory : str</text>
<text text-anchor="start" x="401.5" y="-377.3" font-family="Times,serif" font-size="14.00">idmap : list[str] | None</text>
<text text-anchor="start" x="401.5" y="-362.3" font-family="Times,serif" font-size="14.00">index : Any | None</text>
<text text-anchor="start" x="401.5" y="-347.3" font-family="Times,serif" font-size="14.00">metric : str</text>
<text text-anchor="start" x="401.5" y="-332.3" font-family="Times,serif" font-size="14.00">vecs : DenseVecs | None</text>
<polyline fill="none" stroke="black" points="322.5,-324.5 615.5,-324.5 "/>
<text text-anchor="start" x="330.5" y="-309.3" font-family="Times,serif" font-size="14.00">build(): None</text>
<text text-anchor="start" x="330.5" y="-294.3" font-family="Times,serif" font-size="14.00">load_or_build(cpu_index_path: str | None): None</text>
<text text-anchor="start" x="330.5" y="-279.3" font-family="Times,serif" font-size="14.00">search(qvec: VecArray, k: int): list[tuple[str, float]]</text>
</g>
<!-- src.search_api.faiss_adapter.DenseVecs&#45;&gt;src.search_api.faiss_adapter.FaissAdapter -->
<g id="edge4" class="edge">
<title>src.search_api.faiss_adapter.DenseVecs&#45;&gt;src.search_api.faiss_adapter.FaissAdapter</title>
<path fill="none" stroke="black" d="M469,-152.26C469,-181.38 469,-221.68 469,-258.86"/>
<polygon fill="none" stroke="black" points="469,-259.33 473,-265.33 469,-271.33 465,-265.33 469,-259.33"/>
<text text-anchor="middle" x="481.5" y="-241.8" font-family="Times,serif" font-size="14.00" fill="green">vecs</text>
</g>
<!-- src.search_api.fixture_index.FixtureDoc -->
<g id="node6" class="node">
<title>src.search_api.fixture_index.FixtureDoc</title>
<polygon fill="none" stroke="black" points="634,-294 634,-423 726,-423 726,-294 634,-294"/>
<text text-anchor="start" x="649" y="-407.8" font-family="Times,serif" font-size="14.00">FixtureDoc</text>
<polyline fill="none" stroke="black" points="634,-400 726,-400 "/>
<text text-anchor="start" x="642" y="-384.8" font-family="Times,serif" font-size="14.00">chunk_id : str</text>
<text text-anchor="start" x="642" y="-369.8" font-family="Times,serif" font-size="14.00">doc_id : str</text>
<text text-anchor="start" x="642" y="-354.8" font-family="Times,serif" font-size="14.00">section : str</text>
<text text-anchor="start" x="642" y="-339.8" font-family="Times,serif" font-size="14.00">text : str</text>
<text text-anchor="start" x="642" y="-324.8" font-family="Times,serif" font-size="14.00">title : str</text>
<polyline fill="none" stroke="black" points="634,-317 726,-317 "/>
<text text-anchor="start" x="678" y="-301.8" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- src.search_api.fixture_index.FixtureIndex -->
<g id="node7" class="node">
<title>src.search_api.fixture_index.FixtureIndex</title>
<polygon fill="none" stroke="black" points="548.5,-30.5 548.5,-189.5 811.5,-189.5 811.5,-30.5 548.5,-30.5"/>
<text text-anchor="start" x="645" y="-174.3" font-family="Times,serif" font-size="14.00">FixtureIndex</text>
<polyline fill="none" stroke="black" points="548.5,-166.5 811.5,-166.5 "/>
<text text-anchor="start" x="618" y="-151.3" font-family="Times,serif" font-size="14.00">N : int</text>
<text text-anchor="start" x="618" y="-136.3" font-family="Times,serif" font-size="14.00">db_path : str</text>
<text text-anchor="start" x="618" y="-121.3" font-family="Times,serif" font-size="14.00">df : dict[str, int]</text>
<text text-anchor="start" x="618" y="-106.3" font-family="Times,serif" font-size="14.00">docs : list[FixtureDoc]</text>
<text text-anchor="start" x="618" y="-91.3" font-family="Times,serif" font-size="14.00">root : Path</text>
<text text-anchor="start" x="618" y="-76.3" font-family="Times,serif" font-size="14.00">tf : list[dict[str, int]]</text>
<polyline fill="none" stroke="black" points="548.5,-68.5 811.5,-68.5 "/>
<text text-anchor="start" x="556.5" y="-53.3" font-family="Times,serif" font-size="14.00">doc(index: int): FixtureDoc</text>
<text text-anchor="start" x="556.5" y="-38.3" font-family="Times,serif" font-size="14.00">search(query: str, k: int): list[tuple[int, float]]</text>
</g>
<!-- src.search_api.fixture_index.FixtureIndex&#45;&gt;src.search_api.fixture_index.FixtureDoc -->
<g id="edge2" class="edge">
<title>src.search_api.fixture_index.FixtureIndex&#45;&gt;src.search_api.fixture_index.FixtureDoc</title>
<path fill="none" stroke="black" d="M680,-189.67C680,-219.79 680,-254.02 680,-283.68"/>
<polygon fill="black" stroke="black" points="680,-293.96 675.5,-283.96 680,-288.96 680,-283.96 680,-283.96 680,-283.96 680,-288.96 684.5,-283.96 680,-293.96 680,-293.96"/>
<text text-anchor="middle" x="692.5" y="-241.8" font-family="Times,serif" font-size="14.00" fill="green">docs</text>
</g>
<!-- src.search_api.schemas.SearchRequest -->
<g id="node8" class="node">
<title>src.search_api.schemas.SearchRequest</title>
<polygon fill="none" stroke="black" points="830,-53 830,-167 1012,-167 1012,-53 830,-53"/>
<text text-anchor="start" x="880.5" y="-151.8" font-family="Times,serif" font-size="14.00">SearchRequest</text>
<polyline fill="none" stroke="black" points="830,-144 1012,-144 "/>
<text text-anchor="start" x="838" y="-128.8" font-family="Times,serif" font-size="14.00">explain : bool</text>
<text text-anchor="start" x="838" y="-113.8" font-family="Times,serif" font-size="14.00">filters : dict[str, object] | None</text>
<text text-anchor="start" x="838" y="-98.8" font-family="Times,serif" font-size="14.00">k : int</text>
<text text-anchor="start" x="838" y="-83.8" font-family="Times,serif" font-size="14.00">query : Optional[str]</text>
<polyline fill="none" stroke="black" points="830,-76 1012,-76 "/>
<text text-anchor="start" x="919" y="-60.8" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- src.search_api.schemas.SearchResult -->
<g id="node9" class="node">
<title>src.search_api.schemas.SearchResult</title>
<polygon fill="none" stroke="black" points="1030,-23 1030,-197 1194,-197 1194,-23 1030,-23"/>
<text text-anchor="start" x="1076" y="-181.8" font-family="Times,serif" font-size="14.00">SearchResult</text>
<polyline fill="none" stroke="black" points="1030,-174 1194,-174 "/>
<text text-anchor="start" x="1038" y="-158.8" font-family="Times,serif" font-size="14.00">chunk_id : str</text>
<text text-anchor="start" x="1038" y="-143.8" font-family="Times,serif" font-size="14.00">concepts : list[dict[str, str]]</text>
<text text-anchor="start" x="1038" y="-128.8" font-family="Times,serif" font-size="14.00">doc_id : str</text>
<text text-anchor="start" x="1038" y="-113.8" font-family="Times,serif" font-size="14.00">score : float</text>
<text text-anchor="start" x="1038" y="-98.8" font-family="Times,serif" font-size="14.00">section : str</text>
<text text-anchor="start" x="1038" y="-83.8" font-family="Times,serif" font-size="14.00">signals : dict[str, float]</text>
<text text-anchor="start" x="1038" y="-68.8" font-family="Times,serif" font-size="14.00">spans : dict[str, int]</text>
<text text-anchor="start" x="1038" y="-53.8" font-family="Times,serif" font-size="14.00">title : str</text>
<polyline fill="none" stroke="black" points="1030,-46 1194,-46 "/>
<text text-anchor="start" x="1110" y="-30.8" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- src.search_api.splade_index.SpladeDoc -->
<g id="node10" class="node">
<title>src.search_api.splade_index.SpladeDoc</title>
<polygon fill="none" stroke="black" points="1298,-301.5 1298,-415.5 1390,-415.5 1390,-301.5 1298,-301.5"/>
<text text-anchor="start" x="1314" y="-400.3" font-family="Times,serif" font-size="14.00">SpladeDoc</text>
<polyline fill="none" stroke="black" points="1298,-392.5 1390,-392.5 "/>
<text text-anchor="start" x="1306" y="-377.3" font-family="Times,serif" font-size="14.00">chunk_id : str</text>
<text text-anchor="start" x="1306" y="-362.3" font-family="Times,serif" font-size="14.00">doc_id : str</text>
<text text-anchor="start" x="1306" y="-347.3" font-family="Times,serif" font-size="14.00">section : str</text>
<text text-anchor="start" x="1306" y="-332.3" font-family="Times,serif" font-size="14.00">text : str</text>
<polyline fill="none" stroke="black" points="1298,-324.5 1390,-324.5 "/>
<text text-anchor="start" x="1342" y="-309.3" font-family="Times,serif" font-size="14.00"> </text>
</g>
<!-- src.search_api.splade_index.SpladeIndex -->
<g id="node11" class="node">
<title>src.search_api.splade_index.SpladeIndex</title>
<polygon fill="none" stroke="black" points="1212.5,-45.5 1212.5,-174.5 1475.5,-174.5 1475.5,-45.5 1212.5,-45.5"/>
<text text-anchor="start" x="1310" y="-159.3" font-family="Times,serif" font-size="14.00">SpladeIndex</text>
<polyline fill="none" stroke="black" points="1212.5,-151.5 1475.5,-151.5 "/>
<text text-anchor="start" x="1283.5" y="-136.3" font-family="Times,serif" font-size="14.00">N : int</text>
<text text-anchor="start" x="1283.5" y="-121.3" font-family="Times,serif" font-size="14.00">db_path : str</text>
<text text-anchor="start" x="1283.5" y="-106.3" font-family="Times,serif" font-size="14.00">df : dict[str, int]</text>
<text text-anchor="start" x="1283.5" y="-91.3" font-family="Times,serif" font-size="14.00">docs : list[SpladeDoc]</text>
<polyline fill="none" stroke="black" points="1212.5,-83.5 1475.5,-83.5 "/>
<text text-anchor="start" x="1220.5" y="-68.3" font-family="Times,serif" font-size="14.00">doc(index: int): SpladeDoc</text>
<text text-anchor="start" x="1220.5" y="-53.3" font-family="Times,serif" font-size="14.00">search(query: str, k: int): list[tuple[int, float]]</text>
</g>
<!-- src.search_api.splade_index.SpladeIndex&#45;&gt;src.search_api.splade_index.SpladeDoc -->
<g id="edge3" class="edge">
<title>src.search_api.splade_index.SpladeIndex&#45;&gt;src.search_api.splade_index.SpladeDoc</title>
<path fill="none" stroke="black" d="M1344,-174.8C1344,-210.37 1344,-254.64 1344,-290.69"/>
<polygon fill="black" stroke="black" points="1344,-301.11 1339.5,-291.11 1344,-296.11 1344,-291.11 1344,-291.11 1344,-291.11 1344,-296.11 1348.5,-291.11 1344,-301.11 1344,-301.11"/>
<text text-anchor="middle" x="1356.5" y="-241.8" font-family="Times,serif" font-size="14.00" fill="green">docs</text>
</g>
</g>
</svg>
