{"path": "app/middleware.py", "node_id": "aefea1578bcb45ac2f1b03fdfa6bb7a6", "kind": "Module", "name": "", "span": {"start": [1, 0], "end": [332, 0]}, "text_preview": "\"\"\"Session management middleware for CodeIntel MCP.", "parents": ["Module"], "scope": "Global", "qnames": [], "doc": {"module": "Session management middleware for CodeIntel MCP."}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c0d1a16ed43b78ca6adb5f14d9734e6d", "kind": "ImportFrom", "name": "annotations", "span": {"start": [52, 0], "end": [52, 34]}, "text_preview": "from __future__ import annotations", "parents": ["Module", "SimpleStatementLine", "ImportFrom:annotations"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "__future__", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c44f5580433bc673f43a58f005b490cf", "kind": "Name", "name": "__future__", "span": {"start": [52, 5], "end": [52, 15]}, "text_preview": "from __future__ import annotations", "parents": ["Module", "SimpleStatementLine", "ImportFrom:annotations", "Name:__future__"], "scope": null, "qnames": [], "is_public": false, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b30dbd6b75c285edee91592dc61be414", "kind": "Name", "name": "annotations", "span": {"start": [52, 23], "end": [52, 34]}, "text_preview": "from __future__ import annotations", "parents": ["Module", "SimpleStatementLine", "ImportFrom:annotations", "ImportAlias", "Name:annotations"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2d5603e09a693cfafa045275c33be400", "kind": "Import", "name": "time", "span": {"start": [54, 0], "end": [54, 11]}, "text_preview": "import time", "parents": ["Module", "SimpleStatementLine", "Import:time"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": null, "names": ["time"], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e9f3216655c9ebf0ee55eab9fbcda41d", "kind": "Name", "name": "time", "span": {"start": [54, 7], "end": [54, 11]}, "text_preview": "import time", "parents": ["Module", "SimpleStatementLine", "Import:time", "ImportAlias", "Name:time"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f828412378a72da471916bbe6d92fdca", "kind": "Import", "name": "uuid", "span": {"start": [55, 0], "end": [55, 11]}, "text_preview": "import uuid", "parents": ["Module", "SimpleStatementLine", "Import:uuid"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": null, "names": ["uuid"], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2d97a5f79ab5541896c01b9b9fc239b3", "kind": "Name", "name": "uuid", "span": {"start": [55, 7], "end": [55, 11]}, "text_preview": "import uuid", "parents": ["Module", "SimpleStatementLine", "Import:uuid", "ImportAlias", "Name:uuid"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "019abdc5fbe4fb9024cb0b9a13ed01b4", "kind": "ImportFrom", "name": "UTC", "span": {"start": [56, 0], "end": [56, 34]}, "text_preview": "from datetime import UTC, datetime", "parents": ["Module", "SimpleStatementLine", "ImportFrom:UTC"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "datetime", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2411d06153b2ce9a3c9d997c5b81af84", "kind": "Name", "name": "datetime", "span": {"start": [56, 5], "end": [56, 13]}, "text_preview": "from datetime import UTC, datetime", "parents": ["Module", "SimpleStatementLine", "ImportFrom:UTC", "Name:datetime"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "09b3d488b5140732eb04068f60de7d32", "kind": "Name", "name": "UTC", "span": {"start": [56, 21], "end": [56, 24]}, "text_preview": "from datetime import UTC, datetime", "parents": ["Module", "SimpleStatementLine", "ImportFrom:UTC", "ImportAlias", "Name:UTC"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a26a66ac428e11ef8f640fb7d57ffa8f", "kind": "Name", "name": "datetime", "span": {"start": [56, 26], "end": [56, 34]}, "text_preview": "from datetime import UTC, datetime", "parents": ["Module", "SimpleStatementLine", "ImportFrom:UTC", "ImportAlias", "Name:datetime"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "00e12bd361a027285e6bc0136924a03a", "kind": "ImportFrom", "name": "Path", "span": {"start": [57, 0], "end": [57, 24]}, "text_preview": "from pathlib import Path", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Path"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "pathlib", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0a28ab4f78b9fad0f9854217760de881", "kind": "Name", "name": "pathlib", "span": {"start": [57, 5], "end": [57, 12]}, "text_preview": "from pathlib import Path", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Path", "Name:pathlib"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7e954ee9eb552b98e0bdeaab757bed56", "kind": "Name", "name": "Path", "span": {"start": [57, 20], "end": [57, 24]}, "text_preview": "from pathlib import Path", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Path", "ImportAlias", "Name:Path"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6ceecb21ca778f8b64f398e167998e90", "kind": "ImportFrom", "name": "TYPE_CHECKING", "span": {"start": [58, 0], "end": [58, 32]}, "text_preview": "from typing import TYPE_CHECKING", "parents": ["Module", "SimpleStatementLine", "ImportFrom:TYPE_CHECKING"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "typing", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1101046f25d970c94cb7361081ff085e", "kind": "Name", "name": "typing", "span": {"start": [58, 5], "end": [58, 11]}, "text_preview": "from typing import TYPE_CHECKING", "parents": ["Module", "SimpleStatementLine", "ImportFrom:TYPE_CHECKING", "Name:typing"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "54b2769e5a618342b9d4a32249ae8852", "kind": "Name", "name": "TYPE_CHECKING", "span": {"start": [58, 19], "end": [58, 32]}, "text_preview": "from typing import TYPE_CHECKING", "parents": ["Module", "SimpleStatementLine", "ImportFrom:TYPE_CHECKING", "ImportAlias", "Name:TYPE_CHECKING"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9f88bdd7674e54248ee1e55e80825bde", "kind": "ImportFrom", "name": "BaseHTTPMiddleware", "span": {"start": [60, 0], "end": [60, 74]}, "text_preview": "from starlette.middleware.base import BaseHTTPMiddleware, DispatchFunction", "parents": ["Module", "SimpleStatementLine", "ImportFrom:BaseHTTPMiddleware"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "starlette.middleware.base", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "58ffbb2f8eb36d505625d46bca59a39b", "kind": "Attribute", "name": "base", "span": {"start": [60, 5], "end": [60, 30]}, "text_preview": "from starlette.middleware.base import BaseHTTPMiddleware, DispatchFunction", "parents": ["Module", "SimpleStatementLine", "ImportFrom:BaseHTTPMiddleware", "Attribute:base"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "34f9c3a00706787760a6be60b2c2b73f", "kind": "Attribute", "name": "middleware", "span": {"start": [60, 5], "end": [60, 25]}, "text_preview": "from starlette.middleware.base import BaseHTTPMiddleware, DispatchFunction", "parents": ["Module", "SimpleStatementLine", "ImportFrom:BaseHTTPMiddleware", "Attribute:base", "Attribute:middleware"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c314712672cd4dadc47678992b5fff14", "kind": "Name", "name": "starlette", "span": {"start": [60, 5], "end": [60, 14]}, "text_preview": "from starlette.middleware.base import BaseHTTPMiddleware, DispatchFunction", "parents": ["Module", "SimpleStatementLine", "ImportFrom:BaseHTTPMiddleware", "Attribute:base", "Attribute:middleware", "Name:starlette"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b3b06a62559f315bb09bfea90b87698a", "kind": "Name", "name": "middleware", "span": {"start": [60, 15], "end": [60, 25]}, "text_preview": "from starlette.middleware.base import BaseHTTPMiddleware, DispatchFunction", "parents": ["Module", "SimpleStatementLine", "ImportFrom:BaseHTTPMiddleware", "Attribute:base", "Attribute:middleware", "Name:middleware"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6fada5ca51b36bfb4ddfd3672c832396", "kind": "Name", "name": "base", "span": {"start": [60, 26], "end": [60, 30]}, "text_preview": "from starlette.middleware.base import BaseHTTPMiddleware, DispatchFunction", "parents": ["Module", "SimpleStatementLine", "ImportFrom:BaseHTTPMiddleware", "Attribute:base", "Name:base"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fe8af7701d7e21d43192f291a82d23db", "kind": "Name", "name": "BaseHTTPMiddleware", "span": {"start": [60, 38], "end": [60, 56]}, "text_preview": "from starlette.middleware.base import BaseHTTPMiddleware, DispatchFunction", "parents": ["Module", "SimpleStatementLine", "ImportFrom:BaseHTTPMiddleware", "ImportAlias", "Name:BaseHTTPMiddleware"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c73fabbf6f731cbf43ef4228d5b14a9e", "kind": "Name", "name": "DispatchFunction", "span": {"start": [60, 58], "end": [60, 74]}, "text_preview": "from starlette.middleware.base import BaseHTTPMiddleware, DispatchFunction", "parents": ["Module", "SimpleStatementLine", "ImportFrom:BaseHTTPMiddleware", "ImportAlias", "Name:DispatchFunction"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f21c9a3a07cab18f32360fecd4f11a74", "kind": "ImportFrom", "name": "ASGIApp", "span": {"start": [61, 0], "end": [61, 35]}, "text_preview": "from starlette.types import ASGIApp", "parents": ["Module", "SimpleStatementLine", "ImportFrom:ASGIApp"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "starlette.types", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6b06eccf02d7faee903163dca5b56282", "kind": "Attribute", "name": "types", "span": {"start": [61, 5], "end": [61, 20]}, "text_preview": "from starlette.types import ASGIApp", "parents": ["Module", "SimpleStatementLine", "ImportFrom:ASGIApp", "Attribute:types"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d2b25b29d9fb86330420fccf76a8b5a9", "kind": "Name", "name": "starlette", "span": {"start": [61, 5], "end": [61, 14]}, "text_preview": "from starlette.types import ASGIApp", "parents": ["Module", "SimpleStatementLine", "ImportFrom:ASGIApp", "Attribute:types", "Name:starlette"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e18b9daf54a53187b505e92b689b8d06", "kind": "Name", "name": "types", "span": {"start": [61, 15], "end": [61, 20]}, "text_preview": "from starlette.types import ASGIApp", "parents": ["Module", "SimpleStatementLine", "ImportFrom:ASGIApp", "Attribute:types", "Name:types"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "85ad13192c6fc374bc8d40004dede0ec", "kind": "Name", "name": "ASGIApp", "span": {"start": [61, 28], "end": [61, 35]}, "text_preview": "from starlette.types import ASGIApp", "parents": ["Module", "SimpleStatementLine", "ImportFrom:ASGIApp", "ImportAlias", "Name:ASGIApp"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6368ccc0d1a6b93addb6079b413eb52f", "kind": "ImportFrom", "name": "RunLedger", "span": {"start": [63, 0], "end": [63, 71]}, "text_preview": "from codeintel_rev.observability.ledger import RunLedger, dated_run_dir", "parents": ["Module", "SimpleStatementLine", "ImportFrom:RunLedger"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "codeintel_rev.observability.ledger", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2acbc046cbbf52f42a81648ea9747158", "kind": "Attribute", "name": "ledger", "span": {"start": [63, 5], "end": [63, 39]}, "text_preview": "from codeintel_rev.observability.ledger import RunLedger, dated_run_dir", "parents": ["Module", "SimpleStatementLine", "ImportFrom:RunLedger", "Attribute:ledger"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f35621c7d2dae4b09d60335bbff6f355", "kind": "Attribute", "name": "observability", "span": {"start": [63, 5], "end": [63, 32]}, "text_preview": "from codeintel_rev.observability.ledger import RunLedger, dated_run_dir", "parents": ["Module", "SimpleStatementLine", "ImportFrom:RunLedger", "Attribute:ledger", "Attribute:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "65543e02b40f9ac2159f18df7b906599", "kind": "Name", "name": "codeintel_rev", "span": {"start": [63, 5], "end": [63, 18]}, "text_preview": "from codeintel_rev.observability.ledger import RunLedger, dated_run_dir", "parents": ["Module", "SimpleStatementLine", "ImportFrom:RunLedger", "Attribute:ledger", "Attribute:observability", "Name:codeintel_rev"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "291171885a9837b647a59fede67da887", "kind": "Name", "name": "observability", "span": {"start": [63, 19], "end": [63, 32]}, "text_preview": "from codeintel_rev.observability.ledger import RunLedger, dated_run_dir", "parents": ["Module", "SimpleStatementLine", "ImportFrom:RunLedger", "Attribute:ledger", "Attribute:observability", "Name:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2c8938888fb7c4f6080306efb37e5efe", "kind": "Name", "name": "ledger", "span": {"start": [63, 33], "end": [63, 39]}, "text_preview": "from codeintel_rev.observability.ledger import RunLedger, dated_run_dir", "parents": ["Module", "SimpleStatementLine", "ImportFrom:RunLedger", "Attribute:ledger", "Name:ledger"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2f1788e74783f709617bb6ea0d57bc56", "kind": "Name", "name": "RunLedger", "span": {"start": [63, 47], "end": [63, 56]}, "text_preview": "from codeintel_rev.observability.ledger import RunLedger, dated_run_dir", "parents": ["Module", "SimpleStatementLine", "ImportFrom:RunLedger", "ImportAlias", "Name:RunLedger"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "819677688b01074faf1d74d35584b0f7", "kind": "Name", "name": "dated_run_dir", "span": {"start": [63, 58], "end": [63, 71]}, "text_preview": "from codeintel_rev.observability.ledger import RunLedger, dated_run_dir", "parents": ["Module", "SimpleStatementLine", "ImportFrom:RunLedger", "ImportAlias", "Name:dated_run_dir"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a71d8da77f0eaf7cb15608da3beb173c", "kind": "ImportFrom", "name": "current_trace_id", "span": {"start": [64, 0], "end": [64, 85]}, "text_preview": "from codeintel_rev.observability.otel import current_trace_id, set_current_span_attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:current_trace_id"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "codeintel_rev.observability.otel", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ef0a16f8958667b34e938a895871ecee", "kind": "Attribute", "name": "otel", "span": {"start": [64, 5], "end": [64, 37]}, "text_preview": "from codeintel_rev.observability.otel import current_trace_id, set_current_span_attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:current_trace_id", "Attribute:otel"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b558836a066f81b2a7059cb66427f050", "kind": "Attribute", "name": "observability", "span": {"start": [64, 5], "end": [64, 32]}, "text_preview": "from codeintel_rev.observability.otel import current_trace_id, set_current_span_attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:current_trace_id", "Attribute:otel", "Attribute:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "23d9c37cc20f4154495f8f0d6e6de302", "kind": "Name", "name": "codeintel_rev", "span": {"start": [64, 5], "end": [64, 18]}, "text_preview": "from codeintel_rev.observability.otel import current_trace_id, set_current_span_attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:current_trace_id", "Attribute:otel", "Attribute:observability", "Name:codeintel_rev"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "282d657828595034d502d11d34c422ec", "kind": "Name", "name": "observability", "span": {"start": [64, 19], "end": [64, 32]}, "text_preview": "from codeintel_rev.observability.otel import current_trace_id, set_current_span_attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:current_trace_id", "Attribute:otel", "Attribute:observability", "Name:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fb0eb2ea6e9e978f13d2e256de73c0b7", "kind": "Name", "name": "otel", "span": {"start": [64, 33], "end": [64, 37]}, "text_preview": "from codeintel_rev.observability.otel import current_trace_id, set_current_span_attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:current_trace_id", "Attribute:otel", "Name:otel"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "326092a3ed66e4c6b875d8943660fa03", "kind": "Name", "name": "current_trace_id", "span": {"start": [64, 45], "end": [64, 61]}, "text_preview": "from codeintel_rev.observability.otel import current_trace_id, set_current_span_attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:current_trace_id", "ImportAlias", "Name:current_trace_id"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1269db0d79c38dfebb8abd97c0ac478d", "kind": "Name", "name": "set_current_span_attrs", "span": {"start": [64, 63], "end": [64, 85]}, "text_preview": "from codeintel_rev.observability.otel import current_trace_id, set_current_span_attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:current_trace_id", "ImportAlias", "Name:set_current_span_attrs"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6cda014c10807cc82c07aa3b4e56a02c", "kind": "ImportFrom", "name": "bind_run_ledger", "span": {"start": [65, 0], "end": [65, 72]}, "text_preview": "from codeintel_rev.observability.runtime_observer import bind_run_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_run_ledger"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "codeintel_rev.observability.runtime_observer", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d9a74ae6c9dcb13ae45fa7636de3edfb", "kind": "Attribute", "name": "runtime_observer", "span": {"start": [65, 5], "end": [65, 49]}, "text_preview": "from codeintel_rev.observability.runtime_observer import bind_run_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_run_ledger", "Attribute:runtime_observer"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d90b4a0001faa16b6f794c41c1c51576", "kind": "Attribute", "name": "observability", "span": {"start": [65, 5], "end": [65, 32]}, "text_preview": "from codeintel_rev.observability.runtime_observer import bind_run_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_run_ledger", "Attribute:runtime_observer", "Attribute:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "edba119b735d96576f0a705be38bd089", "kind": "Name", "name": "codeintel_rev", "span": {"start": [65, 5], "end": [65, 18]}, "text_preview": "from codeintel_rev.observability.runtime_observer import bind_run_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_run_ledger", "Attribute:runtime_observer", "Attribute:observability", "Name:codeintel_rev"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7328d03224c59e3e05f56c9cd56d559b", "kind": "Name", "name": "observability", "span": {"start": [65, 19], "end": [65, 32]}, "text_preview": "from codeintel_rev.observability.runtime_observer import bind_run_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_run_ledger", "Attribute:runtime_observer", "Attribute:observability", "Name:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "30f5315f20456409232ba05a84146504", "kind": "Name", "name": "runtime_observer", "span": {"start": [65, 33], "end": [65, 49]}, "text_preview": "from codeintel_rev.observability.runtime_observer import bind_run_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_run_ledger", "Attribute:runtime_observer", "Name:runtime_observer"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "278bb5d4bde902cd327d861b40785c5e", "kind": "Name", "name": "bind_run_ledger", "span": {"start": [65, 57], "end": [65, 72]}, "text_preview": "from codeintel_rev.observability.runtime_observer import bind_run_ledger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_run_ledger", "ImportAlias", "Name:bind_run_ledger"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f0a1f341d6946331bb9c2b5bea0b2876", "kind": "ImportFrom", "name": "Attrs", "span": {"start": [66, 0], "end": [66, 66]}, "text_preview": "from codeintel_rev.observability.semantic_conventions import Attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Attrs"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "codeintel_rev.observability.semantic_conventions", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ab42e1ba73a3d1177f0176eaf7277fa7", "kind": "Attribute", "name": "semantic_conventions", "span": {"start": [66, 5], "end": [66, 53]}, "text_preview": "from codeintel_rev.observability.semantic_conventions import Attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Attrs", "Attribute:semantic_conventions"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f1a58542a9cea2dd59d6521cc0026473", "kind": "Attribute", "name": "observability", "span": {"start": [66, 5], "end": [66, 32]}, "text_preview": "from codeintel_rev.observability.semantic_conventions import Attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Attrs", "Attribute:semantic_conventions", "Attribute:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6b5fc4c51407ffa929ec79ef97ee968a", "kind": "Name", "name": "codeintel_rev", "span": {"start": [66, 5], "end": [66, 18]}, "text_preview": "from codeintel_rev.observability.semantic_conventions import Attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Attrs", "Attribute:semantic_conventions", "Attribute:observability", "Name:codeintel_rev"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "79c9cf21192c13a061a286f0cc7e266a", "kind": "Name", "name": "observability", "span": {"start": [66, 19], "end": [66, 32]}, "text_preview": "from codeintel_rev.observability.semantic_conventions import Attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Attrs", "Attribute:semantic_conventions", "Attribute:observability", "Name:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d3a37bd2659f895557cc2d72726de0e9", "kind": "Name", "name": "semantic_conventions", "span": {"start": [66, 33], "end": [66, 53]}, "text_preview": "from codeintel_rev.observability.semantic_conventions import Attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Attrs", "Attribute:semantic_conventions", "Name:semantic_conventions"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3caa1ef7241dbf38dad0b797770321ef", "kind": "Name", "name": "Attrs", "span": {"start": [66, 61], "end": [66, 66]}, "text_preview": "from codeintel_rev.observability.semantic_conventions import Attrs", "parents": ["Module", "SimpleStatementLine", "ImportFrom:Attrs", "ImportAlias", "Name:Attrs"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b33a636ce5f4abdaefbe512ecc8e93cf", "kind": "ImportFrom", "name": "bind_timeline", "span": {"start": [67, 0], "end": [67, 76]}, "text_preview": "from codeintel_rev.observability.timeline import bind_timeline, new_timeline", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_timeline"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "codeintel_rev.observability.timeline", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b2fca341d52e9b3bb80641dd9939ae9f", "kind": "Attribute", "name": "timeline", "span": {"start": [67, 5], "end": [67, 41]}, "text_preview": "from codeintel_rev.observability.timeline import bind_timeline, new_timeline", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_timeline", "Attribute:timeline"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "798426f825c9a6cba4fe880585220560", "kind": "Attribute", "name": "observability", "span": {"start": [67, 5], "end": [67, 32]}, "text_preview": "from codeintel_rev.observability.timeline import bind_timeline, new_timeline", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_timeline", "Attribute:timeline", "Attribute:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "543b58601f814e251a8c68e466a20e47", "kind": "Name", "name": "codeintel_rev", "span": {"start": [67, 5], "end": [67, 18]}, "text_preview": "from codeintel_rev.observability.timeline import bind_timeline, new_timeline", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_timeline", "Attribute:timeline", "Attribute:observability", "Name:codeintel_rev"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "270fa29ff6f55a06133b56df5fd08856", "kind": "Name", "name": "observability", "span": {"start": [67, 19], "end": [67, 32]}, "text_preview": "from codeintel_rev.observability.timeline import bind_timeline, new_timeline", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_timeline", "Attribute:timeline", "Attribute:observability", "Name:observability"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0ce7134e10c452d8f2b83fe1fc25b0f7", "kind": "Name", "name": "timeline", "span": {"start": [67, 33], "end": [67, 41]}, "text_preview": "from codeintel_rev.observability.timeline import bind_timeline, new_timeline", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_timeline", "Attribute:timeline", "Name:timeline"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d9aca34b2316a0e3df29e1305fedb7e6", "kind": "Name", "name": "bind_timeline", "span": {"start": [67, 49], "end": [67, 62]}, "text_preview": "from codeintel_rev.observability.timeline import bind_timeline, new_timeline", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_timeline", "ImportAlias", "Name:bind_timeline"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3cc19206230cf51909fad5c2d1f5100c", "kind": "Name", "name": "new_timeline", "span": {"start": [67, 64], "end": [67, 76]}, "text_preview": "from codeintel_rev.observability.timeline import bind_timeline, new_timeline", "parents": ["Module", "SimpleStatementLine", "ImportFrom:bind_timeline", "ImportAlias", "Name:new_timeline"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "66f4dbe04265c12cc84b69d9c10635ff", "kind": "ImportFrom", "name": "capability_stamp_var", "span": {"start": [68, 0], "end": [68, 86]}, "text_preview": "from codeintel_rev.runtime.request_context import capability_stamp_var, session_id_var", "parents": ["Module", "SimpleStatementLine", "ImportFrom:capability_stamp_var"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "codeintel_rev.runtime.request_context", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a3d0422fa06eb03ae460187f769d78c9", "kind": "Attribute", "name": "request_context", "span": {"start": [68, 5], "end": [68, 42]}, "text_preview": "from codeintel_rev.runtime.request_context import capability_stamp_var, session_id_var", "parents": ["Module", "SimpleStatementLine", "ImportFrom:capability_stamp_var", "Attribute:request_context"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3b80b7db13414e1b31c034c05984e941", "kind": "Attribute", "name": "runtime", "span": {"start": [68, 5], "end": [68, 26]}, "text_preview": "from codeintel_rev.runtime.request_context import capability_stamp_var, session_id_var", "parents": ["Module", "SimpleStatementLine", "ImportFrom:capability_stamp_var", "Attribute:request_context", "Attribute:runtime"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "542ac5d27520e5301672f44efda05579", "kind": "Name", "name": "codeintel_rev", "span": {"start": [68, 5], "end": [68, 18]}, "text_preview": "from codeintel_rev.runtime.request_context import capability_stamp_var, session_id_var", "parents": ["Module", "SimpleStatementLine", "ImportFrom:capability_stamp_var", "Attribute:request_context", "Attribute:runtime", "Name:codeintel_rev"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8c54c9f4298647925a08d8b3fa447c19", "kind": "Name", "name": "runtime", "span": {"start": [68, 19], "end": [68, 26]}, "text_preview": "from codeintel_rev.runtime.request_context import capability_stamp_var, session_id_var", "parents": ["Module", "SimpleStatementLine", "ImportFrom:capability_stamp_var", "Attribute:request_context", "Attribute:runtime", "Name:runtime"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5e230202b39e5585460d7acd43537a26", "kind": "Name", "name": "request_context", "span": {"start": [68, 27], "end": [68, 42]}, "text_preview": "from codeintel_rev.runtime.request_context import capability_stamp_var, session_id_var", "parents": ["Module", "SimpleStatementLine", "ImportFrom:capability_stamp_var", "Attribute:request_context", "Name:request_context"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d89be709a973dca01cbae49780e318f0", "kind": "Name", "name": "capability_stamp_var", "span": {"start": [68, 50], "end": [68, 70]}, "text_preview": "from codeintel_rev.runtime.request_context import capability_stamp_var, session_id_var", "parents": ["Module", "SimpleStatementLine", "ImportFrom:capability_stamp_var", "ImportAlias", "Name:capability_stamp_var"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0423bd6dc5d9f24e8f88cf4c99df9d74", "kind": "Name", "name": "session_id_var", "span": {"start": [68, 72], "end": [68, 86]}, "text_preview": "from codeintel_rev.runtime.request_context import capability_stamp_var, session_id_var", "parents": ["Module", "SimpleStatementLine", "ImportFrom:capability_stamp_var", "ImportAlias", "Name:session_id_var"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "31fce9ace9c3c6c0c278947021e2d23f", "kind": "ImportFrom", "name": "telemetry_context", "span": {"start": [69, 0], "end": [69, 61]}, "text_preview": "from codeintel_rev.telemetry.context import telemetry_context", "parents": ["Module", "SimpleStatementLine", "ImportFrom:telemetry_context"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "codeintel_rev.telemetry.context", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a770dcc25a66ed62d49e527e5839e267", "kind": "Attribute", "name": "context", "span": {"start": [69, 5], "end": [69, 36]}, "text_preview": "from codeintel_rev.telemetry.context import telemetry_context", "parents": ["Module", "SimpleStatementLine", "ImportFrom:telemetry_context", "Attribute:context"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "126447d679bed40c3113871eb280fb16", "kind": "Attribute", "name": "telemetry", "span": {"start": [69, 5], "end": [69, 28]}, "text_preview": "from codeintel_rev.telemetry.context import telemetry_context", "parents": ["Module", "SimpleStatementLine", "ImportFrom:telemetry_context", "Attribute:context", "Attribute:telemetry"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "feda3a3115e49438b214c68e3d2c1335", "kind": "Name", "name": "codeintel_rev", "span": {"start": [69, 5], "end": [69, 18]}, "text_preview": "from codeintel_rev.telemetry.context import telemetry_context", "parents": ["Module", "SimpleStatementLine", "ImportFrom:telemetry_context", "Attribute:context", "Attribute:telemetry", "Name:codeintel_rev"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e8e8b0096c313a187a261508439e3f9d", "kind": "Name", "name": "telemetry", "span": {"start": [69, 19], "end": [69, 28]}, "text_preview": "from codeintel_rev.telemetry.context import telemetry_context", "parents": ["Module", "SimpleStatementLine", "ImportFrom:telemetry_context", "Attribute:context", "Attribute:telemetry", "Name:telemetry"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d4898851cca934dfd3f395a03b39406c", "kind": "Name", "name": "context", "span": {"start": [69, 29], "end": [69, 36]}, "text_preview": "from codeintel_rev.telemetry.context import telemetry_context", "parents": ["Module", "SimpleStatementLine", "ImportFrom:telemetry_context", "Attribute:context", "Name:context"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fbad5b6e8059ef4640f66611dab131de", "kind": "Name", "name": "telemetry_context", "span": {"start": [69, 44], "end": [69, 61]}, "text_preview": "from codeintel_rev.telemetry.context import telemetry_context", "parents": ["Module", "SimpleStatementLine", "ImportFrom:telemetry_context", "ImportAlias", "Name:telemetry_context"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b9039a8aba11777d1767daf197cd34d7", "kind": "ImportFrom", "name": "start_run", "span": {"start": [70, 0], "end": [70, 54]}, "text_preview": "from codeintel_rev.telemetry.reporter import start_run", "parents": ["Module", "SimpleStatementLine", "ImportFrom:start_run"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "codeintel_rev.telemetry.reporter", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "38f2fbb4a95c948805089e831c666c8e", "kind": "Attribute", "name": "reporter", "span": {"start": [70, 5], "end": [70, 37]}, "text_preview": "from codeintel_rev.telemetry.reporter import start_run", "parents": ["Module", "SimpleStatementLine", "ImportFrom:start_run", "Attribute:reporter"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6c98a184327e0d5d78ba6e5237eac05d", "kind": "Attribute", "name": "telemetry", "span": {"start": [70, 5], "end": [70, 28]}, "text_preview": "from codeintel_rev.telemetry.reporter import start_run", "parents": ["Module", "SimpleStatementLine", "ImportFrom:start_run", "Attribute:reporter", "Attribute:telemetry"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "897cd89dd347c07d70b64dc9783c7398", "kind": "Name", "name": "codeintel_rev", "span": {"start": [70, 5], "end": [70, 18]}, "text_preview": "from codeintel_rev.telemetry.reporter import start_run", "parents": ["Module", "SimpleStatementLine", "ImportFrom:start_run", "Attribute:reporter", "Attribute:telemetry", "Name:codeintel_rev"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "74e5fe43039347fecf7ba7cdb7dbba55", "kind": "Name", "name": "telemetry", "span": {"start": [70, 19], "end": [70, 28]}, "text_preview": "from codeintel_rev.telemetry.reporter import start_run", "parents": ["Module", "SimpleStatementLine", "ImportFrom:start_run", "Attribute:reporter", "Attribute:telemetry", "Name:telemetry"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1fb32260ebf492c7a66c4edc87d249b8", "kind": "Name", "name": "reporter", "span": {"start": [70, 29], "end": [70, 37]}, "text_preview": "from codeintel_rev.telemetry.reporter import start_run", "parents": ["Module", "SimpleStatementLine", "ImportFrom:start_run", "Attribute:reporter", "Name:reporter"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f7b6465303ed828b11362a55ab63f457", "kind": "Name", "name": "start_run", "span": {"start": [70, 45], "end": [70, 54]}, "text_preview": "from codeintel_rev.telemetry.reporter import start_run", "parents": ["Module", "SimpleStatementLine", "ImportFrom:start_run", "ImportAlias", "Name:start_run"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d250c21d67fefb1230a46444a8b638d5", "kind": "ImportFrom", "name": "get_logger", "span": {"start": [71, 0], "end": [71, 47]}, "text_preview": "from kgfoundry_common.logging import get_logger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:get_logger"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "kgfoundry_common.logging", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "95979d6ceb3910215190d45dcc6ff72b", "kind": "Attribute", "name": "logging", "span": {"start": [71, 5], "end": [71, 29]}, "text_preview": "from kgfoundry_common.logging import get_logger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:get_logger", "Attribute:logging"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "410a85260275a5fcd8e1a26169844c1f", "kind": "Name", "name": "kgfoundry_common", "span": {"start": [71, 5], "end": [71, 21]}, "text_preview": "from kgfoundry_common.logging import get_logger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:get_logger", "Attribute:logging", "Name:kgfoundry_common"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "81f36e632187b4778482d7e1d529003b", "kind": "Name", "name": "logging", "span": {"start": [71, 22], "end": [71, 29]}, "text_preview": "from kgfoundry_common.logging import get_logger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:get_logger", "Attribute:logging", "Name:logging"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b311e37501bde3c94f95b65b568e2116", "kind": "Name", "name": "get_logger", "span": {"start": [71, 37], "end": [71, 47]}, "text_preview": "from kgfoundry_common.logging import get_logger", "parents": ["Module", "SimpleStatementLine", "ImportFrom:get_logger", "ImportAlias", "Name:get_logger"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "699d7fa8679af68f56cacaf408d46dc3", "kind": "If", "name": "", "span": {"start": [73, 0], "end": [77, 44]}, "text_preview": "if TYPE_CHECKING:", "parents": ["Module", "If"], "scope": "Global", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9effed9489a3ad767247117aa9f8fd08", "kind": "Name", "name": "TYPE_CHECKING", "span": {"start": [73, 3], "end": [73, 16]}, "text_preview": "if TYPE_CHECKING:", "parents": ["Module", "If", "Name:TYPE_CHECKING"], "scope": "Global", "qnames": ["typing.TYPE_CHECKING"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4650b1eda25a3a1bd529217d97152c71", "kind": "ImportFrom", "name": "Awaitable", "span": {"start": [74, 4], "end": [74, 51]}, "text_preview": "from collections.abc import Awaitable, Callable", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Awaitable"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "collections.abc", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0521738979bab442c00f5f2dc368003b", "kind": "Attribute", "name": "abc", "span": {"start": [74, 9], "end": [74, 24]}, "text_preview": "from collections.abc import Awaitable, Callable", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Awaitable", "Attribute:abc"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4033cebdfa61040457ff8ba8d4899b9e", "kind": "Name", "name": "collections", "span": {"start": [74, 9], "end": [74, 20]}, "text_preview": "from collections.abc import Awaitable, Callable", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Awaitable", "Attribute:abc", "Name:collections"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f3e8ab9eea14806d3042984dcd590df7", "kind": "Name", "name": "abc", "span": {"start": [74, 21], "end": [74, 24]}, "text_preview": "from collections.abc import Awaitable, Callable", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Awaitable", "Attribute:abc", "Name:abc"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9331bc075221c4795c9f4e367bf2ead1", "kind": "Name", "name": "Awaitable", "span": {"start": [74, 32], "end": [74, 41]}, "text_preview": "from collections.abc import Awaitable, Callable", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Awaitable", "ImportAlias", "Name:Awaitable"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7755eb7cd15de0c52093314fd5ca9dcd", "kind": "Name", "name": "Callable", "span": {"start": [74, 43], "end": [74, 51]}, "text_preview": "from collections.abc import Awaitable, Callable", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Awaitable", "ImportAlias", "Name:Callable"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ee20795ac1575d58c684c453cfbf11f1", "kind": "ImportFrom", "name": "Request", "span": {"start": [76, 4], "end": [76, 42]}, "text_preview": "from starlette.requests import Request", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Request"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "starlette.requests", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2f7103c19ccc0adf37b544f09b296b19", "kind": "Attribute", "name": "requests", "span": {"start": [76, 9], "end": [76, 27]}, "text_preview": "from starlette.requests import Request", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Request", "Attribute:requests"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ec60920b67dda90215a029ac4c62b4be", "kind": "Name", "name": "starlette", "span": {"start": [76, 9], "end": [76, 18]}, "text_preview": "from starlette.requests import Request", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Request", "Attribute:requests", "Name:starlette"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "21e9b367c548d50de6e81178fd020e96", "kind": "Name", "name": "requests", "span": {"start": [76, 19], "end": [76, 27]}, "text_preview": "from starlette.requests import Request", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Request", "Attribute:requests", "Name:requests"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a1cd01516c5c8524797fbbf50fcfd504", "kind": "Name", "name": "Request", "span": {"start": [76, 35], "end": [76, 42]}, "text_preview": "from starlette.requests import Request", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Request", "ImportAlias", "Name:Request"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "42b84060c30d5b03549237ba5465a560", "kind": "ImportFrom", "name": "Response", "span": {"start": [77, 4], "end": [77, 44]}, "text_preview": "from starlette.responses import Response", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Response"], "scope": "Global", "qnames": [], "is_public": true, "imports": {"module": "starlette.responses", "names": [], "aliases": {}, "is_star": false, "level": 0}, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "18a37cee51288e0402036196b5daae32", "kind": "Attribute", "name": "responses", "span": {"start": [77, 9], "end": [77, 28]}, "text_preview": "from starlette.responses import Response", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Response", "Attribute:responses"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a29acec112c1850abce4198dcc08dcfb", "kind": "Name", "name": "starlette", "span": {"start": [77, 9], "end": [77, 18]}, "text_preview": "from starlette.responses import Response", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Response", "Attribute:responses", "Name:starlette"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0b33f9f57ca4f1b6fa285f68044babcf", "kind": "Name", "name": "responses", "span": {"start": [77, 19], "end": [77, 28]}, "text_preview": "from starlette.responses import Response", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Response", "Attribute:responses", "Name:responses"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8ea55d67b9526a846935374f0541b05d", "kind": "Name", "name": "Response", "span": {"start": [77, 36], "end": [77, 44]}, "text_preview": "from starlette.responses import Response", "parents": ["Module", "If", "IndentedBlock", "SimpleStatementLine", "ImportFrom:Response", "ImportAlias", "Name:Response"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ced54185b6b2127261ed2c8705787b3b", "kind": "Assign", "name": "LOGGER", "span": {"start": [79, 0], "end": [79, 29]}, "text_preview": "LOGGER = get_logger(__name__)", "parents": ["Module", "SimpleStatementLine", "Assign:LOGGER"], "scope": "Global", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4232857f5e59b876c49b4f0ed99ca94e", "kind": "Name", "name": "LOGGER", "span": {"start": [79, 0], "end": [79, 6]}, "text_preview": "LOGGER = get_logger(__name__)", "parents": ["Module", "SimpleStatementLine", "Assign:LOGGER", "AssignTarget", "Name:LOGGER"], "scope": "Global", "qnames": ["LOGGER", "app.middleware.LOGGER"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "89dcd7182c192e065b7e6fb523cb6dd6", "kind": "Call", "name": "get_logger", "span": {"start": [79, 9], "end": [79, 29]}, "text_preview": "LOGGER = get_logger(__name__)", "parents": ["Module", "SimpleStatementLine", "Assign:LOGGER", "Call:get_logger"], "scope": "Global", "qnames": ["kgfoundry_common.logging.get_logger"], "is_public": true, "call_target_qnames": ["kgfoundry_common.logging.get_logger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c0f96d0773d5b0c36308363517ae0a8b", "kind": "Name", "name": "get_logger", "span": {"start": [79, 9], "end": [79, 19]}, "text_preview": "LOGGER = get_logger(__name__)", "parents": ["Module", "SimpleStatementLine", "Assign:LOGGER", "Call:get_logger", "Name:get_logger"], "scope": "Global", "qnames": ["kgfoundry_common.logging.get_logger"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ac0eeeedbcd7ef99e8684df73e7baebd", "kind": "Name", "name": "__name__", "span": {"start": [79, 20], "end": [79, 28]}, "text_preview": "LOGGER = get_logger(__name__)", "parents": ["Module", "SimpleStatementLine", "Assign:LOGGER", "Call:get_logger", "Arg", "Name:__name__"], "scope": "Global", "qnames": ["builtins.__name__"], "is_public": false, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4db865b03730699398d08e2febac5edd", "kind": "FunctionDef", "name": "get_session_id", "span": {"start": [82, 0], "end": [130, 21]}, "text_preview": "def get_session_id() -> str:", "parents": ["Module", "FunctionDef:get_session_id"], "scope": "Global", "qnames": ["app.middleware.get_session_id", "get_session_id"], "doc": {"def": "Retrieve session ID from thread-local context."}, "is_public": true, "ann": "str", "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0b59fa1ad2c987eebcb296829cce13b8", "kind": "Name", "name": "get_session_id", "span": {"start": [82, 4], "end": [82, 18]}, "text_preview": "def get_session_id() -> str:", "parents": ["Module", "FunctionDef:get_session_id", "Name:get_session_id"], "scope": "Global", "qnames": ["app.middleware.get_session_id", "get_session_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "86dcdbc62029aa2ba8a3f7b15dcb62bc", "kind": "Name", "name": "str", "span": {"start": [82, 24], "end": [82, 27]}, "text_preview": "def get_session_id() -> str:", "parents": ["Module", "FunctionDef:get_session_id", "Annotation", "Name:str"], "scope": "Global", "qnames": ["builtins.str"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d93724cee30a8ef050cc3fc45aeb82df", "kind": "Assign", "name": "session_id", "span": {"start": [123, 4], "end": [123, 37]}, "text_preview": "session_id = session_id_var.get()", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "SimpleStatementLine", "Assign:session_id"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "00383911f16296c7e484a687b6f544f6", "kind": "Name", "name": "session_id", "span": {"start": [123, 4], "end": [123, 14]}, "text_preview": "session_id = session_id_var.get()", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "AssignTarget", "Name:session_id"], "scope": "Function", "qnames": ["app.middleware.get_session_id.<locals>.session_id", "get_session_id.<locals>.session_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "69119d034d208e7a8b91cb689a9e4c5b", "kind": "Call", "name": "get", "span": {"start": [123, 17], "end": [123, 37]}, "text_preview": "session_id = session_id_var.get()", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.session_id_var.get"], "is_public": true, "call_target_qnames": ["codeintel_rev.runtime.request_context.session_id_var.get"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fb03e9c735cd97959ae2a85a7fc5d712", "kind": "Attribute", "name": "get", "span": {"start": [123, 17], "end": [123, 35]}, "text_preview": "session_id = session_id_var.get()", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get", "Attribute:get"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.session_id_var.get"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8cea0cf94e492a2948aec3cdde9ab31c", "kind": "Name", "name": "session_id_var", "span": {"start": [123, 17], "end": [123, 31]}, "text_preview": "session_id = session_id_var.get()", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get", "Attribute:get", "Name:session_id_var"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.session_id_var"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9d69b3b673ea11734386fa9108097969", "kind": "Name", "name": "get", "span": {"start": [123, 32], "end": [123, 35]}, "text_preview": "session_id = session_id_var.get()", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get", "Attribute:get", "Name:get"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "80ebb2630d4f5db768037dca712eb9b7", "kind": "If", "name": "", "span": {"start": [124, 4], "end": [129, 31]}, "text_preview": "if session_id is None:", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "If"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "daaabff2ce0646afc2549c0b778a3aea", "kind": "Name", "name": "session_id", "span": {"start": [124, 7], "end": [124, 17]}, "text_preview": "if session_id is None:", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "If", "Comparison", "Name:session_id"], "scope": "Function", "qnames": ["app.middleware.get_session_id.<locals>.session_id", "get_session_id.<locals>.session_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2a1e8efd4e061307a2cd5987e0792eee", "kind": "Name", "name": "None", "span": {"start": [124, 21], "end": [124, 25]}, "text_preview": "if session_id is None:", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "If", "Comparison", "ComparisonTarget", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2f54134f4dffbfa31b9c106a30116543", "kind": "Assign", "name": "msg", "span": {"start": [125, 8], "end": [128, 9]}, "text_preview": "msg = (", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:msg"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "71245a32ee8525a1d09f255d98001caa", "kind": "Name", "name": "msg", "span": {"start": [125, 8], "end": [125, 11]}, "text_preview": "msg = (", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:msg", "AssignTarget", "Name:msg"], "scope": "Function", "qnames": ["app.middleware.get_session_id.<locals>.msg", "get_session_id.<locals>.msg"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f8397a4b85fc8399f238996d13bd5e5e", "kind": "Raise", "name": "", "span": {"start": [129, 8], "end": [129, 31]}, "text_preview": "raise RuntimeError(msg)", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Raise"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7d3f9f4d9f90a25129fe9035f34f2b3f", "kind": "Call", "name": "RuntimeError", "span": {"start": [129, 14], "end": [129, 31]}, "text_preview": "raise RuntimeError(msg)", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:RuntimeError"], "scope": "Function", "qnames": ["builtins.RuntimeError"], "is_public": true, "call_target_qnames": ["builtins.RuntimeError"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ba1f17b860ac066823c23157a37709d3", "kind": "Name", "name": "RuntimeError", "span": {"start": [129, 14], "end": [129, 26]}, "text_preview": "raise RuntimeError(msg)", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:RuntimeError", "Name:RuntimeError"], "scope": "Function", "qnames": ["builtins.RuntimeError"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9b35fc604f017b14ad892759fa4c562a", "kind": "Name", "name": "msg", "span": {"start": [129, 27], "end": [129, 30]}, "text_preview": "raise RuntimeError(msg)", "parents": ["FunctionDef:get_session_id", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Raise", "Call:RuntimeError", "Arg", "Name:msg"], "scope": "Function", "qnames": ["app.middleware.get_session_id.<locals>.msg", "get_session_id.<locals>.msg"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3b66fef6ec5b7e318d0b917784b4eed2", "kind": "Return", "name": "", "span": {"start": [130, 4], "end": [130, 21]}, "text_preview": "return session_id", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "SimpleStatementLine", "Return"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "51c29d8e78e8958c466e8f675b8301b3", "kind": "Name", "name": "session_id", "span": {"start": [130, 11], "end": [130, 21]}, "text_preview": "return session_id", "parents": ["Module", "FunctionDef:get_session_id", "IndentedBlock", "SimpleStatementLine", "Return", "Name:session_id"], "scope": "Function", "qnames": ["app.middleware.get_session_id.<locals>.session_id", "get_session_id.<locals>.session_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "48d6842a78b711bc3549b2b015cea29c", "kind": "FunctionDef", "name": "get_capability_stamp", "span": {"start": [133, 0], "end": [142, 37]}, "text_preview": "def get_capability_stamp() -> str | None:", "parents": ["Module", "FunctionDef:get_capability_stamp"], "scope": "Global", "qnames": ["app.middleware.get_capability_stamp", "get_capability_stamp"], "doc": {"def": "Return the capability stamp associated with the current request."}, "is_public": true, "ann": "str | None", "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2e53065e13f02eaf2be2fbd0ab4e3a2c", "kind": "Name", "name": "get_capability_stamp", "span": {"start": [133, 4], "end": [133, 24]}, "text_preview": "def get_capability_stamp() -> str | None:", "parents": ["Module", "FunctionDef:get_capability_stamp", "Name:get_capability_stamp"], "scope": "Global", "qnames": ["app.middleware.get_capability_stamp", "get_capability_stamp"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ddbdff5209b842a753f138ef9a59ae56", "kind": "Name", "name": "str", "span": {"start": [133, 30], "end": [133, 33]}, "text_preview": "def get_capability_stamp() -> str | None:", "parents": ["Module", "FunctionDef:get_capability_stamp", "Annotation", "BinaryOperation", "Name:str"], "scope": "Global", "qnames": ["builtins.str"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0886c8ca1f6e2cbc3b0dcaa305af0937", "kind": "Name", "name": "None", "span": {"start": [133, 36], "end": [133, 40]}, "text_preview": "def get_capability_stamp() -> str | None:", "parents": ["Module", "FunctionDef:get_capability_stamp", "Annotation", "BinaryOperation", "Name:None"], "scope": "Global", "qnames": ["builtins.None"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "48d1c946220b3aa581a7ff0f292507d9", "kind": "Return", "name": "", "span": {"start": [142, 4], "end": [142, 37]}, "text_preview": "return capability_stamp_var.get()", "parents": ["Module", "FunctionDef:get_capability_stamp", "IndentedBlock", "SimpleStatementLine", "Return"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b1adca2b857c8ad9b5ee42770692db5d", "kind": "Call", "name": "get", "span": {"start": [142, 11], "end": [142, 37]}, "text_preview": "return capability_stamp_var.get()", "parents": ["Module", "FunctionDef:get_capability_stamp", "IndentedBlock", "SimpleStatementLine", "Return", "Call:get"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var.get"], "is_public": true, "call_target_qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var.get"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1b79136e83bf1509dd7c9bb65df79835", "kind": "Attribute", "name": "get", "span": {"start": [142, 11], "end": [142, 35]}, "text_preview": "return capability_stamp_var.get()", "parents": ["Module", "FunctionDef:get_capability_stamp", "IndentedBlock", "SimpleStatementLine", "Return", "Call:get", "Attribute:get"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var.get"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "048c71468622c17a201461aa0c218fde", "kind": "Name", "name": "capability_stamp_var", "span": {"start": [142, 11], "end": [142, 31]}, "text_preview": "return capability_stamp_var.get()", "parents": ["Module", "FunctionDef:get_capability_stamp", "IndentedBlock", "SimpleStatementLine", "Return", "Call:get", "Attribute:get", "Name:capability_stamp_var"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fb4c77ffa07c491a0fd39f6dcf4d6458", "kind": "Name", "name": "get", "span": {"start": [142, 32], "end": [142, 35]}, "text_preview": "return capability_stamp_var.get()", "parents": ["Module", "FunctionDef:get_capability_stamp", "IndentedBlock", "SimpleStatementLine", "Return", "Call:get", "Attribute:get", "Name:get"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9f772eb4379bd2534439d40ba80f240b", "kind": "ClassDef", "name": "SessionScopeMiddleware", "span": {"start": [145, 0], "end": [322, 23]}, "text_preview": "class SessionScopeMiddleware(BaseHTTPMiddleware):", "parents": ["Module", "ClassDef:SessionScopeMiddleware"], "scope": "Global", "qnames": ["SessionScopeMiddleware", "app.middleware.SessionScopeMiddleware"], "doc": {"def": "Middleware for session ID extraction and context storage."}, "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e3aef9019ddf4887989b2c6d03799c58", "kind": "Name", "name": "SessionScopeMiddleware", "span": {"start": [145, 6], "end": [145, 28]}, "text_preview": "class SessionScopeMiddleware(BaseHTTPMiddleware):", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "Name:SessionScopeMiddleware"], "scope": "Global", "qnames": ["SessionScopeMiddleware", "app.middleware.SessionScopeMiddleware"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ed25be474a23ae28d02b7893e02199d6", "kind": "Name", "name": "BaseHTTPMiddleware", "span": {"start": [145, 29], "end": [145, 47]}, "text_preview": "class SessionScopeMiddleware(BaseHTTPMiddleware):", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "Arg", "Name:BaseHTTPMiddleware"], "scope": "Global", "qnames": ["starlette.middleware.base.BaseHTTPMiddleware"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "da8557816c539a6f83a1a175fd2d6f08", "kind": "FunctionDef", "name": "__init__", "span": {"start": [200, 4], "end": [202, 29]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__"], "scope": "Class", "qnames": ["SessionScopeMiddleware.__init__", "app.middleware.SessionScopeMiddleware.__init__"], "is_public": false, "ann": "None", "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a738f0f27f22a30941315ca239401649", "kind": "Name", "name": "__init__", "span": {"start": [200, 8], "end": [200, 16]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "Name:__init__"], "scope": "Class", "qnames": ["SessionScopeMiddleware.__init__", "app.middleware.SessionScopeMiddleware.__init__"], "is_public": false, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7b048d7f3d03f9462955062c1d923251", "kind": "Name", "name": "self", "span": {"start": [200, 17], "end": [200, 21]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "Parameters", "Param", "Name:self"], "scope": "Function", "qnames": ["SessionScopeMiddleware.__init__.<locals>.self", "app.middleware.SessionScopeMiddleware.__init__.<locals>.self"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "bc4fee90fd89066df99dab3d602079cf", "kind": "Name", "name": "app", "span": {"start": [200, 23], "end": [200, 26]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "Parameters", "Param", "Name:app"], "scope": "Function", "qnames": ["SessionScopeMiddleware.__init__.<locals>.app", "app.middleware.SessionScopeMiddleware.__init__.<locals>.app"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f35ae6e5d90845027fd83d27e3c75a70", "kind": "Name", "name": "ASGIApp", "span": {"start": [200, 28], "end": [200, 35]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "Parameters", "Param", "Annotation", "Name:ASGIApp"], "scope": "Class", "qnames": ["starlette.types.ASGIApp"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ddb6d831317843b95c0ca55726aba39b", "kind": "Name", "name": "dispatch", "span": {"start": [200, 37], "end": [200, 45]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "Parameters", "Param", "Name:dispatch"], "scope": "Function", "qnames": ["SessionScopeMiddleware.__init__.<locals>.dispatch", "app.middleware.SessionScopeMiddleware.__init__.<locals>.dispatch"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a0e374df9071f7ecf2f20de11456e028", "kind": "Name", "name": "DispatchFunction", "span": {"start": [200, 47], "end": [200, 63]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "Parameters", "Param", "Annotation", "BinaryOperation", "Name:DispatchFunction"], "scope": "Class", "qnames": ["starlette.middleware.base.DispatchFunction"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2f2c983e1a2c9c95d3c582ca2a510b77", "kind": "Name", "name": "None", "span": {"start": [200, 66], "end": [200, 70]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "Parameters", "Param", "Annotation", "BinaryOperation", "Name:None"], "scope": "Class", "qnames": ["builtins.None"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0cf361c3d7371802cfd67501f012ca54", "kind": "Name", "name": "None", "span": {"start": [200, 73], "end": [200, 77]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "Parameters", "Param", "Name:None"], "scope": "Class", "qnames": ["builtins.None"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b4230d420459bc073c9372f516e10c5b", "kind": "Name", "name": "None", "span": {"start": [200, 82], "end": [200, 86]}, "text_preview": "def __init__(self, app: ASGIApp, dispatch: DispatchFunction | None = None) -> None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "Annotation", "Name:None"], "scope": "Class", "qnames": ["builtins.None"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f4ffafb6563ddc78a41b5fbe003630c9", "kind": "Call", "name": "__init__", "span": {"start": [201, 8], "end": [201, 39]}, "text_preview": "super().__init__(app, dispatch)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:__init__"], "scope": "Function", "qnames": ["builtins.super"], "is_public": false, "call_target_qnames": ["builtins.super"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "850e5c429794c763f1fb99e1469c9d32", "kind": "Attribute", "name": "__init__", "span": {"start": [201, 8], "end": [201, 24]}, "text_preview": "super().__init__(app, dispatch)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:__init__", "Attribute:__init__"], "scope": "Function", "qnames": ["builtins.super"], "is_public": false, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "12da557591c81d097eba32dfbbcb4032", "kind": "Call", "name": "super", "span": {"start": [201, 8], "end": [201, 15]}, "text_preview": "super().__init__(app, dispatch)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:__init__", "Attribute:__init__", "Call:super"], "scope": "Function", "qnames": ["builtins.super"], "call_target_qnames": ["builtins.super"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "13c5048901da023b37d5ab7b2a354616", "kind": "Name", "name": "super", "span": {"start": [201, 8], "end": [201, 13]}, "text_preview": "super().__init__(app, dispatch)", "parents": ["IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:__init__", "Attribute:__init__", "Call:super", "Name:super"], "scope": "Function", "qnames": ["builtins.super"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "78a79cf88533beebfee22fa96aae9b2f", "kind": "Name", "name": "__init__", "span": {"start": [201, 16], "end": [201, 24]}, "text_preview": "super().__init__(app, dispatch)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:__init__", "Attribute:__init__", "Name:__init__"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2269001c0afa72c53c472ddf14af3d48", "kind": "Name", "name": "app", "span": {"start": [201, 25], "end": [201, 28]}, "text_preview": "super().__init__(app, dispatch)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:__init__", "Arg", "Name:app"], "scope": "Function", "qnames": ["SessionScopeMiddleware.__init__.<locals>.app", "app.middleware.SessionScopeMiddleware.__init__.<locals>.app"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "409e34d2139d12c8399e4ea6307e2d94", "kind": "Name", "name": "dispatch", "span": {"start": [201, 30], "end": [201, 38]}, "text_preview": "super().__init__(app, dispatch)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:__init__", "Arg", "Name:dispatch"], "scope": "Function", "qnames": ["SessionScopeMiddleware.__init__.<locals>.dispatch", "app.middleware.SessionScopeMiddleware.__init__.<locals>.dispatch"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c5fe55d57df87ec65869856486f3542f", "kind": "Assign", "name": "", "span": {"start": [202, 8], "end": [202, 29]}, "text_preview": "self._logger = LOGGER", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Assign"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "80e38427b20b7471f5919acff2a04b36", "kind": "Attribute", "name": "_logger", "span": {"start": [202, 8], "end": [202, 20]}, "text_preview": "self._logger = LOGGER", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:_logger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.__init__.<locals>.self._logger", "app.middleware.SessionScopeMiddleware.__init__.<locals>.self._logger"], "is_public": false, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "84f257fb376bb4f2ec0a568791caa17a", "kind": "Name", "name": "self", "span": {"start": [202, 8], "end": [202, 12]}, "text_preview": "self._logger = LOGGER", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:_logger", "Name:self"], "scope": "Function", "qnames": ["SessionScopeMiddleware.__init__.<locals>.self", "app.middleware.SessionScopeMiddleware.__init__.<locals>.self"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b4b128c0ae3b37bcfb5bb730a464acdb", "kind": "Name", "name": "_logger", "span": {"start": [202, 13], "end": [202, 20]}, "text_preview": "self._logger = LOGGER", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:_logger", "Name:_logger"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c8c878206f725397e4264233ebb49d28", "kind": "Name", "name": "LOGGER", "span": {"start": [202, 23], "end": [202, 29]}, "text_preview": "self._logger = LOGGER", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:__init__", "IndentedBlock", "SimpleStatementLine", "Assign", "Name:LOGGER"], "scope": "Function", "qnames": ["LOGGER", "app.middleware.LOGGER"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c6fa3c5eb5928f37fcee59a0ec4cce9f", "kind": "FunctionDef", "name": "dispatch", "span": {"start": [204, 4], "end": [322, 23]}, "text_preview": "async def dispatch( # Required instance method for BaseHTTPMiddleware", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch"], "scope": "Class", "qnames": ["SessionScopeMiddleware.dispatch", "app.middleware.SessionScopeMiddleware.dispatch"], "doc": {"def": "Process request and inject session ID."}, "is_public": true, "ann": "Response", "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1a43f3add4f86075ef72065a4ad5c785", "kind": "Name", "name": "dispatch", "span": {"start": [204, 14], "end": [204, 22]}, "text_preview": "async def dispatch( # Required instance method for BaseHTTPMiddleware", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "Name:dispatch"], "scope": "Class", "qnames": ["SessionScopeMiddleware.dispatch", "app.middleware.SessionScopeMiddleware.dispatch"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2a357ada986665b2f33ef649490f9646", "kind": "Name", "name": "self", "span": {"start": [205, 8], "end": [205, 12]}, "text_preview": "self,", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "Parameters", "Param", "Name:self"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "68a5438365e93dc0a69c0adadc6fd1e2", "kind": "Name", "name": "request", "span": {"start": [206, 8], "end": [206, 15]}, "text_preview": "request: Request,", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "Parameters", "Param", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9f52587bb38fb15570bd4f3bcf811c30", "kind": "Name", "name": "Request", "span": {"start": [206, 17], "end": [206, 24]}, "text_preview": "request: Request,", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "Parameters", "Param", "Annotation", "Name:Request"], "scope": "Class", "qnames": ["starlette.requests.Request"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7e266f7a8c30243e67af9c3643be7307", "kind": "Name", "name": "call_next", "span": {"start": [207, 8], "end": [207, 17]}, "text_preview": "call_next: Callable[[Request], Awaitable[Response]],", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "Parameters", "Param", "Name:call_next"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.call_next", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.call_next"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1e3964d961bb50029869c1a762b455b7", "kind": "Name", "name": "Callable", "span": {"start": [207, 19], "end": [207, 27]}, "text_preview": "call_next: Callable[[Request], Awaitable[Response]],", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "Parameters", "Param", "Annotation", "Subscript", "Name:Callable"], "scope": "Class", "qnames": ["collections.abc.Callable"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "631dc466d295803d8531e5d2e57ac026", "kind": "Name", "name": "Request", "span": {"start": [207, 29], "end": [207, 36]}, "text_preview": "call_next: Callable[[Request], Awaitable[Response]],", "parents": ["Parameters", "Param", "Annotation", "Subscript", "SubscriptElement", "Index", "List", "Element", "Name:Request"], "scope": "Class", "qnames": ["starlette.requests.Request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c056ba92819b60ca0c06cb743d0fe4e6", "kind": "Name", "name": "Awaitable", "span": {"start": [207, 39], "end": [207, 48]}, "text_preview": "call_next: Callable[[Request], Awaitable[Response]],", "parents": ["FunctionDef:dispatch", "Parameters", "Param", "Annotation", "Subscript", "SubscriptElement", "Index", "Subscript", "Name:Awaitable"], "scope": "Class", "qnames": ["collections.abc.Awaitable"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "44858f51fd86e0ed4e6e0657bed6203e", "kind": "Name", "name": "Response", "span": {"start": [207, 49], "end": [207, 57]}, "text_preview": "call_next: Callable[[Request], Awaitable[Response]],", "parents": ["Param", "Annotation", "Subscript", "SubscriptElement", "Index", "Subscript", "SubscriptElement", "Index", "Name:Response"], "scope": "Class", "qnames": ["starlette.responses.Response"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8589865b50de941153450d0ec9d8d8b1", "kind": "Name", "name": "Response", "span": {"start": [208, 9], "end": [208, 17]}, "text_preview": ") -> Response:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "Annotation", "Name:Response"], "scope": "Class", "qnames": ["starlette.responses.Response"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d0b54a671738521bfeda2790365a8a74", "kind": "Assign", "name": "session_id", "span": {"start": [233, 8], "end": [233, 56]}, "text_preview": "session_id = request.headers.get(\"X-Session-ID\")", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_id"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "df7289d3c024bb6c8e3ec137aec2505b", "kind": "Name", "name": "session_id", "span": {"start": [233, 8], "end": [233, 18]}, "text_preview": "session_id = request.headers.get(\"X-Session-ID\")", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "AssignTarget", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fac4591efa49143dc7fb42eb151b6835", "kind": "Call", "name": "get", "span": {"start": [233, 21], "end": [233, 56]}, "text_preview": "session_id = request.headers.get(\"X-Session-ID\")", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.headers.get", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.headers.get"], "is_public": true, "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.headers.get", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.headers.get"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "acb5f3ed02f7b8e6071f90de10e5c643", "kind": "Attribute", "name": "get", "span": {"start": [233, 21], "end": [233, 40]}, "text_preview": "session_id = request.headers.get(\"X-Session-ID\")", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get", "Attribute:get"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.headers.get", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.headers.get"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c09d2d0f291c12b7358536fa199e5492", "kind": "Attribute", "name": "headers", "span": {"start": [233, 21], "end": [233, 36]}, "text_preview": "session_id = request.headers.get(\"X-Session-ID\")", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get", "Attribute:get", "Attribute:headers"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.headers", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.headers"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "14276983a80fa2d6559ef5fc69ee98b0", "kind": "Name", "name": "request", "span": {"start": [233, 21], "end": [233, 28]}, "text_preview": "session_id = request.headers.get(\"X-Session-ID\")", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get", "Attribute:get", "Attribute:headers", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "bd7c828593d4ed60d49d1f977f5b18d2", "kind": "Name", "name": "headers", "span": {"start": [233, 29], "end": [233, 36]}, "text_preview": "session_id = request.headers.get(\"X-Session-ID\")", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get", "Attribute:get", "Attribute:headers", "Name:headers"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "114ab4ee95558d134e94e13ad44aa1ef", "kind": "Name", "name": "get", "span": {"start": [233, 37], "end": [233, 40]}, "text_preview": "session_id = request.headers.get(\"X-Session-ID\")", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:get", "Attribute:get", "Name:get"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a059d58a99d9928a260ba2ee85582295", "kind": "If", "name": "", "span": {"start": [234, 8], "end": [244, 13]}, "text_preview": "if session_id is None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "455038111143e45998601154e6e9e49d", "kind": "Name", "name": "session_id", "span": {"start": [234, 11], "end": [234, 21]}, "text_preview": "if session_id is None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "Comparison", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0bdda6ab2cd56d91dd38609dd3df8b68", "kind": "Name", "name": "None", "span": {"start": [234, 25], "end": [234, 29]}, "text_preview": "if session_id is None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "Comparison", "ComparisonTarget", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "dc3510f8c26ac1c99fcfd188fae93213", "kind": "Assign", "name": "session_id", "span": {"start": [235, 12], "end": [235, 42]}, "text_preview": "session_id = str(uuid.uuid4())", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:session_id"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0784a0738ed3f845b44638955f21fe79", "kind": "Name", "name": "session_id", "span": {"start": [235, 12], "end": [235, 22]}, "text_preview": "session_id = str(uuid.uuid4())", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "AssignTarget", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f7fd9a254d9dca5624134ceb30c2c82b", "kind": "Call", "name": "str", "span": {"start": [235, 25], "end": [235, 42]}, "text_preview": "session_id = str(uuid.uuid4())", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:str"], "scope": "Function", "qnames": ["builtins.str"], "call_target_qnames": ["builtins.str"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7a7ffe8ebd73a5df0aa7931eef084cce", "kind": "Name", "name": "str", "span": {"start": [235, 25], "end": [235, 28]}, "text_preview": "session_id = str(uuid.uuid4())", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:str", "Name:str"], "scope": "Function", "qnames": ["builtins.str"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "439d416f97d7794eda2182b84f1f5510", "kind": "Call", "name": "uuid4", "span": {"start": [235, 29], "end": [235, 41]}, "text_preview": "session_id = str(uuid.uuid4())", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:str", "Arg", "Call:uuid4"], "scope": "Function", "qnames": ["uuid.uuid4"], "call_target_qnames": ["uuid.uuid4"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ef5e17cb3b888ff8c5a0c057cb3262fc", "kind": "Attribute", "name": "uuid4", "span": {"start": [235, 29], "end": [235, 39]}, "text_preview": "session_id = str(uuid.uuid4())", "parents": ["IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:str", "Arg", "Call:uuid4", "Attribute:uuid4"], "scope": "Function", "qnames": ["uuid.uuid4"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ae1ea59b68a4e2b5e1e44a991adbd7ea", "kind": "Name", "name": "uuid", "span": {"start": [235, 29], "end": [235, 33]}, "text_preview": "session_id = str(uuid.uuid4())", "parents": ["If", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:str", "Arg", "Call:uuid4", "Attribute:uuid4", "Name:uuid"], "scope": "Function", "qnames": ["uuid"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "582d52fff6bf4731b58661bddc56377b", "kind": "Name", "name": "uuid4", "span": {"start": [235, 34], "end": [235, 39]}, "text_preview": "session_id = str(uuid.uuid4())", "parents": ["If", "IndentedBlock", "SimpleStatementLine", "Assign:session_id", "Call:str", "Arg", "Call:uuid4", "Attribute:uuid4", "Name:uuid4"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "81f019ec98ffa1abdb31f3063728486d", "kind": "Call", "name": "debug", "span": {"start": [236, 12], "end": [239, 13]}, "text_preview": "self._logger.debug(", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3722ceb59553ca875e91f81f71503c13", "kind": "Attribute", "name": "debug", "span": {"start": [236, 12], "end": [236, 30]}, "text_preview": "self._logger.debug(", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6e6ac233a47a098bc975a38152394c86", "kind": "Attribute", "name": "_logger", "span": {"start": [236, 12], "end": [236, 24]}, "text_preview": "self._logger.debug(", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "05bc25cda7cf4247abb789c2b36d4c5f", "kind": "Name", "name": "self", "span": {"start": [236, 12], "end": [236, 16]}, "text_preview": "self._logger.debug(", "parents": ["IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger", "Name:self"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f83d04389e3f5831b878d83b9bfe3ff9", "kind": "Name", "name": "_logger", "span": {"start": [236, 17], "end": [236, 24]}, "text_preview": "self._logger.debug(", "parents": ["IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger", "Name:_logger"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d936a0303bbdcdd238f845c8bbebecab", "kind": "Name", "name": "debug", "span": {"start": [236, 25], "end": [236, 30]}, "text_preview": "self._logger.debug(", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Name:debug"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c5f4bde414f4b09fdf23cd78e45306a3", "kind": "Name", "name": "extra", "span": {"start": [238, 16], "end": [238, 21]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Name:extra"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e6b0fb5c70d83bcec11c36f2b945163a", "kind": "Name", "name": "session_id", "span": {"start": [238, 37], "end": [238, 47]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4a266d18b8f26a9475838541c6597f50", "kind": "Attribute", "name": "path", "span": {"start": [238, 57], "end": [238, 73]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url.path", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url.path"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "07338e77125c8bb76f887bb2e4c61e07", "kind": "Attribute", "name": "url", "span": {"start": [238, 57], "end": [238, 68]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Attribute:url"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4cb0797ff30c0d70b04f81b0c9cb1341", "kind": "Name", "name": "request", "span": {"start": [238, 57], "end": [238, 64]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Attribute:url", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5a8640fe99b2b5141b5f3ad68a2cc246", "kind": "Name", "name": "url", "span": {"start": [238, 65], "end": [238, 68]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Attribute:url", "Name:url"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "827807d454ed451df66a6b7698693ed2", "kind": "Name", "name": "path", "span": {"start": [238, 69], "end": [238, 73]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Name:path"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "92ca25bc3a755736aa26e5c06eaff2f5", "kind": "Else", "name": "", "span": {"start": [240, 8], "end": [244, 13]}, "text_preview": "else:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "Else"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "72a2d7f369f49d9527c8a4b8531b0f85", "kind": "Call", "name": "debug", "span": {"start": [241, 12], "end": [244, 13]}, "text_preview": "self._logger.debug(", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "Else", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "44700cfb816bd6468f9b3de0635f7f12", "kind": "Attribute", "name": "debug", "span": {"start": [241, 12], "end": [241, 30]}, "text_preview": "self._logger.debug(", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "Else", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "625c090d79e223cd666872f686abeba8", "kind": "Attribute", "name": "_logger", "span": {"start": [241, 12], "end": [241, 24]}, "text_preview": "self._logger.debug(", "parents": ["IndentedBlock", "If", "Else", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0447cb1af3a18dc0079244a466b28e59", "kind": "Name", "name": "self", "span": {"start": [241, 12], "end": [241, 16]}, "text_preview": "self._logger.debug(", "parents": ["If", "Else", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger", "Name:self"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fc21e66a5322a86c0946c1a50ddcc0ec", "kind": "Name", "name": "_logger", "span": {"start": [241, 17], "end": [241, 24]}, "text_preview": "self._logger.debug(", "parents": ["If", "Else", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger", "Name:_logger"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "310ebf29fe58db7e5db280df6766880d", "kind": "Name", "name": "debug", "span": {"start": [241, 25], "end": [241, 30]}, "text_preview": "self._logger.debug(", "parents": ["IndentedBlock", "If", "Else", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Name:debug"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c8a0a77e797ce0fb0769860a3ce9be56", "kind": "Name", "name": "extra", "span": {"start": [243, 16], "end": [243, 21]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["IndentedBlock", "If", "Else", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Name:extra"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "990ae13810565414e29c99310a969c3c", "kind": "Name", "name": "session_id", "span": {"start": [243, 37], "end": [243, 47]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["Else", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fb1c2ddb9d989d09e6a95f37c957725b", "kind": "Attribute", "name": "path", "span": {"start": [243, 57], "end": [243, 73]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["Else", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url.path", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url.path"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d10096291907a33c8649fff53a564761", "kind": "Attribute", "name": "url", "span": {"start": [243, 57], "end": [243, 68]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Attribute:url"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7b1cc226d423a8a128fda34a28ed485d", "kind": "Name", "name": "request", "span": {"start": [243, 57], "end": [243, 64]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Attribute:url", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "dfca4a90a871eda5ce1705d159a2a9b0", "kind": "Name", "name": "url", "span": {"start": [243, 65], "end": [243, 68]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Attribute:url", "Name:url"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7bb6a894249adcdc9f5b130347582fdc", "kind": "Name", "name": "path", "span": {"start": [243, 69], "end": [243, 73]}, "text_preview": "extra={\"session_id\": session_id, \"path\": request.url.path},", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Name:path"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "51b2c1d687d3c3d9d88bbf91b76c7ac6", "kind": "Assign", "name": "run_id_header", "span": {"start": [246, 8], "end": [246, 55]}, "text_preview": "run_id_header = request.headers.get(\"X-Run-ID\")", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:run_id_header"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a980dce7b829be6e5afe725efcfb1c7b", "kind": "Name", "name": "run_id_header", "span": {"start": [246, 8], "end": [246, 21]}, "text_preview": "run_id_header = request.headers.get(\"X-Run-ID\")", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:run_id_header", "AssignTarget", "Name:run_id_header"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.run_id_header", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.run_id_header"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "24586929b0207a8ee5d4003800649279", "kind": "Call", "name": "get", "span": {"start": [246, 24], "end": [246, 55]}, "text_preview": "run_id_header = request.headers.get(\"X-Run-ID\")", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:run_id_header", "Call:get"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.headers.get", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.headers.get"], "is_public": true, "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.headers.get", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.headers.get"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ead8ea13c21f6bc33354ff7f6c1a48d1", "kind": "Attribute", "name": "get", "span": {"start": [246, 24], "end": [246, 43]}, "text_preview": "run_id_header = request.headers.get(\"X-Run-ID\")", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:run_id_header", "Call:get", "Attribute:get"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.headers.get", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.headers.get"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ed1e9349daf24430e17452101e8531ac", "kind": "Attribute", "name": "headers", "span": {"start": [246, 24], "end": [246, 39]}, "text_preview": "run_id_header = request.headers.get(\"X-Run-ID\")", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:run_id_header", "Call:get", "Attribute:get", "Attribute:headers"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.headers", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.headers"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4efb790cd802535d2e0f3f8a16bcc6f3", "kind": "Name", "name": "request", "span": {"start": [246, 24], "end": [246, 31]}, "text_preview": "run_id_header = request.headers.get(\"X-Run-ID\")", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:run_id_header", "Call:get", "Attribute:get", "Attribute:headers", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3e8c986432ac61fcce690765f73b6cce", "kind": "Name", "name": "headers", "span": {"start": [246, 32], "end": [246, 39]}, "text_preview": "run_id_header = request.headers.get(\"X-Run-ID\")", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:run_id_header", "Call:get", "Attribute:get", "Attribute:headers", "Name:headers"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f142159e2b61ddbba0bbae4754105032", "kind": "Name", "name": "get", "span": {"start": [246, 40], "end": [246, 43]}, "text_preview": "run_id_header = request.headers.get(\"X-Run-ID\")", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:run_id_header", "Call:get", "Attribute:get", "Name:get"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "de5613e9138ec67641998768e7566c56", "kind": "If", "name": "", "span": {"start": [247, 8], "end": [251, 13]}, "text_preview": "if run_id_header:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "037ef1bff22f66b6771d5d5d26bbb289", "kind": "Name", "name": "run_id_header", "span": {"start": [247, 11], "end": [247, 24]}, "text_preview": "if run_id_header:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "Name:run_id_header"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.run_id_header", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.run_id_header"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "04c221a9b3501ebbe1aa190363b46211", "kind": "Call", "name": "debug", "span": {"start": [248, 12], "end": [251, 13]}, "text_preview": "self._logger.debug(", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2c08f77bd75e3d014dfa6f14242dc40b", "kind": "Attribute", "name": "debug", "span": {"start": [248, 12], "end": [248, 30]}, "text_preview": "self._logger.debug(", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a2bda4a486738743e526f7d35ec0d530", "kind": "Attribute", "name": "_logger", "span": {"start": [248, 12], "end": [248, 24]}, "text_preview": "self._logger.debug(", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "409ded5eb552e6e576d04d016f7bf61c", "kind": "Name", "name": "self", "span": {"start": [248, 12], "end": [248, 16]}, "text_preview": "self._logger.debug(", "parents": ["IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger", "Name:self"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "aef09a7926187915d5ea795a984d2d0e", "kind": "Name", "name": "_logger", "span": {"start": [248, 17], "end": [248, 24]}, "text_preview": "self._logger.debug(", "parents": ["IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger", "Name:_logger"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f2ea22e3f831b1d3eaaf95b5b2b8e87c", "kind": "Name", "name": "debug", "span": {"start": [248, 25], "end": [248, 30]}, "text_preview": "self._logger.debug(", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Name:debug"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "51481ae2dde90899c900a3ef7c69bd81", "kind": "Name", "name": "extra", "span": {"start": [250, 16], "end": [250, 21]}, "text_preview": "extra={\"run_id\": run_id_header, \"path\": request.url.path},", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Name:extra"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "841443cea221b70f87c0d0befd5b5970", "kind": "Name", "name": "run_id_header", "span": {"start": [250, 33], "end": [250, 46]}, "text_preview": "extra={\"run_id\": run_id_header, \"path\": request.url.path},", "parents": ["If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Name:run_id_header"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.run_id_header", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.run_id_header"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a5953a0aa82790b949c1d10bd4a2467d", "kind": "Attribute", "name": "path", "span": {"start": [250, 56], "end": [250, 72]}, "text_preview": "extra={\"run_id\": run_id_header, \"path\": request.url.path},", "parents": ["If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url.path", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url.path"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ab00deb2a82bdd09e50ad2e30ac06a22", "kind": "Attribute", "name": "url", "span": {"start": [250, 56], "end": [250, 67]}, "text_preview": "extra={\"run_id\": run_id_header, \"path\": request.url.path},", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Attribute:url"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c887b52566ffdcb8b3d8ad4f2901cb7c", "kind": "Name", "name": "request", "span": {"start": [250, 56], "end": [250, 63]}, "text_preview": "extra={\"run_id\": run_id_header, \"path\": request.url.path},", "parents": ["SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Attribute:url", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b8962bc3496895d067f5136520c36774", "kind": "Name", "name": "url", "span": {"start": [250, 64], "end": [250, 67]}, "text_preview": "extra={\"run_id\": run_id_header, \"path\": request.url.path},", "parents": ["SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Attribute:url", "Name:url"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4b097714f5c264d9c051639e7a6f0c67", "kind": "Name", "name": "path", "span": {"start": [250, 68], "end": [250, 72]}, "text_preview": "extra={\"run_id\": run_id_header, \"path\": request.url.path},", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Dict", "DictElement", "Attribute:path", "Name:path"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2327eb38f9ff6ddfd633389275322457", "kind": "Assign", "name": "", "span": {"start": [254, 8], "end": [254, 45]}, "text_preview": "request.state.session_id = session_id", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "869f281ee5736e90aade099d92721e76", "kind": "Attribute", "name": "session_id", "span": {"start": [254, 8], "end": [254, 32]}, "text_preview": "request.state.session_id = session_id", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.state.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.state.session_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ace7479d2c2ed3a504d6431ababbdf44", "kind": "Attribute", "name": "state", "span": {"start": [254, 8], "end": [254, 21]}, "text_preview": "request.state.session_id = session_id", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:session_id", "Attribute:state"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.state", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.state"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "063e5755f7ce9b1d0002f3c8b57cae63", "kind": "Name", "name": "request", "span": {"start": [254, 8], "end": [254, 15]}, "text_preview": "request.state.session_id = session_id", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:session_id", "Attribute:state", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e0aa4ad77d2fe2f10b2358e5480abf4e", "kind": "Name", "name": "state", "span": {"start": [254, 16], "end": [254, 21]}, "text_preview": "request.state.session_id = session_id", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:session_id", "Attribute:state", "Name:state"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3e887cb20c81a5d92270f33392c33f0b", "kind": "Name", "name": "session_id", "span": {"start": [254, 22], "end": [254, 32]}, "text_preview": "request.state.session_id = session_id", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:session_id", "Name:session_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "721f86b093c4ec0b14b137fd995f2623", "kind": "Name", "name": "session_id", "span": {"start": [254, 35], "end": [254, 45]}, "text_preview": "request.state.session_id = session_id", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7256dd3570c1f02d5258fe76213df23e", "kind": "Assign", "name": "timeline", "span": {"start": [255, 8], "end": [255, 65]}, "text_preview": "timeline = new_timeline(session_id, run_id=run_id_header)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:timeline"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c75de2753bdcecc03a520036dcd34772", "kind": "Name", "name": "timeline", "span": {"start": [255, 8], "end": [255, 16]}, "text_preview": "timeline = new_timeline(session_id, run_id=run_id_header)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:timeline", "AssignTarget", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8a2ec2057cd9dfaff8516bdf9e2f6d2a", "kind": "Call", "name": "new_timeline", "span": {"start": [255, 19], "end": [255, 65]}, "text_preview": "timeline = new_timeline(session_id, run_id=run_id_header)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:timeline", "Call:new_timeline"], "scope": "Function", "qnames": ["codeintel_rev.observability.timeline.new_timeline"], "is_public": true, "call_target_qnames": ["codeintel_rev.observability.timeline.new_timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "98a51ee9f6fefd7ba17c9047572963a0", "kind": "Name", "name": "new_timeline", "span": {"start": [255, 19], "end": [255, 31]}, "text_preview": "timeline = new_timeline(session_id, run_id=run_id_header)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:timeline", "Call:new_timeline", "Name:new_timeline"], "scope": "Function", "qnames": ["codeintel_rev.observability.timeline.new_timeline"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f2aee514bccd58d5053a936d5bdc338c", "kind": "Name", "name": "session_id", "span": {"start": [255, 32], "end": [255, 42]}, "text_preview": "timeline = new_timeline(session_id, run_id=run_id_header)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:timeline", "Call:new_timeline", "Arg", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1e8d3f094968c235da6d4101520703f0", "kind": "Name", "name": "run_id", "span": {"start": [255, 44], "end": [255, 50]}, "text_preview": "timeline = new_timeline(session_id, run_id=run_id_header)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:timeline", "Call:new_timeline", "Arg", "Name:run_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "05f1656867999ca01cab3a7f942ece1c", "kind": "Name", "name": "run_id_header", "span": {"start": [255, 51], "end": [255, 64]}, "text_preview": "timeline = new_timeline(session_id, run_id=run_id_header)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:timeline", "Call:new_timeline", "Arg", "Name:run_id_header"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.run_id_header", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.run_id_header"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "decaec0b1ff29e836dfa642a9405ef34", "kind": "Assign", "name": "", "span": {"start": [256, 8], "end": [256, 46]}, "text_preview": "request.state.run_id = timeline.run_id", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "540146fb670ef0a95c91fc4b2994e8e8", "kind": "Attribute", "name": "run_id", "span": {"start": [256, 8], "end": [256, 28]}, "text_preview": "request.state.run_id = timeline.run_id", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.state.run_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.state.run_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "62425de01bd3606d5e52b85eb91f62cd", "kind": "Attribute", "name": "state", "span": {"start": [256, 8], "end": [256, 21]}, "text_preview": "request.state.run_id = timeline.run_id", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_id", "Attribute:state"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.state", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.state"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5788a4423b7a8715569021ab74a1b495", "kind": "Name", "name": "request", "span": {"start": [256, 8], "end": [256, 15]}, "text_preview": "request.state.run_id = timeline.run_id", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_id", "Attribute:state", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "27e7a531f4855fd19162b5f0e9c4baa7", "kind": "Name", "name": "state", "span": {"start": [256, 16], "end": [256, 21]}, "text_preview": "request.state.run_id = timeline.run_id", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_id", "Attribute:state", "Name:state"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9db7579b3169cbedb973638b09f55995", "kind": "Name", "name": "run_id", "span": {"start": [256, 22], "end": [256, 28]}, "text_preview": "request.state.run_id = timeline.run_id", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_id", "Name:run_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "234fc83593e86b9d3e6474ad80741ea5", "kind": "Attribute", "name": "run_id", "span": {"start": [256, 31], "end": [256, 46]}, "text_preview": "request.state.run_id = timeline.run_id", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "Attribute:run_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline.run_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline.run_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "45095a60435c81e3c36ccbdbc01f8527", "kind": "Name", "name": "timeline", "span": {"start": [256, 31], "end": [256, 39]}, "text_preview": "request.state.run_id = timeline.run_id", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "Attribute:run_id", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5f511b4fa7f2afd19b6a447dffda305e", "kind": "Name", "name": "run_id", "span": {"start": [256, 40], "end": [256, 46]}, "text_preview": "request.state.run_id = timeline.run_id", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "Attribute:run_id", "Name:run_id"], "scope": null, "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "909ccf3371aec0877efd53f655ab1871", "kind": "Assign", "name": "", "span": {"start": [257, 8], "end": [257, 41]}, "text_preview": "request.state.timeline = timeline", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "55e8791e5d2363895fab7b0b4bed57f3", "kind": "Attribute", "name": "timeline", "span": {"start": [257, 8], "end": [257, 30]}, "text_preview": "request.state.timeline = timeline", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.state.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.state.timeline"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6afe92f232f0763bac28fa38d4fd552e", "kind": "Attribute", "name": "state", "span": {"start": [257, 8], "end": [257, 21]}, "text_preview": "request.state.timeline = timeline", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:timeline", "Attribute:state"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.state", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.state"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ecd8a717869fd08a775a97b86b5ef4dd", "kind": "Name", "name": "request", "span": {"start": [257, 8], "end": [257, 15]}, "text_preview": "request.state.timeline = timeline", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:timeline", "Attribute:state", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2026474a8b8caa313c574c1279053a95", "kind": "Name", "name": "state", "span": {"start": [257, 16], "end": [257, 21]}, "text_preview": "request.state.timeline = timeline", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:timeline", "Attribute:state", "Name:state"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f5db5fe2d0a1cedf9fdc8b729c1bf8b9", "kind": "Name", "name": "timeline", "span": {"start": [257, 22], "end": [257, 30]}, "text_preview": "request.state.timeline = timeline", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:timeline", "Name:timeline"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "87b5ae9c7d4a496e8e153c70e55f98f0", "kind": "Name", "name": "timeline", "span": {"start": [257, 33], "end": [257, 41]}, "text_preview": "request.state.timeline = timeline", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "84ddf5538d3d40bc83d7dd93eecfbf58", "kind": "Assign", "name": "started_at", "span": {"start": [258, 8], "end": [258, 32]}, "text_preview": "started_at = time.time()", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:started_at"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "54cb20317b196ce8249a977109d61e4c", "kind": "Name", "name": "started_at", "span": {"start": [258, 8], "end": [258, 18]}, "text_preview": "started_at = time.time()", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:started_at", "AssignTarget", "Name:started_at"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.started_at", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.started_at"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4bf42853df70cf698f14f5b3d1621e11", "kind": "Call", "name": "time", "span": {"start": [258, 21], "end": [258, 32]}, "text_preview": "started_at = time.time()", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:started_at", "Call:time"], "scope": "Function", "qnames": ["time.time"], "is_public": true, "call_target_qnames": ["time.time"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a2899c95465b0ca32eafcbf43f473e2b", "kind": "Attribute", "name": "time", "span": {"start": [258, 21], "end": [258, 30]}, "text_preview": "started_at = time.time()", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:started_at", "Call:time", "Attribute:time"], "scope": "Function", "qnames": ["time.time"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "015feecf615bd8d4433477863d5647fb", "kind": "Name", "name": "time", "span": {"start": [258, 21], "end": [258, 25]}, "text_preview": "started_at = time.time()", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:started_at", "Call:time", "Attribute:time", "Name:time"], "scope": "Function", "qnames": ["time"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9209873e13e6bce9b8be0deaaf0540f6", "kind": "Name", "name": "time", "span": {"start": [258, 26], "end": [258, 30]}, "text_preview": "started_at = time.time()", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:started_at", "Call:time", "Attribute:time", "Name:time"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5b8a66caf86bbcdd1e59de7e0ce69922", "kind": "Call", "name": "set_metadata", "span": {"start": [259, 8], "end": [265, 9]}, "text_preview": "timeline.set_metadata(", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline.set_metadata", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline.set_metadata"], "is_public": true, "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline.set_metadata", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline.set_metadata"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "28aa8f68c83eaba5e4238954bbed428e", "kind": "Attribute", "name": "set_metadata", "span": {"start": [259, 8], "end": [259, 29]}, "text_preview": "timeline.set_metadata(", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Attribute:set_metadata"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline.set_metadata", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline.set_metadata"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "010dbed52d6a1c6c94a73890e19ba74c", "kind": "Name", "name": "timeline", "span": {"start": [259, 8], "end": [259, 16]}, "text_preview": "timeline.set_metadata(", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Attribute:set_metadata", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e374fd7b960478973185224b31f0734c", "kind": "Name", "name": "set_metadata", "span": {"start": [259, 17], "end": [259, 29]}, "text_preview": "timeline.set_metadata(", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Attribute:set_metadata", "Name:set_metadata"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "af67f9dd08fa75579c7923d181d13dc8", "kind": "Name", "name": "kind", "span": {"start": [260, 12], "end": [260, 16]}, "text_preview": "kind=\"http\",", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Name:kind"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f1e35a0a8cf474cd853349a4643fb92e", "kind": "Name", "name": "path", "span": {"start": [261, 12], "end": [261, 16]}, "text_preview": "path=str(request.url.path),", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Name:path"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3cd375a38830eecb68975e14f3807ff9", "kind": "Call", "name": "str", "span": {"start": [261, 17], "end": [261, 38]}, "text_preview": "path=str(request.url.path),", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:str"], "scope": "Function", "qnames": ["builtins.str"], "call_target_qnames": ["builtins.str"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6779a29f96d13fa4c649715e435dbf78", "kind": "Name", "name": "str", "span": {"start": [261, 17], "end": [261, 20]}, "text_preview": "path=str(request.url.path),", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:str", "Name:str"], "scope": "Function", "qnames": ["builtins.str"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a80b11d7e76636b0939307e22e3bbe7b", "kind": "Attribute", "name": "path", "span": {"start": [261, 21], "end": [261, 37]}, "text_preview": "path=str(request.url.path),", "parents": ["FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:str", "Arg", "Attribute:path"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url.path", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url.path"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d5dc88c6dac0ba70f572012297acb963", "kind": "Attribute", "name": "url", "span": {"start": [261, 21], "end": [261, 32]}, "text_preview": "path=str(request.url.path),", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:str", "Arg", "Attribute:path", "Attribute:url"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1f6c0058774270b753c3f8408beb03fd", "kind": "Name", "name": "request", "span": {"start": [261, 21], "end": [261, 28]}, "text_preview": "path=str(request.url.path),", "parents": ["SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:str", "Arg", "Attribute:path", "Attribute:url", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2f91be9357bd3df107decdff8ea02134", "kind": "Name", "name": "url", "span": {"start": [261, 29], "end": [261, 32]}, "text_preview": "path=str(request.url.path),", "parents": ["SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:str", "Arg", "Attribute:path", "Attribute:url", "Name:url"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "75a5df601a5758085c45d2f8a77a9453", "kind": "Name", "name": "path", "span": {"start": [261, 33], "end": [261, 37]}, "text_preview": "path=str(request.url.path),", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:str", "Arg", "Attribute:path", "Name:path"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "dc09dad2b8ed74fb2f48f235e0e302ee", "kind": "Name", "name": "method", "span": {"start": [262, 12], "end": [262, 18]}, "text_preview": "method=request.method,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Name:method"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "30ffe5210595ff0631e69b3a96600061", "kind": "Attribute", "name": "method", "span": {"start": [262, 19], "end": [262, 33]}, "text_preview": "method=request.method,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Attribute:method"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.method", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.method"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d75dd08282cdef9eb4743ef2424e6d02", "kind": "Name", "name": "request", "span": {"start": [262, 19], "end": [262, 26]}, "text_preview": "method=request.method,", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Attribute:method", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fabf6746b18779ef1068f9f0addac521", "kind": "Name", "name": "method", "span": {"start": [262, 27], "end": [262, 33]}, "text_preview": "method=request.method,", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Attribute:method", "Name:method"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e577923189076c76506feb7288456df5", "kind": "Name", "name": "started_at", "span": {"start": [263, 12], "end": [263, 22]}, "text_preview": "started_at=started_at,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Name:started_at"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "30812fbc4f3959a1a89800e534d55b18", "kind": "Name", "name": "started_at", "span": {"start": [263, 23], "end": [263, 33]}, "text_preview": "started_at=started_at,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Name:started_at"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.started_at", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.started_at"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9de4b59445ef0a2fe8775fee2b086cbd", "kind": "Name", "name": "run_date", "span": {"start": [264, 12], "end": [264, 20]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Name:run_date"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d71e5e978542ac011729331292a8833a", "kind": "Call", "name": "strftime", "span": {"start": [264, 21], "end": [264, 82]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime"], "scope": "Function", "qnames": ["datetime.datetime.fromtimestamp.strftime"], "call_target_qnames": ["datetime.datetime.fromtimestamp.strftime"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0fa0e8e14a66017d1868cc264e1ac505", "kind": "Attribute", "name": "strftime", "span": {"start": [264, 21], "end": [264, 72]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime", "Attribute:strftime"], "scope": "Function", "qnames": ["datetime.datetime.fromtimestamp.strftime"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "cae37390c2e7d85b97fda9cc1c37c5d9", "kind": "Call", "name": "fromtimestamp", "span": {"start": [264, 21], "end": [264, 63]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime", "Attribute:strftime", "Call:fromtimestamp"], "scope": "Function", "qnames": ["datetime.datetime.fromtimestamp"], "call_target_qnames": ["datetime.datetime.fromtimestamp"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e9921b30a7ce375e014849b18956fda3", "kind": "Attribute", "name": "fromtimestamp", "span": {"start": [264, 21], "end": [264, 43]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime", "Attribute:strftime", "Call:fromtimestamp", "Attribute:fromtimestamp"], "scope": "Function", "qnames": ["datetime.datetime.fromtimestamp"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "166975c08dbe438dd1c4e086d5b96fb9", "kind": "Name", "name": "datetime", "span": {"start": [264, 21], "end": [264, 29]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime", "Attribute:strftime", "Call:fromtimestamp", "Attribute:fromtimestamp", "Name:datetime"], "scope": "Function", "qnames": ["datetime.datetime"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "07e75db9520783a26fe05590f1963adf", "kind": "Name", "name": "fromtimestamp", "span": {"start": [264, 30], "end": [264, 43]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime", "Attribute:strftime", "Call:fromtimestamp", "Attribute:fromtimestamp", "Name:fromtimestamp"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "56928b97916402801716f00b8ef4a76c", "kind": "Name", "name": "started_at", "span": {"start": [264, 44], "end": [264, 54]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime", "Attribute:strftime", "Call:fromtimestamp", "Arg", "Name:started_at"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.started_at", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.started_at"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "831313085bef13bb4c9eaa35b5356fa3", "kind": "Name", "name": "tz", "span": {"start": [264, 56], "end": [264, 58]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime", "Attribute:strftime", "Call:fromtimestamp", "Arg", "Name:tz"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "df141775905c0603d6dc955690e68d3f", "kind": "Name", "name": "UTC", "span": {"start": [264, 59], "end": [264, 62]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime", "Attribute:strftime", "Call:fromtimestamp", "Arg", "Name:UTC"], "scope": "Function", "qnames": ["datetime.UTC"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4907d9d08cc38cdee6cd9709eed7a065", "kind": "Name", "name": "strftime", "span": {"start": [264, 64], "end": [264, 72]}, "text_preview": "run_date=datetime.fromtimestamp(started_at, tz=UTC).strftime(\"%Y%m%d\"),", "parents": ["FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_metadata", "Arg", "Call:strftime", "Attribute:strftime", "Name:strftime"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "687247f2fdd71704ddd0033eb8a91bf5", "kind": "Assign", "name": "capability_stamp", "span": {"start": [267, 8], "end": [267, 79]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "115ed0387f289854df1da6a0d0aec18e", "kind": "Name", "name": "capability_stamp", "span": {"start": [267, 8], "end": [267, 24]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp", "AssignTarget", "Name:capability_stamp"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.capability_stamp", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.capability_stamp"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "79e68b0576572efec41a16cab472b189", "kind": "Call", "name": "getattr", "span": {"start": [267, 27], "end": [267, 79]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp", "Call:getattr"], "scope": "Function", "qnames": ["builtins.getattr"], "is_public": true, "call_target_qnames": ["builtins.getattr"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "dae9d98e96bd94143687044211b8d3b8", "kind": "Name", "name": "getattr", "span": {"start": [267, 27], "end": [267, 34]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp", "Call:getattr", "Name:getattr"], "scope": "Function", "qnames": ["builtins.getattr"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "56eeb5a201aa02532c64bdffc471a44b", "kind": "Attribute", "name": "state", "span": {"start": [267, 35], "end": [267, 52]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp", "Call:getattr", "Arg", "Attribute:state"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.app.state", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.app.state"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b993551ae8206df953eaae2b9f6c5895", "kind": "Attribute", "name": "app", "span": {"start": [267, 35], "end": [267, 46]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp", "Call:getattr", "Arg", "Attribute:state", "Attribute:app"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.app", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.app"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "faf1a71e7f8460d1206d0d5e0ff9759d", "kind": "Name", "name": "request", "span": {"start": [267, 35], "end": [267, 42]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp", "Call:getattr", "Arg", "Attribute:state", "Attribute:app", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e4ca0b53d02290083cfed8774671d4a4", "kind": "Name", "name": "app", "span": {"start": [267, 43], "end": [267, 46]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp", "Call:getattr", "Arg", "Attribute:state", "Attribute:app", "Name:app"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "07d6247e7c6db7541ce4d04b41da006d", "kind": "Name", "name": "state", "span": {"start": [267, 47], "end": [267, 52]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp", "Call:getattr", "Arg", "Attribute:state", "Name:state"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d1461527f49a3d7419c268e82db5c540", "kind": "Name", "name": "None", "span": {"start": [267, 74], "end": [267, 78]}, "text_preview": "capability_stamp = getattr(request.app.state, \"capability_stamp\", None)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_stamp", "Call:getattr", "Arg", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7c5077a48ac68c51177e0aaae8e3426c", "kind": "Call", "name": "start_run", "span": {"start": [268, 8], "end": [274, 9]}, "text_preview": "start_run(", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run"], "scope": "Function", "qnames": ["codeintel_rev.telemetry.reporter.start_run"], "is_public": true, "call_target_qnames": ["codeintel_rev.telemetry.reporter.start_run"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "29aa2c6c934c69185d588dd27b688476", "kind": "Name", "name": "start_run", "span": {"start": [268, 8], "end": [268, 17]}, "text_preview": "start_run(", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Name:start_run"], "scope": "Function", "qnames": ["codeintel_rev.telemetry.reporter.start_run"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "31979882ef99974b225b1c8155f3f42b", "kind": "Name", "name": "session_id", "span": {"start": [269, 12], "end": [269, 22]}, "text_preview": "session_id,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d707ca975edec48c56633fe6190d9ce3", "kind": "Attribute", "name": "run_id", "span": {"start": [270, 12], "end": [270, 27]}, "text_preview": "timeline.run_id,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Attribute:run_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline.run_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline.run_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fdb5476e034efb0322571167aaebd9d6", "kind": "Name", "name": "timeline", "span": {"start": [270, 12], "end": [270, 20]}, "text_preview": "timeline.run_id,", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Attribute:run_id", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "572b420d589437fbd9f67b7bb02eed02", "kind": "Name", "name": "run_id", "span": {"start": [270, 21], "end": [270, 27]}, "text_preview": "timeline.run_id,", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Attribute:run_id", "Name:run_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "240f89f6a92321be15223a5e7061c7de", "kind": "Name", "name": "tool_name", "span": {"start": [271, 12], "end": [271, 21]}, "text_preview": "tool_name=None,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Name:tool_name"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1e7ededb7a11c39187324ba82c63f0fb", "kind": "Name", "name": "None", "span": {"start": [271, 22], "end": [271, 26]}, "text_preview": "tool_name=None,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2fc363410a301547a58c4b495e1fd4a2", "kind": "Name", "name": "capability_stamp", "span": {"start": [272, 12], "end": [272, 28]}, "text_preview": "capability_stamp=capability_stamp,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Name:capability_stamp"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "bae33af2cb0c9bfdd51edc7308321006", "kind": "Name", "name": "capability_stamp", "span": {"start": [272, 29], "end": [272, 45]}, "text_preview": "capability_stamp=capability_stamp,", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Name:capability_stamp"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.capability_stamp", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.capability_stamp"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1203ac168b1e5c52374a8d7f49d188a0", "kind": "Name", "name": "started_at", "span": {"start": [273, 12], "end": [273, 22]}, "text_preview": "started_at=time.time(),", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Name:started_at"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ada947bb39c36ed67bff901e6c29aebf", "kind": "Call", "name": "time", "span": {"start": [273, 23], "end": [273, 34]}, "text_preview": "started_at=time.time(),", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Call:time"], "scope": "Function", "qnames": ["time.time"], "call_target_qnames": ["time.time"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d3d780879b27767aec4c2b4e0603cf2b", "kind": "Attribute", "name": "time", "span": {"start": [273, 23], "end": [273, 32]}, "text_preview": "started_at=time.time(),", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Call:time", "Attribute:time"], "scope": "Function", "qnames": ["time.time"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2760c03f631ffea30cdafbbf49fcaa1e", "kind": "Name", "name": "time", "span": {"start": [273, 23], "end": [273, 27]}, "text_preview": "started_at=time.time(),", "parents": ["FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Call:time", "Attribute:time", "Name:time"], "scope": "Function", "qnames": ["time"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "45ce37c19df339d7cf25ef224f86fa7a", "kind": "Name", "name": "time", "span": {"start": [273, 28], "end": [273, 32]}, "text_preview": "started_at=time.time(),", "parents": ["FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:start_run", "Arg", "Call:time", "Attribute:time", "Name:time"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "37a5ac325f7425dba2d46dbe4f7c533c", "kind": "AnnAssign", "name": "ledger_root", "span": {"start": [276, 8], "end": [276, 39]}, "text_preview": "ledger_root: Path | None = None", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger_root"], "scope": "Function", "qnames": [], "is_public": true, "ann": "Path | None", "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5fc2a3314c04d809911992f5cab83dc4", "kind": "Name", "name": "ledger_root", "span": {"start": [276, 8], "end": [276, 19]}, "text_preview": "ledger_root: Path | None = None", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger_root", "Name:ledger_root"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger_root", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger_root"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8d8ff40ca1273a58ad14ddf20ba97aa1", "kind": "Name", "name": "Path", "span": {"start": [276, 21], "end": [276, 25]}, "text_preview": "ledger_root: Path | None = None", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger_root", "Annotation", "BinaryOperation", "Name:Path"], "scope": "Function", "qnames": ["pathlib.Path"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3d2599210d31425fa06a1f027ffeb7ad", "kind": "Name", "name": "None", "span": {"start": [276, 28], "end": [276, 32]}, "text_preview": "ledger_root: Path | None = None", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger_root", "Annotation", "BinaryOperation", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2c058f30b222ec6a3091c3b4622d5d6a", "kind": "Name", "name": "None", "span": {"start": [276, 35], "end": [276, 39]}, "text_preview": "ledger_root: Path | None = None", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger_root", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "090245eac654d1611cb545b5b9789f17", "kind": "Assign", "name": "context", "span": {"start": [277, 8], "end": [277, 61]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "15ac6b6464e46d52f06591da0c2d077d", "kind": "Name", "name": "context", "span": {"start": [277, 8], "end": [277, 15]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context", "AssignTarget", "Name:context"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.context", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.context"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "13663414f512b6929225cac5946ca1f1", "kind": "Call", "name": "getattr", "span": {"start": [277, 18], "end": [277, 61]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context", "Call:getattr"], "scope": "Function", "qnames": ["builtins.getattr"], "is_public": true, "call_target_qnames": ["builtins.getattr"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e07e42b7515a39c3819fe1a3bbe71a28", "kind": "Name", "name": "getattr", "span": {"start": [277, 18], "end": [277, 25]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context", "Call:getattr", "Name:getattr"], "scope": "Function", "qnames": ["builtins.getattr"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "13b05ad15c505521eb6c5235b9a6ca79", "kind": "Attribute", "name": "state", "span": {"start": [277, 26], "end": [277, 43]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context", "Call:getattr", "Arg", "Attribute:state"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.app.state", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.app.state"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "efc36a197f512edfb19e4e88a0a93977", "kind": "Attribute", "name": "app", "span": {"start": [277, 26], "end": [277, 37]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context", "Call:getattr", "Arg", "Attribute:state", "Attribute:app"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.app", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.app"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d8f34b348742357beb787316d660a93a", "kind": "Name", "name": "request", "span": {"start": [277, 26], "end": [277, 33]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context", "Call:getattr", "Arg", "Attribute:state", "Attribute:app", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9b2cdb4a263f1fc86dbfc6ecd2bd609f", "kind": "Name", "name": "app", "span": {"start": [277, 34], "end": [277, 37]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context", "Call:getattr", "Arg", "Attribute:state", "Attribute:app", "Name:app"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8e5f15c8b49fd73cbfd18aaf67968562", "kind": "Name", "name": "state", "span": {"start": [277, 38], "end": [277, 43]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context", "Call:getattr", "Arg", "Attribute:state", "Name:state"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "13a2efac65e9120d18b04f0dc7b7eeb2", "kind": "Name", "name": "None", "span": {"start": [277, 56], "end": [277, 60]}, "text_preview": "context = getattr(request.app.state, \"context\", None)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:context", "Call:getattr", "Arg", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4802cff84b1438da18aa353481806b06", "kind": "If", "name": "", "span": {"start": [278, 8], "end": [280, 58]}, "text_preview": "if context is not None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3d621de0ad124aa1cd1ecc4693c3bdbf", "kind": "Name", "name": "context", "span": {"start": [278, 11], "end": [278, 18]}, "text_preview": "if context is not None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "Comparison", "Name:context"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.context", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.context"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a3ad173875d5495f6117852f52fa70c2", "kind": "Name", "name": "None", "span": {"start": [278, 26], "end": [278, 30]}, "text_preview": "if context is not None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "Comparison", "ComparisonTarget", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f170512ae2e3f1b3370559a8e03db094", "kind": "Assign", "name": "paths", "span": {"start": [279, 12], "end": [279, 51]}, "text_preview": "paths = getattr(context, \"paths\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:paths"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8cb5c1623aaffac25e6e2bc3ee2a9678", "kind": "Name", "name": "paths", "span": {"start": [279, 12], "end": [279, 17]}, "text_preview": "paths = getattr(context, \"paths\", None)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:paths", "AssignTarget", "Name:paths"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.paths", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.paths"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f27d4a44154ab7897c929351fcfaac74", "kind": "Call", "name": "getattr", "span": {"start": [279, 20], "end": [279, 51]}, "text_preview": "paths = getattr(context, \"paths\", None)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:paths", "Call:getattr"], "scope": "Function", "qnames": ["builtins.getattr"], "call_target_qnames": ["builtins.getattr"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "55df4f91329c6f4848c92d4542b5919c", "kind": "Name", "name": "getattr", "span": {"start": [279, 20], "end": [279, 27]}, "text_preview": "paths = getattr(context, \"paths\", None)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:paths", "Call:getattr", "Name:getattr"], "scope": "Function", "qnames": ["builtins.getattr"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f21b342ae2ad5f91b8e0b6c3241b341a", "kind": "Name", "name": "context", "span": {"start": [279, 28], "end": [279, 35]}, "text_preview": "paths = getattr(context, \"paths\", None)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:paths", "Call:getattr", "Arg", "Name:context"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.context", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.context"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "133617ed4c25206355637e56253d71f5", "kind": "Name", "name": "None", "span": {"start": [279, 46], "end": [279, 50]}, "text_preview": "paths = getattr(context, \"paths\", None)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:paths", "Call:getattr", "Arg", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "94d4c1253f170f049e9df1a539abe755", "kind": "Assign", "name": "ledger_root", "span": {"start": [280, 12], "end": [280, 58]}, "text_preview": "ledger_root = getattr(paths, \"data_dir\", None)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_root"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "266493f628e81d28ea1d99e1b9281b70", "kind": "Name", "name": "ledger_root", "span": {"start": [280, 12], "end": [280, 23]}, "text_preview": "ledger_root = getattr(paths, \"data_dir\", None)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_root", "AssignTarget", "Name:ledger_root"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger_root", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger_root"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "38594c37a45ee537f14c66ddc8922bb6", "kind": "Call", "name": "getattr", "span": {"start": [280, 26], "end": [280, 58]}, "text_preview": "ledger_root = getattr(paths, \"data_dir\", None)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_root", "Call:getattr"], "scope": "Function", "qnames": ["builtins.getattr"], "call_target_qnames": ["builtins.getattr"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "69847d5e43474448394c6a5ddf525a9f", "kind": "Name", "name": "getattr", "span": {"start": [280, 26], "end": [280, 33]}, "text_preview": "ledger_root = getattr(paths, \"data_dir\", None)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_root", "Call:getattr", "Name:getattr"], "scope": "Function", "qnames": ["builtins.getattr"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "df0088f09f7b613d0394068e7c255644", "kind": "Name", "name": "paths", "span": {"start": [280, 34], "end": [280, 39]}, "text_preview": "ledger_root = getattr(paths, \"data_dir\", None)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_root", "Call:getattr", "Arg", "Name:paths"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.paths", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.paths"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9b739d44c5dd9ff05ddbd8fe842c9fbd", "kind": "Name", "name": "None", "span": {"start": [280, 53], "end": [280, 57]}, "text_preview": "ledger_root = getattr(paths, \"data_dir\", None)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_root", "Call:getattr", "Arg", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6b991c1dba1e219cd4b365df4a054089", "kind": "AnnAssign", "name": "ledger", "span": {"start": [281, 8], "end": [281, 39]}, "text_preview": "ledger: RunLedger | None = None", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger"], "scope": "Function", "qnames": [], "is_public": true, "ann": "RunLedger | None", "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e2e2cc4eb5cb56daa52403a6c8eb2b3d", "kind": "Name", "name": "ledger", "span": {"start": [281, 8], "end": [281, 14]}, "text_preview": "ledger: RunLedger | None = None", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger", "Name:ledger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f299ac2ac70f9e2d7a5aab9cd9040b45", "kind": "Name", "name": "RunLedger", "span": {"start": [281, 16], "end": [281, 25]}, "text_preview": "ledger: RunLedger | None = None", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger", "Annotation", "BinaryOperation", "Name:RunLedger"], "scope": "Function", "qnames": ["codeintel_rev.observability.ledger.RunLedger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "21c71a7194eacf2e8bda346a5e13cec9", "kind": "Name", "name": "None", "span": {"start": [281, 28], "end": [281, 32]}, "text_preview": "ledger: RunLedger | None = None", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger", "Annotation", "BinaryOperation", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3da58a78a45da20a10a27d6693f84db2", "kind": "Name", "name": "None", "span": {"start": [281, 35], "end": [281, 39]}, "text_preview": "ledger: RunLedger | None = None", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "AnnAssign:ledger", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "02741cdad9b9fdd01690ef60b8e9dda2", "kind": "Try", "name": "", "span": {"start": [282, 8], "end": [288, 25]}, "text_preview": "try:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fdc0e43de7f817fedf76332c4bc3c919", "kind": "Assign", "name": "ledger_dir", "span": {"start": [283, 12], "end": [283, 51]}, "text_preview": "ledger_dir = dated_run_dir(ledger_root)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_dir"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c782df95f4398e507ff7a78cad4ea36a", "kind": "Name", "name": "ledger_dir", "span": {"start": [283, 12], "end": [283, 22]}, "text_preview": "ledger_dir = dated_run_dir(ledger_root)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_dir", "AssignTarget", "Name:ledger_dir"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger_dir", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger_dir"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f91715ab69b9ab39d950be9879783a7f", "kind": "Call", "name": "dated_run_dir", "span": {"start": [283, 25], "end": [283, 51]}, "text_preview": "ledger_dir = dated_run_dir(ledger_root)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_dir", "Call:dated_run_dir"], "scope": "Function", "qnames": ["codeintel_rev.observability.ledger.dated_run_dir"], "call_target_qnames": ["codeintel_rev.observability.ledger.dated_run_dir"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6727e5a5de3fe2ff95824c980ca7df7a", "kind": "Name", "name": "dated_run_dir", "span": {"start": [283, 25], "end": [283, 38]}, "text_preview": "ledger_dir = dated_run_dir(ledger_root)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_dir", "Call:dated_run_dir", "Name:dated_run_dir"], "scope": "Function", "qnames": ["codeintel_rev.observability.ledger.dated_run_dir"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "330bb4d911f7855f231568593787bdf8", "kind": "Name", "name": "ledger_root", "span": {"start": [283, 39], "end": [283, 50]}, "text_preview": "ledger_dir = dated_run_dir(ledger_root)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger_dir", "Call:dated_run_dir", "Arg", "Name:ledger_root"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger_root", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger_root"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "82c2d5d8616554b7078159b725ec1747", "kind": "Assign", "name": "ledger", "span": {"start": [284, 12], "end": [284, 94]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f3d7c5669b97bda61662a14ecac1ac8d", "kind": "Name", "name": "ledger", "span": {"start": [284, 12], "end": [284, 18]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "AssignTarget", "Name:ledger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8ab003f90146fd4fc0ad7e9b5e47458b", "kind": "Call", "name": "open", "span": {"start": [284, 21], "end": [284, 94]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open"], "scope": "Function", "qnames": ["codeintel_rev.observability.ledger.RunLedger.open"], "call_target_qnames": ["codeintel_rev.observability.ledger.RunLedger.open"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9f94416d26e6baf0642b42c6300cf288", "kind": "Attribute", "name": "open", "span": {"start": [284, 21], "end": [284, 35]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Attribute:open"], "scope": "Function", "qnames": ["codeintel_rev.observability.ledger.RunLedger.open"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e42db52844da32a7e83d281b87977346", "kind": "Name", "name": "RunLedger", "span": {"start": [284, 21], "end": [284, 30]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Attribute:open", "Name:RunLedger"], "scope": "Function", "qnames": ["codeintel_rev.observability.ledger.RunLedger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f83dad728cbfc371027a994a9021be6e", "kind": "Name", "name": "open", "span": {"start": [284, 31], "end": [284, 35]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Attribute:open", "Name:open"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4e327be9db90d94aa23492b1b43399f1", "kind": "Name", "name": "ledger_dir", "span": {"start": [284, 36], "end": [284, 46]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Arg", "Name:ledger_dir"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger_dir", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger_dir"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c5cf183584123bd784489c974de6d0ca", "kind": "Name", "name": "run_id", "span": {"start": [284, 48], "end": [284, 54]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Arg", "Name:run_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3dd2f232f55ccf1a57c55647053d3847", "kind": "Attribute", "name": "run_id", "span": {"start": [284, 55], "end": [284, 70]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Arg", "Attribute:run_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline.run_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline.run_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "62d3ae833fb12856f7096610799645d7", "kind": "Name", "name": "timeline", "span": {"start": [284, 55], "end": [284, 63]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Arg", "Attribute:run_id", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "73fbcd1890967dc829541b5dc06e4a48", "kind": "Name", "name": "run_id", "span": {"start": [284, 64], "end": [284, 70]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Arg", "Attribute:run_id", "Name:run_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "43926593f8d9ddb67ae436aeed8d08b1", "kind": "Name", "name": "session_id", "span": {"start": [284, 72], "end": [284, 82]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Arg", "Name:session_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "41e1618900787c2f92e713faa4888879", "kind": "Name", "name": "session_id", "span": {"start": [284, 83], "end": [284, 93]}, "text_preview": "ledger = RunLedger.open(ledger_dir, run_id=timeline.run_id, session_id=session_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Call:open", "Arg", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e9b2d4d41c48526a8d9a5f2a6e85867e", "kind": "Assign", "name": "", "span": {"start": [285, 12], "end": [285, 45]}, "text_preview": "request.state.run_ledger = ledger", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "24c0be944903c155cf924611600ff674", "kind": "Attribute", "name": "run_ledger", "span": {"start": [285, 12], "end": [285, 36]}, "text_preview": "request.state.run_ledger = ledger", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_ledger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.state.run_ledger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.state.run_ledger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b6a8480b55711fefb9b84ac5696cd7e2", "kind": "Attribute", "name": "state", "span": {"start": [285, 12], "end": [285, 25]}, "text_preview": "request.state.run_ledger = ledger", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_ledger", "Attribute:state"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.state", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.state"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "adf09d3e424b5a776457747cef3adc92", "kind": "Name", "name": "request", "span": {"start": [285, 12], "end": [285, 19]}, "text_preview": "request.state.run_ledger = ledger", "parents": ["IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_ledger", "Attribute:state", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6010525d3da50a95f79d68922bc03229", "kind": "Name", "name": "state", "span": {"start": [285, 20], "end": [285, 25]}, "text_preview": "request.state.run_ledger = ledger", "parents": ["IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_ledger", "Attribute:state", "Name:state"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5815bda2f1025582498b9bf44f689196", "kind": "Name", "name": "run_ledger", "span": {"start": [285, 26], "end": [285, 36]}, "text_preview": "request.state.run_ledger = ledger", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign", "AssignTarget", "Attribute:run_ledger", "Name:run_ledger"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "135bcb12535ac1783f9c955bdafcecdd", "kind": "Name", "name": "ledger", "span": {"start": [285, 39], "end": [285, 45]}, "text_preview": "request.state.run_ledger = ledger", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "SimpleStatementLine", "Assign", "Name:ledger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7bc85f829f31d644257314e09cd61886", "kind": "ExceptHandler", "name": "", "span": {"start": [286, 8], "end": [288, 25]}, "text_preview": "except (OSError, RuntimeError, ValueError): # pragma: no cover - defensive", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "ExceptHandler"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a676133798198eb4e0c5a05807217da0", "kind": "Name", "name": "OSError", "span": {"start": [286, 16], "end": [286, 23]}, "text_preview": "except (OSError, RuntimeError, ValueError): # pragma: no cover - defensive", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "ExceptHandler", "Tuple", "Element", "Name:OSError"], "scope": "Function", "qnames": ["builtins.OSError"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ad5141d3915e3f0f827ceb9a0574d404", "kind": "Name", "name": "RuntimeError", "span": {"start": [286, 25], "end": [286, 37]}, "text_preview": "except (OSError, RuntimeError, ValueError): # pragma: no cover - defensive", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "ExceptHandler", "Tuple", "Element", "Name:RuntimeError"], "scope": "Function", "qnames": ["builtins.RuntimeError"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2f45e7483b7a72a370831f4c5f8daf81", "kind": "Name", "name": "ValueError", "span": {"start": [286, 39], "end": [286, 49]}, "text_preview": "except (OSError, RuntimeError, ValueError): # pragma: no cover - defensive", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "ExceptHandler", "Tuple", "Element", "Name:ValueError"], "scope": "Function", "qnames": ["builtins.ValueError"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "624a4893fa00b84ca6d20228da4b178f", "kind": "Call", "name": "debug", "span": {"start": [287, 12], "end": [287, 80]}, "text_preview": "self._logger.debug(\"Failed to initialize run ledger\", exc_info=True)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "feddea935cddae46879baa690a4d5c82", "kind": "Attribute", "name": "debug", "span": {"start": [287, 12], "end": [287, 30]}, "text_preview": "self._logger.debug(\"Failed to initialize run ledger\", exc_info=True)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger.debug", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger.debug"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "545327e43abb1f96ddf9b83518df0304", "kind": "Attribute", "name": "_logger", "span": {"start": [287, 12], "end": [287, 24]}, "text_preview": "self._logger.debug(\"Failed to initialize run ledger\", exc_info=True)", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self._logger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self._logger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6a566066c211dcf6498346065c21f0ba", "kind": "Name", "name": "self", "span": {"start": [287, 12], "end": [287, 16]}, "text_preview": "self._logger.debug(\"Failed to initialize run ledger\", exc_info=True)", "parents": ["Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger", "Name:self"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.self", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.self"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c26c6e7f2dbda1153979712ebb18375e", "kind": "Name", "name": "_logger", "span": {"start": [287, 17], "end": [287, 24]}, "text_preview": "self._logger.debug(\"Failed to initialize run ledger\", exc_info=True)", "parents": ["Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Attribute:_logger", "Name:_logger"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "2d98cc91a2e9642962c11c66e7d3828f", "kind": "Name", "name": "debug", "span": {"start": [287, 25], "end": [287, 30]}, "text_preview": "self._logger.debug(\"Failed to initialize run ledger\", exc_info=True)", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Attribute:debug", "Name:debug"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "bf245041d29ac2a5e3f9661f73e5b08b", "kind": "Name", "name": "exc_info", "span": {"start": [287, 66], "end": [287, 74]}, "text_preview": "self._logger.debug(\"Failed to initialize run ledger\", exc_info=True)", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Name:exc_info"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a0a627326820042757929d2a3597a3d3", "kind": "Name", "name": "True", "span": {"start": [287, 75], "end": [287, 79]}, "text_preview": "self._logger.debug(\"Failed to initialize run ledger\", exc_info=True)", "parents": ["IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:debug", "Arg", "Name:True"], "scope": "Function", "qnames": ["builtins.True"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f68ff75990c52d57b5a92e1aa2281b49", "kind": "Assign", "name": "ledger", "span": {"start": [288, 12], "end": [288, 25]}, "text_preview": "ledger = None", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Assign:ledger"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9b202fbf0468de927b24aa8e28a26bb2", "kind": "Name", "name": "ledger", "span": {"start": [288, 12], "end": [288, 18]}, "text_preview": "ledger = None", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "AssignTarget", "Name:ledger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "65b8afdf862187900ed23a19b065d079", "kind": "Name", "name": "None", "span": {"start": [288, 21], "end": [288, 25]}, "text_preview": "ledger = None", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "ExceptHandler", "IndentedBlock", "SimpleStatementLine", "Assign:ledger", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "27bd16e81ac91f79270b7b594cca64b4", "kind": "Assign", "name": "session_token", "span": {"start": [291, 8], "end": [291, 54]}, "text_preview": "session_token = session_id_var.set(session_id)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_token"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5561d7d66852b41db0874e2207a2bf58", "kind": "Name", "name": "session_token", "span": {"start": [291, 8], "end": [291, 21]}, "text_preview": "session_token = session_id_var.set(session_id)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_token", "AssignTarget", "Name:session_token"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_token", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_token"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "46880529dbf58221c8fa3e90ef25ff4c", "kind": "Call", "name": "set", "span": {"start": [291, 24], "end": [291, 54]}, "text_preview": "session_token = session_id_var.set(session_id)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_token", "Call:set"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.session_id_var.set"], "is_public": true, "call_target_qnames": ["codeintel_rev.runtime.request_context.session_id_var.set"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4e1ad39e454146e3c9c7401d7900102f", "kind": "Attribute", "name": "set", "span": {"start": [291, 24], "end": [291, 42]}, "text_preview": "session_token = session_id_var.set(session_id)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_token", "Call:set", "Attribute:set"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.session_id_var.set"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "47a07b28702d38d77e680470a19e36f7", "kind": "Name", "name": "session_id_var", "span": {"start": [291, 24], "end": [291, 38]}, "text_preview": "session_token = session_id_var.set(session_id)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_token", "Call:set", "Attribute:set", "Name:session_id_var"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.session_id_var"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "99ac390a1f74c6d0eb4a167addd45fbf", "kind": "Name", "name": "set", "span": {"start": [291, 39], "end": [291, 42]}, "text_preview": "session_token = session_id_var.set(session_id)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_token", "Call:set", "Attribute:set", "Name:set"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e16930bfd5dedf314219b72e092511f2", "kind": "Name", "name": "session_id", "span": {"start": [291, 43], "end": [291, 53]}, "text_preview": "session_token = session_id_var.set(session_id)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:session_token", "Call:set", "Arg", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ab37dbe3ff904c04f3288f077c2f8501", "kind": "Assign", "name": "capability_token", "span": {"start": [292, 8], "end": [292, 69]}, "text_preview": "capability_token = capability_stamp_var.set(capability_stamp)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_token"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b45a7ce7b0514e05bd543175878beca0", "kind": "Name", "name": "capability_token", "span": {"start": [292, 8], "end": [292, 24]}, "text_preview": "capability_token = capability_stamp_var.set(capability_stamp)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_token", "AssignTarget", "Name:capability_token"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.capability_token", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.capability_token"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "97e84dbbb16866ea340b5f458ac6ba3d", "kind": "Call", "name": "set", "span": {"start": [292, 27], "end": [292, 69]}, "text_preview": "capability_token = capability_stamp_var.set(capability_stamp)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_token", "Call:set"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var.set"], "is_public": true, "call_target_qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var.set"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a08aa197160e41bf1730be45b1c26c96", "kind": "Attribute", "name": "set", "span": {"start": [292, 27], "end": [292, 51]}, "text_preview": "capability_token = capability_stamp_var.set(capability_stamp)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_token", "Call:set", "Attribute:set"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var.set"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "89037d8053191906f44e4e31ee3954c7", "kind": "Name", "name": "capability_stamp_var", "span": {"start": [292, 27], "end": [292, 47]}, "text_preview": "capability_token = capability_stamp_var.set(capability_stamp)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_token", "Call:set", "Attribute:set", "Name:capability_stamp_var"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e58cceb43a2642794dc8a649c3df08ca", "kind": "Name", "name": "set", "span": {"start": [292, 48], "end": [292, 51]}, "text_preview": "capability_token = capability_stamp_var.set(capability_stamp)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_token", "Call:set", "Attribute:set", "Name:set"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e62ceb8018419177c7ecc6c16df43ce1", "kind": "Name", "name": "capability_stamp", "span": {"start": [292, 52], "end": [292, 68]}, "text_preview": "capability_token = capability_stamp_var.set(capability_stamp)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:capability_token", "Call:set", "Arg", "Name:capability_stamp"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.capability_stamp", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.capability_stamp"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e954ce9cb7d96298183c2ab53a86d0dd", "kind": "Try", "name": "", "span": {"start": [293, 8], "end": [317, 30]}, "text_preview": "try:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "48c1c193586623e222af6ae5e9dcff55", "kind": "With", "name": "", "span": {"start": [294, 12], "end": [312, 51]}, "text_preview": "with (", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b14a9e8d1b550fd3cb348ae05c5ff6e4", "kind": "Call", "name": "bind_timeline", "span": {"start": [295, 16], "end": [295, 39]}, "text_preview": "bind_timeline(timeline),", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:bind_timeline"], "scope": "Function", "qnames": ["codeintel_rev.observability.timeline.bind_timeline"], "call_target_qnames": ["codeintel_rev.observability.timeline.bind_timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b5e51ae15410a0e1ed44ffbc85d6faed", "kind": "Name", "name": "bind_timeline", "span": {"start": [295, 16], "end": [295, 29]}, "text_preview": "bind_timeline(timeline),", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:bind_timeline", "Name:bind_timeline"], "scope": "Function", "qnames": ["codeintel_rev.observability.timeline.bind_timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8460345e13955e8508cb2a9191b8e22c", "kind": "Name", "name": "timeline", "span": {"start": [295, 30], "end": [295, 38]}, "text_preview": "bind_timeline(timeline),", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:bind_timeline", "Arg", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "54e09dd10f0ffa55f1bdd74e092a68a8", "kind": "Call", "name": "bind_run_ledger", "span": {"start": [296, 16], "end": [296, 39]}, "text_preview": "bind_run_ledger(ledger),", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:bind_run_ledger"], "scope": "Function", "qnames": ["codeintel_rev.observability.runtime_observer.bind_run_ledger"], "call_target_qnames": ["codeintel_rev.observability.runtime_observer.bind_run_ledger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "97d02d436291ad2b0531db1a9e8dd512", "kind": "Name", "name": "bind_run_ledger", "span": {"start": [296, 16], "end": [296, 31]}, "text_preview": "bind_run_ledger(ledger),", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:bind_run_ledger", "Name:bind_run_ledger"], "scope": "Function", "qnames": ["codeintel_rev.observability.runtime_observer.bind_run_ledger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3e50b9a9a2376e0275240221a210d472", "kind": "Name", "name": "ledger", "span": {"start": [296, 32], "end": [296, 38]}, "text_preview": "bind_run_ledger(ledger),", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:bind_run_ledger", "Arg", "Name:ledger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "41383f3297488032c8895e9ce2143515", "kind": "Call", "name": "telemetry_context", "span": {"start": [297, 16], "end": [302, 17]}, "text_preview": "telemetry_context(", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context"], "scope": "Function", "qnames": ["codeintel_rev.telemetry.context.telemetry_context"], "call_target_qnames": ["codeintel_rev.telemetry.context.telemetry_context"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c8c90119afee6d1f0032e85458ae43cb", "kind": "Name", "name": "telemetry_context", "span": {"start": [297, 16], "end": [297, 33]}, "text_preview": "telemetry_context(", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Name:telemetry_context"], "scope": "Function", "qnames": ["codeintel_rev.telemetry.context.telemetry_context"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6ffca4d223c25bf7b8a66acc8add8906", "kind": "Name", "name": "session_id", "span": {"start": [298, 20], "end": [298, 30]}, "text_preview": "session_id=session_id,", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Name:session_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1581d7a64243c2337739a177c63c57b6", "kind": "Name", "name": "session_id", "span": {"start": [298, 31], "end": [298, 41]}, "text_preview": "session_id=session_id,", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8e3f999dab05acb98ddcf283e0bead73", "kind": "Name", "name": "run_id", "span": {"start": [299, 20], "end": [299, 26]}, "text_preview": "run_id=timeline.run_id,", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Name:run_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5620bfefffb938773aa2598a31406e84", "kind": "Attribute", "name": "run_id", "span": {"start": [299, 27], "end": [299, 42]}, "text_preview": "run_id=timeline.run_id,", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Attribute:run_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline.run_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline.run_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7011855167af00b22835d08b2a0d559d", "kind": "Name", "name": "timeline", "span": {"start": [299, 27], "end": [299, 35]}, "text_preview": "run_id=timeline.run_id,", "parents": ["IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Attribute:run_id", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8ba94f0ed00c809407f8d9812b1b7157", "kind": "Name", "name": "run_id", "span": {"start": [299, 36], "end": [299, 42]}, "text_preview": "run_id=timeline.run_id,", "parents": ["IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Attribute:run_id", "Name:run_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d149238a882b3a3e91d7e47fc93850a3", "kind": "Name", "name": "capability_stamp", "span": {"start": [300, 20], "end": [300, 36]}, "text_preview": "capability_stamp=capability_stamp,", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Name:capability_stamp"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0fc48870c9be09c4afd207a82ef3a1dc", "kind": "Name", "name": "capability_stamp", "span": {"start": [300, 37], "end": [300, 53]}, "text_preview": "capability_stamp=capability_stamp,", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Name:capability_stamp"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.capability_stamp", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.capability_stamp"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1a4eb5b4274aa058f942df4cde7cb9c3", "kind": "Name", "name": "tool_name", "span": {"start": [301, 20], "end": [301, 29]}, "text_preview": "tool_name=None,", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Name:tool_name"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0399a0ce921662612b63c70599e27f79", "kind": "Name", "name": "None", "span": {"start": [301, 30], "end": [301, 34]}, "text_preview": "tool_name=None,", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "WithItem", "Call:telemetry_context", "Arg", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "6b13739056a670f526630da971b5d222", "kind": "Call", "name": "set_current_span_attrs", "span": {"start": [304, 16], "end": [311, 17]}, "text_preview": "set_current_span_attrs(", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs"], "scope": "Function", "qnames": ["codeintel_rev.observability.otel.set_current_span_attrs"], "call_target_qnames": ["codeintel_rev.observability.otel.set_current_span_attrs"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e044690d91419066b86e5483051ce39e", "kind": "Name", "name": "set_current_span_attrs", "span": {"start": [304, 16], "end": [304, 38]}, "text_preview": "set_current_span_attrs(", "parents": ["IndentedBlock", "Try", "IndentedBlock", "With", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Name:set_current_span_attrs"], "scope": "Function", "qnames": ["codeintel_rev.observability.otel.set_current_span_attrs"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3245fe522bad5509e83837f3ecae9ea7", "kind": "Attribute", "name": "MCP_SESSION_ID", "span": {"start": [306, 24], "end": [306, 44]}, "text_preview": "Attrs.MCP_SESSION_ID: session_id,", "parents": ["With", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:MCP_SESSION_ID"], "scope": "Function", "qnames": ["codeintel_rev.observability.semantic_conventions.Attrs.MCP_SESSION_ID"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a3ac9a7ce7181bddf4aa9a57502c651d", "kind": "Name", "name": "Attrs", "span": {"start": [306, 24], "end": [306, 29]}, "text_preview": "Attrs.MCP_SESSION_ID: session_id,", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:MCP_SESSION_ID", "Name:Attrs"], "scope": "Function", "qnames": ["codeintel_rev.observability.semantic_conventions.Attrs"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e2e267fd04bcb624e895e830b096dcb1", "kind": "Name", "name": "MCP_SESSION_ID", "span": {"start": [306, 30], "end": [306, 44]}, "text_preview": "Attrs.MCP_SESSION_ID: session_id,", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:MCP_SESSION_ID", "Name:MCP_SESSION_ID"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9b903689bbf740b0b0c9b970c41d043f", "kind": "Name", "name": "session_id", "span": {"start": [306, 46], "end": [306, 56]}, "text_preview": "Attrs.MCP_SESSION_ID: session_id,", "parents": ["With", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Name:session_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "627e557dcd71ef65681b7f0701db975d", "kind": "Attribute", "name": "MCP_RUN_ID", "span": {"start": [307, 24], "end": [307, 40]}, "text_preview": "Attrs.MCP_RUN_ID: timeline.run_id,", "parents": ["With", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:MCP_RUN_ID"], "scope": "Function", "qnames": ["codeintel_rev.observability.semantic_conventions.Attrs.MCP_RUN_ID"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "21c17bccb5dff87a546b1047b91df10c", "kind": "Name", "name": "Attrs", "span": {"start": [307, 24], "end": [307, 29]}, "text_preview": "Attrs.MCP_RUN_ID: timeline.run_id,", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:MCP_RUN_ID", "Name:Attrs"], "scope": "Function", "qnames": ["codeintel_rev.observability.semantic_conventions.Attrs"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ff7183ee8d79f4506622cb3da4ea1e99", "kind": "Name", "name": "MCP_RUN_ID", "span": {"start": [307, 30], "end": [307, 40]}, "text_preview": "Attrs.MCP_RUN_ID: timeline.run_id,", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:MCP_RUN_ID", "Name:MCP_RUN_ID"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c497d7b15887f24e76c08a14c7639793", "kind": "Attribute", "name": "run_id", "span": {"start": [307, 42], "end": [307, 57]}, "text_preview": "Attrs.MCP_RUN_ID: timeline.run_id,", "parents": ["With", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:run_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline.run_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline.run_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "978e82be27c509f7c5267fa01f684b33", "kind": "Name", "name": "timeline", "span": {"start": [307, 42], "end": [307, 50]}, "text_preview": "Attrs.MCP_RUN_ID: timeline.run_id,", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:run_id", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "4236fa4c5d97eeaf0531cd901f6f16fb", "kind": "Name", "name": "run_id", "span": {"start": [307, 51], "end": [307, 57]}, "text_preview": "Attrs.MCP_RUN_ID: timeline.run_id,", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:run_id", "Name:run_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e9bf2bc7b46989fb4cefb864c762c917", "kind": "Attribute", "name": "method", "span": {"start": [308, 39], "end": [308, 53]}, "text_preview": "\"http.method\": request.method,", "parents": ["With", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:method"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.method", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.method"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1e67fd27699840597d25ce20d4d595ef", "kind": "Name", "name": "request", "span": {"start": [308, 39], "end": [308, 46]}, "text_preview": "\"http.method\": request.method,", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:method", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "194a026f432b348dc350cc2ffc21c43f", "kind": "Name", "name": "method", "span": {"start": [308, 47], "end": [308, 53]}, "text_preview": "\"http.method\": request.method,", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Attribute:method", "Name:method"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f8e0f2bd87128e248eb6376d668a5878", "kind": "Call", "name": "str", "span": {"start": [309, 39], "end": [309, 60]}, "text_preview": "\"http.target\": str(request.url.path),", "parents": ["With", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Call:str"], "scope": "Function", "qnames": ["builtins.str"], "call_target_qnames": ["builtins.str"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fb641d881703aa1725f816c2f1162c94", "kind": "Name", "name": "str", "span": {"start": [309, 39], "end": [309, 42]}, "text_preview": "\"http.target\": str(request.url.path),", "parents": ["IndentedBlock", "SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Call:str", "Name:str"], "scope": "Function", "qnames": ["builtins.str"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "22fc9f11511193adba6d39dbac28fa95", "kind": "Attribute", "name": "path", "span": {"start": [309, 43], "end": [309, 59]}, "text_preview": "\"http.target\": str(request.url.path),", "parents": ["SimpleStatementLine", "Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Call:str", "Arg", "Attribute:path"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url.path", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url.path"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "968dbe7555c25a8ad2e62a3e895eb07a", "kind": "Attribute", "name": "url", "span": {"start": [309, 43], "end": [309, 54]}, "text_preview": "\"http.target\": str(request.url.path),", "parents": ["Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Call:str", "Arg", "Attribute:path", "Attribute:url"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request.url", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request.url"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a3ba8c60bcd56514a4230c5528251bf2", "kind": "Name", "name": "request", "span": {"start": [309, 43], "end": [309, 50]}, "text_preview": "\"http.target\": str(request.url.path),", "parents": ["Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Call:str", "Arg", "Attribute:path", "Attribute:url", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "66931b6a43e339c6b791dccde5994386", "kind": "Name", "name": "url", "span": {"start": [309, 51], "end": [309, 54]}, "text_preview": "\"http.target\": str(request.url.path),", "parents": ["Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Call:str", "Arg", "Attribute:path", "Attribute:url", "Name:url"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d0d01a55f39befe4af7fa36349b3be4b", "kind": "Name", "name": "path", "span": {"start": [309, 55], "end": [309, 59]}, "text_preview": "\"http.target\": str(request.url.path),", "parents": ["Expr", "Call:set_current_span_attrs", "Arg", "Dict", "DictElement", "Call:str", "Arg", "Attribute:path", "Name:path"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b149c818d3cd5e1c2179215a6d3c8eed", "kind": "Assign", "name": "response", "span": {"start": [312, 16], "end": [312, 51]}, "text_preview": "response = await call_next(request)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "IndentedBlock", "With", "IndentedBlock", "SimpleStatementLine", "Assign:response"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "43f6948eafee0ce0936e66026578e891", "kind": "Name", "name": "response", "span": {"start": [312, 16], "end": [312, 24]}, "text_preview": "response = await call_next(request)", "parents": ["IndentedBlock", "Try", "IndentedBlock", "With", "IndentedBlock", "SimpleStatementLine", "Assign:response", "AssignTarget", "Name:response"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "f23462904c1cf30d0cd448889185803f", "kind": "Call", "name": "call_next", "span": {"start": [312, 33], "end": [312, 51]}, "text_preview": "response = await call_next(request)", "parents": ["IndentedBlock", "Try", "IndentedBlock", "With", "IndentedBlock", "SimpleStatementLine", "Assign:response", "Await", "Call:call_next"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.call_next", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.call_next"], "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.call_next", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.call_next"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "195fbc5614bc0d914c948961b61b3d59", "kind": "Name", "name": "call_next", "span": {"start": [312, 33], "end": [312, 42]}, "text_preview": "response = await call_next(request)", "parents": ["Try", "IndentedBlock", "With", "IndentedBlock", "SimpleStatementLine", "Assign:response", "Await", "Call:call_next", "Name:call_next"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.call_next", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.call_next"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "60b7d12b4edefae4f083eea2b6a6c9ad", "kind": "Name", "name": "request", "span": {"start": [312, 43], "end": [312, 50]}, "text_preview": "response = await call_next(request)", "parents": ["IndentedBlock", "With", "IndentedBlock", "SimpleStatementLine", "Assign:response", "Await", "Call:call_next", "Arg", "Name:request"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.request", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.request"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "156ded1b65adf223e90550ccf73c2f77", "kind": "Call", "name": "reset", "span": {"start": [314, 12], "end": [314, 47]}, "text_preview": "session_id_var.reset(session_token)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.session_id_var.reset"], "call_target_qnames": ["codeintel_rev.runtime.request_context.session_id_var.reset"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c8b059aa66f96b6f096ffa844c60a970", "kind": "Attribute", "name": "reset", "span": {"start": [314, 12], "end": [314, 32]}, "text_preview": "session_id_var.reset(session_token)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset", "Attribute:reset"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.session_id_var.reset"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ae5ff63ed53532cb857bda1bf4d86e82", "kind": "Name", "name": "session_id_var", "span": {"start": [314, 12], "end": [314, 26]}, "text_preview": "session_id_var.reset(session_token)", "parents": ["IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset", "Attribute:reset", "Name:session_id_var"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.session_id_var"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "93def88caf2b7c7c7d8f768b7ccda6ab", "kind": "Name", "name": "reset", "span": {"start": [314, 27], "end": [314, 32]}, "text_preview": "session_id_var.reset(session_token)", "parents": ["IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset", "Attribute:reset", "Name:reset"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "1ab35a58bd62165b404bdaff08f3770e", "kind": "Name", "name": "session_token", "span": {"start": [314, 33], "end": [314, 46]}, "text_preview": "session_id_var.reset(session_token)", "parents": ["IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset", "Arg", "Name:session_token"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.session_token", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.session_token"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "094e43f8dddd62a753d4f90c398f3183", "kind": "Call", "name": "reset", "span": {"start": [315, 12], "end": [315, 56]}, "text_preview": "capability_stamp_var.reset(capability_token)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var.reset"], "call_target_qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var.reset"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "20ed81b8701b4309c5a849f947ebc4fc", "kind": "Attribute", "name": "reset", "span": {"start": [315, 12], "end": [315, 38]}, "text_preview": "capability_stamp_var.reset(capability_token)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset", "Attribute:reset"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var.reset"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "fcada856d79c47ca3e25c2be8df62edc", "kind": "Name", "name": "capability_stamp_var", "span": {"start": [315, 12], "end": [315, 32]}, "text_preview": "capability_stamp_var.reset(capability_token)", "parents": ["IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset", "Attribute:reset", "Name:capability_stamp_var"], "scope": "Function", "qnames": ["codeintel_rev.runtime.request_context.capability_stamp_var"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ac7b9a0582ac91d32096b2d172076d34", "kind": "Name", "name": "reset", "span": {"start": [315, 33], "end": [315, 38]}, "text_preview": "capability_stamp_var.reset(capability_token)", "parents": ["IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset", "Attribute:reset", "Name:reset"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "9c77893a97195dbaca480baad705fa80", "kind": "Name", "name": "capability_token", "span": {"start": [315, 39], "end": [315, 55]}, "text_preview": "capability_stamp_var.reset(capability_token)", "parents": ["IndentedBlock", "Try", "Finally", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:reset", "Arg", "Name:capability_token"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.capability_token", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.capability_token"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0ff266ad38ea105ecb8b73d00aba534f", "kind": "If", "name": "", "span": {"start": [316, 12], "end": [317, 30]}, "text_preview": "if ledger is not None:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "Finally", "IndentedBlock", "If"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "914aea183127eae8c058c724502f1d32", "kind": "Name", "name": "ledger", "span": {"start": [316, 15], "end": [316, 21]}, "text_preview": "if ledger is not None:", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "Try", "Finally", "IndentedBlock", "If", "Comparison", "Name:ledger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ed7d597a9f90a6fc72c42e487ea8ac0c", "kind": "Name", "name": "None", "span": {"start": [316, 29], "end": [316, 33]}, "text_preview": "if ledger is not None:", "parents": ["FunctionDef:dispatch", "IndentedBlock", "Try", "Finally", "IndentedBlock", "If", "Comparison", "ComparisonTarget", "Name:None"], "scope": "Function", "qnames": ["builtins.None"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "e5a75d7971b5a6b50f376a28a5bd8890", "kind": "Call", "name": "close", "span": {"start": [317, 16], "end": [317, 30]}, "text_preview": "ledger.close()", "parents": ["IndentedBlock", "Try", "Finally", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:close"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger.close", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger.close"], "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger.close", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger.close"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8cf7ad85ca671b828aca546eb2c734c7", "kind": "Attribute", "name": "close", "span": {"start": [317, 16], "end": [317, 28]}, "text_preview": "ledger.close()", "parents": ["Try", "Finally", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:close", "Attribute:close"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger.close", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger.close"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0bf9c516351e3191ce772e306f94dadc", "kind": "Name", "name": "ledger", "span": {"start": [317, 16], "end": [317, 22]}, "text_preview": "ledger.close()", "parents": ["Finally", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:close", "Attribute:close", "Name:ledger"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.ledger", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.ledger"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "a12e3e3e2b3fa2a2131efde6d38d4e92", "kind": "Name", "name": "close", "span": {"start": [317, 23], "end": [317, 28]}, "text_preview": "ledger.close()", "parents": ["Finally", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:close", "Attribute:close", "Name:close"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "939c6ff3d9bd7eb06dcaaebfbb9d8511", "kind": "Assign", "name": "trace_id", "span": {"start": [318, 8], "end": [318, 37]}, "text_preview": "trace_id = current_trace_id()", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:trace_id"], "scope": "Function", "qnames": [], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "58f81198f14b63e4fd96e308b7911e5f", "kind": "Name", "name": "trace_id", "span": {"start": [318, 8], "end": [318, 16]}, "text_preview": "trace_id = current_trace_id()", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:trace_id", "AssignTarget", "Name:trace_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.trace_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.trace_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3155ca9a347757dfba1f01805cb574f9", "kind": "Call", "name": "current_trace_id", "span": {"start": [318, 19], "end": [318, 37]}, "text_preview": "trace_id = current_trace_id()", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:trace_id", "Call:current_trace_id"], "scope": "Function", "qnames": ["codeintel_rev.observability.otel.current_trace_id"], "is_public": true, "call_target_qnames": ["codeintel_rev.observability.otel.current_trace_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "7b4d8b5de64c1c9e030e9b82c42af504", "kind": "Name", "name": "current_trace_id", "span": {"start": [318, 19], "end": [318, 35]}, "text_preview": "trace_id = current_trace_id()", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Assign:trace_id", "Call:current_trace_id", "Name:current_trace_id"], "scope": "Function", "qnames": ["codeintel_rev.observability.otel.current_trace_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c82a9a06d91672dad6d792f41155cbfb", "kind": "If", "name": "", "span": {"start": [319, 8], "end": [320, 63]}, "text_preview": "if trace_id:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3fb745f815c6737eaa5fdf7b12d89dc5", "kind": "Name", "name": "trace_id", "span": {"start": [319, 11], "end": [319, 19]}, "text_preview": "if trace_id:", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "Name:trace_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.trace_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.trace_id"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "60a841c5a8480ee828c269b82db8f8c1", "kind": "Call", "name": "setdefault", "span": {"start": [320, 12], "end": [320, 63]}, "text_preview": "response.headers.setdefault(\"X-Trace-Id\", trace_id)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault"], "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "b84278ac766b3b254ad71454b99b4c1a", "kind": "Attribute", "name": "setdefault", "span": {"start": [320, 12], "end": [320, 39]}, "text_preview": "response.headers.setdefault(\"X-Trace-Id\", trace_id)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0696875c9c3c4a04e1eac2a8986f3943", "kind": "Attribute", "name": "headers", "span": {"start": [320, 12], "end": [320, 28]}, "text_preview": "response.headers.setdefault(\"X-Trace-Id\", trace_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault", "Attribute:headers"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response.headers", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response.headers"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "542f5f68fba9676a515a76fe37394a11", "kind": "Name", "name": "response", "span": {"start": [320, 12], "end": [320, 20]}, "text_preview": "response.headers.setdefault(\"X-Trace-Id\", trace_id)", "parents": ["IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault", "Attribute:headers", "Name:response"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "26c404d4b2b094d3d95c6a9e610e48ea", "kind": "Name", "name": "headers", "span": {"start": [320, 21], "end": [320, 28]}, "text_preview": "response.headers.setdefault(\"X-Trace-Id\", trace_id)", "parents": ["IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault", "Attribute:headers", "Name:headers"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8caa6588a17507dbe91ffe2f55aa7600", "kind": "Name", "name": "setdefault", "span": {"start": [320, 29], "end": [320, 39]}, "text_preview": "response.headers.setdefault(\"X-Trace-Id\", trace_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault", "Name:setdefault"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "3d992c2a7c14fa5fd6616bb50e622300", "kind": "Name", "name": "trace_id", "span": {"start": [320, 54], "end": [320, 62]}, "text_preview": "response.headers.setdefault(\"X-Trace-Id\", trace_id)", "parents": ["FunctionDef:dispatch", "IndentedBlock", "If", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Arg", "Name:trace_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.trace_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.trace_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "95e6d50791c4cb73f01a3d4b39788dff", "kind": "Call", "name": "setdefault", "span": {"start": [321, 8], "end": [321, 64]}, "text_preview": "response.headers.setdefault(\"X-Run-Id\", timeline.run_id)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault"], "is_public": true, "call_target_qnames": ["SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "89311417a6cdb5a1bd792d5da3d862b2", "kind": "Attribute", "name": "setdefault", "span": {"start": [321, 8], "end": [321, 35]}, "text_preview": "response.headers.setdefault(\"X-Run-Id\", timeline.run_id)", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response.headers.setdefault"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c3a85a3d929fb4a6a297d6aa1e2dc761", "kind": "Attribute", "name": "headers", "span": {"start": [321, 8], "end": [321, 24]}, "text_preview": "response.headers.setdefault(\"X-Run-Id\", timeline.run_id)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault", "Attribute:headers"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response.headers", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response.headers"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "83f422a476e216fd7db77a8df9cb666b", "kind": "Name", "name": "response", "span": {"start": [321, 8], "end": [321, 16]}, "text_preview": "response.headers.setdefault(\"X-Run-Id\", timeline.run_id)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault", "Attribute:headers", "Name:response"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "30a2715a4df8fe71e028c93930392a50", "kind": "Name", "name": "headers", "span": {"start": [321, 17], "end": [321, 24]}, "text_preview": "response.headers.setdefault(\"X-Run-Id\", timeline.run_id)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault", "Attribute:headers", "Name:headers"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "d0cf00d3fc69cf963853b42576c5485e", "kind": "Name", "name": "setdefault", "span": {"start": [321, 25], "end": [321, 35]}, "text_preview": "response.headers.setdefault(\"X-Run-Id\", timeline.run_id)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Attribute:setdefault", "Name:setdefault"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "c6484fb5c821a7af02268e943248f90a", "kind": "Attribute", "name": "run_id", "span": {"start": [321, 48], "end": [321, 63]}, "text_preview": "response.headers.setdefault(\"X-Run-Id\", timeline.run_id)", "parents": ["ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Arg", "Attribute:run_id"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline.run_id", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline.run_id"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "0fbe931661e31d2e06ebeac927103a4b", "kind": "Name", "name": "timeline", "span": {"start": [321, 48], "end": [321, 56]}, "text_preview": "response.headers.setdefault(\"X-Run-Id\", timeline.run_id)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Arg", "Attribute:run_id", "Name:timeline"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.timeline", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.timeline"], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "8599086766938d6dfb1f6190df4d0afe", "kind": "Name", "name": "run_id", "span": {"start": [321, 57], "end": [321, 63]}, "text_preview": "response.headers.setdefault(\"X-Run-Id\", timeline.run_id)", "parents": ["IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Expr", "Call:setdefault", "Arg", "Attribute:run_id", "Name:run_id"], "scope": null, "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "bc409d672ed1a0340e83787569f3ec3e", "kind": "Return", "name": "", "span": {"start": [322, 8], "end": [322, 23]}, "text_preview": "return response", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Return"], "scope": "Function", "qnames": [], "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "ecb7b8130e64198aebd9ca4c229f354f", "kind": "Name", "name": "response", "span": {"start": [322, 15], "end": [322, 23]}, "text_preview": "return response", "parents": ["Module", "ClassDef:SessionScopeMiddleware", "IndentedBlock", "FunctionDef:dispatch", "IndentedBlock", "SimpleStatementLine", "Return", "Name:response"], "scope": "Function", "qnames": ["SessionScopeMiddleware.dispatch.<locals>.response", "app.middleware.SessionScopeMiddleware.dispatch.<locals>.response"], "is_public": true, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "5f429d1903c4cb6f647812edaf0f83d9", "kind": "Assign", "name": "__all__", "span": {"start": [325, 0], "end": [331, 1]}, "text_preview": "__all__ = [", "parents": ["Module", "SimpleStatementLine", "Assign:__all__"], "scope": "Global", "qnames": [], "is_public": false, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
{"path": "app/middleware.py", "node_id": "515be3cd7c44dfa4c77e449096e55943", "kind": "Name", "name": "__all__", "span": {"start": [325, 0], "end": [325, 7]}, "text_preview": "__all__ = [", "parents": ["Module", "SimpleStatementLine", "Assign:__all__", "AssignTarget", "Name:__all__"], "scope": "Global", "qnames": ["__all__", "app.middleware.__all__"], "is_public": false, "stitch": {"module_id": "app/middleware.py", "scip_symbol": null, "evidence": ["module-path"]}}
