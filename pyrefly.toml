project-includes = ["src", "tests", "tools"]
project-excludes = [
    "**/tests/fixtures*",
    "**/build/",
    "docs/_build/**",
    "site/**",
    "**/.venv/**",
    "**/__pycache__/**",
]
search-path = ["src", "stubs", "."]
python-version = "3.13.9"

# Type-check behavior
infer-with-first-use = true
untyped-def-behavior = "check-and-infer-return-type"
permissive-ignores = false
replace-imports-with-any = [
    "pyserini.index.lucene",
    "pyserini.search.lucene",
    "libcuvs",
    "faiss",
    "griffe",
    "mkdocs_gen_files",
    "libcst",
]
ignore-missing-imports = []
ignore-missing-source = false
ignore-errors-in-generated-code = false

# Opt into powerful optional errors
[errors]
implicit-any = true
implicitly-defined-attribute = true
implicit-abstract-class = true
assert-type = true

# Optional per-path strictness toggles if you need to refine behavior later.
# [[overrides]]
# paths = ["src/**"]
# implicit-any = true
# [[overrides]]
# paths = ["tests/**"]
# assert-type = false
