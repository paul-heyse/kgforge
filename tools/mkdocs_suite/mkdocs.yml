site_name: KgFoundry MkDocs Suite
site_url: https://docs.kgfoundry.dev/
repo_url: https://github.com/example/kgfoundry
edit_uri: edit/main/
strict: false

theme:
  name: material
  features:
    - navigation.sections
    - navigation.top
    - navigation.tracking
    - navigation.footer
    - content.action.edit
    - content.action.view

markdown_extensions:
  - admonition
  - attr_list
  - toc:
      permalink: true
  - pymdownx.details
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:mermaid2.fence_mermaid_custom
  - pymdownx.snippets
  - pymdownx.emoji
  - meta
  - mkdocs-typer

plugins:
  - search
  - awesome-nav
  - autorefs
  - literate-nav
  - section-index
  - gen-files:
      scripts:
        - docs/_scripts/gen_interface_pages.py
        - docs/_scripts/gen_module_pages.py
        - docs/_scripts/gen_d2_diagrams.py
        - docs/_scripts/gen_cli_diagram.py
  - d2
  - include-markdown
  - macros
  - mermaid2
  - monorepo
  - plantuml:
      puml_url: https://www.plantuml.com/plantuml
  - mkdocstrings:
      handlers:
        python:
          paths:
            - src
          load_external_modules: true
          extensions:
            - griffe_inherited_docstrings
            - griffe_typingdoc
            - griffe_pydantic:
                schema: true
            - griffe_fieldz:
                add_fields_to: docstring-attributes
                include_inherited: true
                include_private: false
            - griffe_public_wildcard_imports
          options:
            show_source: true
            show_signature: true
            show_root_heading: true
            inherited_members: true
            docstring_style: numpy
            docstring_section_style: table
            docstring_options:
              numpy:
                warn_unknown_params: true
  - redoc-tag
  - redirects
  - minify
  - git-revision-date-localized
  - glightbox
  - llmstxt:
      markdown_description: "How AI agents should navigate this site."
      sections:
        Overview:
          - index.md: "Top-level overview and entry points."
        Architecture:
          - architecture/index.md: "Architecture narratives and diagrams."
        Modules:
          - modules/index.md: "Generated module reference powered by Griffe."
        API:
          - api/index.md: "HTTP API reference rendered with ReDoc."
        CLI:
          - cli/index.md: "Interactive Typer command reference with live help output."

nav:
  - Overview: index.md
  - Architecture:
      - architecture/index.md
  - API:
      - api/index.md
      - CLI Spec: api/openapi-cli.md
      - Interface Catalog: api/interfaces.md
  - Modules:
      - modules/index.md
  - Diagrams:
      - diagrams/index.md
  - CLI:
      - cli/index.md

