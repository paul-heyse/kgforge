<!DOCTYPE html><html class="no-js" lang="en"><head>
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1" name="viewport">
<link href="https://example.invalid/docs/api/ReDoc-powered%20API%20with%20X-tags/" rel="canonical">
<link href="../../assets/images/favicon.png" rel="icon">
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.23" name="generator">
<title>ReDoc powered API with X tags - KgFoundry MkDocs Suite</title>
<link href="../../assets/stylesheets/main.84d31ad4.min.css" rel="stylesheet">
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect">
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet">
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../assets/_mkdocstrings.css" rel="stylesheet">
<link href="../../assets/stylesheets/mkdocs_d2_plugin.css" rel="stylesheet">
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox">
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox">
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#what-best-in-class-redoc-looks-like">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="KgFoundry MkDocs Suite" class="md-header__button md-logo" data-md-component="logo" href="../.." title="KgFoundry MkDocs Suite">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            KgFoundry MkDocs Suite
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              ReDoc powered API with X tags
            
          </span>
</div>
</div>
</div>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text">
<label class="md-search__icon md-icon" for="__search">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/example/kgfoundry" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="KgFoundry MkDocs Suite" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="KgFoundry MkDocs Suite">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    KgFoundry MkDocs Suite
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/example/kgfoundry" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/">
<span class="md-ellipsis">
    Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    API
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../modules/">
<span class="md-ellipsis">
    Modules
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../diagrams/">
<span class="md-ellipsis">
    Diagrams
    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/example/kgfoundry/edit/main/api/ReDoc-powered API with X-tags.md" rel="edit" title="Edit this page">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<a class="md-content__button md-icon" href="https://github.com/example/kgfoundry/raw/main/api/ReDoc-powered API with X-tags.md" title="View source of this page">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg>
</a>
<p>Awesome—let’s make your <strong>ReDoc-powered API area</strong> feel first-class and tightly woven into the rest of your docs, diagrams, and code pages (not a bolt-on “API island”). Below is a complete, junior-friendly plan with guidelines, examples, and build scripts.</p>
<hr>
<h1 id="what-best-in-class-redoc-looks-like">What “best-in-class ReDoc” looks like</h1>
<ol>
<li>
<p><strong>A tuned ReDoc page</strong> embedded in MkDocs, with:</p>
</li>
<li>
<p>clean tag taxonomy (+ <strong>x-tagGroups</strong> for 2-level nav)</p>
</li>
<li>stable, URL-safe <strong>operationId</strong>s (for deep links from everywhere)</li>
<li>rich samples (<strong>x-codeSamples</strong>), meaningful <strong>examples</strong>, and optional <strong>x-badges</strong></li>
<li>
<p>tasteful config (expand levels, sorting, path in middle panel, etc.). (<a href="https://redocly.com/docs/redoc/v2.x/config" title="Configure Redoc">Redocly</a>)</p>
</li>
<li>
<p><strong>API “tags as a first-class navigation concept”</strong> across the whole site:</p>
</li>
<li>
<p>per-tag pages in MkDocs (not just in ReDoc)</p>
</li>
<li><strong>clickable tag chips</strong> on module pages (Material’s tags plugin) that jump into the ReDoc operation section</li>
<li>
<p><strong>diagrams</strong> that show API tags and operations; nodes click straight into ReDoc. (<a href="https://squidfunk.github.io/mkdocs-material/plugins/tags/?utm_source=chatgpt.com" title="Built-in tags plugin - Material for MkDocs - GitHub Pages">GitHub Pages</a>)</p>
</li>
<li>
<p><strong>Source↔API cross-links</strong>:</p>
</li>
<li>
<p>from code/module pages → ReDoc <strong>#operation/{operationId}</strong> anchors</p>
</li>
<li>from ReDoc (via <strong>externalDocs</strong> and/or tag descriptions) → relevant module or architecture pages</li>
<li>
<p>optional private vendor extension (e.g., <strong>x-handler</strong>) that records the code path that implements an operation (so generators can wire links automatically). (<a href="https://redocly.com/learn/openapi/openapi-visual-reference/operation?utm_source=chatgpt.com" title="Operation Object">Redocly</a>)</p>
</li>
<li>
<p><strong>API quality gate in CI</strong>:</p>
</li>
<li>
<p>enforce tag hygiene, operationId uniqueness + URL-safety, and descriptions with <strong>Redocly CLI</strong> rules. (<a href="https://redocly.com/docs/cli/commands/lint?utm_source=chatgpt.com" title="lint">Redocly</a>)</p>
</li>
</ol>
<hr>
<h1 id="a-embed-redoc-in-mkdocs-two-solid-choices">A. Embed ReDoc in MkDocs (two solid choices)</h1>
<h3 id="option-1-use-mkdocs-redoc-tag-simplest">Option 1 — Use <code>mkdocs-redoc-tag</code> (simplest)</h3>
<p>In any Markdown page (e.g., <code>docs/api/index.md</code>):</p>
<div class="highlight"><pre><span></span><code>---
hide:
<span class="w">  </span><span class="k">-</span><span class="w"> </span>navigation
<span class="gu">  - toc</span>
<span class="gu">---</span>

<span class="gh"># HTTP API</span>

&lt;redoc src="../../openapi/openapi.yaml"/&gt;
</code></pre></div>
<p>And in <code>mkdocs.yml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redoc-tag</span>
</code></pre></div>
<p>This plugin ships the ReDoc assets with your site (no CDN), syncs dark mode with Material, and works offline—nice for intranet docs. (It uses an iframe; you don’t pass many runtime options.) (<a href="https://github.com/blueswen/mkdocs-redoc-tag" title="GitHub - blueswen/mkdocs-redoc-tag: A MkDocs plugin supports adding Redoc to the page.">GitHub</a>)</p>
<h3 id="option-2-prebuild-a-redoc-html-with-options-more-control">Option 2 — Prebuild a ReDoc HTML with options (more control)</h3>
<p>If you need specific ReDoc <strong>options</strong> (e.g., <code>pathInMiddlePanel</code>, <code>jsonSamplesExpandLevel</code>, <code>scrollYOffset</code>, <code>hideDownloadButtons</code>, etc.), prebuild a static page:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># install once</span>
npm<span class="w"> </span>i<span class="w"> </span>-g<span class="w"> </span>@redocly/cli
<span class="c1"># generate a standalone redoc page</span>
redocly<span class="w"> </span>build-docs<span class="w"> </span>openapi/openapi.yaml<span class="w"> </span>--output<span class="w"> </span>docs/api/reference.html
</code></pre></div>
<p>Then link to <code>docs/api/reference.html</code> from your nav or embed it in an <code>&lt;iframe&gt;</code>. ReDoc options are extensive—sorting, expansion, samples, and layout—and differ between CE 2.x vs newer docs; see the config reference for the canonical list and kebab-case attribute names. (<a href="https://redocly.com/docs/redoc/v2.x/config" title="Configure Redoc">Redocly</a>)</p>
<p><strong>Recommended ReDoc options for big specs</strong></p>
<ul>
<li><code>pathInMiddlePanel: true</code> (move method+path into center panel)</li>
<li><code>jsonSamplesExpandLevel: 3..5</code> (or <code>"all"</code> during authoring)</li>
<li><code>schemasExpansionLevel: 1..2</code></li>
<li><code>sortTagsAlphabetically: true</code>, <code>sortOperationsAlphabetically: true</code></li>
<li><code>scrollYOffset: ".md-header"</code> (so deep links account for sticky header)</li>
<li><code>hideDownloadButtons: true</code> (if you don’t want spec download)
  All are documented in the ReDoc config reference. (<a href="https://redocly.com/docs/redoc/v2.x/config" title="Configure Redoc">Redocly</a>)</li>
</ul>
<hr>
<h1 id="b-design-a-tag-taxonomy-that-works-across-redoc-and-mkdocs">B. Design a tag taxonomy that works across ReDoc <em>and</em> MkDocs</h1>
<h2 id="1-authoritative-tags-openapi">1) Authoritative tags (OpenAPI)</h2>
<p>Define <strong>tags</strong> at the root with clear descriptions and (optional) <code>externalDocs</code> pointing back into your MkDocs content:</p>
<div class="highlight"><pre><span></span><code><span class="nt">tags</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orders</span>
<span class="w">    </span><span class="nt">x-displayName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Orders &amp; Checkout</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Endpoints to create and manage orders.</span>
<span class="w">    </span><span class="nt">externalDocs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Architecture notes for the ordering domain</span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/architecture/orders/</span><span class="w">           </span><span class="c1"># MkDocs page</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auth</span>
<span class="w">    </span><span class="nt">x-displayName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Authentication</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Login, refresh, and revoke tokens.</span>
</code></pre></div>
<p>Use <strong>one tag per operation</strong> when tags act as categories; it keeps nav clean. Redocly rules can enforce this. <strong>x-displayName</strong> gives you a pretty label without changing the canonical <code>name</code>. (<a href="https://redocly.com/docs/cli/rules/oas/operation-singular-tag?utm_source=chatgpt.com" title="operation-singular-tag">Redocly</a>)</p>
<p>Group your tags with <strong>x-tagGroups</strong> for a two-level left nav in ReDoc:</p>
<div class="highlight"><pre><span></span><code><span class="nt">x-tagGroups</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Core</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">orders</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">customers</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">auth</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Admin</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">catalog</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">pricing</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>ReDoc will render groups → tags → operations; any tag <em>not</em> in a group won’t show—so list them all. (<a href="https://redocly.com/docs/realm/content/api-docs/openapi-extensions/x-tag-groups?utm_source=chatgpt.com" title="OpenAPI extension: x-tagGroups">Redocly</a>)</p>
<h2 id="2-traits-non-nav-markers">2) Traits (non-nav markers)</h2>
<p>Use <strong>x-traitTag: true</strong> for traits like <em>Pagination</em> or <em>Rate Limits</em>. ReDoc shows them as info (no sub-items) and renders the description, which is great for shared concerns. (<a href="https://raw.githubusercontent.com/Redocly/redoc/master/docs/redoc-vendor-extensions.md" title="raw.githubusercontent.com">GitHub</a>)</p>
<h2 id="3-stable-deep-links">3) Stable deep links</h2>
<p>Every operation needs a <strong>globally unique, URL-safe <code>operationId</code></strong> so you can deep link to it from module pages, diagrams, and blog posts:</p>
<div class="highlight"><pre><span></span><code><span class="nt">paths</span><span class="p">:</span>
<span class="w">  </span><span class="nt">/orders</span><span class="p">:</span>
<span class="w">    </span><span class="nt">post</span><span class="p">:</span>
<span class="w">      </span><span class="nt">operationId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orders.create</span>
<span class="w">      </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">orders</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>Redocly CLI rules to enforce this:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># redocly.yaml</span>
<span class="nt">extends</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">recommended</span>
<span class="nt">rules</span><span class="p">:</span>
<span class="w">  </span><span class="nt">operation-operationId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class="w">  </span><span class="nt">operation-operationId-unique</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class="w">  </span><span class="nt">operation-operationId-url-safe</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class="w">  </span><span class="nt">operation-tag-defined</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class="w">  </span><span class="nt">tag-description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">warn</span>
</code></pre></div>
<p>Run <code>redocly lint openapi/openapi.yaml</code> in CI to keep it healthy. (<a href="https://redocly.com/docs/cli/rules/recommended?utm_source=chatgpt.com" title="Recommended ruleset">Redocly</a>)</p>
<hr>
<h1 id="c-add-depth-to-operations-samples-badges-logo">C. Add depth to operations (samples, badges, logo)</h1>
<ul>
<li><strong>x-codeSamples</strong> — language-specific snippets shown in the right panel:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">paths</span><span class="p">:</span>
<span class="w">  </span><span class="nt">/orders</span><span class="p">:</span>
<span class="w">    </span><span class="nt">post</span><span class="p">:</span>
<span class="w">      </span><span class="nt">operationId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orders.create</span>
<span class="w">      </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">orders</span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">x-codeSamples</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">lang</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Python</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">            </span><span class="no">client.create_order({"sku": "ABC", "qty": 2})</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">lang</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">curl</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">            </span><span class="no">curl -X POST /orders -d '{"sku":"ABC","qty":2}'</span>
</code></pre></div>
<ul>
<li><strong>examples / x-examples</strong> — structured request/response examples to show realistic payloads.</li>
<li><strong>x-badges</strong> — add small capsules like “Beta” or “Deprecated” to the operation.</li>
<li><strong>x-logo</strong> (under <code>info</code>) — tasteful branding at the top of ReDoc. (<a href="https://redocly.com/docs-legacy/api-reference-docs/specification-extensions/x-code-samples?utm_source=chatgpt.com" title="x-codeSamples">Redocly</a>)</li>
</ul>
<hr>
<h1 id="d-make-apis-visible-everywhere-generators-you-can-paste">D. Make APIs visible <em>everywhere</em> (generators you can paste)</h1>
<h2 id="1-generate-per-tag-pages-in-mkdocs-clickable-into-redoc">1) Generate <strong>per-tag pages</strong> in MkDocs (clickable into ReDoc)</h2>
<p>Add <code>docs/_scripts/gen_api_tag_pages.py</code> and wire it in <code>mkdocs.yml</code> under <code>gen-files</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># docs/_scripts/gen_api_tag_pages.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">annotations</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">yaml</span><span class="o">,</span><span class="w"> </span><span class="nn">mkdocs_gen_files</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="n">SPEC</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">"openapi/openapi.yaml"</span><span class="p">)</span>

<span class="k">with</span> <span class="n">SPEC</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">oas</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="c1"># Build tag lookup</span>
<span class="n">tag_meta</span> <span class="o">=</span> <span class="p">{</span><span class="n">t</span><span class="p">[</span><span class="s2">"name"</span><span class="p">]:</span> <span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">oas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"tags"</span><span class="p">,</span> <span class="p">[])}</span>

<span class="c1"># Iterate operations</span>
<span class="n">tag_to_ops</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">(</span><span class="n">oas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"paths"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">method</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="p">(</span><span class="n">item</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">method</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">"get"</span><span class="p">,</span><span class="s2">"put"</span><span class="p">,</span><span class="s2">"post"</span><span class="p">,</span><span class="s2">"delete"</span><span class="p">,</span><span class="s2">"patch"</span><span class="p">,</span><span class="s2">"options"</span><span class="p">,</span><span class="s2">"head"</span><span class="p">,</span><span class="s2">"trace"</span><span class="p">}:</span>
            <span class="k">continue</span>
        <span class="n">op_id</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"operationId"</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"tags"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[]:</span>
            <span class="n">tag_to_ops</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s2">"id"</span><span class="p">:</span> <span class="n">op_id</span><span class="p">,</span> <span class="s2">"method"</span><span class="p">:</span> <span class="n">method</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="s2">"path"</span><span class="p">:</span> <span class="n">path</span><span class="p">,</span> <span class="s2">"summary"</span><span class="p">:</span> <span class="n">op</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"summary"</span><span class="p">,</span><span class="s2">""</span><span class="p">)</span>
            <span class="p">})</span>

<span class="c1"># Write a landing page</span>
<span class="k">with</span> <span class="n">mkdocs_gen_files</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"api/tags/index.md"</span><span class="p">,</span> <span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"# API tags</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">tag_to_ops</span><span class="p">):</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">"- [</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">](./</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">.md)</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

<span class="c1"># Write one page per tag</span>
<span class="k">for</span> <span class="n">tag</span><span class="p">,</span> <span class="n">ops</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">tag_to_ops</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
    <span class="n">meta</span> <span class="o">=</span> <span class="n">tag_meta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span> <span class="p">{})</span>
    <span class="k">with</span> <span class="n">mkdocs_gen_files</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">"api/tags/</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s2">.md"</span><span class="p">,</span> <span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">display</span> <span class="o">=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"x-displayName"</span><span class="p">,</span> <span class="n">tag</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">"# </span><span class="si">{</span><span class="n">display</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="s2">"description"</span> <span class="ow">in</span> <span class="n">meta</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">meta</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span> <span class="o">+</span> <span class="s2">"</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">ext</span> <span class="o">:=</span> <span class="n">meta</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"externalDocs"</span><span class="p">)):</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">"&gt; See also: [</span><span class="si">{</span><span class="n">ext</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'description'</span><span class="p">,</span><span class="s1">'More…'</span><span class="p">)</span><span class="si">}</span><span class="s2">](</span><span class="si">{</span><span class="n">ext</span><span class="p">[</span><span class="s1">'url'</span><span class="p">]</span><span class="si">}</span><span class="s2">)</span><span class="se">\n\n</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ops</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="s2">"path"</span><span class="p">]):</span>
            <span class="c1"># Deep link to ReDoc section</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s2">"- **</span><span class="si">{</span><span class="n">o</span><span class="p">[</span><span class="s1">'method'</span><span class="p">]</span><span class="si">}</span><span class="s2">** `</span><span class="si">{</span><span class="n">o</span><span class="p">[</span><span class="s1">'path'</span><span class="p">]</span><span class="si">}</span><span class="s2">` — </span><span class="si">{</span><span class="n">o</span><span class="p">[</span><span class="s1">'summary'</span><span class="p">]</span><span class="si">}</span><span class="s2"> "</span>
                    <span class="sa">f</span><span class="s2">"[View in ReDoc](../index/#operation/</span><span class="si">{</span><span class="n">o</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span><span class="si">}</span><span class="s2">)</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
</code></pre></div>
<p>This gives you <strong>MkDocs pages for each tag</strong> (with summaries and one-click jumps into ReDoc), so tags are a first-class concept outside ReDoc too. (<a href="https://redocly.com/learn/openapi/openapi-visual-reference/operation?utm_source=chatgpt.com" title="Operation Object">Redocly</a>)</p>
<blockquote>
<p>Put a “Tags” entry in your MkDocs nav under “API”. The <code>externalDocs</code> links you define on tags can point to your <strong>Architecture</strong> pages (conceptual guides), closing the loop. (<a href="https://swagger.io/docs/specification/v3_0/grouping-operations-with-tags/?utm_source=chatgpt.com" title="Grouping Operations With Tags | Swagger Docs">Swagger</a>)</p>
</blockquote>
<h2 id="2-put-tag-chips-on-your-module-pages-material-tags-plugin">2) Put <strong>tag chips</strong> on your module pages (Material tags plugin)</h2>
<p>Enable Material’s <code>tags</code> plugin and, when you generate your module pages, add front-matter like:</p>
<div class="highlight"><pre><span></span><code>---
<span class="gu">tags: [ "api:orders", "layer:domain" ]</span>
<span class="gu">---</span>
</code></pre></div>
<p>Create a simple mapping in your generator (e.g., <code>api_usage.json</code>) that lists the API tags each module touches; write them into the module page’s YAML. Material shows the chips and creates a tags index—clicking the chip lands on <code>api/tags/orders.md</code>, which then deep-links into ReDoc. (<a href="https://squidfunk.github.io/mkdocs-material/plugins/tags/?utm_source=chatgpt.com" title="Built-in tags plugin - Material for MkDocs - GitHub Pages">GitHub Pages</a>)</p>
<h2 id="3-draw-api-diagrams-d2-with-two-way-navigation">3) Draw <strong>API diagrams</strong> (D2) with two-way navigation</h2>
<p>Generate a diagram that clusters operations by tag, with <strong>links to ReDoc</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># docs/_scripts/gen_api_diagrams.py (append to your D2 generator)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">yaml</span><span class="o">,</span><span class="w"> </span><span class="nn">mkdocs_gen_files</span>
<span class="n">oas</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s2">"openapi/openapi.yaml"</span><span class="p">))</span>
<span class="n">ops</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">p</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">(</span><span class="n">oas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"paths"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">op</span> <span class="ow">in</span> <span class="p">(</span><span class="n">item</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">m</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">"GET"</span><span class="p">,</span><span class="s2">"PUT"</span><span class="p">,</span><span class="s2">"POST"</span><span class="p">,</span><span class="s2">"DELETE"</span><span class="p">,</span><span class="s2">"PATCH"</span><span class="p">,</span><span class="s2">"OPTIONS"</span><span class="p">,</span><span class="s2">"HEAD"</span><span class="p">,</span><span class="s2">"TRACE"</span><span class="p">}:</span>
            <span class="k">if</span> <span class="n">op</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"operationId"</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">op</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"tags"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">[</span><span class="s2">"untagged"</span><span class="p">]:</span>
                    <span class="n">ops</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tag</span><span class="p">,</span> <span class="n">m</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">p</span><span class="p">,</span> <span class="n">op</span><span class="p">[</span><span class="s2">"operationId"</span><span class="p">]))</span>
<span class="k">with</span> <span class="n">mkdocs_gen_files</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"diagrams/api_by_tag.d2"</span><span class="p">,</span> <span class="s2">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">d</span><span class="p">:</span>
    <span class="n">d</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">'direction: right</span><span class="se">\n</span><span class="s1">APIs: "APIs" {</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">tag</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">({(</span><span class="n">t</span><span class="p">,)</span> <span class="k">for</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">ops</span><span class="p">}):</span>
        <span class="n">d</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">'  "</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s1">": "</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s1">" </span><span class="se">{{}}\n</span><span class="s1">'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">tag</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">opid</span> <span class="ow">in</span> <span class="n">ops</span><span class="p">:</span>
        <span class="n">node</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">'</span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">'</span>
        <span class="n">d</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">'  "</span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s1">": "</span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s1">" </span><span class="se">{{</span><span class="s1"> link: "../api/index/#operation/</span><span class="si">{</span><span class="n">opid</span><span class="si">}</span><span class="s1">" </span><span class="se">}}\n</span><span class="s1">'</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">'  "</span><span class="si">{</span><span class="n">tag</span><span class="si">}</span><span class="s1">" -&gt; "</span><span class="si">{</span><span class="n">node</span><span class="si">}</span><span class="s1">"</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
    <span class="n">d</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">'}</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</code></pre></div>
<p>ReDoc accepts deep links of the form <code>#operation/{operationId}</code>, so every node in the diagram jumps into the correct operation in ReDoc. (<a href="https://github.com/Redocly/redoc/issues/1625?utm_source=chatgpt.com" title="support operationRef or operationId references in the ...">GitHub</a>)</p>
<hr>
<h1 id="e-wire-code-api-automatically-for-humans-and-agents">E. Wire <strong>code ↔ API</strong> automatically (for humans <em>and</em> agents)</h1>
<p>Add a <strong>private vendor extension</strong> to each operation that records the code symbol that implements it:</p>
<div class="highlight"><pre><span></span><code><span class="nt">paths</span><span class="p">:</span>
<span class="w">  </span><span class="nt">/orders</span><span class="p">:</span>
<span class="w">    </span><span class="nt">post</span><span class="p">:</span>
<span class="w">      </span><span class="nt">operationId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orders.create</span>
<span class="w">      </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">orders</span><span class="p p-Indicator">]</span>
<span class="w">      </span><span class="nt">x-handler</span><span class="p">:</span><span class="w"> </span><span class="s">"your_package.orders.service:create_order"</span>
</code></pre></div>
<p>Because <code>x-*</code> extensions are allowed anywhere in OpenAPI, your generators can read <code>x-handler</code> and:</p>
<ul>
<li>add “Related API operations” on the module page (with deep links),</li>
<li>add <strong>tag chips</strong> to the module,</li>
<li>draw edges from module nodes to API nodes in D2. (<a href="https://swagger.io/docs/specification/v3_0/openapi-extensions/?utm_source=chatgpt.com" title="OpenAPI Extensions | Swagger Docs">Swagger</a>)</li>
</ul>
<blockquote>
<p>Using FastAPI? You can inject vendor extensions by post-processing the schema or with a custom OpenAPI function. You can also add <strong>x-logo</strong> in the same customizer. (<a href="https://fastapi.tiangolo.com/how-to/extending-openapi/?utm_source=chatgpt.com" title="Extending OpenAPI - FastAPI">FastAPI</a>)</p>
</blockquote>
<hr>
<h1 id="f-authoring-guidelines-what-to-teach-the-team">F. Authoring guidelines (what to teach the team)</h1>
<p><strong>Tags &amp; groups</strong></p>
<ul>
<li>Treat tags as <strong>product categories</strong> (not dumping grounds). Prefer <em>one tag per operation</em>; if you need more, use <strong>x-traitTag</strong> (e.g., Pagination). Group tags with <strong>x-tagGroups</strong> (Core, Admin, etc.). Enforce with Redocly rules. (<a href="https://redocly.com/docs/cli/rules/oas/operation-singular-tag?utm_source=chatgpt.com" title="operation-singular-tag">Redocly</a>)</li>
</ul>
<p><strong>operationId</strong></p>
<ul>
<li>Required, unique, <strong>URL-safe</strong>, and stable. Use a predictable pattern like <code>resource.action</code> (<code>orders.create</code>, <code>orders.list</code>). Enforce with Redocly rules. Deep links from docs/diagrams/modules rely on this. (<a href="https://redocly.com/docs/cli/rules/oas/operation-operationId?utm_source=chatgpt.com" title="operation-operationId">Redocly</a>)</li>
</ul>
<p><strong>Samples &amp; examples</strong></p>
<ul>
<li>Provide <strong>x-codeSamples</strong> in the languages your users care about (at least cURL + one SDK). Pair with realistic <strong>examples</strong> under request/response content. (<a href="https://redocly.com/docs-legacy/api-reference-docs/specification-extensions/x-code-samples?utm_source=chatgpt.com" title="x-codeSamples">Redocly</a>)</li>
</ul>
<p><strong>Doc cohesion</strong></p>
<ul>
<li>Use tag-level <code>externalDocs</code> to link to your MkDocs <strong>Architecture</strong> pages (domain guides). In those pages, link back into ReDoc via <code>#operation/{operationId}</code>. (<a href="https://swagger.io/docs/specification/v3_0/grouping-operations-with-tags/?utm_source=chatgpt.com" title="Grouping Operations With Tags | Swagger Docs">Swagger</a>)</li>
</ul>
<p><strong>Branding &amp; clarity</strong></p>
<ul>
<li>Add <strong>x-logo</strong> under <code>info</code> and keep the left nav readable with <strong>x-displayName</strong> on tags. (<a href="https://redocly.com/docs/redoc/v2.x/redoc-vendor-extensions?utm_source=chatgpt.com" title="Redoc vendor extensions">Redocly</a>)</li>
</ul>
<hr>
<h1 id="g-example-gold-standard-openapi-header-one-operation">G. Example: “gold standard” OpenAPI header &amp; one operation</h1>
<div class="highlight"><pre><span></span><code><span class="nt">openapi</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.1.0</span>
<span class="nt">info</span><span class="p">:</span>
<span class="w">  </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Example Store API</span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1.2.0</span>
<span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">&gt;</span>
<span class="w">    </span><span class="no">REST API for order placement and management.</span>
<span class="w">  </span><span class="nt">x-logo</span><span class="p">:</span>
<span class="w">    </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://example.com/logo.svg</span>
<span class="w">    </span><span class="nt">altText</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Example</span>
<span class="nt">tags</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orders</span>
<span class="w">    </span><span class="nt">x-displayName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Orders &amp; Checkout</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Endpoints to create and manage orders.</span>
<span class="w">    </span><span class="nt">externalDocs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Domain overview</span>
<span class="w">      </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/architecture/orders/</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auth</span>
<span class="w">    </span><span class="nt">x-displayName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Authentication</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Token issuance and revocation.</span>

<span class="nt">x-tagGroups</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Core</span>
<span class="w">    </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">orders</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">auth</span><span class="p p-Indicator">]</span>

<span class="nt">paths</span><span class="p">:</span>
<span class="w">  </span><span class="nt">/orders</span><span class="p">:</span>
<span class="w">    </span><span class="nt">post</span><span class="p">:</span>
<span class="w">      </span><span class="nt">operationId</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orders.create</span>
<span class="w">      </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">orders</span><span class="p p-Indicator">]</span><span class="w">               </span><span class="c1"># single category tag</span>
<span class="w">      </span><span class="nt">summary</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create an order</span>
<span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Create a new order from items in the cart.</span>
<span class="w">      </span><span class="nt">x-handler</span><span class="p">:</span><span class="w"> </span><span class="s">"your_package.orders.service:create_order"</span>
<span class="w">      </span><span class="nt">x-codeSamples</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">lang</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">curl</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">            </span><span class="no">curl -X POST /orders -H 'Content-Type: application/json' \</span>
<span class="w">                 </span><span class="no">-d '{"items":[{"sku":"ABC","qty":2}]}'</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">lang</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Python</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">            </span><span class="no">client.create_order({"items":[{"sku":"ABC","qty":2}]})</span>
<span class="w">      </span><span class="nt">requestBody</span><span class="p">:</span>
<span class="w">        </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">content</span><span class="p">:</span>
<span class="w">          </span><span class="nt">application/json</span><span class="p">:</span>
<span class="w">            </span><span class="nt">schema</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> $ref</span><span class="p">:</span><span class="w"> </span><span class="s">'#/components/schemas/NewOrder'</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">            </span><span class="nt">examples</span><span class="p">:</span>
<span class="w">              </span><span class="nt">simple</span><span class="p">:</span>
<span class="w">                </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> items</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> sku</span><span class="p">:</span><span class="w"> </span><span class="s">"ABC"</span><span class="p p-Indicator">,</span><span class="nt"> qty</span><span class="p">:</span><span class="w"> </span><span class="nv">2</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">      </span><span class="nt">responses</span><span class="p">:</span>
<span class="w">        </span><span class="s">'201'</span><span class="p p-Indicator">:</span>
<span class="w">          </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Created</span>
<span class="w">          </span><span class="nt">content</span><span class="p">:</span>
<span class="w">            </span><span class="nt">application/json</span><span class="p">:</span>
<span class="w">              </span><span class="nt">schema</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> $ref</span><span class="p">:</span><span class="w"> </span><span class="s">'#/components/schemas/Order'</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">              </span><span class="nt">examples</span><span class="p">:</span>
<span class="w">                </span><span class="nt">ok</span><span class="p">:</span>
<span class="w">                  </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> id</span><span class="p">:</span><span class="w"> </span><span class="s">"ord_123"</span><span class="p p-Indicator">,</span><span class="nt"> status</span><span class="p">:</span><span class="w"> </span><span class="s">"pending"</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="nt">components</span><span class="p">:</span>
<span class="w">  </span><span class="nt">schemas</span><span class="p">:</span>
<span class="w">    </span><span class="nt">NewOrder</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> type</span><span class="p">:</span><span class="w"> </span><span class="nv">object</span><span class="p p-Indicator">,</span><span class="nt"> properties</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> items</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> type</span><span class="p">:</span><span class="w"> </span><span class="nv">array</span><span class="p p-Indicator">,</span><span class="nt"> items</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> $ref</span><span class="p">:</span><span class="w"> </span><span class="s">'#/components/schemas/Item'</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"> </span><span class="p p-Indicator">},</span><span class="nt"> required</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">items</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">    </span><span class="nt">Item</span><span class="p">:</span><span class="w">     </span><span class="p p-Indicator">{</span><span class="nt"> type</span><span class="p">:</span><span class="w"> </span><span class="nv">object</span><span class="p p-Indicator">,</span><span class="nt"> properties</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> sku</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> type</span><span class="p">:</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p p-Indicator">},</span><span class="nt"> qty</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> type</span><span class="p">:</span><span class="w"> </span><span class="nv">integer</span><span class="p p-Indicator">,</span><span class="nt"> minimum</span><span class="p">:</span><span class="w"> </span><span class="nv">1</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"> </span><span class="p p-Indicator">},</span><span class="nt"> required</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">sku</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">qty</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="p p-Indicator">}</span>
<span class="w">    </span><span class="nt">Order</span><span class="p">:</span><span class="w">    </span><span class="p p-Indicator">{</span><span class="nt"> type</span><span class="p">:</span><span class="w"> </span><span class="nv">object</span><span class="p p-Indicator">,</span><span class="nt"> properties</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> id</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> type</span><span class="p">:</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p p-Indicator">},</span><span class="nt"> status</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> type</span><span class="p">:</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"> </span><span class="p p-Indicator">},</span><span class="nt"> required</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">id</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">status</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="p p-Indicator">}</span>
</code></pre></div>
<ul>
<li>Notes: <code>operationId</code> enables ReDoc deep links, <strong>x-handler</strong> enables code↔API generation, <strong>x-codeSamples</strong> shows code on the right, <code>externalDocs</code> on the tag bridges to your concept pages. (<a href="https://redocly.com/learn/openapi/openapi-visual-reference/operation?utm_source=chatgpt.com" title="Operation Object">Redocly</a>)</li>
</ul>
<hr>
<h1 id="h-connect-everything-with-ci">H. Connect everything with CI</h1>
<ol>
<li><strong>Lint &amp; bundle</strong> OpenAPI:</li>
</ol>
<div class="highlight"><pre><span></span><code>redocly<span class="w"> </span>lint<span class="w"> </span>openapi/openapi.yaml<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>redocly<span class="w"> </span>bundle<span class="w"> </span>openapi/openapi.yaml<span class="w"> </span>-o<span class="w"> </span>openapi/bundled.yaml
</code></pre></div>
<p>Use <code>redocly.yaml</code> with the rules above (and any others you want from the recommended/minimal sets). (<a href="https://redocly.com/docs/cli/guides/lint-and-bundle?utm_source=chatgpt.com" title="Lint and bundle API descriptions with Redocly CLI">Redocly</a>)</p>
<ol>
<li>
<p><strong>MkDocs build</strong> runs the three generators:</p>
</li>
<li>
<p><code>gen_module_pages.py</code> (modules + nearest neighbors)</p>
</li>
<li><code>gen_api_tag_pages.py</code> (MkDocs pages per tag)</li>
<li>
<p><code>gen_api_diagrams.py</code> (API diagram with clickable nodes)</p>
</li>
<li>
<p>Optionally prebuild a <strong>ReDoc static HTML</strong> with options and ship it under <code>docs/api/reference.html</code>. (<a href="https://github.com/Redocly/redoc?utm_source=chatgpt.com" title="OpenAPI/Swagger-generated API Reference Documentation">GitHub</a>)</p>
</li>
</ol>
<hr>
<h2 id="quick-checklist-for-your-repo">Quick checklist for your repo</h2>
<ul>
<li>[ ] Root <strong>tags</strong> with <strong>description</strong>, <strong>x-displayName</strong>, and <strong>externalDocs</strong></li>
<li>[ ] <strong>x-tagGroups</strong> for 2-level nav grouping</li>
<li>[ ] <strong>operationId</strong>: unique, URL-safe, stable (enforced by Redocly)</li>
<li>[ ] <strong>x-codeSamples</strong> + realistic <strong>examples</strong> per operation</li>
<li>[ ] <strong>x-handler</strong> (private) to bind operations to code symbols</li>
<li>[ ] <code>gen_api_tag_pages.py</code> + <code>gen_api_diagrams.py</code> wired via <code>mkdocs-gen-files</code></li>
<li>[ ] Material <strong>tags plugin</strong> enabled; module pages populated with <code>api:&lt;tag&gt;</code> chips</li>
<li>[ ] ReDoc configured (via plugin or prebuilt HTML) with sensible options</li>
<li>[ ] CI: <code>redocly lint</code> + MkDocs <code>--strict</code> builds</li>
</ul>
<p>If you want, share a small excerpt of your <code>openapi.yaml</code> (2–3 operations) and your package name; I’ll tailor the two generators to emit tag chips and cross-links for your exact repo layout, and propose a focused Redocly ruleset matching your naming conventions.</p>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="Last update">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg>
</span>
<span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="November 5, 2025 11:57:58 UTC">November 5, 2025</span>
</span>
</aside>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.top", "navigation.tracking", "navigation.footer", "content.action.edit", "content.action.view"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
<script>document$.subscribe(() => {
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("redoc-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>