{"parents": [{"link": "../", "title": "How-to Guides"}], "prev": {"link": "../", "title": "How-to Guides"}, "next": {"link": "../contributing-gallery-examples/", "title": "Contributing Sphinx-Gallery Examples"}, "title": "Contributing Docstrings and Documentation", "meta": {"myst_slugs": {"contributing-docstrings-and-documentation": [1, "contributing-docstrings-and-documentation", "Contributing Docstrings and Documentation"], "required-sections": [7, "required-sections", "Required Sections"], "templates": [24, "templates", "Templates"], "validation-pipeline": [64, "validation-pipeline", "Validation Pipeline"]}, "wordcount": {"words": 193, "minutes": 1}}, "body": "<section id=\"contributing-docstrings-and-documentation\">\n<h1>Contributing Docstrings and Documentation<a class=\"headerlink\" href=\"#contributing-docstrings-and-documentation\" title=\"Link to this heading\">#</a></h1>\n<p>The documentation pipeline now enforces strict <strong>NumPy-style docstrings</strong> across the\nentire project. Follow the guidelines below whenever you add or update code so that\npre-commit hooks and the automated documentation build succeed.</p>\n<section id=\"required-sections\">\n<h2>Required Sections<a class=\"headerlink\" href=\"#required-sections\" title=\"Link to this heading\">#</a></h2>\n<p>Every public function <strong>must</strong> include the following sections (omit only when empty):</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">Parameters</span></code> with entries of the form <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span> <span class=\"pre\">:</span> <span class=\"pre\">type</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">,</span> <span class=\"pre\">optional</span></code> when defaults exist</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">Returns</span></code> describing the return type/value (skip if the function returns <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>)</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">Raises</span></code> listing each exception that can be raised and the condition</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">Examples</span></code> containing at least one doctestable block using <code class=\"docutils literal notranslate\"><span class=\"pre\">&gt;&gt;&gt;</span></code></p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">See</span> <span class=\"pre\">Also</span></code> referencing related functions, classes, or modules</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">Notes</span></code> summarising constraints, complexity, or behavioural caveats</p></li>\n</ul>\n<p>Public classes <strong>must</strong> also document an <code class=\"docutils literal notranslate\"><span class=\"pre\">Attributes</span></code> section and list each public\nmethod under <code class=\"docutils literal notranslate\"><span class=\"pre\">Methods</span></code>. When no attributes exist, include <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> with a short explanation.</p>\n<p>Module docstrings should start with an imperative summary and may include <code class=\"docutils literal notranslate\"><span class=\"pre\">Notes</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">See</span> <span class=\"pre\">Also</span></code>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">References</span></code>. Custom sections such as <code class=\"docutils literal notranslate\"><span class=\"pre\">NavMap:</span></code> are no longer allowed.</p>\n</section>\n<section id=\"templates\">\n<h2>Templates<a class=\"headerlink\" href=\"#templates\" title=\"Link to this heading\">#</a></h2>\n<p>Docstring generation uses templates in <code class=\"docutils literal notranslate\"><span class=\"pre\">tools/doq_templates/numpy/</span></code>. When writing\nmanual docstrings, mirror the structure below:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"sd\">&quot;&quot;&quot;Summarise the function in the imperative mood.</span>\n\n<span class=\"sd\">Parameters</span>\n<span class=\"sd\">----------</span>\n<span class=\"sd\">arg : type</span>\n<span class=\"sd\">    Concise description of the argument.</span>\n\n<span class=\"sd\">Returns</span>\n<span class=\"sd\">-------</span>\n<span class=\"sd\">return_type</span>\n<span class=\"sd\">    Explain what is returned.</span>\n\n<span class=\"sd\">Raises</span>\n<span class=\"sd\">------</span>\n<span class=\"sd\">ExceptionType</span>\n<span class=\"sd\">    State the condition that triggers the exception.</span>\n\n<span class=\"sd\">Examples</span>\n<span class=\"sd\">--------</span>\n<span class=\"sd\">&gt;&gt;&gt; from package.module import function</span>\n<span class=\"sd\">&gt;&gt;&gt; result = function(...)</span>\n<span class=\"sd\">&gt;&gt;&gt; result  # doctest: +ELLIPSIS</span>\n<span class=\"sd\">...</span>\n\n<span class=\"sd\">See Also</span>\n<span class=\"sd\">--------</span>\n<span class=\"sd\">package.module.other_function</span>\n\n<span class=\"sd\">Notes</span>\n<span class=\"sd\">-----</span>\n<span class=\"sd\">Mention constraints, complexity, or other important behaviour.</span>\n<span class=\"sd\">&quot;&quot;&quot;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"validation-pipeline\">\n<h2>Validation Pipeline<a class=\"headerlink\" href=\"#validation-pipeline\" title=\"Link to this heading\">#</a></h2>\n<p>The following tools run automatically in CI and via <code class=\"docutils literal notranslate\"><span class=\"pre\">pre-commit</span></code>:</p>\n<ul class=\"simple\">\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">pydoclint</span> <span class=\"pre\">--style</span> <span class=\"pre\">numpy</span> <span class=\"pre\">src</span></code> enforces parameter/return parity</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">pydocstyle</span></code> checks NumPy docstring formatting</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">interrogate</span> <span class=\"pre\">-i</span> <span class=\"pre\">src</span> <span class=\"pre\">--fail-under</span> <span class=\"pre\">90</span></code> maintains 90% coverage</p></li>\n<li><p><code class=\"docutils literal notranslate\"><span class=\"pre\">python</span> <span class=\"pre\">tools/update_navmaps.py</span></code> aborts if any docstring still contains <code class=\"docutils literal notranslate\"><span class=\"pre\">NavMap:</span></code></p></li>\n</ul>\n<p>Run these locally before pushing:</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span>make<span class=\"w\"> </span>docstrings<span class=\"w\">            </span><span class=\"c1\"># Regenerate docstrings using the latest templates</span>\npre-commit<span class=\"w\"> </span>run<span class=\"w\"> </span>--all-files<span class=\"w\"> </span><span class=\"c1\"># Run the full docstring validation suite</span>\npytest<span class=\"w\"> </span>--doctest-modules<span class=\"w\"> </span>src\n</pre></div>\n</div>\n<p>Refer to the <a class=\"reference external\" href=\"https://numpydoc.readthedocs.io/en/latest/format.html\">NumPy docstring style guide</a>\nfor additional examples and best practices.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["how-to/contributing-gallery-examples", "Contributing Sphinx-Gallery Examples", "N", "next"], ["how-to/index", "How-to Guides", "P", "previous"]], "sourcename": "how-to/contributing.md.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Contributing Docstrings and Documentation</a><ul>\n<li><a class=\"reference internal\" href=\"#required-sections\">Required Sections</a></li>\n<li><a class=\"reference internal\" href=\"#templates\">Templates</a></li>\n<li><a class=\"reference internal\" href=\"#validation-pipeline\">Validation Pipeline</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".md", "has_maths_elements": false, "current_page_name": "how-to/contributing", "sidebars": ["sidebar-nav-bs.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "theme_show_toc_level": 1, "generate_toctree_html": "<functools._lru_cache_wrapper object at 0x7628d6107d70>", "generate_toc_html": "<functools._lru_cache_wrapper object at 0x7628d6105590>", "theme_version": "0.16.1", "theme_logo": {"image_relative": {}}}
