{"parents": [{"link": "../../../", "title": "Module code"}], "title": "src.kg_builder.mock_kg", "body": "<h1>Source code for src.kg_builder.mock_kg</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"linenos\"> 1</span><span class=\"sd\">&quot;&quot;&quot;Module for kg_builder.mock_kg.</span>\n<span class=\"linenos\"> 2</span>\n<span class=\"linenos\"> 3</span><span class=\"sd\">NavMap:</span>\n<span class=\"linenos\"> 4</span><span class=\"sd\">- MockKG: A tiny in-memory KG for demo.</span>\n<span class=\"linenos\"> 5</span><span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"linenos\"> 6</span>\n<span class=\"linenos\"> 7</span><span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">__future__</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">annotations</span>\n<span class=\"linenos\"> 8</span>\n<span class=\"linenos\"> 9</span>\n<div class=\"viewcode-block\" id=\"MockKG\">\n<a class=\"viewcode-back\" href=\"../../../../autoapi/src/kg_builder/mock_kg/#src.kg_builder.mock_kg.MockKG\">[docs]</a>\n<span class=\"linenos\">10</span><span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MockKG</span><span class=\"p\">:</span>\n<span class=\"linenos\">11</span><span class=\"w\">    </span><span class=\"sd\">&quot;&quot;&quot;A tiny in-memory KG for demo.</span>\n<span class=\"linenos\">12</span>\n<span class=\"linenos\">13</span><span class=\"sd\">    Maps chunk_id -&gt; set(concept_id) and concept adjacency.</span>\n<span class=\"linenos\">14</span><span class=\"sd\">    &quot;&quot;&quot;</span>\n<span class=\"linenos\">15</span>\n<span class=\"linenos\">16</span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n<span class=\"linenos\">17</span><span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Init.&quot;&quot;&quot;</span>\n<div class=\"viewcode-block\" id=\"MockKG.chunk2concepts\">\n<a class=\"viewcode-back\" href=\"../../../../autoapi/src/kg_builder/mock_kg/#src.kg_builder.mock_kg.MockKG.chunk2concepts\">[docs]</a>\n<span class=\"linenos\">18</span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">chunk2concepts</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">set</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"p\">{}</span></div>\n\n<div class=\"viewcode-block\" id=\"MockKG.neighbors\">\n<a class=\"viewcode-back\" href=\"../../../../autoapi/src/kg_builder/mock_kg/#src.kg_builder.mock_kg.MockKG.neighbors\">[docs]</a>\n<span class=\"linenos\">19</span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">neighbors</span><span class=\"p\">:</span> <span class=\"nb\">dict</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"nb\">set</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]]</span> <span class=\"o\">=</span> <span class=\"p\">{}</span></div>\n\n<span class=\"linenos\">20</span>\n<div class=\"viewcode-block\" id=\"MockKG.add_mention\">\n<a class=\"viewcode-back\" href=\"../../../../autoapi/src/kg_builder/mock_kg/#src.kg_builder.mock_kg.MockKG.add_mention\">[docs]</a>\n<span class=\"linenos\">21</span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">add_mention</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">chunk_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">concept_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n<span class=\"linenos\">22</span><span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Add mention.</span>\n<span class=\"linenos\">23</span>\n<span class=\"linenos\">24</span><span class=\"sd\">        Args:</span>\n<span class=\"linenos\">25</span><span class=\"sd\">            chunk_id (str): TODO.</span>\n<span class=\"linenos\">26</span><span class=\"sd\">            concept_id (str): TODO.</span>\n<span class=\"linenos\">27</span><span class=\"sd\">        &quot;&quot;&quot;</span>\n<span class=\"linenos\">28</span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">chunk2concepts</span><span class=\"o\">.</span><span class=\"n\">setdefault</span><span class=\"p\">(</span><span class=\"n\">chunk_id</span><span class=\"p\">,</span> <span class=\"nb\">set</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">concept_id</span><span class=\"p\">)</span></div>\n\n<span class=\"linenos\">29</span>\n<div class=\"viewcode-block\" id=\"MockKG.add_edge\">\n<a class=\"viewcode-back\" href=\"../../../../autoapi/src/kg_builder/mock_kg/#src.kg_builder.mock_kg.MockKG.add_edge\">[docs]</a>\n<span class=\"linenos\">30</span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">add_edge</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n<span class=\"linenos\">31</span><span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Add edge.</span>\n<span class=\"linenos\">32</span>\n<span class=\"linenos\">33</span><span class=\"sd\">        Args:</span>\n<span class=\"linenos\">34</span><span class=\"sd\">            a (str): TODO.</span>\n<span class=\"linenos\">35</span><span class=\"sd\">            b (str): TODO.</span>\n<span class=\"linenos\">36</span><span class=\"sd\">        &quot;&quot;&quot;</span>\n<span class=\"linenos\">37</span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">neighbors</span><span class=\"o\">.</span><span class=\"n\">setdefault</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"nb\">set</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">)</span>\n<span class=\"linenos\">38</span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">neighbors</span><span class=\"o\">.</span><span class=\"n\">setdefault</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"nb\">set</span><span class=\"p\">())</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span></div>\n\n<span class=\"linenos\">39</span>\n<div class=\"viewcode-block\" id=\"MockKG.linked_concepts\">\n<a class=\"viewcode-back\" href=\"../../../../autoapi/src/kg_builder/mock_kg/#src.kg_builder.mock_kg.MockKG.linked_concepts\">[docs]</a>\n<span class=\"linenos\">40</span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">linked_concepts</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">chunk_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"nb\">list</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]:</span>\n<span class=\"linenos\">41</span><span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;Linked concepts.</span>\n<span class=\"linenos\">42</span>\n<span class=\"linenos\">43</span><span class=\"sd\">        Args:</span>\n<span class=\"linenos\">44</span><span class=\"sd\">            chunk_id (str): TODO.</span>\n<span class=\"linenos\">45</span>\n<span class=\"linenos\">46</span><span class=\"sd\">        Returns:</span>\n<span class=\"linenos\">47</span><span class=\"sd\">            List[str]: TODO.</span>\n<span class=\"linenos\">48</span><span class=\"sd\">        &quot;&quot;&quot;</span>\n<span class=\"linenos\">49</span>        <span class=\"k\">return</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">chunk2concepts</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">chunk_id</span><span class=\"p\">,</span> <span class=\"nb\">set</span><span class=\"p\">()))</span></div>\n\n<span class=\"linenos\">50</span>\n<div class=\"viewcode-block\" id=\"MockKG.one_hop\">\n<a class=\"viewcode-back\" href=\"../../../../autoapi/src/kg_builder/mock_kg/#src.kg_builder.mock_kg.MockKG.one_hop\">[docs]</a>\n<span class=\"linenos\">51</span>    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">one_hop</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">concept_id</span><span class=\"p\">:</span> <span class=\"nb\">str</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"nb\">list</span><span class=\"p\">[</span><span class=\"nb\">str</span><span class=\"p\">]:</span>\n<span class=\"linenos\">52</span><span class=\"w\">        </span><span class=\"sd\">&quot;&quot;&quot;One hop.</span>\n<span class=\"linenos\">53</span>\n<span class=\"linenos\">54</span><span class=\"sd\">        Args:</span>\n<span class=\"linenos\">55</span><span class=\"sd\">            concept_id (str): TODO.</span>\n<span class=\"linenos\">56</span>\n<span class=\"linenos\">57</span><span class=\"sd\">        Returns:</span>\n<span class=\"linenos\">58</span><span class=\"sd\">            List[str]: TODO.</span>\n<span class=\"linenos\">59</span><span class=\"sd\">        &quot;&quot;&quot;</span>\n<span class=\"linenos\">60</span>        <span class=\"k\">return</span> <span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">neighbors</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">concept_id</span><span class=\"p\">,</span> <span class=\"nb\">set</span><span class=\"p\">()))</span></div>\n</div>\n\n</pre></div>", "current_page_name": "_modules/src/kg_builder/mock_kg", "sidebars": ["sidebar-nav-bs.html"], "alabaster_version": "0.7.16", "alabaster_version_info": [0, 7, 16], "theme_show_toc_level": 1, "generate_toctree_html": "<functools._lru_cache_wrapper object at 0x790a6a38e770>", "generate_toc_html": "<functools._lru_cache_wrapper object at 0x790a6a38e820>", "theme_version": "0.16.1", "theme_logo": {"image_relative": {}}}