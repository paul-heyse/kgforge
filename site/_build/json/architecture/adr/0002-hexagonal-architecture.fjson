{"parents": [{"link": "../../", "title": "Architecture"}], "prev": {"link": "../0001-record-architecture-decisions/", "title": "0001 \u2013 Record architecture decisions"}, "next": null, "title": "0002 \u2013 Adopt a Hexagonal Architecture", "meta": {"wordcount": {"words": 75, "minutes": 0}}, "body": "<section id=\"adopt-a-hexagonal-architecture\">\n<h1>0002 \u2013 Adopt a Hexagonal Architecture<a class=\"headerlink\" href=\"#adopt-a-hexagonal-architecture\" title=\"Link to this heading\">#</a></h1>\n<p>Date: 2025-10-25</p>\n<section id=\"status\">\n<h2>Status<a class=\"headerlink\" href=\"#status\" title=\"Link to this heading\">#</a></h2>\n<p>Accepted</p>\n</section>\n<section id=\"context\">\n<h2>Context<a class=\"headerlink\" href=\"#context\" title=\"Link to this heading\">#</a></h2>\n<p>We are delivering a single-machine, high-performance hybrid search system that stitches together DocTags, Qwen3 embeddings, SPLADE, FAISS GPU/cuVS, and DuckDB as the registry. We must keep interfaces stable while enabling rapid iteration.</p>\n</section>\n<section id=\"decision\">\n<h2>Decision<a class=\"headerlink\" href=\"#decision\" title=\"Link to this heading\">#</a></h2>\n<p>Adopt a hexagonal architecture with strict inbound/outbound ports. Persist vectors in Parquet to keep storage self-describing and tooling-friendly.</p>\n</section>\n<section id=\"consequences\">\n<h2>Consequences<a class=\"headerlink\" href=\"#consequences\" title=\"Link to this heading\">#</a></h2>\n<ul class=\"simple\">\n<li><p>Independent workstreams can progress without coordination friction.</p></li>\n<li><p>Ports/adapters isolate infrastructure churn from core domain logic.</p></li>\n<li><p>Testing and reproducibility improve because IO remains deterministic.</p></li>\n</ul>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["architecture/adr/0001-record-architecture-decisions", "0001 \u2013 Record architecture decisions", "P", "previous"]], "sourcename": "architecture/adr/0002-hexagonal-architecture.md.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">0002 \u2013 Adopt a Hexagonal Architecture</a><ul>\n<li><a class=\"reference internal\" href=\"#status\">Status</a></li>\n<li><a class=\"reference internal\" href=\"#context\">Context</a></li>\n<li><a class=\"reference internal\" href=\"#decision\">Decision</a></li>\n<li><a class=\"reference internal\" href=\"#consequences\">Consequences</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".md", "has_maths_elements": false, "current_page_name": "architecture/adr/0002-hexagonal-architecture", "sidebars": ["sidebar-nav-bs.html"], "alabaster_version": "0.7.16", "alabaster_version_info": [0, 7, 16], "theme_show_toc_level": 1, "generate_toctree_html": "<functools._lru_cache_wrapper object at 0x71d6eb7d9bc0>", "generate_toc_html": "<functools._lru_cache_wrapper object at 0x71d6eb7d96f0>", "theme_version": "0.16.1", "theme_logo": {"image_relative": {}}}