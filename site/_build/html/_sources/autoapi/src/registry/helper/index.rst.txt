src.registry.helper
===================

.. py:module:: src.registry.helper

.. autoapi-nested-parse::

   Module for registry.helper.

   NavMap:
   - NavMap: Structure describing a module navmap.
   - DuckDBRegistryHelper: Open short-lived DuckDB connections for registry operations.





Module Contents
---------------

.. py:class:: DuckDBRegistryHelper(db_path)

   Open short-lived DuckDB connections for registry operations.


   .. py:attribute:: db_path


   .. py:method:: new_run(purpose, model_id, revision, config)

      Create a new run record and return its identifier.



   .. py:method:: close_run(run_id, success, notes = None)

      Mark a run as finished and emit a pipeline event.



   .. py:method:: begin_dataset(kind, run_id)

      Create a dataset placeholder associated with ``run_id``.



   .. py:method:: commit_dataset(dataset_id, parquet_root, rows)

      Persist parquet location metadata and emit a commit event.



   .. py:method:: rollback_dataset(dataset_id)

      Delete a dataset and record a rollback event.



   .. py:method:: register_documents(docs)

      Insert or update document metadata rows.



   .. py:method:: register_doctags(assets)

      Insert doctag metadata rows for VLM artefacts.



   .. py:method:: emit_event(event_name, subject_id, payload)

      Emit an ad-hoc event into the pipeline events table.



