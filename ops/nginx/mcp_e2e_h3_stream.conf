# L4 pass-through for end-to-end HTTP/3. nginx forwards TCP/UDP 443 untouched.

stream {
    upstream hypercorn_origin {
        server 127.0.0.1:443;
    }

    server {
        listen 443;
        proxy_pass hypercorn_origin;
        proxy_timeout 3600s;
    }

    server {
        listen 443 udp reuseport;
        proxy_pass hypercorn_origin;
        proxy_timeout 3600s;
    }
}
