Module(body=[Expr(value=Constant(value='Failure summary rendering for docstring builder runs.', lineno=1, col_offset=0, end_lineno=1, end_col_offset=59), lineno=1, col_offset=0, end_lineno=1, end_col_offset=59), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=3, col_offset=23, end_lineno=3, end_col_offset=34)], level=0, lineno=3, col_offset=0, end_lineno=3, end_col_offset=34), ImportFrom(module='dataclasses', names=[alias(name='dataclass', lineno=5, col_offset=24, end_lineno=5, end_col_offset=33)], level=0, lineno=5, col_offset=0, end_lineno=5, end_col_offset=33), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=6, col_offset=19, end_lineno=6, end_col_offset=32)], level=0, lineno=6, col_offset=0, end_lineno=6, end_col_offset=32), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=8, col_offset=3, end_lineno=8, end_col_offset=16), body=[ImportFrom(module='collections.abc', names=[alias(name='Mapping', lineno=9, col_offset=32, end_lineno=9, end_col_offset=39), alias(name='Sequence', lineno=9, col_offset=41, end_lineno=9, end_col_offset=49)], level=0, lineno=9, col_offset=4, end_lineno=9, end_col_offset=49), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=10, col_offset=24, end_lineno=10, end_col_offset=28)], level=0, lineno=10, col_offset=4, end_lineno=10, end_col_offset=28), ImportFrom(module='tools.docstring_builder.builder_types', names=[alias(name='LoggerLike', lineno=12, col_offset=54, end_lineno=12, end_col_offset=64)], level=0, lineno=12, col_offset=4, end_lineno=12, end_col_offset=64), ImportFrom(module='tools.docstring_builder.pipeline_types', names=[alias(name='ErrorEnvelope', lineno=13, col_offset=55, end_lineno=13, end_col_offset=68)], level=0, lineno=13, col_offset=4, end_lineno=13, end_col_offset=68)], lineno=8, col_offset=0, end_lineno=13, end_col_offset=68), ClassDef(name='RunSummarySnapshot', body=[Expr(value=Constant(value='Condensed view of pipeline run statistics.', lineno=18, col_offset=4, end_lineno=18, end_col_offset=52), lineno=18, col_offset=4, end_lineno=18, end_col_offset=52), AnnAssign(target=Name(id='considered', ctx=Store(), lineno=20, col_offset=4, end_lineno=20, end_col_offset=14), annotation=Name(id='int', ctx=Load(), lineno=20, col_offset=16, end_lineno=20, end_col_offset=19), simple=1, lineno=20, col_offset=4, end_lineno=20, end_col_offset=19), AnnAssign(target=Name(id='processed', ctx=Store(), lineno=21, col_offset=4, end_lineno=21, end_col_offset=13), annotation=Name(id='int', ctx=Load(), lineno=21, col_offset=15, end_lineno=21, end_col_offset=18), simple=1, lineno=21, col_offset=4, end_lineno=21, end_col_offset=18), AnnAssign(target=Name(id='changed', ctx=Store(), lineno=22, col_offset=4, end_lineno=22, end_col_offset=11), annotation=Name(id='int', ctx=Load(), lineno=22, col_offset=13, end_lineno=22, end_col_offset=16), simple=1, lineno=22, col_offset=4, end_lineno=22, end_col_offset=16), AnnAssign(target=Name(id='status_counts', ctx=Store(), lineno=23, col_offset=4, end_lineno=23, end_col_offset=17), annotation=Subscript(value=Name(id='Mapping', ctx=Load(), lineno=23, col_offset=19, end_lineno=23, end_col_offset=26), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=23, col_offset=27, end_lineno=23, end_col_offset=30), Name(id='int', ctx=Load(), lineno=23, col_offset=32, end_lineno=23, end_col_offset=35)], ctx=Load(), lineno=23, col_offset=27, end_lineno=23, end_col_offset=35), ctx=Load(), lineno=23, col_offset=19, end_lineno=23, end_col_offset=36), simple=1, lineno=23, col_offset=4, end_lineno=23, end_col_offset=36), AnnAssign(target=Name(id='observability_path', ctx=Store(), lineno=24, col_offset=4, end_lineno=24, end_col_offset=22), annotation=Name(id='Path', ctx=Load(), lineno=24, col_offset=24, end_lineno=24, end_col_offset=28), simple=1, lineno=24, col_offset=4, end_lineno=24, end_col_offset=28)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=16, col_offset=1, end_lineno=16, end_col_offset=10), keywords=[keyword(arg='slots', value=Constant(value=True, lineno=16, col_offset=17, end_lineno=16, end_col_offset=21), lineno=16, col_offset=11, end_lineno=16, end_col_offset=21), keyword(arg='frozen', value=Constant(value=True, lineno=16, col_offset=30, end_lineno=16, end_col_offset=34), lineno=16, col_offset=23, end_lineno=16, end_col_offset=34)], lineno=16, col_offset=1, end_lineno=16, end_col_offset=35)], lineno=17, col_offset=0, end_lineno=24, end_col_offset=28), ClassDef(name='FailureSummaryRenderer', body=[Expr(value=Constant(value='Emit structured failure summaries for CLI output.', lineno=29, col_offset=4, end_lineno=29, end_col_offset=59), lineno=29, col_offset=4, end_lineno=29, end_col_offset=59), AnnAssign(target=Name(id='logger', ctx=Store(), lineno=31, col_offset=4, end_lineno=31, end_col_offset=10), annotation=Name(id='LoggerLike', ctx=Load(), lineno=31, col_offset=12, end_lineno=31, end_col_offset=22), simple=1, lineno=31, col_offset=4, end_lineno=31, end_col_offset=22), FunctionDef(name='render', args=arguments(args=[arg(arg='self', lineno=33, col_offset=15, end_lineno=33, end_col_offset=19), arg(arg='summary', annotation=Name(id='RunSummarySnapshot', ctx=Load(), lineno=33, col_offset=30, end_lineno=33, end_col_offset=48), lineno=33, col_offset=21, end_lineno=33, end_col_offset=48), arg(arg='errors', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=33, col_offset=58, end_lineno=33, end_col_offset=66), slice=Name(id='ErrorEnvelope', ctx=Load(), lineno=33, col_offset=67, end_lineno=33, end_col_offset=80), ctx=Load(), lineno=33, col_offset=58, end_lineno=33, end_col_offset=81), lineno=33, col_offset=50, end_lineno=33, end_col_offset=81)]), body=[Expr(value=Constant(value='Render a structured summary when the run does not succeed.', lineno=34, col_offset=8, end_lineno=34, end_col_offset=72), lineno=34, col_offset=8, end_lineno=34, end_col_offset=72), If(test=UnaryOp(op=Not(), operand=Name(id='errors', ctx=Load(), lineno=35, col_offset=15, end_lineno=35, end_col_offset=21), lineno=35, col_offset=11, end_lineno=35, end_col_offset=21), body=[Return(lineno=36, col_offset=12, end_lineno=36, end_col_offset=18)], lineno=35, col_offset=8, end_lineno=36, end_col_offset=18), Assign(targets=[Name(id='lines', ctx=Store(), lineno=38, col_offset=8, end_lineno=38, end_col_offset=13)], value=List(elts=[Constant(value='[SUMMARY] Docstring builder reported issues.', lineno=38, col_offset=17, end_lineno=38, end_col_offset=63)], ctx=Load(), lineno=38, col_offset=16, end_lineno=38, end_col_offset=64), lineno=38, col_offset=8, end_lineno=38, end_col_offset=64), Expr(value=Call(func=Attribute(value=Name(id='lines', ctx=Load(), lineno=39, col_offset=8, end_lineno=39, end_col_offset=13), attr='append', ctx=Load(), lineno=39, col_offset=8, end_lineno=39, end_col_offset=20), args=[JoinedStr(values=[Constant(value='  Considered files: ', lineno=39, col_offset=23, end_lineno=39, end_col_offset=43), FormattedValue(value=Attribute(value=Name(id='summary', ctx=Load(), lineno=39, col_offset=44, end_lineno=39, end_col_offset=51), attr='considered', ctx=Load(), lineno=39, col_offset=44, end_lineno=39, end_col_offset=62), conversion=-1, lineno=39, col_offset=43, end_lineno=39, end_col_offset=63)], lineno=39, col_offset=21, end_lineno=39, end_col_offset=64)], lineno=39, col_offset=8, end_lineno=39, end_col_offset=65), lineno=39, col_offset=8, end_lineno=39, end_col_offset=65), Expr(value=Call(func=Attribute(value=Name(id='lines', ctx=Load(), lineno=40, col_offset=8, end_lineno=40, end_col_offset=13), attr='append', ctx=Load(), lineno=40, col_offset=8, end_lineno=40, end_col_offset=20), args=[JoinedStr(values=[Constant(value='  Processed files: ', lineno=40, col_offset=23, end_lineno=40, end_col_offset=42), FormattedValue(value=Attribute(value=Name(id='summary', ctx=Load(), lineno=40, col_offset=43, end_lineno=40, end_col_offset=50), attr='processed', ctx=Load(), lineno=40, col_offset=43, end_lineno=40, end_col_offset=60), conversion=-1, lineno=40, col_offset=42, end_lineno=40, end_col_offset=61)], lineno=40, col_offset=21, end_lineno=40, end_col_offset=62)], lineno=40, col_offset=8, end_lineno=40, end_col_offset=63), lineno=40, col_offset=8, end_lineno=40, end_col_offset=63), Expr(value=Call(func=Attribute(value=Name(id='lines', ctx=Load(), lineno=41, col_offset=8, end_lineno=41, end_col_offset=13), attr='append', ctx=Load(), lineno=41, col_offset=8, end_lineno=41, end_col_offset=20), args=[JoinedStr(values=[Constant(value='  Changed files: ', lineno=41, col_offset=23, end_lineno=41, end_col_offset=40), FormattedValue(value=Attribute(value=Name(id='summary', ctx=Load(), lineno=41, col_offset=41, end_lineno=41, end_col_offset=48), attr='changed', ctx=Load(), lineno=41, col_offset=41, end_lineno=41, end_col_offset=56), conversion=-1, lineno=41, col_offset=40, end_lineno=41, end_col_offset=57)], lineno=41, col_offset=21, end_lineno=41, end_col_offset=58)], lineno=41, col_offset=8, end_lineno=41, end_col_offset=59), lineno=41, col_offset=8, end_lineno=41, end_col_offset=59), Expr(value=Call(func=Attribute(value=Name(id='lines', ctx=Load(), lineno=42, col_offset=8, end_lineno=42, end_col_offset=13), attr='append', ctx=Load(), lineno=42, col_offset=8, end_lineno=42, end_col_offset=20), args=[JoinedStr(values=[Constant(value='  Status counts: ', lineno=42, col_offset=23, end_lineno=42, end_col_offset=40), FormattedValue(value=Call(func=Name(id='dict', ctx=Load(), lineno=42, col_offset=41, end_lineno=42, end_col_offset=45), args=[Attribute(value=Name(id='summary', ctx=Load(), lineno=42, col_offset=46, end_lineno=42, end_col_offset=53), attr='status_counts', ctx=Load(), lineno=42, col_offset=46, end_lineno=42, end_col_offset=67)], lineno=42, col_offset=41, end_lineno=42, end_col_offset=68), conversion=-1, lineno=42, col_offset=40, end_lineno=42, end_col_offset=69)], lineno=42, col_offset=21, end_lineno=42, end_col_offset=70)], lineno=42, col_offset=8, end_lineno=42, end_col_offset=71), lineno=42, col_offset=8, end_lineno=42, end_col_offset=71), Expr(value=Call(func=Attribute(value=Name(id='lines', ctx=Load(), lineno=43, col_offset=8, end_lineno=43, end_col_offset=13), attr='append', ctx=Load(), lineno=43, col_offset=8, end_lineno=43, end_col_offset=20), args=[JoinedStr(values=[Constant(value='  Observability log: ', lineno=43, col_offset=23, end_lineno=43, end_col_offset=44), FormattedValue(value=Attribute(value=Name(id='summary', ctx=Load(), lineno=43, col_offset=45, end_lineno=43, end_col_offset=52), attr='observability_path', ctx=Load(), lineno=43, col_offset=45, end_lineno=43, end_col_offset=71), conversion=-1, lineno=43, col_offset=44, end_lineno=43, end_col_offset=72)], lineno=43, col_offset=21, end_lineno=43, end_col_offset=73)], lineno=43, col_offset=8, end_lineno=43, end_col_offset=74), lineno=43, col_offset=8, end_lineno=43, end_col_offset=74), Expr(value=Call(func=Attribute(value=Name(id='lines', ctx=Load(), lineno=44, col_offset=8, end_lineno=44, end_col_offset=13), attr='append', ctx=Load(), lineno=44, col_offset=8, end_lineno=44, end_col_offset=20), args=[Constant(value='  Top errors:', lineno=44, col_offset=21, end_lineno=44, end_col_offset=36)], lineno=44, col_offset=8, end_lineno=44, end_col_offset=37), lineno=44, col_offset=8, end_lineno=44, end_col_offset=37), For(target=Name(id='entry', ctx=Store(), lineno=45, col_offset=12, end_lineno=45, end_col_offset=17), iter=Subscript(value=Name(id='errors', ctx=Load(), lineno=45, col_offset=21, end_lineno=45, end_col_offset=27), slice=Slice(upper=Constant(value=5, lineno=45, col_offset=29, end_lineno=45, end_col_offset=30), lineno=45, col_offset=28, end_lineno=45, end_col_offset=30), ctx=Load(), lineno=45, col_offset=21, end_lineno=45, end_col_offset=31), body=[Assign(targets=[Name(id='status_label', ctx=Store(), lineno=46, col_offset=12, end_lineno=46, end_col_offset=24)], value=Call(func=Name(id='str', ctx=Load(), lineno=46, col_offset=27, end_lineno=46, end_col_offset=30), args=[Attribute(value=Attribute(value=Name(id='entry', ctx=Load(), lineno=46, col_offset=31, end_lineno=46, end_col_offset=36), attr='status', ctx=Load(), lineno=46, col_offset=31, end_lineno=46, end_col_offset=43), attr='value', ctx=Load(), lineno=46, col_offset=31, end_lineno=46, end_col_offset=49)], lineno=46, col_offset=27, end_lineno=46, end_col_offset=50), lineno=46, col_offset=12, end_lineno=46, end_col_offset=50), Expr(value=Call(func=Attribute(value=Name(id='lines', ctx=Load(), lineno=47, col_offset=12, end_lineno=47, end_col_offset=17), attr='append', ctx=Load(), lineno=47, col_offset=12, end_lineno=47, end_col_offset=24), args=[JoinedStr(values=[Constant(value='    - ', lineno=48, col_offset=18, end_lineno=48, end_col_offset=24), FormattedValue(value=Attribute(value=Name(id='entry', ctx=Load(), lineno=48, col_offset=25, end_lineno=48, end_col_offset=30), attr='file', ctx=Load(), lineno=48, col_offset=25, end_lineno=48, end_col_offset=35), conversion=-1, lineno=48, col_offset=24, end_lineno=48, end_col_offset=36), Constant(value=': ', lineno=48, col_offset=36, end_lineno=48, end_col_offset=38), FormattedValue(value=Name(id='status_label', ctx=Load(), lineno=48, col_offset=39, end_lineno=48, end_col_offset=51), conversion=-1, lineno=48, col_offset=38, end_lineno=48, end_col_offset=52), Constant(value=' (', lineno=48, col_offset=52, end_lineno=48, end_col_offset=54), FormattedValue(value=BoolOp(op=Or(), values=[Attribute(value=Name(id='entry', ctx=Load(), lineno=48, col_offset=55, end_lineno=48, end_col_offset=60), attr='message', ctx=Load(), lineno=48, col_offset=55, end_lineno=48, end_col_offset=68), Constant(value='no additional details', lineno=48, col_offset=72, end_lineno=48, end_col_offset=95)], lineno=48, col_offset=55, end_lineno=48, end_col_offset=95), conversion=-1, lineno=48, col_offset=54, end_lineno=48, end_col_offset=96), Constant(value=')', lineno=48, col_offset=96, end_lineno=48, end_col_offset=97)], lineno=48, col_offset=16, end_lineno=48, end_col_offset=98)], lineno=47, col_offset=12, end_lineno=49, end_col_offset=13), lineno=47, col_offset=12, end_lineno=49, end_col_offset=13)], lineno=45, col_offset=8, end_lineno=49, end_col_offset=13), For(target=Name(id='line', ctx=Store(), lineno=50, col_offset=12, end_lineno=50, end_col_offset=16), iter=Name(id='lines', ctx=Load(), lineno=50, col_offset=20, end_lineno=50, end_col_offset=25), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=51, col_offset=12, end_lineno=51, end_col_offset=16), attr='logger', ctx=Load(), lineno=51, col_offset=12, end_lineno=51, end_col_offset=23), attr='error', ctx=Load(), lineno=51, col_offset=12, end_lineno=51, end_col_offset=29), args=[Name(id='line', ctx=Load(), lineno=51, col_offset=30, end_lineno=51, end_col_offset=34)], lineno=51, col_offset=12, end_lineno=51, end_col_offset=35), lineno=51, col_offset=12, end_lineno=51, end_col_offset=35)], lineno=50, col_offset=8, end_lineno=51, end_col_offset=35)], returns=Constant(value=None, lineno=33, col_offset=86, end_lineno=33, end_col_offset=90), lineno=33, col_offset=4, end_lineno=51, end_col_offset=35)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=27, col_offset=1, end_lineno=27, end_col_offset=10), keywords=[keyword(arg='slots', value=Constant(value=True, lineno=27, col_offset=17, end_lineno=27, end_col_offset=21), lineno=27, col_offset=11, end_lineno=27, end_col_offset=21), keyword(arg='frozen', value=Constant(value=True, lineno=27, col_offset=30, end_lineno=27, end_col_offset=34), lineno=27, col_offset=23, end_lineno=27, end_col_offset=34)], lineno=27, col_offset=1, end_lineno=27, end_col_offset=35)], lineno=28, col_offset=0, end_lineno=51, end_col_offset=35)])