Module(body=[Expr(value=Constant(value='File-level processing for the docstring builder pipeline.', lineno=1, col_offset=0, end_lineno=1, end_col_offset=63), lineno=1, col_offset=0, end_lineno=1, end_col_offset=63), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=3, col_offset=23, end_lineno=3, end_col_offset=34)], level=0, lineno=3, col_offset=0, end_lineno=3, end_col_offset=34), Import(names=[alias(name='logging', lineno=5, col_offset=7, end_lineno=5, end_col_offset=14)], lineno=5, col_offset=0, end_lineno=5, end_col_offset=14), ImportFrom(module='dataclasses', names=[alias(name='dataclass', lineno=6, col_offset=24, end_lineno=6, end_col_offset=33), alias(name='field', lineno=6, col_offset=35, end_lineno=6, end_col_offset=40), alias(name='replace', lineno=6, col_offset=42, end_lineno=6, end_col_offset=49)], level=0, lineno=6, col_offset=0, end_lineno=6, end_col_offset=49), ImportFrom(module='importlib', names=[alias(name='import_module', lineno=7, col_offset=22, end_lineno=7, end_col_offset=35)], level=0, lineno=7, col_offset=0, end_lineno=7, end_col_offset=35), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=8, col_offset=19, end_lineno=8, end_col_offset=32), alias(name='Protocol', lineno=8, col_offset=34, end_lineno=8, end_col_offset=42), alias(name='cast', lineno=8, col_offset=44, end_lineno=8, end_col_offset=48)], level=0, lineno=8, col_offset=0, end_lineno=8, end_col_offset=48), ImportFrom(module='tools.docstring_builder.builder_types', names=[alias(name='ExitStatus', lineno=10, col_offset=50, end_lineno=10, end_col_offset=60)], level=0, lineno=10, col_offset=0, end_lineno=10, end_col_offset=60), ImportFrom(module='tools.docstring_builder.config_models', names=[alias(name='DocstringApplyConfig', lineno=11, col_offset=50, end_lineno=11, end_col_offset=70)], level=0, lineno=11, col_offset=0, end_lineno=11, end_col_offset=70), ImportFrom(module='tools.docstring_builder.docfacts', names=[alias(name='build_docfacts', lineno=12, col_offset=45, end_lineno=12, end_col_offset=59)], level=0, lineno=12, col_offset=0, end_lineno=12, end_col_offset=59), ImportFrom(module='tools.docstring_builder.harvest', names=[alias(name='harvest_file', lineno=13, col_offset=44, end_lineno=13, end_col_offset=56)], level=0, lineno=13, col_offset=0, end_lineno=13, end_col_offset=56), ImportFrom(module='tools.docstring_builder.io', names=[alias(name='matches_patterns', lineno=14, col_offset=39, end_lineno=14, end_col_offset=55)], level=0, lineno=14, col_offset=0, end_lineno=14, end_col_offset=55), ImportFrom(module='tools.docstring_builder.models', names=[alias(name='DocstringBuilderError', lineno=15, col_offset=43, end_lineno=15, end_col_offset=64)], level=0, lineno=15, col_offset=0, end_lineno=15, end_col_offset=64), ImportFrom(module='tools.docstring_builder.observability', names=[alias(name='record_operation_metrics', lineno=16, col_offset=50, end_lineno=16, end_col_offset=74)], level=0, lineno=16, col_offset=0, end_lineno=16, end_col_offset=74), ImportFrom(module='tools.docstring_builder.paths', names=[alias(name='REPO_ROOT', lineno=17, col_offset=42, end_lineno=17, end_col_offset=51)], level=0, lineno=17, col_offset=0, end_lineno=17, end_col_offset=51), ImportFrom(module='tools.docstring_builder.pipeline_types', names=[alias(name='FileOutcome', lineno=18, col_offset=51, end_lineno=18, end_col_offset=62)], level=0, lineno=18, col_offset=0, end_lineno=18, end_col_offset=62), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=20, col_offset=3, end_lineno=20, end_col_offset=16), body=[ImportFrom(module='collections.abc', names=[alias(name='Iterable', lineno=21, col_offset=32, end_lineno=21, end_col_offset=40), alias(name='Sequence', lineno=21, col_offset=42, end_lineno=21, end_col_offset=50)], level=0, lineno=21, col_offset=4, end_lineno=21, end_col_offset=50), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=22, col_offset=24, end_lineno=22, end_col_offset=28)], level=0, lineno=22, col_offset=4, end_lineno=22, end_col_offset=28), ImportFrom(module='tools.docstring_builder.builder_types', names=[alias(name='LoggerLike', lineno=24, col_offset=54, end_lineno=24, end_col_offset=64)], level=0, lineno=24, col_offset=4, end_lineno=24, end_col_offset=64), ImportFrom(module='tools.docstring_builder.cache', names=[alias(name='DocstringBuilderCache', lineno=25, col_offset=46, end_lineno=25, end_col_offset=67)], level=0, lineno=25, col_offset=4, end_lineno=25, end_col_offset=67), ImportFrom(module='tools.docstring_builder.config', names=[alias(name='BuilderConfig', lineno=26, col_offset=47, end_lineno=26, end_col_offset=60)], level=0, lineno=26, col_offset=4, end_lineno=26, end_col_offset=60), ImportFrom(module='tools.docstring_builder.docfacts', names=[alias(name='DocFact', lineno=27, col_offset=49, end_lineno=27, end_col_offset=56)], level=0, lineno=27, col_offset=4, end_lineno=27, end_col_offset=56), ImportFrom(module='tools.docstring_builder.harvest', names=[alias(name='HarvestResult', lineno=28, col_offset=48, end_lineno=28, end_col_offset=61)], level=0, lineno=28, col_offset=4, end_lineno=28, end_col_offset=61), ImportFrom(module='tools.docstring_builder.ir', names=[alias(name='IRDocstring', lineno=29, col_offset=43, end_lineno=29, end_col_offset=54)], level=0, lineno=29, col_offset=4, end_lineno=29, end_col_offset=54), ImportFrom(module='tools.docstring_builder.pipeline_types', names=[alias(name='ProcessingOptions', lineno=30, col_offset=55, end_lineno=30, end_col_offset=72)], level=0, lineno=30, col_offset=4, end_lineno=30, end_col_offset=72), ImportFrom(module='tools.docstring_builder.plugins', names=[alias(name='PluginManager', lineno=31, col_offset=48, end_lineno=31, end_col_offset=61)], level=0, lineno=31, col_offset=4, end_lineno=31, end_col_offset=61), ImportFrom(module='tools.docstring_builder.schema', names=[alias(name='DocstringEdit', lineno=32, col_offset=47, end_lineno=32, end_col_offset=60)], level=0, lineno=32, col_offset=4, end_lineno=32, end_col_offset=60), ImportFrom(module='tools.docstring_builder.semantics', names=[alias(name='SemanticResult', lineno=33, col_offset=50, end_lineno=33, end_col_offset=64)], level=0, lineno=33, col_offset=4, end_lineno=33, end_col_offset=64)], lineno=20, col_offset=0, end_lineno=33, end_col_offset=64), Try(body=[ImportFrom(module='libcst', names=[alias(name='ParserSyntaxError', asname='_ParserSyntaxError', lineno=36, col_offset=23, end_lineno=36, end_col_offset=62)], level=0, lineno=36, col_offset=4, end_lineno=36, end_col_offset=62)], handlers=[ExceptHandler(type=Name(id='ModuleNotFoundError', ctx=Load(), lineno=37, col_offset=7, end_lineno=37, end_col_offset=26), body=[AnnAssign(target=Name(id='_PARSER_SYNTAX_ERRORS', ctx=Store(), lineno=38, col_offset=4, end_lineno=38, end_col_offset=25), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=38, col_offset=27, end_lineno=38, end_col_offset=32), slice=Tuple(elts=[Subscript(value=Name(id='type', ctx=Load(), lineno=38, col_offset=33, end_lineno=38, end_col_offset=37), slice=Name(id='BaseException', ctx=Load(), lineno=38, col_offset=38, end_lineno=38, end_col_offset=51), ctx=Load(), lineno=38, col_offset=33, end_lineno=38, end_col_offset=52), Constant(value=Ellipsis, lineno=38, col_offset=54, end_lineno=38, end_col_offset=57)], ctx=Load(), lineno=38, col_offset=33, end_lineno=38, end_col_offset=57), ctx=Load(), lineno=38, col_offset=27, end_lineno=38, end_col_offset=58), value=Tuple(ctx=Load(), lineno=38, col_offset=61, end_lineno=38, end_col_offset=63), simple=1, lineno=38, col_offset=4, end_lineno=38, end_col_offset=63)], lineno=37, col_offset=0, end_lineno=38, end_col_offset=63)], orelse=[Assign(targets=[Name(id='_PARSER_SYNTAX_ERRORS', ctx=Store(), lineno=40, col_offset=4, end_lineno=40, end_col_offset=25)], value=Call(func=Name(id='cast', ctx=Load(), lineno=40, col_offset=28, end_lineno=40, end_col_offset=32), args=[Constant(value='tuple[type[BaseException], ...]', lineno=40, col_offset=33, end_lineno=40, end_col_offset=66), Tuple(elts=[Name(id='_ParserSyntaxError', ctx=Load(), lineno=40, col_offset=69, end_lineno=40, end_col_offset=87)], ctx=Load(), lineno=40, col_offset=68, end_lineno=40, end_col_offset=89)], lineno=40, col_offset=28, end_lineno=40, end_col_offset=90), lineno=40, col_offset=4, end_lineno=40, end_col_offset=90)], lineno=35, col_offset=0, end_lineno=40, end_col_offset=90), AnnAssign(target=Name(id='_HARVEST_ERRORS', ctx=Store(), lineno=42, col_offset=0, end_lineno=42, end_col_offset=15), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=42, col_offset=17, end_lineno=42, end_col_offset=22), slice=Tuple(elts=[Subscript(value=Name(id='type', ctx=Load(), lineno=42, col_offset=23, end_lineno=42, end_col_offset=27), slice=Name(id='BaseException', ctx=Load(), lineno=42, col_offset=28, end_lineno=42, end_col_offset=41), ctx=Load(), lineno=42, col_offset=23, end_lineno=42, end_col_offset=42), Constant(value=Ellipsis, lineno=42, col_offset=44, end_lineno=42, end_col_offset=47)], ctx=Load(), lineno=42, col_offset=23, end_lineno=42, end_col_offset=47), ctx=Load(), lineno=42, col_offset=17, end_lineno=42, end_col_offset=48), value=Tuple(elts=[Starred(value=Name(id='_PARSER_SYNTAX_ERRORS', ctx=Load(), lineno=43, col_offset=5, end_lineno=43, end_col_offset=26), ctx=Load(), lineno=43, col_offset=4, end_lineno=43, end_col_offset=26), Name(id='DocstringBuilderError', ctx=Load(), lineno=44, col_offset=4, end_lineno=44, end_col_offset=25), Name(id='OSError', ctx=Load(), lineno=45, col_offset=4, end_lineno=45, end_col_offset=11)], ctx=Load(), lineno=42, col_offset=51, end_lineno=46, end_col_offset=1), simple=1, lineno=42, col_offset=0, end_lineno=46, end_col_offset=1), ClassDef(name='CollectEditsCallable', bases=[Name(id='Protocol', ctx=Load(), lineno=49, col_offset=27, end_lineno=49, end_col_offset=35)], body=[Expr(value=Constant(value='Protocol for collecting docstring edits from harvested symbols.', lineno=50, col_offset=4, end_lineno=50, end_col_offset=73), lineno=50, col_offset=4, end_lineno=50, end_col_offset=73), FunctionDef(name='__call__', args=arguments(args=[arg(arg='self', lineno=53, col_offset=8, end_lineno=53, end_col_offset=12), arg(arg='result', annotation=Name(id='HarvestResult', ctx=Load(), lineno=54, col_offset=16, end_lineno=54, end_col_offset=29), lineno=54, col_offset=8, end_lineno=54, end_col_offset=29), arg(arg='config', annotation=Name(id='BuilderConfig', ctx=Load(), lineno=55, col_offset=16, end_lineno=55, end_col_offset=29), lineno=55, col_offset=8, end_lineno=55, end_col_offset=29), arg(arg='plugin_manager', annotation=BinOp(left=Name(id='PluginManager', ctx=Load(), lineno=56, col_offset=24, end_lineno=56, end_col_offset=37), op=BitOr(), right=Constant(value=None, lineno=56, col_offset=40, end_lineno=56, end_col_offset=44), lineno=56, col_offset=24, end_lineno=56, end_col_offset=44), lineno=56, col_offset=8, end_lineno=56, end_col_offset=44)], kwonlyargs=[arg(arg='format_only', annotation=Name(id='bool', ctx=Load(), lineno=58, col_offset=21, end_lineno=58, end_col_offset=25), lineno=58, col_offset=8, end_lineno=58, end_col_offset=25)], kw_defaults=[Constant(value=False, lineno=58, col_offset=28, end_lineno=58, end_col_offset=33)]), body=[Expr(value=Constant(value='Return semantic artifacts, edits, and IR entries for a harvested module.', lineno=60, col_offset=8, end_lineno=60, end_col_offset=86), lineno=60, col_offset=8, end_lineno=60, end_col_offset=86), Raise(exc=Name(id='NotImplementedError', ctx=Load(), lineno=61, col_offset=14, end_lineno=61, end_col_offset=33), lineno=61, col_offset=8, end_lineno=61, end_col_offset=33)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=59, col_offset=9, end_lineno=59, end_col_offset=14), slice=Tuple(elts=[Subscript(value=Name(id='list', ctx=Load(), lineno=59, col_offset=15, end_lineno=59, end_col_offset=19), slice=Name(id='DocstringEdit', ctx=Load(), lineno=59, col_offset=20, end_lineno=59, end_col_offset=33), ctx=Load(), lineno=59, col_offset=15, end_lineno=59, end_col_offset=34), Subscript(value=Name(id='list', ctx=Load(), lineno=59, col_offset=36, end_lineno=59, end_col_offset=40), slice=Name(id='SemanticResult', ctx=Load(), lineno=59, col_offset=41, end_lineno=59, end_col_offset=55), ctx=Load(), lineno=59, col_offset=36, end_lineno=59, end_col_offset=56), Subscript(value=Name(id='list', ctx=Load(), lineno=59, col_offset=58, end_lineno=59, end_col_offset=62), slice=Name(id='IRDocstring', ctx=Load(), lineno=59, col_offset=63, end_lineno=59, end_col_offset=74), ctx=Load(), lineno=59, col_offset=58, end_lineno=59, end_col_offset=75)], ctx=Load(), lineno=59, col_offset=15, end_lineno=59, end_col_offset=75), ctx=Load(), lineno=59, col_offset=9, end_lineno=59, end_col_offset=76), lineno=52, col_offset=4, end_lineno=61, end_col_offset=33)], lineno=49, col_offset=0, end_lineno=61, end_col_offset=33), ClassDef(name='ApplyEditsCallable', bases=[Name(id='Protocol', ctx=Load(), lineno=64, col_offset=25, end_lineno=64, end_col_offset=33)], body=[Expr(value=Constant(value='Protocol for applying rendered docstrings to source files.', lineno=65, col_offset=4, end_lineno=65, end_col_offset=68), lineno=65, col_offset=4, end_lineno=65, end_col_offset=68), FunctionDef(name='__call__', args=arguments(args=[arg(arg='self', lineno=68, col_offset=8, end_lineno=68, end_col_offset=12), arg(arg='result', annotation=Name(id='HarvestResult', ctx=Load(), lineno=69, col_offset=16, end_lineno=69, end_col_offset=29), lineno=69, col_offset=8, end_lineno=69, end_col_offset=29), arg(arg='edits', annotation=Subscript(value=Name(id='Iterable', ctx=Load(), lineno=70, col_offset=15, end_lineno=70, end_col_offset=23), slice=Name(id='DocstringEdit', ctx=Load(), lineno=70, col_offset=24, end_lineno=70, end_col_offset=37), ctx=Load(), lineno=70, col_offset=15, end_lineno=70, end_col_offset=38), lineno=70, col_offset=8, end_lineno=70, end_col_offset=38)], kwonlyargs=[arg(arg='apply_config', annotation=BinOp(left=Name(id='DocstringApplyConfig', ctx=Load(), lineno=72, col_offset=22, end_lineno=72, end_col_offset=42), op=BitOr(), right=Constant(value=None, lineno=72, col_offset=45, end_lineno=72, end_col_offset=49), lineno=72, col_offset=22, end_lineno=72, end_col_offset=49), lineno=72, col_offset=8, end_lineno=72, end_col_offset=49)], kw_defaults=[Constant(value=None, lineno=72, col_offset=52, end_lineno=72, end_col_offset=56)]), body=[Expr(value=Constant(value='Apply rendered docstrings and return change status plus optional preview.', lineno=74, col_offset=8, end_lineno=74, end_col_offset=87), lineno=74, col_offset=8, end_lineno=74, end_col_offset=87), Raise(exc=Name(id='NotImplementedError', ctx=Load(), lineno=75, col_offset=14, end_lineno=75, end_col_offset=33), lineno=75, col_offset=8, end_lineno=75, end_col_offset=33)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=73, col_offset=9, end_lineno=73, end_col_offset=14), slice=Tuple(elts=[Name(id='bool', ctx=Load(), lineno=73, col_offset=15, end_lineno=73, end_col_offset=19), BinOp(left=Name(id='str', ctx=Load(), lineno=73, col_offset=21, end_lineno=73, end_col_offset=24), op=BitOr(), right=Constant(value=None, lineno=73, col_offset=27, end_lineno=73, end_col_offset=31), lineno=73, col_offset=21, end_lineno=73, end_col_offset=31)], ctx=Load(), lineno=73, col_offset=15, end_lineno=73, end_col_offset=31), ctx=Load(), lineno=73, col_offset=9, end_lineno=73, end_col_offset=32), lineno=67, col_offset=4, end_lineno=75, end_col_offset=33)], lineno=64, col_offset=0, end_lineno=75, end_col_offset=33), FunctionDef(name='_load_apply_edits', args=arguments(), body=[Expr(value=Constant(value='Load and return the apply_edits function from the apply module.\n\n    Returns\n    -------\n    ApplyEditsCallable\n        Callable that applies docstring edits to source files.\n    ', lineno=79, col_offset=4, end_lineno=85, end_col_offset=7), lineno=79, col_offset=4, end_lineno=85, end_col_offset=7), Assign(targets=[Name(id='module', ctx=Store(), lineno=86, col_offset=4, end_lineno=86, end_col_offset=10)], value=Call(func=Name(id='import_module', ctx=Load(), lineno=86, col_offset=13, end_lineno=86, end_col_offset=26), args=[Constant(value='tools.docstring_builder.apply', lineno=86, col_offset=27, end_lineno=86, end_col_offset=58)], lineno=86, col_offset=13, end_lineno=86, end_col_offset=59), lineno=86, col_offset=4, end_lineno=86, end_col_offset=59), Return(value=Call(func=Name(id='cast', ctx=Load(), lineno=87, col_offset=11, end_lineno=87, end_col_offset=15), args=[Constant(value='ApplyEditsCallable', lineno=87, col_offset=16, end_lineno=87, end_col_offset=36), Attribute(value=Name(id='module', ctx=Load(), lineno=87, col_offset=38, end_lineno=87, end_col_offset=44), attr='apply_edits', ctx=Load(), lineno=87, col_offset=38, end_lineno=87, end_col_offset=56)], lineno=87, col_offset=11, end_lineno=87, end_col_offset=57), lineno=87, col_offset=4, end_lineno=87, end_col_offset=57)], returns=Name(id='ApplyEditsCallable', ctx=Load(), lineno=78, col_offset=27, end_lineno=78, end_col_offset=45), lineno=78, col_offset=0, end_lineno=87, end_col_offset=57), ClassDef(name='FileProcessingContext', body=[Expr(value=Constant(value='Context for file processing with mutable state.', lineno=92, col_offset=4, end_lineno=92, end_col_offset=57), lineno=92, col_offset=4, end_lineno=92, end_col_offset=57), AnnAssign(target=Name(id='docfacts', ctx=Store(), lineno=94, col_offset=4, end_lineno=94, end_col_offset=12), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=94, col_offset=14, end_lineno=94, end_col_offset=18), slice=Name(id='DocFact', ctx=Load(), lineno=94, col_offset=19, end_lineno=94, end_col_offset=26), ctx=Load(), lineno=94, col_offset=14, end_lineno=94, end_col_offset=27), simple=1, lineno=94, col_offset=4, end_lineno=94, end_col_offset=27), AnnAssign(target=Name(id='preview', ctx=Store(), lineno=95, col_offset=4, end_lineno=95, end_col_offset=11), annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=95, col_offset=13, end_lineno=95, end_col_offset=16), op=BitOr(), right=Constant(value=None, lineno=95, col_offset=19, end_lineno=95, end_col_offset=23), lineno=95, col_offset=13, end_lineno=95, end_col_offset=23), simple=1, lineno=95, col_offset=4, end_lineno=95, end_col_offset=23), AnnAssign(target=Name(id='changed', ctx=Store(), lineno=96, col_offset=4, end_lineno=96, end_col_offset=11), annotation=Name(id='bool', ctx=Load(), lineno=96, col_offset=13, end_lineno=96, end_col_offset=17), simple=1, lineno=96, col_offset=4, end_lineno=96, end_col_offset=17), AnnAssign(target=Name(id='skipped', ctx=Store(), lineno=97, col_offset=4, end_lineno=97, end_col_offset=11), annotation=Name(id='bool', ctx=Load(), lineno=97, col_offset=13, end_lineno=97, end_col_offset=17), simple=1, lineno=97, col_offset=4, end_lineno=97, end_col_offset=17), AnnAssign(target=Name(id='message', ctx=Store(), lineno=98, col_offset=4, end_lineno=98, end_col_offset=11), annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=98, col_offset=13, end_lineno=98, end_col_offset=16), op=BitOr(), right=Constant(value=None, lineno=98, col_offset=19, end_lineno=98, end_col_offset=23), lineno=98, col_offset=13, end_lineno=98, end_col_offset=23), simple=1, lineno=98, col_offset=4, end_lineno=98, end_col_offset=23)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=90, col_offset=1, end_lineno=90, end_col_offset=10), keywords=[keyword(arg='slots', value=Constant(value=True, lineno=90, col_offset=17, end_lineno=90, end_col_offset=21), lineno=90, col_offset=11, end_lineno=90, end_col_offset=21), keyword(arg='frozen', value=Constant(value=True, lineno=90, col_offset=30, end_lineno=90, end_col_offset=34), lineno=90, col_offset=23, end_lineno=90, end_col_offset=34)], lineno=90, col_offset=1, end_lineno=90, end_col_offset=35)], lineno=91, col_offset=0, end_lineno=98, end_col_offset=23), ClassDef(name='FileProcessor', body=[Expr(value=Constant(value='Process individual files for the docstring builder.', lineno=103, col_offset=4, end_lineno=103, end_col_offset=61), lineno=103, col_offset=4, end_lineno=103, end_col_offset=61), AnnAssign(target=Name(id='config', ctx=Store(), lineno=105, col_offset=4, end_lineno=105, end_col_offset=10), annotation=Name(id='BuilderConfig', ctx=Load(), lineno=105, col_offset=12, end_lineno=105, end_col_offset=25), simple=1, lineno=105, col_offset=4, end_lineno=105, end_col_offset=25), AnnAssign(target=Name(id='cache', ctx=Store(), lineno=106, col_offset=4, end_lineno=106, end_col_offset=9), annotation=Name(id='DocstringBuilderCache', ctx=Load(), lineno=106, col_offset=11, end_lineno=106, end_col_offset=32), simple=1, lineno=106, col_offset=4, end_lineno=106, end_col_offset=32), AnnAssign(target=Name(id='options', ctx=Store(), lineno=107, col_offset=4, end_lineno=107, end_col_offset=11), annotation=Name(id='ProcessingOptions', ctx=Load(), lineno=107, col_offset=13, end_lineno=107, end_col_offset=30), simple=1, lineno=107, col_offset=4, end_lineno=107, end_col_offset=30), AnnAssign(target=Name(id='collect_edits', ctx=Store(), lineno=108, col_offset=4, end_lineno=108, end_col_offset=17), annotation=Name(id='CollectEditsCallable', ctx=Load(), lineno=108, col_offset=19, end_lineno=108, end_col_offset=39), simple=1, lineno=108, col_offset=4, end_lineno=108, end_col_offset=39), AnnAssign(target=Name(id='plugin_manager', ctx=Store(), lineno=109, col_offset=4, end_lineno=109, end_col_offset=18), annotation=BinOp(left=Name(id='PluginManager', ctx=Load(), lineno=109, col_offset=20, end_lineno=109, end_col_offset=33), op=BitOr(), right=Constant(value=None, lineno=109, col_offset=36, end_lineno=109, end_col_offset=40), lineno=109, col_offset=20, end_lineno=109, end_col_offset=40), value=Constant(value=None, lineno=109, col_offset=43, end_lineno=109, end_col_offset=47), simple=1, lineno=109, col_offset=4, end_lineno=109, end_col_offset=47), AnnAssign(target=Name(id='logger', ctx=Store(), lineno=110, col_offset=4, end_lineno=110, end_col_offset=10), annotation=Name(id='LoggerLike', ctx=Load(), lineno=110, col_offset=12, end_lineno=110, end_col_offset=22), value=Call(func=Name(id='field', ctx=Load(), lineno=110, col_offset=25, end_lineno=110, end_col_offset=30), keywords=[keyword(arg='default_factory', value=Lambda(args=arguments(), body=Call(func=Attribute(value=Name(id='logging', ctx=Load(), lineno=110, col_offset=55, end_lineno=110, end_col_offset=62), attr='getLogger', ctx=Load(), lineno=110, col_offset=55, end_lineno=110, end_col_offset=72), args=[Name(id='__name__', ctx=Load(), lineno=110, col_offset=73, end_lineno=110, end_col_offset=81)], lineno=110, col_offset=55, end_lineno=110, end_col_offset=82), lineno=110, col_offset=47, end_lineno=110, end_col_offset=82), lineno=110, col_offset=31, end_lineno=110, end_col_offset=82)], lineno=110, col_offset=25, end_lineno=110, end_col_offset=83), simple=1, lineno=110, col_offset=4, end_lineno=110, end_col_offset=83), FunctionDef(name='process', args=arguments(args=[arg(arg='self', lineno=112, col_offset=16, end_lineno=112, end_col_offset=20), arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=112, col_offset=33, end_lineno=112, end_col_offset=37), lineno=112, col_offset=22, end_lineno=112, end_col_offset=37)]), body=[Expr(value=Constant(value='Harvest, render, and apply docstrings for a single file.\n\n        Parameters\n        ----------\n        file_path : Path\n            Path to the file to process.\n\n        Returns\n        -------\n        FileOutcome\n            Outcome containing status, docfacts, preview, and change information.\n        ', lineno=113, col_offset=8, end_lineno=124, end_col_offset=11), lineno=113, col_offset=8, end_lineno=124, end_col_offset=11), Assign(targets=[Name(id='command', ctx=Store(), lineno=125, col_offset=8, end_lineno=125, end_col_offset=15)], value=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=125, col_offset=18, end_lineno=125, end_col_offset=22), attr='options', ctx=Load(), lineno=125, col_offset=18, end_lineno=125, end_col_offset=30), attr='command', ctx=Load(), lineno=125, col_offset=18, end_lineno=125, end_col_offset=38), lineno=125, col_offset=8, end_lineno=125, end_col_offset=38), Assign(targets=[Name(id='is_update', ctx=Store(), lineno=126, col_offset=8, end_lineno=126, end_col_offset=17)], value=Compare(left=Name(id='command', ctx=Load(), lineno=126, col_offset=20, end_lineno=126, end_col_offset=27), ops=[In()], comparators=[Set(elts=[Constant(value='update', lineno=126, col_offset=32, end_lineno=126, end_col_offset=40), Constant(value='fmt', lineno=126, col_offset=42, end_lineno=126, end_col_offset=47)], lineno=126, col_offset=31, end_lineno=126, end_col_offset=48)], lineno=126, col_offset=20, end_lineno=126, end_col_offset=48), lineno=126, col_offset=8, end_lineno=126, end_col_offset=48), Assign(targets=[Name(id='is_check', ctx=Store(), lineno=127, col_offset=8, end_lineno=127, end_col_offset=16)], value=Compare(left=Name(id='command', ctx=Load(), lineno=127, col_offset=19, end_lineno=127, end_col_offset=26), ops=[Eq()], comparators=[Constant(value='check', lineno=127, col_offset=30, end_lineno=127, end_col_offset=37)], lineno=127, col_offset=19, end_lineno=127, end_col_offset=37), lineno=127, col_offset=8, end_lineno=127, end_col_offset=37), Assign(targets=[Name(id='ctx', ctx=Store(), lineno=128, col_offset=8, end_lineno=128, end_col_offset=11)], value=Call(func=Name(id='FileProcessingContext', ctx=Load(), lineno=128, col_offset=14, end_lineno=128, end_col_offset=35), keywords=[keyword(arg='docfacts', value=List(ctx=Load(), lineno=129, col_offset=21, end_lineno=129, end_col_offset=23), lineno=129, col_offset=12, end_lineno=129, end_col_offset=23), keyword(arg='preview', value=Constant(value=None, lineno=130, col_offset=20, end_lineno=130, end_col_offset=24), lineno=130, col_offset=12, end_lineno=130, end_col_offset=24), keyword(arg='changed', value=Constant(value=False, lineno=131, col_offset=20, end_lineno=131, end_col_offset=25), lineno=131, col_offset=12, end_lineno=131, end_col_offset=25), keyword(arg='skipped', value=Constant(value=False, lineno=132, col_offset=20, end_lineno=132, end_col_offset=25), lineno=132, col_offset=12, end_lineno=132, end_col_offset=25), keyword(arg='message', value=Constant(value=None, lineno=133, col_offset=20, end_lineno=133, end_col_offset=24), lineno=133, col_offset=12, end_lineno=133, end_col_offset=24)], lineno=128, col_offset=14, end_lineno=134, end_col_offset=9), lineno=128, col_offset=8, end_lineno=134, end_col_offset=9), If(test=Call(func=Attribute(value=Name(id='self', ctx=Load(), lineno=136, col_offset=11, end_lineno=136, end_col_offset=15), attr='_use_cache', ctx=Load(), lineno=136, col_offset=11, end_lineno=136, end_col_offset=26), args=[Name(id='file_path', ctx=Load(), lineno=136, col_offset=27, end_lineno=136, end_col_offset=36)], lineno=136, col_offset=11, end_lineno=136, end_col_offset=37), body=[Assign(targets=[Name(id='ctx', ctx=Store(), lineno=137, col_offset=12, end_lineno=137, end_col_offset=15)], value=Call(func=Name(id='replace', ctx=Load(), lineno=137, col_offset=18, end_lineno=137, end_col_offset=25), args=[Name(id='ctx', ctx=Load(), lineno=137, col_offset=26, end_lineno=137, end_col_offset=29)], keywords=[keyword(arg='skipped', value=Constant(value=True, lineno=137, col_offset=39, end_lineno=137, end_col_offset=43), lineno=137, col_offset=31, end_lineno=137, end_col_offset=43), keyword(arg='message', value=Constant(value='cache fresh', lineno=137, col_offset=53, end_lineno=137, end_col_offset=66), lineno=137, col_offset=45, end_lineno=137, end_col_offset=66)], lineno=137, col_offset=18, end_lineno=137, end_col_offset=67), lineno=137, col_offset=12, end_lineno=137, end_col_offset=67), Return(value=Call(func=Name(id='FileOutcome', ctx=Load(), lineno=138, col_offset=19, end_lineno=138, end_col_offset=30), keywords=[keyword(arg='status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=139, col_offset=23, end_lineno=139, end_col_offset=33), attr='SUCCESS', ctx=Load(), lineno=139, col_offset=23, end_lineno=139, end_col_offset=41), lineno=139, col_offset=16, end_lineno=139, end_col_offset=41), keyword(arg='docfacts', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=140, col_offset=25, end_lineno=140, end_col_offset=28), attr='docfacts', ctx=Load(), lineno=140, col_offset=25, end_lineno=140, end_col_offset=37), lineno=140, col_offset=16, end_lineno=140, end_col_offset=37), keyword(arg='preview', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=141, col_offset=24, end_lineno=141, end_col_offset=27), attr='preview', ctx=Load(), lineno=141, col_offset=24, end_lineno=141, end_col_offset=35), lineno=141, col_offset=16, end_lineno=141, end_col_offset=35), keyword(arg='changed', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=142, col_offset=24, end_lineno=142, end_col_offset=27), attr='changed', ctx=Load(), lineno=142, col_offset=24, end_lineno=142, end_col_offset=35), lineno=142, col_offset=16, end_lineno=142, end_col_offset=35), keyword(arg='skipped', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=143, col_offset=24, end_lineno=143, end_col_offset=27), attr='skipped', ctx=Load(), lineno=143, col_offset=24, end_lineno=143, end_col_offset=35), lineno=143, col_offset=16, end_lineno=143, end_col_offset=35), keyword(arg='message', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=144, col_offset=24, end_lineno=144, end_col_offset=27), attr='message', ctx=Load(), lineno=144, col_offset=24, end_lineno=144, end_col_offset=35), lineno=144, col_offset=16, end_lineno=144, end_col_offset=35), keyword(arg='cache_hit', value=Constant(value=True, lineno=145, col_offset=26, end_lineno=145, end_col_offset=30), lineno=145, col_offset=16, end_lineno=145, end_col_offset=30)], lineno=138, col_offset=19, end_lineno=146, end_col_offset=13), lineno=138, col_offset=12, end_lineno=146, end_col_offset=13)], lineno=136, col_offset=8, end_lineno=146, end_col_offset=13), Assign(targets=[Name(id='result_or_outcome', ctx=Store(), lineno=149, col_offset=8, end_lineno=149, end_col_offset=25)], value=Call(func=Attribute(value=Name(id='self', ctx=Load(), lineno=149, col_offset=28, end_lineno=149, end_col_offset=32), attr='_try_harvest', ctx=Load(), lineno=149, col_offset=28, end_lineno=149, end_col_offset=45), args=[Name(id='file_path', ctx=Load(), lineno=149, col_offset=46, end_lineno=149, end_col_offset=55)], lineno=149, col_offset=28, end_lineno=149, end_col_offset=56), lineno=149, col_offset=8, end_lineno=149, end_col_offset=56), If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=150, col_offset=11, end_lineno=150, end_col_offset=21), args=[Name(id='result_or_outcome', ctx=Load(), lineno=150, col_offset=22, end_lineno=150, end_col_offset=39), Name(id='FileOutcome', ctx=Load(), lineno=150, col_offset=41, end_lineno=150, end_col_offset=52)], lineno=150, col_offset=11, end_lineno=150, end_col_offset=53), body=[Return(value=Name(id='result_or_outcome', ctx=Load(), lineno=151, col_offset=19, end_lineno=151, end_col_offset=36), lineno=151, col_offset=12, end_lineno=151, end_col_offset=36)], lineno=150, col_offset=8, end_lineno=151, end_col_offset=36), Assign(targets=[Name(id='result', ctx=Store(), lineno=152, col_offset=8, end_lineno=152, end_col_offset=14)], value=Name(id='result_or_outcome', ctx=Load(), lineno=152, col_offset=17, end_lineno=152, end_col_offset=34), lineno=152, col_offset=8, end_lineno=152, end_col_offset=34), Assign(targets=[Tuple(elts=[Name(id='edits', ctx=Store(), lineno=154, col_offset=8, end_lineno=154, end_col_offset=13), Name(id='semantics', ctx=Store(), lineno=154, col_offset=15, end_lineno=154, end_col_offset=24), Name(id='ir_entries', ctx=Store(), lineno=154, col_offset=26, end_lineno=154, end_col_offset=36)], ctx=Store(), lineno=154, col_offset=8, end_lineno=154, end_col_offset=36)], value=Call(func=Attribute(value=Name(id='self', ctx=Load(), lineno=154, col_offset=39, end_lineno=154, end_col_offset=43), attr='collect_edits', ctx=Load(), lineno=154, col_offset=39, end_lineno=154, end_col_offset=57), args=[Name(id='result', ctx=Load(), lineno=155, col_offset=12, end_lineno=155, end_col_offset=18), Attribute(value=Name(id='self', ctx=Load(), lineno=156, col_offset=12, end_lineno=156, end_col_offset=16), attr='config', ctx=Load(), lineno=156, col_offset=12, end_lineno=156, end_col_offset=23), Attribute(value=Name(id='self', ctx=Load(), lineno=157, col_offset=12, end_lineno=157, end_col_offset=16), attr='plugin_manager', ctx=Load(), lineno=157, col_offset=12, end_lineno=157, end_col_offset=31)], keywords=[keyword(arg='format_only', value=Compare(left=Name(id='command', ctx=Load(), lineno=158, col_offset=24, end_lineno=158, end_col_offset=31), ops=[Eq()], comparators=[Constant(value='fmt', lineno=158, col_offset=35, end_lineno=158, end_col_offset=40)], lineno=158, col_offset=24, end_lineno=158, end_col_offset=40), lineno=158, col_offset=12, end_lineno=158, end_col_offset=40)], lineno=154, col_offset=39, end_lineno=159, end_col_offset=9), lineno=154, col_offset=8, end_lineno=159, end_col_offset=9), If(test=Compare(left=Name(id='command', ctx=Load(), lineno=162, col_offset=11, end_lineno=162, end_col_offset=18), ops=[Eq()], comparators=[Constant(value='harvest', lineno=162, col_offset=22, end_lineno=162, end_col_offset=31)], lineno=162, col_offset=11, end_lineno=162, end_col_offset=31), body=[Assign(targets=[Name(id='ctx', ctx=Store(), lineno=163, col_offset=12, end_lineno=163, end_col_offset=15)], value=Call(func=Name(id='replace', ctx=Load(), lineno=163, col_offset=18, end_lineno=163, end_col_offset=25), args=[Name(id='ctx', ctx=Load(), lineno=163, col_offset=26, end_lineno=163, end_col_offset=29)], keywords=[keyword(arg='docfacts', value=Call(func=Name(id='build_docfacts', ctx=Load(), lineno=163, col_offset=40, end_lineno=163, end_col_offset=54), args=[Name(id='semantics', ctx=Load(), lineno=163, col_offset=55, end_lineno=163, end_col_offset=64)], lineno=163, col_offset=40, end_lineno=163, end_col_offset=65), lineno=163, col_offset=31, end_lineno=163, end_col_offset=65)], lineno=163, col_offset=18, end_lineno=163, end_col_offset=66), lineno=163, col_offset=12, end_lineno=163, end_col_offset=66), Return(value=Call(func=Name(id='FileOutcome', ctx=Load(), lineno=164, col_offset=19, end_lineno=164, end_col_offset=30), keywords=[keyword(arg='status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=165, col_offset=23, end_lineno=165, end_col_offset=33), attr='SUCCESS', ctx=Load(), lineno=165, col_offset=23, end_lineno=165, end_col_offset=41), lineno=165, col_offset=16, end_lineno=165, end_col_offset=41), keyword(arg='docfacts', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=166, col_offset=25, end_lineno=166, end_col_offset=28), attr='docfacts', ctx=Load(), lineno=166, col_offset=25, end_lineno=166, end_col_offset=37), lineno=166, col_offset=16, end_lineno=166, end_col_offset=37), keyword(arg='preview', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=167, col_offset=24, end_lineno=167, end_col_offset=27), attr='preview', ctx=Load(), lineno=167, col_offset=24, end_lineno=167, end_col_offset=35), lineno=167, col_offset=16, end_lineno=167, end_col_offset=35), keyword(arg='changed', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=168, col_offset=24, end_lineno=168, end_col_offset=27), attr='changed', ctx=Load(), lineno=168, col_offset=24, end_lineno=168, end_col_offset=35), lineno=168, col_offset=16, end_lineno=168, end_col_offset=35), keyword(arg='skipped', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=169, col_offset=24, end_lineno=169, end_col_offset=27), attr='skipped', ctx=Load(), lineno=169, col_offset=24, end_lineno=169, end_col_offset=35), lineno=169, col_offset=16, end_lineno=169, end_col_offset=35), keyword(arg='message', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=170, col_offset=24, end_lineno=170, end_col_offset=27), attr='message', ctx=Load(), lineno=170, col_offset=24, end_lineno=170, end_col_offset=35), lineno=170, col_offset=16, end_lineno=170, end_col_offset=35), keyword(arg='semantics', value=Call(func=Name(id='list', ctx=Load(), lineno=171, col_offset=26, end_lineno=171, end_col_offset=30), args=[Name(id='semantics', ctx=Load(), lineno=171, col_offset=31, end_lineno=171, end_col_offset=40)], lineno=171, col_offset=26, end_lineno=171, end_col_offset=41), lineno=171, col_offset=16, end_lineno=171, end_col_offset=41), keyword(arg='ir', value=Call(func=Name(id='list', ctx=Load(), lineno=172, col_offset=19, end_lineno=172, end_col_offset=23), args=[Name(id='ir_entries', ctx=Load(), lineno=172, col_offset=24, end_lineno=172, end_col_offset=34)], lineno=172, col_offset=19, end_lineno=172, end_col_offset=35), lineno=172, col_offset=16, end_lineno=172, end_col_offset=35)], lineno=164, col_offset=19, end_lineno=173, end_col_offset=13), lineno=164, col_offset=12, end_lineno=173, end_col_offset=13)], lineno=162, col_offset=8, end_lineno=173, end_col_offset=13), If(test=UnaryOp(op=Not(), operand=Name(id='semantics', ctx=Load(), lineno=176, col_offset=15, end_lineno=176, end_col_offset=24), lineno=176, col_offset=11, end_lineno=176, end_col_offset=24), body=[If(test=Name(id='is_update', ctx=Load(), lineno=177, col_offset=15, end_lineno=177, end_col_offset=24), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=178, col_offset=16, end_lineno=178, end_col_offset=20), attr='cache', ctx=Load(), lineno=178, col_offset=16, end_lineno=178, end_col_offset=26), attr='update', ctx=Load(), lineno=178, col_offset=16, end_lineno=178, end_col_offset=33), args=[Name(id='file_path', ctx=Load(), lineno=178, col_offset=34, end_lineno=178, end_col_offset=43), Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=178, col_offset=45, end_lineno=178, end_col_offset=49), attr='config', ctx=Load(), lineno=178, col_offset=45, end_lineno=178, end_col_offset=56), attr='config_hash', ctx=Load(), lineno=178, col_offset=45, end_lineno=178, end_col_offset=68)], lineno=178, col_offset=16, end_lineno=178, end_col_offset=69), lineno=178, col_offset=16, end_lineno=178, end_col_offset=69)], lineno=177, col_offset=12, end_lineno=178, end_col_offset=69), Assign(targets=[Name(id='ctx', ctx=Store(), lineno=179, col_offset=12, end_lineno=179, end_col_offset=15)], value=Call(func=Name(id='replace', ctx=Load(), lineno=179, col_offset=18, end_lineno=179, end_col_offset=25), args=[Name(id='ctx', ctx=Load(), lineno=179, col_offset=26, end_lineno=179, end_col_offset=29)], keywords=[keyword(arg='message', value=Constant(value='no managed symbols', lineno=179, col_offset=39, end_lineno=179, end_col_offset=59), lineno=179, col_offset=31, end_lineno=179, end_col_offset=59)], lineno=179, col_offset=18, end_lineno=179, end_col_offset=60), lineno=179, col_offset=12, end_lineno=179, end_col_offset=60), Return(value=Call(func=Name(id='FileOutcome', ctx=Load(), lineno=180, col_offset=19, end_lineno=180, end_col_offset=30), keywords=[keyword(arg='status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=181, col_offset=23, end_lineno=181, end_col_offset=33), attr='SUCCESS', ctx=Load(), lineno=181, col_offset=23, end_lineno=181, end_col_offset=41), lineno=181, col_offset=16, end_lineno=181, end_col_offset=41), keyword(arg='docfacts', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=182, col_offset=25, end_lineno=182, end_col_offset=28), attr='docfacts', ctx=Load(), lineno=182, col_offset=25, end_lineno=182, end_col_offset=37), lineno=182, col_offset=16, end_lineno=182, end_col_offset=37), keyword(arg='preview', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=183, col_offset=24, end_lineno=183, end_col_offset=27), attr='preview', ctx=Load(), lineno=183, col_offset=24, end_lineno=183, end_col_offset=35), lineno=183, col_offset=16, end_lineno=183, end_col_offset=35), keyword(arg='changed', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=184, col_offset=24, end_lineno=184, end_col_offset=27), attr='changed', ctx=Load(), lineno=184, col_offset=24, end_lineno=184, end_col_offset=35), lineno=184, col_offset=16, end_lineno=184, end_col_offset=35), keyword(arg='skipped', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=185, col_offset=24, end_lineno=185, end_col_offset=27), attr='skipped', ctx=Load(), lineno=185, col_offset=24, end_lineno=185, end_col_offset=35), lineno=185, col_offset=16, end_lineno=185, end_col_offset=35), keyword(arg='message', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=186, col_offset=24, end_lineno=186, end_col_offset=27), attr='message', ctx=Load(), lineno=186, col_offset=24, end_lineno=186, end_col_offset=35), lineno=186, col_offset=16, end_lineno=186, end_col_offset=35), keyword(arg='semantics', value=Call(func=Name(id='list', ctx=Load(), lineno=187, col_offset=26, end_lineno=187, end_col_offset=30), args=[Name(id='semantics', ctx=Load(), lineno=187, col_offset=31, end_lineno=187, end_col_offset=40)], lineno=187, col_offset=26, end_lineno=187, end_col_offset=41), lineno=187, col_offset=16, end_lineno=187, end_col_offset=41), keyword(arg='ir', value=Call(func=Name(id='list', ctx=Load(), lineno=188, col_offset=19, end_lineno=188, end_col_offset=23), args=[Name(id='ir_entries', ctx=Load(), lineno=188, col_offset=24, end_lineno=188, end_col_offset=34)], lineno=188, col_offset=19, end_lineno=188, end_col_offset=35), lineno=188, col_offset=16, end_lineno=188, end_col_offset=35)], lineno=180, col_offset=19, end_lineno=189, end_col_offset=13), lineno=180, col_offset=12, end_lineno=189, end_col_offset=13)], lineno=176, col_offset=8, end_lineno=189, end_col_offset=13), Assign(targets=[Name(id='ctx', ctx=Store(), lineno=192, col_offset=8, end_lineno=192, end_col_offset=11)], value=Call(func=Name(id='replace', ctx=Load(), lineno=192, col_offset=14, end_lineno=192, end_col_offset=21), args=[Name(id='ctx', ctx=Load(), lineno=192, col_offset=22, end_lineno=192, end_col_offset=25)], keywords=[keyword(arg='docfacts', value=Call(func=Name(id='build_docfacts', ctx=Load(), lineno=192, col_offset=36, end_lineno=192, end_col_offset=50), args=[Name(id='semantics', ctx=Load(), lineno=192, col_offset=51, end_lineno=192, end_col_offset=60)], lineno=192, col_offset=36, end_lineno=192, end_col_offset=61), lineno=192, col_offset=27, end_lineno=192, end_col_offset=61)], lineno=192, col_offset=14, end_lineno=192, end_col_offset=62), lineno=192, col_offset=8, end_lineno=192, end_col_offset=62), If(test=UnaryOp(op=Not(), operand=Name(id='edits', ctx=Load(), lineno=193, col_offset=15, end_lineno=193, end_col_offset=20), lineno=193, col_offset=11, end_lineno=193, end_col_offset=20), body=[If(test=Name(id='is_update', ctx=Load(), lineno=194, col_offset=15, end_lineno=194, end_col_offset=24), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=195, col_offset=16, end_lineno=195, end_col_offset=20), attr='cache', ctx=Load(), lineno=195, col_offset=16, end_lineno=195, end_col_offset=26), attr='update', ctx=Load(), lineno=195, col_offset=16, end_lineno=195, end_col_offset=33), args=[Name(id='file_path', ctx=Load(), lineno=195, col_offset=34, end_lineno=195, end_col_offset=43), Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=195, col_offset=45, end_lineno=195, end_col_offset=49), attr='config', ctx=Load(), lineno=195, col_offset=45, end_lineno=195, end_col_offset=56), attr='config_hash', ctx=Load(), lineno=195, col_offset=45, end_lineno=195, end_col_offset=68)], lineno=195, col_offset=16, end_lineno=195, end_col_offset=69), lineno=195, col_offset=16, end_lineno=195, end_col_offset=69)], lineno=194, col_offset=12, end_lineno=195, end_col_offset=69), Assign(targets=[Name(id='ctx', ctx=Store(), lineno=196, col_offset=12, end_lineno=196, end_col_offset=15)], value=Call(func=Name(id='replace', ctx=Load(), lineno=196, col_offset=18, end_lineno=196, end_col_offset=25), args=[Name(id='ctx', ctx=Load(), lineno=196, col_offset=26, end_lineno=196, end_col_offset=29)], keywords=[keyword(arg='message', value=Constant(value='no edits needed', lineno=196, col_offset=39, end_lineno=196, end_col_offset=56), lineno=196, col_offset=31, end_lineno=196, end_col_offset=56)], lineno=196, col_offset=18, end_lineno=196, end_col_offset=57), lineno=196, col_offset=12, end_lineno=196, end_col_offset=57), Return(value=Call(func=Name(id='FileOutcome', ctx=Load(), lineno=197, col_offset=19, end_lineno=197, end_col_offset=30), keywords=[keyword(arg='status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=198, col_offset=23, end_lineno=198, end_col_offset=33), attr='SUCCESS', ctx=Load(), lineno=198, col_offset=23, end_lineno=198, end_col_offset=41), lineno=198, col_offset=16, end_lineno=198, end_col_offset=41), keyword(arg='docfacts', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=199, col_offset=25, end_lineno=199, end_col_offset=28), attr='docfacts', ctx=Load(), lineno=199, col_offset=25, end_lineno=199, end_col_offset=37), lineno=199, col_offset=16, end_lineno=199, end_col_offset=37), keyword(arg='preview', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=200, col_offset=24, end_lineno=200, end_col_offset=27), attr='preview', ctx=Load(), lineno=200, col_offset=24, end_lineno=200, end_col_offset=35), lineno=200, col_offset=16, end_lineno=200, end_col_offset=35), keyword(arg='changed', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=201, col_offset=24, end_lineno=201, end_col_offset=27), attr='changed', ctx=Load(), lineno=201, col_offset=24, end_lineno=201, end_col_offset=35), lineno=201, col_offset=16, end_lineno=201, end_col_offset=35), keyword(arg='skipped', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=202, col_offset=24, end_lineno=202, end_col_offset=27), attr='skipped', ctx=Load(), lineno=202, col_offset=24, end_lineno=202, end_col_offset=35), lineno=202, col_offset=16, end_lineno=202, end_col_offset=35), keyword(arg='message', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=203, col_offset=24, end_lineno=203, end_col_offset=27), attr='message', ctx=Load(), lineno=203, col_offset=24, end_lineno=203, end_col_offset=35), lineno=203, col_offset=16, end_lineno=203, end_col_offset=35), keyword(arg='semantics', value=Call(func=Name(id='list', ctx=Load(), lineno=204, col_offset=26, end_lineno=204, end_col_offset=30), args=[Name(id='semantics', ctx=Load(), lineno=204, col_offset=31, end_lineno=204, end_col_offset=40)], lineno=204, col_offset=26, end_lineno=204, end_col_offset=41), lineno=204, col_offset=16, end_lineno=204, end_col_offset=41), keyword(arg='ir', value=Call(func=Name(id='list', ctx=Load(), lineno=205, col_offset=19, end_lineno=205, end_col_offset=23), args=[Name(id='ir_entries', ctx=Load(), lineno=205, col_offset=24, end_lineno=205, end_col_offset=34)], lineno=205, col_offset=19, end_lineno=205, end_col_offset=35), lineno=205, col_offset=16, end_lineno=205, end_col_offset=35)], lineno=197, col_offset=19, end_lineno=206, end_col_offset=13), lineno=197, col_offset=12, end_lineno=206, end_col_offset=13)], lineno=193, col_offset=8, end_lineno=206, end_col_offset=13), Assign(targets=[Name(id='should_write', ctx=Store(), lineno=209, col_offset=8, end_lineno=209, end_col_offset=20)], value=BoolOp(op=Or(), values=[Name(id='is_update', ctx=Load(), lineno=209, col_offset=23, end_lineno=209, end_col_offset=32), BoolOp(op=And(), values=[Name(id='is_check', ctx=Load(), lineno=209, col_offset=37, end_lineno=209, end_col_offset=45), Call(func=Name(id='bool', ctx=Load(), lineno=209, col_offset=50, end_lineno=209, end_col_offset=54), args=[Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=209, col_offset=55, end_lineno=209, end_col_offset=59), attr='options', ctx=Load(), lineno=209, col_offset=55, end_lineno=209, end_col_offset=67), attr='baseline', ctx=Load(), lineno=209, col_offset=55, end_lineno=209, end_col_offset=76)], lineno=209, col_offset=50, end_lineno=209, end_col_offset=77)], lineno=209, col_offset=37, end_lineno=209, end_col_offset=77)], lineno=209, col_offset=23, end_lineno=209, end_col_offset=78), lineno=209, col_offset=8, end_lineno=209, end_col_offset=78), Assign(targets=[Name(id='apply_config', ctx=Store(), lineno=210, col_offset=8, end_lineno=210, end_col_offset=20)], value=IfExp(test=Name(id='should_write', ctx=Load(), lineno=212, col_offset=15, end_lineno=212, end_col_offset=27), body=Call(func=Name(id='DocstringApplyConfig', ctx=Load(), lineno=211, col_offset=12, end_lineno=211, end_col_offset=32), lineno=211, col_offset=12, end_lineno=211, end_col_offset=34), orelse=Call(func=Name(id='DocstringApplyConfig', ctx=Load(), lineno=213, col_offset=17, end_lineno=213, end_col_offset=37), keywords=[keyword(arg='write_changes', value=Constant(value=False, lineno=213, col_offset=52, end_lineno=213, end_col_offset=57), lineno=213, col_offset=38, end_lineno=213, end_col_offset=57), keyword(arg='atomic_writes', value=Constant(value=False, lineno=213, col_offset=73, end_lineno=213, end_col_offset=78), lineno=213, col_offset=59, end_lineno=213, end_col_offset=78)], lineno=213, col_offset=17, end_lineno=213, end_col_offset=79), lineno=211, col_offset=12, end_lineno=213, end_col_offset=79), lineno=210, col_offset=8, end_lineno=214, end_col_offset=9), Assign(targets=[Tuple(elts=[Name(id='changed', ctx=Store(), lineno=215, col_offset=8, end_lineno=215, end_col_offset=15), Name(id='preview', ctx=Store(), lineno=215, col_offset=17, end_lineno=215, end_col_offset=24)], ctx=Store(), lineno=215, col_offset=8, end_lineno=215, end_col_offset=24)], value=Call(func=Attribute(value=Name(id='self', ctx=Load(), lineno=215, col_offset=27, end_lineno=215, end_col_offset=31), attr='_apply_edits', ctx=Load(), lineno=215, col_offset=27, end_lineno=215, end_col_offset=44), args=[Name(id='result', ctx=Load(), lineno=216, col_offset=12, end_lineno=216, end_col_offset=18), Name(id='edits', ctx=Load(), lineno=217, col_offset=12, end_lineno=217, end_col_offset=17)], keywords=[keyword(arg='apply_config', value=Name(id='apply_config', ctx=Load(), lineno=218, col_offset=25, end_lineno=218, end_col_offset=37), lineno=218, col_offset=12, end_lineno=218, end_col_offset=37)], lineno=215, col_offset=27, end_lineno=219, end_col_offset=9), lineno=215, col_offset=8, end_lineno=219, end_col_offset=9), Assign(targets=[Name(id='ctx', ctx=Store(), lineno=220, col_offset=8, end_lineno=220, end_col_offset=11)], value=Call(func=Name(id='replace', ctx=Load(), lineno=220, col_offset=14, end_lineno=220, end_col_offset=21), args=[Name(id='ctx', ctx=Load(), lineno=220, col_offset=22, end_lineno=220, end_col_offset=25)], keywords=[keyword(arg='changed', value=Name(id='changed', ctx=Load(), lineno=220, col_offset=35, end_lineno=220, end_col_offset=42), lineno=220, col_offset=27, end_lineno=220, end_col_offset=42), keyword(arg='preview', value=Name(id='preview', ctx=Load(), lineno=220, col_offset=52, end_lineno=220, end_col_offset=59), lineno=220, col_offset=44, end_lineno=220, end_col_offset=59)], lineno=220, col_offset=14, end_lineno=220, end_col_offset=60), lineno=220, col_offset=8, end_lineno=220, end_col_offset=60), If(test=Name(id='is_update', ctx=Load(), lineno=221, col_offset=11, end_lineno=221, end_col_offset=20), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=222, col_offset=12, end_lineno=222, end_col_offset=16), attr='cache', ctx=Load(), lineno=222, col_offset=12, end_lineno=222, end_col_offset=22), attr='update', ctx=Load(), lineno=222, col_offset=12, end_lineno=222, end_col_offset=29), args=[Name(id='file_path', ctx=Load(), lineno=222, col_offset=30, end_lineno=222, end_col_offset=39), Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=222, col_offset=41, end_lineno=222, end_col_offset=45), attr='config', ctx=Load(), lineno=222, col_offset=41, end_lineno=222, end_col_offset=52), attr='config_hash', ctx=Load(), lineno=222, col_offset=41, end_lineno=222, end_col_offset=64)], lineno=222, col_offset=12, end_lineno=222, end_col_offset=65), lineno=222, col_offset=12, end_lineno=222, end_col_offset=65)], lineno=221, col_offset=8, end_lineno=222, end_col_offset=65), Assign(targets=[Name(id='status', ctx=Store(), lineno=225, col_offset=8, end_lineno=225, end_col_offset=14)], value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=225, col_offset=17, end_lineno=225, end_col_offset=27), attr='SUCCESS', ctx=Load(), lineno=225, col_offset=17, end_lineno=225, end_col_offset=35), lineno=225, col_offset=8, end_lineno=225, end_col_offset=35), If(test=BoolOp(op=And(), values=[Compare(left=Name(id='command', ctx=Load(), lineno=226, col_offset=11, end_lineno=226, end_col_offset=18), ops=[Eq()], comparators=[Constant(value='check', lineno=226, col_offset=22, end_lineno=226, end_col_offset=29)], lineno=226, col_offset=11, end_lineno=226, end_col_offset=29), UnaryOp(op=Not(), operand=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=226, col_offset=38, end_lineno=226, end_col_offset=42), attr='options', ctx=Load(), lineno=226, col_offset=38, end_lineno=226, end_col_offset=50), attr='baseline', ctx=Load(), lineno=226, col_offset=38, end_lineno=226, end_col_offset=59), lineno=226, col_offset=34, end_lineno=226, end_col_offset=59), Attribute(value=Name(id='ctx', ctx=Load(), lineno=226, col_offset=64, end_lineno=226, end_col_offset=67), attr='changed', ctx=Load(), lineno=226, col_offset=64, end_lineno=226, end_col_offset=75)], lineno=226, col_offset=11, end_lineno=226, end_col_offset=75), body=[Assign(targets=[Name(id='status', ctx=Store(), lineno=227, col_offset=12, end_lineno=227, end_col_offset=18)], value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=227, col_offset=21, end_lineno=227, end_col_offset=31), attr='VIOLATION', ctx=Load(), lineno=227, col_offset=21, end_lineno=227, end_col_offset=41), lineno=227, col_offset=12, end_lineno=227, end_col_offset=41), Assign(targets=[Name(id='ctx', ctx=Store(), lineno=228, col_offset=12, end_lineno=228, end_col_offset=15)], value=Call(func=Name(id='replace', ctx=Load(), lineno=228, col_offset=18, end_lineno=228, end_col_offset=25), args=[Name(id='ctx', ctx=Load(), lineno=228, col_offset=26, end_lineno=228, end_col_offset=29)], keywords=[keyword(arg='message', value=Constant(value='docstring mismatch', lineno=228, col_offset=39, end_lineno=228, end_col_offset=59), lineno=228, col_offset=31, end_lineno=228, end_col_offset=59)], lineno=228, col_offset=18, end_lineno=228, end_col_offset=60), lineno=228, col_offset=12, end_lineno=228, end_col_offset=60)], lineno=226, col_offset=8, end_lineno=228, end_col_offset=60), Return(value=Call(func=Name(id='FileOutcome', ctx=Load(), lineno=230, col_offset=15, end_lineno=230, end_col_offset=26), keywords=[keyword(arg='status', value=Name(id='status', ctx=Load(), lineno=231, col_offset=19, end_lineno=231, end_col_offset=25), lineno=231, col_offset=12, end_lineno=231, end_col_offset=25), keyword(arg='docfacts', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=232, col_offset=21, end_lineno=232, end_col_offset=24), attr='docfacts', ctx=Load(), lineno=232, col_offset=21, end_lineno=232, end_col_offset=33), lineno=232, col_offset=12, end_lineno=232, end_col_offset=33), keyword(arg='preview', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=233, col_offset=20, end_lineno=233, end_col_offset=23), attr='preview', ctx=Load(), lineno=233, col_offset=20, end_lineno=233, end_col_offset=31), lineno=233, col_offset=12, end_lineno=233, end_col_offset=31), keyword(arg='changed', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=234, col_offset=20, end_lineno=234, end_col_offset=23), attr='changed', ctx=Load(), lineno=234, col_offset=20, end_lineno=234, end_col_offset=31), lineno=234, col_offset=12, end_lineno=234, end_col_offset=31), keyword(arg='skipped', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=235, col_offset=20, end_lineno=235, end_col_offset=23), attr='skipped', ctx=Load(), lineno=235, col_offset=20, end_lineno=235, end_col_offset=31), lineno=235, col_offset=12, end_lineno=235, end_col_offset=31), keyword(arg='message', value=Attribute(value=Name(id='ctx', ctx=Load(), lineno=236, col_offset=20, end_lineno=236, end_col_offset=23), attr='message', ctx=Load(), lineno=236, col_offset=20, end_lineno=236, end_col_offset=31), lineno=236, col_offset=12, end_lineno=236, end_col_offset=31), keyword(arg='semantics', value=Call(func=Name(id='list', ctx=Load(), lineno=237, col_offset=22, end_lineno=237, end_col_offset=26), args=[Name(id='semantics', ctx=Load(), lineno=237, col_offset=27, end_lineno=237, end_col_offset=36)], lineno=237, col_offset=22, end_lineno=237, end_col_offset=37), lineno=237, col_offset=12, end_lineno=237, end_col_offset=37), keyword(arg='ir', value=Call(func=Name(id='list', ctx=Load(), lineno=238, col_offset=15, end_lineno=238, end_col_offset=19), args=[Name(id='ir_entries', ctx=Load(), lineno=238, col_offset=20, end_lineno=238, end_col_offset=30)], lineno=238, col_offset=15, end_lineno=238, end_col_offset=31), lineno=238, col_offset=12, end_lineno=238, end_col_offset=31)], lineno=230, col_offset=15, end_lineno=239, end_col_offset=9), lineno=230, col_offset=8, end_lineno=239, end_col_offset=9)], returns=Name(id='FileOutcome', ctx=Load(), lineno=112, col_offset=42, end_lineno=112, end_col_offset=53), lineno=112, col_offset=4, end_lineno=239, end_col_offset=9), FunctionDef(name='_try_harvest', args=arguments(args=[arg(arg='self', lineno=241, col_offset=21, end_lineno=241, end_col_offset=25), arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=241, col_offset=38, end_lineno=241, end_col_offset=42), lineno=241, col_offset=27, end_lineno=241, end_col_offset=42)]), body=[Expr(value=Constant(value='Attempt to harvest a file, returning outcome on error.\n\n        Parameters\n        ----------\n        file_path : Path\n            Path to the file to harvest.\n\n        Returns\n        -------\n        HarvestResult | FileOutcome\n            HarvestResult on success, FileOutcome on error.\n\n        Raises\n        ------\n        KeyboardInterrupt\n            Propagated if user interrupts the operation.\n        ', lineno=242, col_offset=8, end_lineno=258, end_col_offset=11), lineno=242, col_offset=8, end_lineno=258, end_col_offset=11), AnnAssign(target=Name(id='result', ctx=Store(), lineno=259, col_offset=8, end_lineno=259, end_col_offset=14), annotation=BinOp(left=BinOp(left=Name(id='HarvestResult', ctx=Load(), lineno=259, col_offset=16, end_lineno=259, end_col_offset=29), op=BitOr(), right=Name(id='FileOutcome', ctx=Load(), lineno=259, col_offset=32, end_lineno=259, end_col_offset=43), lineno=259, col_offset=16, end_lineno=259, end_col_offset=43), op=BitOr(), right=Constant(value=None, lineno=259, col_offset=46, end_lineno=259, end_col_offset=50), lineno=259, col_offset=16, end_lineno=259, end_col_offset=50), value=Constant(value=None, lineno=259, col_offset=53, end_lineno=259, end_col_offset=57), simple=1, lineno=259, col_offset=8, end_lineno=259, end_col_offset=57), Try(body=[With(items=[withitem(context_expr=Call(func=Name(id='record_operation_metrics', ctx=Load(), lineno=261, col_offset=17, end_lineno=261, end_col_offset=41), args=[Constant(value='harvest', lineno=261, col_offset=42, end_lineno=261, end_col_offset=51)], keywords=[keyword(arg='status', value=Constant(value='success', lineno=261, col_offset=60, end_lineno=261, end_col_offset=69), lineno=261, col_offset=53, end_lineno=261, end_col_offset=69)], lineno=261, col_offset=17, end_lineno=261, end_col_offset=70))], body=[Assign(targets=[Name(id='result', ctx=Store(), lineno=262, col_offset=16, end_lineno=262, end_col_offset=22)], value=Call(func=Name(id='harvest_file', ctx=Load(), lineno=262, col_offset=25, end_lineno=262, end_col_offset=37), args=[Name(id='file_path', ctx=Load(), lineno=262, col_offset=38, end_lineno=262, end_col_offset=47), Attribute(value=Name(id='self', ctx=Load(), lineno=262, col_offset=49, end_lineno=262, end_col_offset=53), attr='config', ctx=Load(), lineno=262, col_offset=49, end_lineno=262, end_col_offset=60), Name(id='REPO_ROOT', ctx=Load(), lineno=262, col_offset=62, end_lineno=262, end_col_offset=71)], lineno=262, col_offset=25, end_lineno=262, end_col_offset=72), lineno=262, col_offset=16, end_lineno=262, end_col_offset=72)], lineno=261, col_offset=12, end_lineno=262, end_col_offset=72), If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load(), lineno=263, col_offset=15, end_lineno=263, end_col_offset=19), attr='plugin_manager', ctx=Load(), lineno=263, col_offset=15, end_lineno=263, end_col_offset=34), ops=[IsNot()], comparators=[Constant(value=None, lineno=263, col_offset=42, end_lineno=263, end_col_offset=46)], lineno=263, col_offset=15, end_lineno=263, end_col_offset=46), body=[Assign(targets=[Name(id='result', ctx=Store(), lineno=264, col_offset=16, end_lineno=264, end_col_offset=22)], value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=264, col_offset=25, end_lineno=264, end_col_offset=29), attr='plugin_manager', ctx=Load(), lineno=264, col_offset=25, end_lineno=264, end_col_offset=44), attr='apply_harvest', ctx=Load(), lineno=264, col_offset=25, end_lineno=264, end_col_offset=58), args=[Name(id='file_path', ctx=Load(), lineno=264, col_offset=59, end_lineno=264, end_col_offset=68), Name(id='result', ctx=Load(), lineno=264, col_offset=70, end_lineno=264, end_col_offset=76)], lineno=264, col_offset=25, end_lineno=264, end_col_offset=77), lineno=264, col_offset=16, end_lineno=264, end_col_offset=77)], lineno=263, col_offset=12, end_lineno=264, end_col_offset=77)], handlers=[ExceptHandler(type=Name(id='ModuleNotFoundError', ctx=Load(), lineno=265, col_offset=15, end_lineno=265, end_col_offset=34), name='exc', body=[Assign(targets=[Name(id='relative', ctx=Store(), lineno=266, col_offset=12, end_lineno=266, end_col_offset=20)], value=Call(func=Attribute(value=Name(id='file_path', ctx=Load(), lineno=266, col_offset=23, end_lineno=266, end_col_offset=32), attr='relative_to', ctx=Load(), lineno=266, col_offset=23, end_lineno=266, end_col_offset=44), args=[Name(id='REPO_ROOT', ctx=Load(), lineno=266, col_offset=45, end_lineno=266, end_col_offset=54)], lineno=266, col_offset=23, end_lineno=266, end_col_offset=55), lineno=266, col_offset=12, end_lineno=266, end_col_offset=55), Assign(targets=[Name(id='message', ctx=Store(), lineno=267, col_offset=12, end_lineno=267, end_col_offset=19)], value=JoinedStr(values=[Constant(value='missing dependency: ', lineno=267, col_offset=24, end_lineno=267, end_col_offset=44), FormattedValue(value=Name(id='exc', ctx=Load(), lineno=267, col_offset=45, end_lineno=267, end_col_offset=48), conversion=-1, lineno=267, col_offset=44, end_lineno=267, end_col_offset=49)], lineno=267, col_offset=22, end_lineno=267, end_col_offset=50), lineno=267, col_offset=12, end_lineno=267, end_col_offset=50), If(test=Call(func=Attribute(value=Name(id='self', ctx=Load(), lineno=268, col_offset=15, end_lineno=268, end_col_offset=19), attr='_can_ignore_missing', ctx=Load(), lineno=268, col_offset=15, end_lineno=268, end_col_offset=39), args=[Name(id='file_path', ctx=Load(), lineno=268, col_offset=40, end_lineno=268, end_col_offset=49)], lineno=268, col_offset=15, end_lineno=268, end_col_offset=50), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=269, col_offset=16, end_lineno=269, end_col_offset=20), attr='logger', ctx=Load(), lineno=269, col_offset=16, end_lineno=269, end_col_offset=27), attr='info', ctx=Load(), lineno=269, col_offset=16, end_lineno=269, end_col_offset=32), args=[Constant(value='Skipping %s due to missing dependency: %s', lineno=269, col_offset=33, end_lineno=269, end_col_offset=76), Name(id='relative', ctx=Load(), lineno=269, col_offset=78, end_lineno=269, end_col_offset=86), Name(id='exc', ctx=Load(), lineno=269, col_offset=88, end_lineno=269, end_col_offset=91)], lineno=269, col_offset=16, end_lineno=269, end_col_offset=92), lineno=269, col_offset=16, end_lineno=269, end_col_offset=92), Assign(targets=[Name(id='result', ctx=Store(), lineno=270, col_offset=16, end_lineno=270, end_col_offset=22)], value=Call(func=Name(id='FileOutcome', ctx=Load(), lineno=270, col_offset=25, end_lineno=270, end_col_offset=36), keywords=[keyword(arg='status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=271, col_offset=27, end_lineno=271, end_col_offset=37), attr='SUCCESS', ctx=Load(), lineno=271, col_offset=27, end_lineno=271, end_col_offset=45), lineno=271, col_offset=20, end_lineno=271, end_col_offset=45), keyword(arg='docfacts', value=List(ctx=Load(), lineno=272, col_offset=29, end_lineno=272, end_col_offset=31), lineno=272, col_offset=20, end_lineno=272, end_col_offset=31), keyword(arg='preview', value=Constant(value=None, lineno=273, col_offset=28, end_lineno=273, end_col_offset=32), lineno=273, col_offset=20, end_lineno=273, end_col_offset=32), keyword(arg='changed', value=Constant(value=False, lineno=274, col_offset=28, end_lineno=274, end_col_offset=33), lineno=274, col_offset=20, end_lineno=274, end_col_offset=33), keyword(arg='skipped', value=Constant(value=True, lineno=275, col_offset=28, end_lineno=275, end_col_offset=32), lineno=275, col_offset=20, end_lineno=275, end_col_offset=32), keyword(arg='message', value=Name(id='message', ctx=Load(), lineno=276, col_offset=28, end_lineno=276, end_col_offset=35), lineno=276, col_offset=20, end_lineno=276, end_col_offset=35)], lineno=270, col_offset=25, end_lineno=277, end_col_offset=17), lineno=270, col_offset=16, end_lineno=277, end_col_offset=17)], orelse=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=279, col_offset=16, end_lineno=279, end_col_offset=20), attr='logger', ctx=Load(), lineno=279, col_offset=16, end_lineno=279, end_col_offset=27), attr='exception', ctx=Load(), lineno=279, col_offset=16, end_lineno=279, end_col_offset=37), args=[Constant(value='Failed to harvest %s', lineno=279, col_offset=38, end_lineno=279, end_col_offset=60), Name(id='relative', ctx=Load(), lineno=279, col_offset=62, end_lineno=279, end_col_offset=70)], lineno=279, col_offset=16, end_lineno=279, end_col_offset=71), lineno=279, col_offset=16, end_lineno=279, end_col_offset=71), Assign(targets=[Name(id='result', ctx=Store(), lineno=280, col_offset=16, end_lineno=280, end_col_offset=22)], value=Call(func=Name(id='FileOutcome', ctx=Load(), lineno=280, col_offset=25, end_lineno=280, end_col_offset=36), keywords=[keyword(arg='status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=281, col_offset=27, end_lineno=281, end_col_offset=37), attr='CONFIG', ctx=Load(), lineno=281, col_offset=27, end_lineno=281, end_col_offset=44), lineno=281, col_offset=20, end_lineno=281, end_col_offset=44), keyword(arg='docfacts', value=List(ctx=Load(), lineno=282, col_offset=29, end_lineno=282, end_col_offset=31), lineno=282, col_offset=20, end_lineno=282, end_col_offset=31), keyword(arg='preview', value=Constant(value=None, lineno=283, col_offset=28, end_lineno=283, end_col_offset=32), lineno=283, col_offset=20, end_lineno=283, end_col_offset=32), keyword(arg='changed', value=Constant(value=False, lineno=284, col_offset=28, end_lineno=284, end_col_offset=33), lineno=284, col_offset=20, end_lineno=284, end_col_offset=33), keyword(arg='skipped', value=Constant(value=False, lineno=285, col_offset=28, end_lineno=285, end_col_offset=33), lineno=285, col_offset=20, end_lineno=285, end_col_offset=33), keyword(arg='message', value=Name(id='message', ctx=Load(), lineno=286, col_offset=28, end_lineno=286, end_col_offset=35), lineno=286, col_offset=20, end_lineno=286, end_col_offset=35)], lineno=280, col_offset=25, end_lineno=287, end_col_offset=17), lineno=280, col_offset=16, end_lineno=287, end_col_offset=17)], lineno=268, col_offset=12, end_lineno=287, end_col_offset=17)], lineno=265, col_offset=8, end_lineno=287, end_col_offset=17), ExceptHandler(type=Name(id='_HARVEST_ERRORS', ctx=Load(), lineno=288, col_offset=15, end_lineno=288, end_col_offset=30), name='exc', body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=289, col_offset=12, end_lineno=289, end_col_offset=16), attr='logger', ctx=Load(), lineno=289, col_offset=12, end_lineno=289, end_col_offset=23), attr='exception', ctx=Load(), lineno=289, col_offset=12, end_lineno=289, end_col_offset=33), args=[Constant(value='Failed to harvest %s', lineno=289, col_offset=34, end_lineno=289, end_col_offset=56), Name(id='file_path', ctx=Load(), lineno=289, col_offset=58, end_lineno=289, end_col_offset=67)], lineno=289, col_offset=12, end_lineno=289, end_col_offset=68), lineno=289, col_offset=12, end_lineno=289, end_col_offset=68), Assign(targets=[Name(id='result', ctx=Store(), lineno=290, col_offset=12, end_lineno=290, end_col_offset=18)], value=Call(func=Name(id='FileOutcome', ctx=Load(), lineno=290, col_offset=21, end_lineno=290, end_col_offset=32), keywords=[keyword(arg='status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=291, col_offset=23, end_lineno=291, end_col_offset=33), attr='ERROR', ctx=Load(), lineno=291, col_offset=23, end_lineno=291, end_col_offset=39), lineno=291, col_offset=16, end_lineno=291, end_col_offset=39), keyword(arg='docfacts', value=List(ctx=Load(), lineno=292, col_offset=25, end_lineno=292, end_col_offset=27), lineno=292, col_offset=16, end_lineno=292, end_col_offset=27), keyword(arg='preview', value=Constant(value=None, lineno=293, col_offset=24, end_lineno=293, end_col_offset=28), lineno=293, col_offset=16, end_lineno=293, end_col_offset=28), keyword(arg='changed', value=Constant(value=False, lineno=294, col_offset=24, end_lineno=294, end_col_offset=29), lineno=294, col_offset=16, end_lineno=294, end_col_offset=29), keyword(arg='skipped', value=Constant(value=False, lineno=295, col_offset=24, end_lineno=295, end_col_offset=29), lineno=295, col_offset=16, end_lineno=295, end_col_offset=29), keyword(arg='message', value=Call(func=Name(id='str', ctx=Load(), lineno=296, col_offset=24, end_lineno=296, end_col_offset=27), args=[Name(id='exc', ctx=Load(), lineno=296, col_offset=28, end_lineno=296, end_col_offset=31)], lineno=296, col_offset=24, end_lineno=296, end_col_offset=32), lineno=296, col_offset=16, end_lineno=296, end_col_offset=32)], lineno=290, col_offset=21, end_lineno=297, end_col_offset=13), lineno=290, col_offset=12, end_lineno=297, end_col_offset=13)], lineno=288, col_offset=8, end_lineno=297, end_col_offset=13), ExceptHandler(type=Name(id='KeyboardInterrupt', ctx=Load(), lineno=298, col_offset=15, end_lineno=298, end_col_offset=32), body=[Raise(lineno=299, col_offset=12, end_lineno=299, end_col_offset=17)], lineno=298, col_offset=8, end_lineno=299, end_col_offset=17)], lineno=260, col_offset=8, end_lineno=299, end_col_offset=17), If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=301, col_offset=11, end_lineno=301, end_col_offset=21), args=[Name(id='result', ctx=Load(), lineno=301, col_offset=22, end_lineno=301, end_col_offset=28), Name(id='FileOutcome', ctx=Load(), lineno=301, col_offset=30, end_lineno=301, end_col_offset=41)], lineno=301, col_offset=11, end_lineno=301, end_col_offset=42), body=[Return(value=Name(id='result', ctx=Load(), lineno=302, col_offset=19, end_lineno=302, end_col_offset=25), lineno=302, col_offset=12, end_lineno=302, end_col_offset=25)], lineno=301, col_offset=8, end_lineno=302, end_col_offset=25), Return(value=Name(id='result', ctx=Load(), lineno=303, col_offset=15, end_lineno=303, end_col_offset=21), lineno=303, col_offset=8, end_lineno=303, end_col_offset=21)], returns=BinOp(left=Name(id='HarvestResult', ctx=Load(), lineno=241, col_offset=47, end_lineno=241, end_col_offset=60), op=BitOr(), right=Name(id='FileOutcome', ctx=Load(), lineno=241, col_offset=63, end_lineno=241, end_col_offset=74), lineno=241, col_offset=47, end_lineno=241, end_col_offset=74), lineno=241, col_offset=4, end_lineno=303, end_col_offset=21), FunctionDef(name='_use_cache', args=arguments(args=[arg(arg='self', lineno=305, col_offset=19, end_lineno=305, end_col_offset=23), arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=305, col_offset=36, end_lineno=305, end_col_offset=40), lineno=305, col_offset=25, end_lineno=305, end_col_offset=40)]), body=[Expr(value=Constant(value='Return ``True`` when cached results remain valid.\n\n        Parameters\n        ----------\n        file_path : Path\n            Path to the file to check.\n\n        Returns\n        -------\n        bool\n            True if cache is valid and should be used, False otherwise.\n        ', lineno=306, col_offset=8, end_lineno=317, end_col_offset=11), lineno=306, col_offset=8, end_lineno=317, end_col_offset=11), Assign(targets=[Name(id='command', ctx=Store(), lineno=318, col_offset=8, end_lineno=318, end_col_offset=15)], value=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=318, col_offset=18, end_lineno=318, end_col_offset=22), attr='options', ctx=Load(), lineno=318, col_offset=18, end_lineno=318, end_col_offset=30), attr='command', ctx=Load(), lineno=318, col_offset=18, end_lineno=318, end_col_offset=38), lineno=318, col_offset=8, end_lineno=318, end_col_offset=38), Return(value=BoolOp(op=And(), values=[Compare(left=Name(id='command', ctx=Load(), lineno=320, col_offset=12, end_lineno=320, end_col_offset=19), ops=[NotEq()], comparators=[Constant(value='harvest', lineno=320, col_offset=23, end_lineno=320, end_col_offset=32)], lineno=320, col_offset=12, end_lineno=320, end_col_offset=32), UnaryOp(op=Not(), operand=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=321, col_offset=20, end_lineno=321, end_col_offset=24), attr='options', ctx=Load(), lineno=321, col_offset=20, end_lineno=321, end_col_offset=32), attr='force', ctx=Load(), lineno=321, col_offset=20, end_lineno=321, end_col_offset=38), lineno=321, col_offset=16, end_lineno=321, end_col_offset=38), UnaryOp(op=Not(), operand=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=322, col_offset=20, end_lineno=322, end_col_offset=24), attr='cache', ctx=Load(), lineno=322, col_offset=20, end_lineno=322, end_col_offset=30), attr='needs_update', ctx=Load(), lineno=322, col_offset=20, end_lineno=322, end_col_offset=43), args=[Name(id='file_path', ctx=Load(), lineno=322, col_offset=44, end_lineno=322, end_col_offset=53), Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=322, col_offset=55, end_lineno=322, end_col_offset=59), attr='config', ctx=Load(), lineno=322, col_offset=55, end_lineno=322, end_col_offset=66), attr='config_hash', ctx=Load(), lineno=322, col_offset=55, end_lineno=322, end_col_offset=78)], lineno=322, col_offset=20, end_lineno=322, end_col_offset=79), lineno=322, col_offset=16, end_lineno=322, end_col_offset=79)], lineno=320, col_offset=12, end_lineno=322, end_col_offset=79), lineno=319, col_offset=8, end_lineno=323, end_col_offset=9)], returns=Name(id='bool', ctx=Load(), lineno=305, col_offset=45, end_lineno=305, end_col_offset=49), lineno=305, col_offset=4, end_lineno=323, end_col_offset=9), FunctionDef(name='_can_ignore_missing', args=arguments(args=[arg(arg='self', lineno=325, col_offset=28, end_lineno=325, end_col_offset=32), arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=325, col_offset=45, end_lineno=325, end_col_offset=49), lineno=325, col_offset=34, end_lineno=325, end_col_offset=49)]), body=[Expr(value=Constant(value='Return ``True`` if missing dependencies can be ignored.\n\n        Parameters\n        ----------\n        file_path : Path\n            Path to the file to check.\n\n        Returns\n        -------\n        bool\n            True if missing dependencies can be ignored for this file.\n        ', lineno=326, col_offset=8, end_lineno=337, end_col_offset=11), lineno=326, col_offset=8, end_lineno=337, end_col_offset=11), Return(value=BoolOp(op=And(), values=[Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=338, col_offset=15, end_lineno=338, end_col_offset=19), attr='options', ctx=Load(), lineno=338, col_offset=15, end_lineno=338, end_col_offset=27), attr='ignore_missing', ctx=Load(), lineno=338, col_offset=15, end_lineno=338, end_col_offset=42), Call(func=Name(id='matches_patterns', ctx=Load(), lineno=338, col_offset=47, end_lineno=338, end_col_offset=63), args=[Name(id='file_path', ctx=Load(), lineno=339, col_offset=12, end_lineno=339, end_col_offset=21), Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=339, col_offset=23, end_lineno=339, end_col_offset=27), attr='options', ctx=Load(), lineno=339, col_offset=23, end_lineno=339, end_col_offset=35), attr='missing_patterns', ctx=Load(), lineno=339, col_offset=23, end_lineno=339, end_col_offset=52)], lineno=338, col_offset=47, end_lineno=340, end_col_offset=9)], lineno=338, col_offset=15, end_lineno=340, end_col_offset=9), lineno=338, col_offset=8, end_lineno=340, end_col_offset=9)], returns=Name(id='bool', ctx=Load(), lineno=325, col_offset=54, end_lineno=325, end_col_offset=58), lineno=325, col_offset=4, end_lineno=340, end_col_offset=9), FunctionDef(name='_apply_edits', args=arguments(args=[arg(arg='result', annotation=Name(id='HarvestResult', ctx=Load(), lineno=344, col_offset=16, end_lineno=344, end_col_offset=29), lineno=344, col_offset=8, end_lineno=344, end_col_offset=29), arg(arg='edits', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=345, col_offset=15, end_lineno=345, end_col_offset=23), slice=Name(id='DocstringEdit', ctx=Load(), lineno=345, col_offset=24, end_lineno=345, end_col_offset=37), ctx=Load(), lineno=345, col_offset=15, end_lineno=345, end_col_offset=38), lineno=345, col_offset=8, end_lineno=345, end_col_offset=38)], kwonlyargs=[arg(arg='apply_config', annotation=Name(id='DocstringApplyConfig', ctx=Load(), lineno=347, col_offset=22, end_lineno=347, end_col_offset=42), lineno=347, col_offset=8, end_lineno=347, end_col_offset=42)], kw_defaults=[None]), body=[Expr(value=Constant(value='Apply docstring edits and return change status plus preview.\n\n        Parameters\n        ----------\n        result : HarvestResult\n            Harvested module metadata.\n        edits : Sequence[DocstringEdit]\n            Docstring edits to apply.\n        apply_config : DocstringApplyConfig\n            Configuration for applying edits.\n\n        Returns\n        -------\n        tuple[bool, str | None]\n            Tuple of (changed, preview) where changed indicates if edits were applied,\n            and preview contains the rendered code when in dry-run mode.\n        ', lineno=349, col_offset=8, end_lineno=365, end_col_offset=11), lineno=349, col_offset=8, end_lineno=365, end_col_offset=11), Assign(targets=[Name(id='changed', ctx=Store(), lineno=366, col_offset=8, end_lineno=366, end_col_offset=15)], value=Constant(value=False, lineno=366, col_offset=18, end_lineno=366, end_col_offset=23), lineno=366, col_offset=8, end_lineno=366, end_col_offset=23), AnnAssign(target=Name(id='preview', ctx=Store(), lineno=367, col_offset=8, end_lineno=367, end_col_offset=15), annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=367, col_offset=17, end_lineno=367, end_col_offset=20), op=BitOr(), right=Constant(value=None, lineno=367, col_offset=23, end_lineno=367, end_col_offset=27), lineno=367, col_offset=17, end_lineno=367, end_col_offset=27), value=Constant(value=None, lineno=367, col_offset=30, end_lineno=367, end_col_offset=34), simple=1, lineno=367, col_offset=8, end_lineno=367, end_col_offset=34), If(test=UnaryOp(op=Not(), operand=Name(id='edits', ctx=Load(), lineno=368, col_offset=15, end_lineno=368, end_col_offset=20), lineno=368, col_offset=11, end_lineno=368, end_col_offset=20), body=[Return(value=Tuple(elts=[Name(id='changed', ctx=Load(), lineno=369, col_offset=19, end_lineno=369, end_col_offset=26), Name(id='preview', ctx=Load(), lineno=369, col_offset=28, end_lineno=369, end_col_offset=35)], ctx=Load(), lineno=369, col_offset=19, end_lineno=369, end_col_offset=35), lineno=369, col_offset=12, end_lineno=369, end_col_offset=35)], lineno=368, col_offset=8, end_lineno=369, end_col_offset=35), Assign(targets=[Name(id='apply_edits', ctx=Store(), lineno=371, col_offset=8, end_lineno=371, end_col_offset=19)], value=Call(func=Name(id='_load_apply_edits', ctx=Load(), lineno=371, col_offset=22, end_lineno=371, end_col_offset=39), lineno=371, col_offset=22, end_lineno=371, end_col_offset=41), lineno=371, col_offset=8, end_lineno=371, end_col_offset=41), Assign(targets=[Tuple(elts=[Name(id='changed', ctx=Store(), lineno=372, col_offset=8, end_lineno=372, end_col_offset=15), Name(id='preview', ctx=Store(), lineno=372, col_offset=17, end_lineno=372, end_col_offset=24)], ctx=Store(), lineno=372, col_offset=8, end_lineno=372, end_col_offset=24)], value=Call(func=Name(id='apply_edits', ctx=Load(), lineno=372, col_offset=27, end_lineno=372, end_col_offset=38), args=[Name(id='result', ctx=Load(), lineno=373, col_offset=12, end_lineno=373, end_col_offset=18), Call(func=Name(id='list', ctx=Load(), lineno=374, col_offset=12, end_lineno=374, end_col_offset=16), args=[Name(id='edits', ctx=Load(), lineno=374, col_offset=17, end_lineno=374, end_col_offset=22)], lineno=374, col_offset=12, end_lineno=374, end_col_offset=23)], keywords=[keyword(arg='apply_config', value=Name(id='apply_config', ctx=Load(), lineno=375, col_offset=25, end_lineno=375, end_col_offset=37), lineno=375, col_offset=12, end_lineno=375, end_col_offset=37)], lineno=372, col_offset=27, end_lineno=376, end_col_offset=9), lineno=372, col_offset=8, end_lineno=376, end_col_offset=9), Return(value=Tuple(elts=[Name(id='changed', ctx=Load(), lineno=377, col_offset=15, end_lineno=377, end_col_offset=22), Name(id='preview', ctx=Load(), lineno=377, col_offset=24, end_lineno=377, end_col_offset=31)], ctx=Load(), lineno=377, col_offset=15, end_lineno=377, end_col_offset=31), lineno=377, col_offset=8, end_lineno=377, end_col_offset=31)], decorator_list=[Name(id='staticmethod', ctx=Load(), lineno=342, col_offset=5, end_lineno=342, end_col_offset=17)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=348, col_offset=9, end_lineno=348, end_col_offset=14), slice=Tuple(elts=[Name(id='bool', ctx=Load(), lineno=348, col_offset=15, end_lineno=348, end_col_offset=19), BinOp(left=Name(id='str', ctx=Load(), lineno=348, col_offset=21, end_lineno=348, end_col_offset=24), op=BitOr(), right=Constant(value=None, lineno=348, col_offset=27, end_lineno=348, end_col_offset=31), lineno=348, col_offset=21, end_lineno=348, end_col_offset=31)], ctx=Load(), lineno=348, col_offset=15, end_lineno=348, end_col_offset=31), ctx=Load(), lineno=348, col_offset=9, end_lineno=348, end_col_offset=32), lineno=343, col_offset=4, end_lineno=377, end_col_offset=31)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=101, col_offset=1, end_lineno=101, end_col_offset=10), keywords=[keyword(arg='slots', value=Constant(value=True, lineno=101, col_offset=17, end_lineno=101, end_col_offset=21), lineno=101, col_offset=11, end_lineno=101, end_col_offset=21), keyword(arg='frozen', value=Constant(value=True, lineno=101, col_offset=30, end_lineno=101, end_col_offset=34), lineno=101, col_offset=23, end_lineno=101, end_col_offset=34)], lineno=101, col_offset=1, end_lineno=101, end_col_offset=35)], lineno=102, col_offset=0, end_lineno=377, end_col_offset=31)])