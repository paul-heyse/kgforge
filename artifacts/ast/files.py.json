Module(body=[Expr(value=Constant(value='File and scope management adapter.\n\nProvides file listing, reading, and scope configuration.\n', lineno=1, col_offset=0, end_lineno=4, end_col_offset=3), lineno=1, col_offset=0, end_lineno=4, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=6, col_offset=23, end_lineno=6, end_col_offset=34)], level=0, lineno=6, col_offset=0, end_lineno=6, end_col_offset=34), Import(names=[alias(name='asyncio', lineno=8, col_offset=7, end_lineno=8, end_col_offset=14)], lineno=8, col_offset=0, end_lineno=8, end_col_offset=14), Import(names=[alias(name='fnmatch', lineno=9, col_offset=7, end_lineno=9, end_col_offset=14)], lineno=9, col_offset=0, end_lineno=9, end_col_offset=14), Import(names=[alias(name='os', lineno=10, col_offset=7, end_lineno=10, end_col_offset=9)], lineno=10, col_offset=0, end_lineno=10, end_col_offset=9), ImportFrom(module='collections.abc', names=[alias(name='Sequence', lineno=11, col_offset=28, end_lineno=11, end_col_offset=36)], level=0, lineno=11, col_offset=0, end_lineno=11, end_col_offset=36), ImportFrom(module='dataclasses', names=[alias(name='dataclass', lineno=12, col_offset=24, end_lineno=12, end_col_offset=33)], level=0, lineno=12, col_offset=0, end_lineno=12, end_col_offset=33), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=13, col_offset=20, end_lineno=13, end_col_offset=24)], level=0, lineno=13, col_offset=0, end_lineno=13, end_col_offset=24), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=14, col_offset=19, end_lineno=14, end_col_offset=32), alias(name='SupportsIndex', lineno=14, col_offset=34, end_lineno=14, end_col_offset=47), alias(name='cast', lineno=14, col_offset=49, end_lineno=14, end_col_offset=53)], level=0, lineno=14, col_offset=0, end_lineno=14, end_col_offset=53), ImportFrom(module='codeintel_rev.app.middleware', names=[alias(name='get_session_id', lineno=16, col_offset=41, end_lineno=16, end_col_offset=55)], level=0, lineno=16, col_offset=0, end_lineno=16, end_col_offset=55), ImportFrom(module='codeintel_rev.errors', names=[alias(name='FileReadError', lineno=18, col_offset=4, end_lineno=18, end_col_offset=17), alias(name='InvalidLineRangeError', lineno=19, col_offset=4, end_lineno=19, end_col_offset=25), alias(name='PathNotDirectoryError', lineno=20, col_offset=4, end_lineno=20, end_col_offset=25), alias(name='PathNotFoundError', lineno=21, col_offset=4, end_lineno=21, end_col_offset=21)], level=0, lineno=17, col_offset=0, end_lineno=22, end_col_offset=1), ImportFrom(module='codeintel_rev.io.path_utils', names=[alias(name='PathOutsideRepositoryError', lineno=23, col_offset=40, end_lineno=23, end_col_offset=66), alias(name='resolve_within_repo', lineno=23, col_offset=68, end_lineno=23, end_col_offset=87)], level=0, lineno=23, col_offset=0, end_lineno=23, end_col_offset=87), ImportFrom(module='codeintel_rev.mcp_server.schemas', names=[alias(name='ScopeIn', lineno=24, col_offset=45, end_lineno=24, end_col_offset=52)], level=0, lineno=24, col_offset=0, end_lineno=24, end_col_offset=52), ImportFrom(module='codeintel_rev.mcp_server.scope_utils', names=[alias(name='LANGUAGE_EXTENSIONS', lineno=26, col_offset=4, end_lineno=26, end_col_offset=23), alias(name='get_effective_scope', lineno=27, col_offset=4, end_lineno=27, end_col_offset=23), alias(name='merge_scope_filters', lineno=28, col_offset=4, end_lineno=28, end_col_offset=23)], level=0, lineno=25, col_offset=0, end_lineno=29, end_col_offset=1), ImportFrom(module='kgfoundry_common.logging', names=[alias(name='get_logger', lineno=30, col_offset=37, end_lineno=30, end_col_offset=47)], level=0, lineno=30, col_offset=0, end_lineno=30, end_col_offset=47), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=32, col_offset=3, end_lineno=32, end_col_offset=16), body=[ImportFrom(module='codeintel_rev.app.config_context', names=[alias(name='ApplicationContext', lineno=33, col_offset=49, end_lineno=33, end_col_offset=67)], level=0, lineno=33, col_offset=4, end_lineno=33, end_col_offset=67)], lineno=32, col_offset=0, end_lineno=33, end_col_offset=67), Assign(targets=[Name(id='LOGGER', ctx=Store(), lineno=35, col_offset=0, end_lineno=35, end_col_offset=6)], value=Call(func=Name(id='get_logger', ctx=Load(), lineno=35, col_offset=9, end_lineno=35, end_col_offset=19), args=[Name(id='__name__', ctx=Load(), lineno=35, col_offset=20, end_lineno=35, end_col_offset=28)], lineno=35, col_offset=9, end_lineno=35, end_col_offset=29), lineno=35, col_offset=0, end_lineno=35, end_col_offset=29), ClassDef(name='FileListFilters', body=[Expr(value=Constant(value='Configuration for file listing filters.', lineno=40, col_offset=4, end_lineno=40, end_col_offset=49), lineno=40, col_offset=4, end_lineno=40, end_col_offset=49), AnnAssign(target=Name(id='include_globs', ctx=Store(), lineno=42, col_offset=4, end_lineno=42, end_col_offset=17), annotation=BinOp(left=Subscript(value=Name(id='list', ctx=Load(), lineno=42, col_offset=19, end_lineno=42, end_col_offset=23), slice=Name(id='str', ctx=Load(), lineno=42, col_offset=24, end_lineno=42, end_col_offset=27), ctx=Load(), lineno=42, col_offset=19, end_lineno=42, end_col_offset=28), op=BitOr(), right=Constant(value=None, lineno=42, col_offset=31, end_lineno=42, end_col_offset=35), lineno=42, col_offset=19, end_lineno=42, end_col_offset=35), value=Constant(value=None, lineno=42, col_offset=38, end_lineno=42, end_col_offset=42), simple=1, lineno=42, col_offset=4, end_lineno=42, end_col_offset=42), AnnAssign(target=Name(id='exclude_globs', ctx=Store(), lineno=43, col_offset=4, end_lineno=43, end_col_offset=17), annotation=BinOp(left=Subscript(value=Name(id='list', ctx=Load(), lineno=43, col_offset=19, end_lineno=43, end_col_offset=23), slice=Name(id='str', ctx=Load(), lineno=43, col_offset=24, end_lineno=43, end_col_offset=27), ctx=Load(), lineno=43, col_offset=19, end_lineno=43, end_col_offset=28), op=BitOr(), right=Constant(value=None, lineno=43, col_offset=31, end_lineno=43, end_col_offset=35), lineno=43, col_offset=19, end_lineno=43, end_col_offset=35), value=Constant(value=None, lineno=43, col_offset=38, end_lineno=43, end_col_offset=42), simple=1, lineno=43, col_offset=4, end_lineno=43, end_col_offset=42), AnnAssign(target=Name(id='languages', ctx=Store(), lineno=44, col_offset=4, end_lineno=44, end_col_offset=13), annotation=BinOp(left=Subscript(value=Name(id='list', ctx=Load(), lineno=44, col_offset=15, end_lineno=44, end_col_offset=19), slice=Name(id='str', ctx=Load(), lineno=44, col_offset=20, end_lineno=44, end_col_offset=23), ctx=Load(), lineno=44, col_offset=15, end_lineno=44, end_col_offset=24), op=BitOr(), right=Constant(value=None, lineno=44, col_offset=27, end_lineno=44, end_col_offset=31), lineno=44, col_offset=15, end_lineno=44, end_col_offset=31), value=Constant(value=None, lineno=44, col_offset=34, end_lineno=44, end_col_offset=38), simple=1, lineno=44, col_offset=4, end_lineno=44, end_col_offset=38), AnnAssign(target=Name(id='max_results', ctx=Store(), lineno=45, col_offset=4, end_lineno=45, end_col_offset=15), annotation=Name(id='int', ctx=Load(), lineno=45, col_offset=17, end_lineno=45, end_col_offset=20), value=Constant(value=1000, lineno=45, col_offset=23, end_lineno=45, end_col_offset=27), simple=1, lineno=45, col_offset=4, end_lineno=45, end_col_offset=27)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=38, col_offset=1, end_lineno=38, end_col_offset=10), keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=38, col_offset=18, end_lineno=38, end_col_offset=22), lineno=38, col_offset=11, end_lineno=38, end_col_offset=22)], lineno=38, col_offset=1, end_lineno=38, end_col_offset=23)], lineno=39, col_offset=0, end_lineno=45, end_col_offset=27), ClassDef(name='DirectoryFilters', body=[Expr(value=Constant(value='Prepared filters used during directory traversal.', lineno=50, col_offset=4, end_lineno=50, end_col_offset=59), lineno=50, col_offset=4, end_lineno=50, end_col_offset=59), AnnAssign(target=Name(id='includes', ctx=Store(), lineno=52, col_offset=4, end_lineno=52, end_col_offset=12), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=52, col_offset=14, end_lineno=52, end_col_offset=18), slice=Name(id='str', ctx=Load(), lineno=52, col_offset=19, end_lineno=52, end_col_offset=22), ctx=Load(), lineno=52, col_offset=14, end_lineno=52, end_col_offset=23), simple=1, lineno=52, col_offset=4, end_lineno=52, end_col_offset=23), AnnAssign(target=Name(id='excludes', ctx=Store(), lineno=53, col_offset=4, end_lineno=53, end_col_offset=12), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=53, col_offset=14, end_lineno=53, end_col_offset=18), slice=Name(id='str', ctx=Load(), lineno=53, col_offset=19, end_lineno=53, end_col_offset=22), ctx=Load(), lineno=53, col_offset=14, end_lineno=53, end_col_offset=23), simple=1, lineno=53, col_offset=4, end_lineno=53, end_col_offset=23), AnnAssign(target=Name(id='language_extensions', ctx=Store(), lineno=54, col_offset=4, end_lineno=54, end_col_offset=23), annotation=BinOp(left=Subscript(value=Name(id='set', ctx=Load(), lineno=54, col_offset=25, end_lineno=54, end_col_offset=28), slice=Name(id='str', ctx=Load(), lineno=54, col_offset=29, end_lineno=54, end_col_offset=32), ctx=Load(), lineno=54, col_offset=25, end_lineno=54, end_col_offset=33), op=BitOr(), right=Constant(value=None, lineno=54, col_offset=36, end_lineno=54, end_col_offset=40), lineno=54, col_offset=25, end_lineno=54, end_col_offset=40), simple=1, lineno=54, col_offset=4, end_lineno=54, end_col_offset=40), AnnAssign(target=Name(id='max_results', ctx=Store(), lineno=55, col_offset=4, end_lineno=55, end_col_offset=15), annotation=Name(id='int', ctx=Load(), lineno=55, col_offset=17, end_lineno=55, end_col_offset=20), simple=1, lineno=55, col_offset=4, end_lineno=55, end_col_offset=20)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=48, col_offset=1, end_lineno=48, end_col_offset=10), keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=48, col_offset=18, end_lineno=48, end_col_offset=22), lineno=48, col_offset=11, end_lineno=48, end_col_offset=22)], lineno=48, col_offset=1, end_lineno=48, end_col_offset=23)], lineno=49, col_offset=0, end_lineno=55, end_col_offset=20), AsyncFunctionDef(name='set_scope', args=arguments(args=[arg(arg='context', annotation=Name(id='ApplicationContext', ctx=Load(), lineno=58, col_offset=29, end_lineno=58, end_col_offset=47), lineno=58, col_offset=20, end_lineno=58, end_col_offset=47), arg(arg='scope', annotation=Name(id='ScopeIn', ctx=Load(), lineno=58, col_offset=56, end_lineno=58, end_col_offset=63), lineno=58, col_offset=49, end_lineno=58, end_col_offset=63)]), body=[Expr(value=Constant(value='Set query scope for subsequent operations.\n\n    Stores scope in the session-scoped registry keyed by session ID. Subsequent\n    queries within the same session automatically apply these constraints.\n\n    Parameters\n    ----------\n    context : ApplicationContext\n        Application context containing scope registry.\n    scope : ScopeIn\n        Scope configuration with repos, branches, paths, languages.\n\n    Returns\n    -------\n    dict\n        Confirmation with effective scope and session ID.\n\n    Examples\n    --------\n    >>> result = set_scope(context, {"languages": ["python"], "include_globs": ["src/**"]})\n    >>> result["status"]\n    \'ok\'\n    >>> result["session_id"]  # UUID format\n    \'abc123...\'\n    >>> result["effective_scope"]["languages"]\n    [\'python\']\n\n    Notes\n    -----\n    The session ID is extracted from the request context (set by middleware).\n    If no session ID is available, this function will raise RuntimeError.\n    ', lineno=59, col_offset=4, end_lineno=90, end_col_offset=7), lineno=59, col_offset=4, end_lineno=90, end_col_offset=7), Assign(targets=[Name(id='session_id', ctx=Store(), lineno=91, col_offset=4, end_lineno=91, end_col_offset=14)], value=Call(func=Name(id='get_session_id', ctx=Load(), lineno=91, col_offset=17, end_lineno=91, end_col_offset=31), lineno=91, col_offset=17, end_lineno=91, end_col_offset=33), lineno=91, col_offset=4, end_lineno=91, end_col_offset=33), Expr(value=Await(value=Call(func=Attribute(value=Attribute(value=Name(id='context', ctx=Load(), lineno=92, col_offset=10, end_lineno=92, end_col_offset=17), attr='scope_store', ctx=Load(), lineno=92, col_offset=10, end_lineno=92, end_col_offset=29), attr='set', ctx=Load(), lineno=92, col_offset=10, end_lineno=92, end_col_offset=33), args=[Name(id='session_id', ctx=Load(), lineno=92, col_offset=34, end_lineno=92, end_col_offset=44), Name(id='scope', ctx=Load(), lineno=92, col_offset=46, end_lineno=92, end_col_offset=51)], lineno=92, col_offset=10, end_lineno=92, end_col_offset=52), lineno=92, col_offset=4, end_lineno=92, end_col_offset=52), lineno=92, col_offset=4, end_lineno=92, end_col_offset=52), Expr(value=Call(func=Attribute(value=Name(id='LOGGER', ctx=Load(), lineno=94, col_offset=4, end_lineno=94, end_col_offset=10), attr='info', ctx=Load(), lineno=94, col_offset=4, end_lineno=94, end_col_offset=15), args=[Constant(value='Set scope for session', lineno=95, col_offset=8, end_lineno=95, end_col_offset=31)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='session_id', lineno=96, col_offset=15, end_lineno=96, end_col_offset=27), Constant(value='scope', lineno=96, col_offset=41, end_lineno=96, end_col_offset=48)], values=[Name(id='session_id', ctx=Load(), lineno=96, col_offset=29, end_lineno=96, end_col_offset=39), Name(id='scope', ctx=Load(), lineno=96, col_offset=50, end_lineno=96, end_col_offset=55)], lineno=96, col_offset=14, end_lineno=96, end_col_offset=56), lineno=96, col_offset=8, end_lineno=96, end_col_offset=56)], lineno=94, col_offset=4, end_lineno=97, end_col_offset=5), lineno=94, col_offset=4, end_lineno=97, end_col_offset=5), Return(value=Dict(keys=[Constant(value='effective_scope', lineno=99, col_offset=12, end_lineno=99, end_col_offset=29), Constant(value='session_id', lineno=99, col_offset=38, end_lineno=99, end_col_offset=50), Constant(value='status', lineno=99, col_offset=64, end_lineno=99, end_col_offset=72)], values=[Name(id='scope', ctx=Load(), lineno=99, col_offset=31, end_lineno=99, end_col_offset=36), Name(id='session_id', ctx=Load(), lineno=99, col_offset=52, end_lineno=99, end_col_offset=62), Constant(value='ok', lineno=99, col_offset=74, end_lineno=99, end_col_offset=78)], lineno=99, col_offset=11, end_lineno=99, end_col_offset=79), lineno=99, col_offset=4, end_lineno=99, end_col_offset=79)], returns=Name(id='dict', ctx=Load(), lineno=58, col_offset=68, end_lineno=58, end_col_offset=72), lineno=58, col_offset=0, end_lineno=99, end_col_offset=79), AsyncFunctionDef(name='list_paths', args=arguments(args=[arg(arg='context', annotation=Name(id='ApplicationContext', ctx=Load(), lineno=102, col_offset=30, end_lineno=102, end_col_offset=48), lineno=102, col_offset=21, end_lineno=102, end_col_offset=48)], vararg=arg(arg='args', annotation=Name(id='object', ctx=Load(), lineno=102, col_offset=57, end_lineno=102, end_col_offset=63), lineno=102, col_offset=51, end_lineno=102, end_col_offset=63), kwarg=arg(arg='kwargs', annotation=Name(id='object', ctx=Load(), lineno=102, col_offset=75, end_lineno=102, end_col_offset=81), lineno=102, col_offset=67, end_lineno=102, end_col_offset=81)), body=[Expr(value=Constant(value='List files in repository (async with threadpool offload).\n\n    Applies session scope filters (include_globs, exclude_globs, languages) if\n    set via `set_scope`. Explicit parameters override session scope.\n\n    This function runs the blocking directory traversal in a threadpool via\n    `asyncio.to_thread` to prevent blocking the event loop. This enables\n    concurrent file listing operations without thread exhaustion.\n\n    Parameters\n    ----------\n    context : ApplicationContext\n        Application context containing repo root and settings.\n    *args : object\n        Positional arguments (up to 5): path, include_globs, exclude_globs, languages, max_results.\n        Positional arguments are supported for backward compatibility but keyword\n        arguments are preferred.\n    **kwargs : object\n        Keyword arguments accepted:\n        - path : str | None\n            Starting path relative to repo root (None = root).\n        - include_globs : list[str] | None\n            Glob patterns to include (e.g., ["*.py"]).\n            Overrides session scope if provided.\n        - exclude_globs : list[str] | None\n            Glob patterns to exclude (e.g., ["__pycache__", "*.pyc"]).\n            Overrides session scope if provided.\n        - languages : list[str] | None\n            Programming languages to include (overrides session scope when provided).\n        - max_results : int\n            Maximum number of files to return (default: 1000).\n\n    Returns\n    -------\n    dict\n        File listing with paths and metadata.\n\n    Examples\n    --------\n    Basic usage:\n\n    >>> result = list_paths(context, path="src", include_globs=["*.py"])\n    >>> isinstance(result["items"], list)\n    True\n\n    With session scope:\n\n    >>> set_scope(context, {"languages": ["python"], "include_globs": ["src/**"]})\n    >>> result = list_paths(context, path=None)\n    >>> # Returns only Python files in src/ directory\n\n    Explicit parameters override scope:\n\n    >>> set_scope(context, {"languages": ["python"]})\n    >>> result = list_paths(context, include_globs=["**/*.ts"])\n    >>> # Returns TypeScript files (explicit override), not Python\n\n    Notes\n    -----\n    Async Pattern:\n    - The blocking directory traversal runs in a threadpool via `asyncio.to_thread`.\n    - This prevents blocking the event loop and enables concurrent operations.\n    - The sync implementation (`_list_paths_sync`) contains the actual logic.\n\n    Scope Integration:\n    - Session scope is retrieved from registry using session ID (set by middleware).\n    - Scope\'s `include_globs` and `exclude_globs` are merged with explicit parameters.\n    - Explicit parameters take precedence over scope (explicit wins).\n    - Scope\'s `languages` filter is applied after directory traversal (post-filtering).\n    - If no scope is set, behaves as before (no filtering beyond explicit params).\n\n    The traversal skips directories that match the default or user supplied\n    exclusion globs (for example ``**/.git/**``) so that large dependency\n    folders are pruned without visiting their contents.\n    ', lineno=103, col_offset=4, end_lineno=177, end_col_offset=7), lineno=103, col_offset=4, end_lineno=177, end_col_offset=7), Assign(targets=[Name(id='session_id', ctx=Store(), lineno=178, col_offset=4, end_lineno=178, end_col_offset=14)], value=Call(func=Name(id='get_session_id', ctx=Load(), lineno=178, col_offset=17, end_lineno=178, end_col_offset=31), lineno=178, col_offset=17, end_lineno=178, end_col_offset=33), lineno=178, col_offset=4, end_lineno=178, end_col_offset=33), Assign(targets=[Name(id='scope', ctx=Store(), lineno=179, col_offset=4, end_lineno=179, end_col_offset=9)], value=Await(value=Call(func=Name(id='get_effective_scope', ctx=Load(), lineno=179, col_offset=18, end_lineno=179, end_col_offset=37), args=[Name(id='context', ctx=Load(), lineno=179, col_offset=38, end_lineno=179, end_col_offset=45), Name(id='session_id', ctx=Load(), lineno=179, col_offset=47, end_lineno=179, end_col_offset=57)], lineno=179, col_offset=18, end_lineno=179, end_col_offset=58), lineno=179, col_offset=12, end_lineno=179, end_col_offset=58), lineno=179, col_offset=4, end_lineno=179, end_col_offset=58), Assign(targets=[Tuple(elts=[Name(id='path', ctx=Store(), lineno=180, col_offset=4, end_lineno=180, end_col_offset=8), Name(id='include_globs', ctx=Store(), lineno=180, col_offset=10, end_lineno=180, end_col_offset=23), Name(id='exclude_globs', ctx=Store(), lineno=180, col_offset=25, end_lineno=180, end_col_offset=38), Name(id='languages', ctx=Store(), lineno=180, col_offset=40, end_lineno=180, end_col_offset=49), Name(id='max_results', ctx=Store(), lineno=180, col_offset=51, end_lineno=180, end_col_offset=62)], ctx=Store(), lineno=180, col_offset=4, end_lineno=180, end_col_offset=62)], value=Call(func=Name(id='_normalize_list_paths_arguments', ctx=Load(), lineno=180, col_offset=65, end_lineno=180, end_col_offset=96), args=[Name(id='args', ctx=Load(), lineno=181, col_offset=8, end_lineno=181, end_col_offset=12), Name(id='kwargs', ctx=Load(), lineno=181, col_offset=14, end_lineno=181, end_col_offset=20)], lineno=180, col_offset=65, end_lineno=182, end_col_offset=5), lineno=180, col_offset=4, end_lineno=182, end_col_offset=5), Assign(targets=[Name(id='filters', ctx=Store(), lineno=183, col_offset=4, end_lineno=183, end_col_offset=11)], value=Call(func=Name(id='FileListFilters', ctx=Load(), lineno=183, col_offset=14, end_lineno=183, end_col_offset=29), keywords=[keyword(arg='include_globs', value=Name(id='include_globs', ctx=Load(), lineno=184, col_offset=22, end_lineno=184, end_col_offset=35), lineno=184, col_offset=8, end_lineno=184, end_col_offset=35), keyword(arg='exclude_globs', value=Name(id='exclude_globs', ctx=Load(), lineno=185, col_offset=22, end_lineno=185, end_col_offset=35), lineno=185, col_offset=8, end_lineno=185, end_col_offset=35), keyword(arg='languages', value=Name(id='languages', ctx=Load(), lineno=186, col_offset=18, end_lineno=186, end_col_offset=27), lineno=186, col_offset=8, end_lineno=186, end_col_offset=27), keyword(arg='max_results', value=Name(id='max_results', ctx=Load(), lineno=187, col_offset=20, end_lineno=187, end_col_offset=31), lineno=187, col_offset=8, end_lineno=187, end_col_offset=31)], lineno=183, col_offset=14, end_lineno=188, end_col_offset=5), lineno=183, col_offset=4, end_lineno=188, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='LOGGER', ctx=Load(), lineno=189, col_offset=4, end_lineno=189, end_col_offset=10), attr='debug', ctx=Load(), lineno=189, col_offset=4, end_lineno=189, end_col_offset=16), args=[Constant(value='Listing paths (async)', lineno=190, col_offset=8, end_lineno=190, end_col_offset=31)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='path', lineno=191, col_offset=15, end_lineno=191, end_col_offset=21), Constant(value='max_results', lineno=191, col_offset=29, end_lineno=191, end_col_offset=42)], values=[Name(id='path', ctx=Load(), lineno=191, col_offset=23, end_lineno=191, end_col_offset=27), Name(id='max_results', ctx=Load(), lineno=191, col_offset=44, end_lineno=191, end_col_offset=55)], lineno=191, col_offset=14, end_lineno=191, end_col_offset=56), lineno=191, col_offset=8, end_lineno=191, end_col_offset=56)], lineno=189, col_offset=4, end_lineno=192, end_col_offset=5), lineno=189, col_offset=4, end_lineno=192, end_col_offset=5), Return(value=Await(value=Call(func=Attribute(value=Name(id='asyncio', ctx=Load(), lineno=193, col_offset=17, end_lineno=193, end_col_offset=24), attr='to_thread', ctx=Load(), lineno=193, col_offset=17, end_lineno=193, end_col_offset=34), args=[Name(id='_list_paths_sync', ctx=Load(), lineno=194, col_offset=8, end_lineno=194, end_col_offset=24), Name(id='context', ctx=Load(), lineno=195, col_offset=8, end_lineno=195, end_col_offset=15), Name(id='session_id', ctx=Load(), lineno=196, col_offset=8, end_lineno=196, end_col_offset=18), Name(id='scope', ctx=Load(), lineno=197, col_offset=8, end_lineno=197, end_col_offset=13), Name(id='path', ctx=Load(), lineno=198, col_offset=8, end_lineno=198, end_col_offset=12), Name(id='filters', ctx=Load(), lineno=199, col_offset=8, end_lineno=199, end_col_offset=15)], lineno=193, col_offset=17, end_lineno=200, end_col_offset=5), lineno=193, col_offset=11, end_lineno=200, end_col_offset=5), lineno=193, col_offset=4, end_lineno=200, end_col_offset=5)], returns=Name(id='dict', ctx=Load(), lineno=102, col_offset=86, end_lineno=102, end_col_offset=90), lineno=102, col_offset=0, end_lineno=200, end_col_offset=5), FunctionDef(name='_normalize_list_paths_arguments', args=arguments(args=[arg(arg='args', annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=204, col_offset=10, end_lineno=204, end_col_offset=15), slice=Tuple(elts=[Name(id='object', ctx=Load(), lineno=204, col_offset=16, end_lineno=204, end_col_offset=22), Constant(value=Ellipsis, lineno=204, col_offset=24, end_lineno=204, end_col_offset=27)], ctx=Load(), lineno=204, col_offset=16, end_lineno=204, end_col_offset=27), ctx=Load(), lineno=204, col_offset=10, end_lineno=204, end_col_offset=28), lineno=204, col_offset=4, end_lineno=204, end_col_offset=28), arg(arg='kwargs', annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=205, col_offset=12, end_lineno=205, end_col_offset=16), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=205, col_offset=17, end_lineno=205, end_col_offset=20), Name(id='object', ctx=Load(), lineno=205, col_offset=22, end_lineno=205, end_col_offset=28)], ctx=Load(), lineno=205, col_offset=17, end_lineno=205, end_col_offset=28), ctx=Load(), lineno=205, col_offset=12, end_lineno=205, end_col_offset=29), lineno=205, col_offset=4, end_lineno=205, end_col_offset=29)]), body=[AnnAssign(target=Name(id='positions', ctx=Store(), lineno=207, col_offset=4, end_lineno=207, end_col_offset=13), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=207, col_offset=15, end_lineno=207, end_col_offset=19), slice=BinOp(left=Name(id='object', ctx=Load(), lineno=207, col_offset=20, end_lineno=207, end_col_offset=26), op=BitOr(), right=Constant(value=None, lineno=207, col_offset=29, end_lineno=207, end_col_offset=33), lineno=207, col_offset=20, end_lineno=207, end_col_offset=33), ctx=Load(), lineno=207, col_offset=15, end_lineno=207, end_col_offset=34), value=Call(func=Name(id='list', ctx=Load(), lineno=207, col_offset=37, end_lineno=207, end_col_offset=41), args=[Subscript(value=Name(id='args', ctx=Load(), lineno=207, col_offset=42, end_lineno=207, end_col_offset=46), slice=Slice(upper=Constant(value=5, lineno=207, col_offset=48, end_lineno=207, end_col_offset=49), lineno=207, col_offset=47, end_lineno=207, end_col_offset=49), ctx=Load(), lineno=207, col_offset=42, end_lineno=207, end_col_offset=50)], lineno=207, col_offset=37, end_lineno=207, end_col_offset=51), simple=1, lineno=207, col_offset=4, end_lineno=207, end_col_offset=51), Expr(value=Call(func=Attribute(value=Name(id='positions', ctx=Load(), lineno=208, col_offset=4, end_lineno=208, end_col_offset=13), attr='extend', ctx=Load(), lineno=208, col_offset=4, end_lineno=208, end_col_offset=20), args=[BinOp(left=List(elts=[Constant(value=None, lineno=208, col_offset=22, end_lineno=208, end_col_offset=26)], ctx=Load(), lineno=208, col_offset=21, end_lineno=208, end_col_offset=27), op=Mult(), right=BinOp(left=Constant(value=5, lineno=208, col_offset=31, end_lineno=208, end_col_offset=32), op=Sub(), right=Call(func=Name(id='len', ctx=Load(), lineno=208, col_offset=35, end_lineno=208, end_col_offset=38), args=[Name(id='positions', ctx=Load(), lineno=208, col_offset=39, end_lineno=208, end_col_offset=48)], lineno=208, col_offset=35, end_lineno=208, end_col_offset=49), lineno=208, col_offset=31, end_lineno=208, end_col_offset=49), lineno=208, col_offset=21, end_lineno=208, end_col_offset=50)], lineno=208, col_offset=4, end_lineno=208, end_col_offset=51), lineno=208, col_offset=4, end_lineno=208, end_col_offset=51), Assign(targets=[Name(id='path', ctx=Store(), lineno=210, col_offset=4, end_lineno=210, end_col_offset=8)], value=Call(func=Attribute(value=Name(id='kwargs', ctx=Load(), lineno=210, col_offset=11, end_lineno=210, end_col_offset=17), attr='pop', ctx=Load(), lineno=210, col_offset=11, end_lineno=210, end_col_offset=21), args=[Constant(value='path', lineno=210, col_offset=22, end_lineno=210, end_col_offset=28), Subscript(value=Name(id='positions', ctx=Load(), lineno=210, col_offset=30, end_lineno=210, end_col_offset=39), slice=Constant(value=0, lineno=210, col_offset=40, end_lineno=210, end_col_offset=41), ctx=Load(), lineno=210, col_offset=30, end_lineno=210, end_col_offset=42)], lineno=210, col_offset=11, end_lineno=210, end_col_offset=43), lineno=210, col_offset=4, end_lineno=210, end_col_offset=43), Assign(targets=[Name(id='include_globs', ctx=Store(), lineno=211, col_offset=4, end_lineno=211, end_col_offset=17)], value=Call(func=Attribute(value=Name(id='kwargs', ctx=Load(), lineno=211, col_offset=20, end_lineno=211, end_col_offset=26), attr='pop', ctx=Load(), lineno=211, col_offset=20, end_lineno=211, end_col_offset=30), args=[Constant(value='include_globs', lineno=211, col_offset=31, end_lineno=211, end_col_offset=46), Subscript(value=Name(id='positions', ctx=Load(), lineno=211, col_offset=48, end_lineno=211, end_col_offset=57), slice=Constant(value=1, lineno=211, col_offset=58, end_lineno=211, end_col_offset=59), ctx=Load(), lineno=211, col_offset=48, end_lineno=211, end_col_offset=60)], lineno=211, col_offset=20, end_lineno=211, end_col_offset=61), lineno=211, col_offset=4, end_lineno=211, end_col_offset=61), Assign(targets=[Name(id='exclude_globs', ctx=Store(), lineno=212, col_offset=4, end_lineno=212, end_col_offset=17)], value=Call(func=Attribute(value=Name(id='kwargs', ctx=Load(), lineno=212, col_offset=20, end_lineno=212, end_col_offset=26), attr='pop', ctx=Load(), lineno=212, col_offset=20, end_lineno=212, end_col_offset=30), args=[Constant(value='exclude_globs', lineno=212, col_offset=31, end_lineno=212, end_col_offset=46), Subscript(value=Name(id='positions', ctx=Load(), lineno=212, col_offset=48, end_lineno=212, end_col_offset=57), slice=Constant(value=2, lineno=212, col_offset=58, end_lineno=212, end_col_offset=59), ctx=Load(), lineno=212, col_offset=48, end_lineno=212, end_col_offset=60)], lineno=212, col_offset=20, end_lineno=212, end_col_offset=61), lineno=212, col_offset=4, end_lineno=212, end_col_offset=61), Assign(targets=[Name(id='languages', ctx=Store(), lineno=213, col_offset=4, end_lineno=213, end_col_offset=13)], value=Call(func=Attribute(value=Name(id='kwargs', ctx=Load(), lineno=213, col_offset=16, end_lineno=213, end_col_offset=22), attr='pop', ctx=Load(), lineno=213, col_offset=16, end_lineno=213, end_col_offset=26), args=[Constant(value='languages', lineno=213, col_offset=27, end_lineno=213, end_col_offset=38), Subscript(value=Name(id='positions', ctx=Load(), lineno=213, col_offset=40, end_lineno=213, end_col_offset=49), slice=Constant(value=3, lineno=213, col_offset=50, end_lineno=213, end_col_offset=51), ctx=Load(), lineno=213, col_offset=40, end_lineno=213, end_col_offset=52)], lineno=213, col_offset=16, end_lineno=213, end_col_offset=53), lineno=213, col_offset=4, end_lineno=213, end_col_offset=53), Assign(targets=[Name(id='max_value', ctx=Store(), lineno=214, col_offset=4, end_lineno=214, end_col_offset=13)], value=Call(func=Name(id='cast', ctx=Load(), lineno=214, col_offset=16, end_lineno=214, end_col_offset=20), args=[Constant(value='SupportsIndex | str | None', lineno=215, col_offset=8, end_lineno=215, end_col_offset=36), Call(func=Attribute(value=Name(id='kwargs', ctx=Load(), lineno=216, col_offset=8, end_lineno=216, end_col_offset=14), attr='pop', ctx=Load(), lineno=216, col_offset=8, end_lineno=216, end_col_offset=18), args=[Constant(value='max_results', lineno=216, col_offset=19, end_lineno=216, end_col_offset=32), Call(func=Attribute(value=Name(id='kwargs', ctx=Load(), lineno=216, col_offset=34, end_lineno=216, end_col_offset=40), attr='pop', ctx=Load(), lineno=216, col_offset=34, end_lineno=216, end_col_offset=44), args=[Constant(value='max', lineno=216, col_offset=45, end_lineno=216, end_col_offset=50), Subscript(value=Name(id='positions', ctx=Load(), lineno=216, col_offset=52, end_lineno=216, end_col_offset=61), slice=Constant(value=4, lineno=216, col_offset=62, end_lineno=216, end_col_offset=63), ctx=Load(), lineno=216, col_offset=52, end_lineno=216, end_col_offset=64)], lineno=216, col_offset=34, end_lineno=216, end_col_offset=65)], lineno=216, col_offset=8, end_lineno=216, end_col_offset=66)], lineno=214, col_offset=16, end_lineno=217, end_col_offset=5), lineno=214, col_offset=4, end_lineno=217, end_col_offset=5), Assign(targets=[Name(id='max_results', ctx=Store(), lineno=219, col_offset=4, end_lineno=219, end_col_offset=15)], value=IfExp(test=Compare(left=Name(id='max_value', ctx=Load(), lineno=219, col_offset=26, end_lineno=219, end_col_offset=35), ops=[Is()], comparators=[Constant(value=None, lineno=219, col_offset=39, end_lineno=219, end_col_offset=43)], lineno=219, col_offset=26, end_lineno=219, end_col_offset=43), body=Constant(value=1000, lineno=219, col_offset=18, end_lineno=219, end_col_offset=22), orelse=Call(func=Name(id='int', ctx=Load(), lineno=219, col_offset=49, end_lineno=219, end_col_offset=52), args=[Name(id='max_value', ctx=Load(), lineno=219, col_offset=53, end_lineno=219, end_col_offset=62)], lineno=219, col_offset=49, end_lineno=219, end_col_offset=63), lineno=219, col_offset=18, end_lineno=219, end_col_offset=63), lineno=219, col_offset=4, end_lineno=219, end_col_offset=63), If(test=Name(id='kwargs', ctx=Load(), lineno=221, col_offset=7, end_lineno=221, end_col_offset=13), body=[Assign(targets=[Name(id='unexpected', ctx=Store(), lineno=222, col_offset=8, end_lineno=222, end_col_offset=18)], value=Call(func=Attribute(value=Constant(value=', ', lineno=222, col_offset=21, end_lineno=222, end_col_offset=25), attr='join', ctx=Load(), lineno=222, col_offset=21, end_lineno=222, end_col_offset=30), args=[Call(func=Attribute(value=Name(id='kwargs', ctx=Load(), lineno=222, col_offset=31, end_lineno=222, end_col_offset=37), attr='keys', ctx=Load(), lineno=222, col_offset=31, end_lineno=222, end_col_offset=42), lineno=222, col_offset=31, end_lineno=222, end_col_offset=44)], lineno=222, col_offset=21, end_lineno=222, end_col_offset=45), lineno=222, col_offset=8, end_lineno=222, end_col_offset=45), Assign(targets=[Name(id='msg', ctx=Store(), lineno=223, col_offset=8, end_lineno=223, end_col_offset=11)], value=BinOp(left=Constant(value='Unexpected keyword arguments: ', lineno=223, col_offset=14, end_lineno=223, end_col_offset=46), op=Add(), right=Name(id='unexpected', ctx=Load(), lineno=223, col_offset=49, end_lineno=223, end_col_offset=59), lineno=223, col_offset=14, end_lineno=223, end_col_offset=59), lineno=223, col_offset=8, end_lineno=223, end_col_offset=59), Raise(exc=Call(func=Name(id='TypeError', ctx=Load(), lineno=224, col_offset=14, end_lineno=224, end_col_offset=23), args=[Name(id='msg', ctx=Load(), lineno=224, col_offset=24, end_lineno=224, end_col_offset=27)], lineno=224, col_offset=14, end_lineno=224, end_col_offset=28), lineno=224, col_offset=8, end_lineno=224, end_col_offset=28)], lineno=221, col_offset=4, end_lineno=224, end_col_offset=28), Return(value=Tuple(elts=[Call(func=Name(id='cast', ctx=Load(), lineno=227, col_offset=8, end_lineno=227, end_col_offset=12), args=[Constant(value='str | None', lineno=227, col_offset=13, end_lineno=227, end_col_offset=25), Name(id='path', ctx=Load(), lineno=227, col_offset=27, end_lineno=227, end_col_offset=31)], lineno=227, col_offset=8, end_lineno=227, end_col_offset=32), Call(func=Name(id='cast', ctx=Load(), lineno=228, col_offset=8, end_lineno=228, end_col_offset=12), args=[Constant(value='list[str] | None', lineno=228, col_offset=13, end_lineno=228, end_col_offset=31), Name(id='include_globs', ctx=Load(), lineno=228, col_offset=33, end_lineno=228, end_col_offset=46)], lineno=228, col_offset=8, end_lineno=228, end_col_offset=47), Call(func=Name(id='cast', ctx=Load(), lineno=229, col_offset=8, end_lineno=229, end_col_offset=12), args=[Constant(value='list[str] | None', lineno=229, col_offset=13, end_lineno=229, end_col_offset=31), Name(id='exclude_globs', ctx=Load(), lineno=229, col_offset=33, end_lineno=229, end_col_offset=46)], lineno=229, col_offset=8, end_lineno=229, end_col_offset=47), Call(func=Name(id='cast', ctx=Load(), lineno=230, col_offset=8, end_lineno=230, end_col_offset=12), args=[Constant(value='list[str] | None', lineno=230, col_offset=13, end_lineno=230, end_col_offset=31), Name(id='languages', ctx=Load(), lineno=230, col_offset=33, end_lineno=230, end_col_offset=42)], lineno=230, col_offset=8, end_lineno=230, end_col_offset=43), Name(id='max_results', ctx=Load(), lineno=231, col_offset=8, end_lineno=231, end_col_offset=19)], ctx=Load(), lineno=226, col_offset=11, end_lineno=232, end_col_offset=5), lineno=226, col_offset=4, end_lineno=232, end_col_offset=5)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=206, col_offset=5, end_lineno=206, end_col_offset=10), slice=Tuple(elts=[BinOp(left=Name(id='str', ctx=Load(), lineno=206, col_offset=11, end_lineno=206, end_col_offset=14), op=BitOr(), right=Constant(value=None, lineno=206, col_offset=17, end_lineno=206, end_col_offset=21), lineno=206, col_offset=11, end_lineno=206, end_col_offset=21), BinOp(left=Subscript(value=Name(id='list', ctx=Load(), lineno=206, col_offset=23, end_lineno=206, end_col_offset=27), slice=Name(id='str', ctx=Load(), lineno=206, col_offset=28, end_lineno=206, end_col_offset=31), ctx=Load(), lineno=206, col_offset=23, end_lineno=206, end_col_offset=32), op=BitOr(), right=Constant(value=None, lineno=206, col_offset=35, end_lineno=206, end_col_offset=39), lineno=206, col_offset=23, end_lineno=206, end_col_offset=39), BinOp(left=Subscript(value=Name(id='list', ctx=Load(), lineno=206, col_offset=41, end_lineno=206, end_col_offset=45), slice=Name(id='str', ctx=Load(), lineno=206, col_offset=46, end_lineno=206, end_col_offset=49), ctx=Load(), lineno=206, col_offset=41, end_lineno=206, end_col_offset=50), op=BitOr(), right=Constant(value=None, lineno=206, col_offset=53, end_lineno=206, end_col_offset=57), lineno=206, col_offset=41, end_lineno=206, end_col_offset=57), BinOp(left=Subscript(value=Name(id='list', ctx=Load(), lineno=206, col_offset=59, end_lineno=206, end_col_offset=63), slice=Name(id='str', ctx=Load(), lineno=206, col_offset=64, end_lineno=206, end_col_offset=67), ctx=Load(), lineno=206, col_offset=59, end_lineno=206, end_col_offset=68), op=BitOr(), right=Constant(value=None, lineno=206, col_offset=71, end_lineno=206, end_col_offset=75), lineno=206, col_offset=59, end_lineno=206, end_col_offset=75), Name(id='int', ctx=Load(), lineno=206, col_offset=77, end_lineno=206, end_col_offset=80)], ctx=Load(), lineno=206, col_offset=11, end_lineno=206, end_col_offset=80), ctx=Load(), lineno=206, col_offset=5, end_lineno=206, end_col_offset=81), lineno=203, col_offset=0, end_lineno=232, end_col_offset=5), FunctionDef(name='_list_paths_sync', args=arguments(args=[arg(arg='context', annotation=Name(id='ApplicationContext', ctx=Load(), lineno=236, col_offset=13, end_lineno=236, end_col_offset=31), lineno=236, col_offset=4, end_lineno=236, end_col_offset=31), arg(arg='session_id', annotation=Name(id='str', ctx=Load(), lineno=237, col_offset=16, end_lineno=237, end_col_offset=19), lineno=237, col_offset=4, end_lineno=237, end_col_offset=19), arg(arg='scope', annotation=BinOp(left=Name(id='ScopeIn', ctx=Load(), lineno=238, col_offset=11, end_lineno=238, end_col_offset=18), op=BitOr(), right=Constant(value=None, lineno=238, col_offset=21, end_lineno=238, end_col_offset=25), lineno=238, col_offset=11, end_lineno=238, end_col_offset=25), lineno=238, col_offset=4, end_lineno=238, end_col_offset=25), arg(arg='path', annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=239, col_offset=10, end_lineno=239, end_col_offset=13), op=BitOr(), right=Constant(value=None, lineno=239, col_offset=16, end_lineno=239, end_col_offset=20), lineno=239, col_offset=10, end_lineno=239, end_col_offset=20), lineno=239, col_offset=4, end_lineno=239, end_col_offset=20), arg(arg='filters', annotation=BinOp(left=Name(id='FileListFilters', ctx=Load(), lineno=240, col_offset=13, end_lineno=240, end_col_offset=28), op=BitOr(), right=Constant(value=None, lineno=240, col_offset=31, end_lineno=240, end_col_offset=35), lineno=240, col_offset=13, end_lineno=240, end_col_offset=35), lineno=240, col_offset=4, end_lineno=240, end_col_offset=35)], defaults=[Constant(value=None, lineno=239, col_offset=23, end_lineno=239, end_col_offset=27), Constant(value=None, lineno=240, col_offset=38, end_lineno=240, end_col_offset=42)]), body=[Expr(value=Constant(value='List files in repository (synchronous implementation).\n\n    Synchronous implementation of list_paths that performs the actual directory\n    traversal. This function runs in a threadpool when called from the async\n    `list_paths` wrapper.\n\n    Parameters\n    ----------\n    context : ApplicationContext\n        Application context containing repo root and settings.\n    session_id : str\n        Session identifier for logging and scope resolution.\n    scope : ScopeIn | None\n        Session scope containing include/exclude globs and language filters.\n        Overridden by explicit ``include_globs`` and ``exclude_globs`` parameters.\n    path : str | None\n        Starting path relative to repo root (None = root).\n    filters : FileListFilters | None\n        Filters for includes, excludes, language restrictions, and max results.\n        If None, default filters are used (no restrictions).\n\n    Returns\n    -------\n    dict\n        File listing with paths and metadata.\n\n    Notes\n    -----\n    Exceptions raised by ``_resolve_search_root`` (PathNotFoundError,\n    PathNotDirectoryError, PathOutsideRepositoryError) may propagate through\n    this function.\n    ', lineno=242, col_offset=4, end_lineno=273, end_col_offset=7), lineno=242, col_offset=4, end_lineno=273, end_col_offset=7), Assign(targets=[Name(id='repo_root', ctx=Store(), lineno=274, col_offset=4, end_lineno=274, end_col_offset=13)], value=Attribute(value=Attribute(value=Name(id='context', ctx=Load(), lineno=274, col_offset=16, end_lineno=274, end_col_offset=23), attr='paths', ctx=Load(), lineno=274, col_offset=16, end_lineno=274, end_col_offset=29), attr='repo_root', ctx=Load(), lineno=274, col_offset=16, end_lineno=274, end_col_offset=39), lineno=274, col_offset=4, end_lineno=274, end_col_offset=39), Assign(targets=[Name(id='search_root', ctx=Store(), lineno=275, col_offset=4, end_lineno=275, end_col_offset=15)], value=Call(func=Name(id='_resolve_search_root', ctx=Load(), lineno=275, col_offset=18, end_lineno=275, end_col_offset=38), args=[Name(id='repo_root', ctx=Load(), lineno=275, col_offset=39, end_lineno=275, end_col_offset=48), Name(id='path', ctx=Load(), lineno=275, col_offset=50, end_lineno=275, end_col_offset=54)], lineno=275, col_offset=18, end_lineno=275, end_col_offset=55), lineno=275, col_offset=4, end_lineno=275, end_col_offset=55), Assign(targets=[Name(id='filters', ctx=Store(), lineno=276, col_offset=4, end_lineno=276, end_col_offset=11)], value=BoolOp(op=Or(), values=[Name(id='filters', ctx=Load(), lineno=276, col_offset=14, end_lineno=276, end_col_offset=21), Call(func=Name(id='FileListFilters', ctx=Load(), lineno=276, col_offset=25, end_lineno=276, end_col_offset=40), lineno=276, col_offset=25, end_lineno=276, end_col_offset=42)], lineno=276, col_offset=14, end_lineno=276, end_col_offset=42), lineno=276, col_offset=4, end_lineno=276, end_col_offset=42), If(test=Compare(left=Attribute(value=Name(id='filters', ctx=Load(), lineno=278, col_offset=7, end_lineno=278, end_col_offset=14), attr='max_results', ctx=Load(), lineno=278, col_offset=7, end_lineno=278, end_col_offset=26), ops=[LtE()], comparators=[Constant(value=0, lineno=278, col_offset=30, end_lineno=278, end_col_offset=31)], lineno=278, col_offset=7, end_lineno=278, end_col_offset=31), body=[Return(value=Dict(keys=[Constant(value='items', lineno=279, col_offset=16, end_lineno=279, end_col_offset=23), Constant(value='total', lineno=279, col_offset=29, end_lineno=279, end_col_offset=36), Constant(value='truncated', lineno=279, col_offset=41, end_lineno=279, end_col_offset=52)], values=[List(ctx=Load(), lineno=279, col_offset=25, end_lineno=279, end_col_offset=27), Constant(value=0, lineno=279, col_offset=38, end_lineno=279, end_col_offset=39), Constant(value=False, lineno=279, col_offset=54, end_lineno=279, end_col_offset=59)], lineno=279, col_offset=15, end_lineno=279, end_col_offset=60), lineno=279, col_offset=8, end_lineno=279, end_col_offset=60)], lineno=278, col_offset=4, end_lineno=279, end_col_offset=60), Assign(targets=[Name(id='merged', ctx=Store(), lineno=281, col_offset=4, end_lineno=281, end_col_offset=10)], value=Call(func=Name(id='merge_scope_filters', ctx=Load(), lineno=281, col_offset=13, end_lineno=281, end_col_offset=32), args=[Name(id='scope', ctx=Load(), lineno=282, col_offset=8, end_lineno=282, end_col_offset=13), Dict(keys=[Constant(value='include_globs', lineno=284, col_offset=12, end_lineno=284, end_col_offset=27), Constant(value='exclude_globs', lineno=285, col_offset=12, end_lineno=285, end_col_offset=27), Constant(value='languages', lineno=286, col_offset=12, end_lineno=286, end_col_offset=23)], values=[Attribute(value=Name(id='filters', ctx=Load(), lineno=284, col_offset=29, end_lineno=284, end_col_offset=36), attr='include_globs', ctx=Load(), lineno=284, col_offset=29, end_lineno=284, end_col_offset=50), Attribute(value=Name(id='filters', ctx=Load(), lineno=285, col_offset=29, end_lineno=285, end_col_offset=36), attr='exclude_globs', ctx=Load(), lineno=285, col_offset=29, end_lineno=285, end_col_offset=50), Attribute(value=Name(id='filters', ctx=Load(), lineno=286, col_offset=25, end_lineno=286, end_col_offset=32), attr='languages', ctx=Load(), lineno=286, col_offset=25, end_lineno=286, end_col_offset=42)], lineno=283, col_offset=8, end_lineno=287, end_col_offset=9)], lineno=281, col_offset=13, end_lineno=288, end_col_offset=5), lineno=281, col_offset=4, end_lineno=288, end_col_offset=5), Assign(targets=[Name(id='default_excludes', ctx=Store(), lineno=291, col_offset=4, end_lineno=291, end_col_offset=20)], value=List(elts=[Constant(value='**/.git', lineno=292, col_offset=8, end_lineno=292, end_col_offset=17), Constant(value='**/.git/**', lineno=293, col_offset=8, end_lineno=293, end_col_offset=20), Constant(value='**/.venv', lineno=294, col_offset=8, end_lineno=294, end_col_offset=18), Constant(value='**/.venv/**', lineno=295, col_offset=8, end_lineno=295, end_col_offset=21), Constant(value='**/__pycache__', lineno=296, col_offset=8, end_lineno=296, end_col_offset=24), Constant(value='**/__pycache__/**', lineno=297, col_offset=8, end_lineno=297, end_col_offset=27), Constant(value='**/node_modules', lineno=298, col_offset=8, end_lineno=298, end_col_offset=25), Constant(value='**/node_modules/**', lineno=299, col_offset=8, end_lineno=299, end_col_offset=28), Constant(value='**/.pytest_cache', lineno=300, col_offset=8, end_lineno=300, end_col_offset=26), Constant(value='**/.pytest_cache/**', lineno=301, col_offset=8, end_lineno=301, end_col_offset=29), Constant(value='**/.ruff_cache', lineno=302, col_offset=8, end_lineno=302, end_col_offset=24), Constant(value='**/.ruff_cache/**', lineno=303, col_offset=8, end_lineno=303, end_col_offset=27), Constant(value='**/.mypy_cache', lineno=304, col_offset=8, end_lineno=304, end_col_offset=24), Constant(value='**/.mypy_cache/**', lineno=305, col_offset=8, end_lineno=305, end_col_offset=27), Constant(value='**/*.pyc', lineno=306, col_offset=8, end_lineno=306, end_col_offset=18), Constant(value='**/*.pyo', lineno=307, col_offset=8, end_lineno=307, end_col_offset=18)], ctx=Load(), lineno=291, col_offset=23, end_lineno=308, end_col_offset=5), lineno=291, col_offset=4, end_lineno=308, end_col_offset=5), Assign(targets=[Name(id='excludes', ctx=Store(), lineno=309, col_offset=4, end_lineno=309, end_col_offset=12)], value=BinOp(left=BoolOp(op=Or(), values=[Call(func=Attribute(value=Name(id='merged', ctx=Load(), lineno=309, col_offset=16, end_lineno=309, end_col_offset=22), attr='get', ctx=Load(), lineno=309, col_offset=16, end_lineno=309, end_col_offset=26), args=[Constant(value='exclude_globs', lineno=309, col_offset=27, end_lineno=309, end_col_offset=42)], lineno=309, col_offset=16, end_lineno=309, end_col_offset=43), List(ctx=Load(), lineno=309, col_offset=47, end_lineno=309, end_col_offset=49)], lineno=309, col_offset=16, end_lineno=309, end_col_offset=49), op=Add(), right=Name(id='default_excludes', ctx=Load(), lineno=309, col_offset=53, end_lineno=309, end_col_offset=69), lineno=309, col_offset=15, end_lineno=309, end_col_offset=69), lineno=309, col_offset=4, end_lineno=309, end_col_offset=69), Assign(targets=[Name(id='includes', ctx=Store(), lineno=310, col_offset=4, end_lineno=310, end_col_offset=12)], value=BoolOp(op=Or(), values=[Call(func=Attribute(value=Name(id='merged', ctx=Load(), lineno=310, col_offset=15, end_lineno=310, end_col_offset=21), attr='get', ctx=Load(), lineno=310, col_offset=15, end_lineno=310, end_col_offset=25), args=[Constant(value='include_globs', lineno=310, col_offset=26, end_lineno=310, end_col_offset=41)], lineno=310, col_offset=15, end_lineno=310, end_col_offset=42), List(elts=[Constant(value='**', lineno=310, col_offset=47, end_lineno=310, end_col_offset=51)], ctx=Load(), lineno=310, col_offset=46, end_lineno=310, end_col_offset=52)], lineno=310, col_offset=15, end_lineno=310, end_col_offset=52), lineno=310, col_offset=4, end_lineno=310, end_col_offset=52), Assign(targets=[Name(id='merged_languages', ctx=Store(), lineno=312, col_offset=4, end_lineno=312, end_col_offset=20)], value=Call(func=Attribute(value=Name(id='merged', ctx=Load(), lineno=312, col_offset=23, end_lineno=312, end_col_offset=29), attr='get', ctx=Load(), lineno=312, col_offset=23, end_lineno=312, end_col_offset=33), args=[Constant(value='languages', lineno=312, col_offset=34, end_lineno=312, end_col_offset=45)], lineno=312, col_offset=23, end_lineno=312, end_col_offset=46), lineno=312, col_offset=4, end_lineno=312, end_col_offset=46), AnnAssign(target=Name(id='language_extensions', ctx=Store(), lineno=313, col_offset=4, end_lineno=313, end_col_offset=23), annotation=BinOp(left=Subscript(value=Name(id='set', ctx=Load(), lineno=313, col_offset=25, end_lineno=313, end_col_offset=28), slice=Name(id='str', ctx=Load(), lineno=313, col_offset=29, end_lineno=313, end_col_offset=32), ctx=Load(), lineno=313, col_offset=25, end_lineno=313, end_col_offset=33), op=BitOr(), right=Constant(value=None, lineno=313, col_offset=36, end_lineno=313, end_col_offset=40), lineno=313, col_offset=25, end_lineno=313, end_col_offset=40), value=Constant(value=None, lineno=313, col_offset=43, end_lineno=313, end_col_offset=47), simple=1, lineno=313, col_offset=4, end_lineno=313, end_col_offset=47), If(test=Name(id='merged_languages', ctx=Load(), lineno=314, col_offset=7, end_lineno=314, end_col_offset=23), body=[Assign(targets=[Name(id='language_extensions', ctx=Store(), lineno=315, col_offset=8, end_lineno=315, end_col_offset=27)], value=Call(func=Name(id='_collect_language_extensions', ctx=Load(), lineno=315, col_offset=30, end_lineno=315, end_col_offset=58), args=[Name(id='merged_languages', ctx=Load(), lineno=315, col_offset=59, end_lineno=315, end_col_offset=75)], lineno=315, col_offset=30, end_lineno=315, end_col_offset=76), lineno=315, col_offset=8, end_lineno=315, end_col_offset=76), If(test=UnaryOp(op=Not(), operand=Name(id='language_extensions', ctx=Load(), lineno=316, col_offset=15, end_lineno=316, end_col_offset=34), lineno=316, col_offset=11, end_lineno=316, end_col_offset=34), body=[Expr(value=Call(func=Attribute(value=Name(id='LOGGER', ctx=Load(), lineno=317, col_offset=12, end_lineno=317, end_col_offset=18), attr='warning', ctx=Load(), lineno=317, col_offset=12, end_lineno=317, end_col_offset=26), args=[Constant(value='No file extensions found for requested languages', lineno=318, col_offset=16, end_lineno=318, end_col_offset=66)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='languages', lineno=319, col_offset=23, end_lineno=319, end_col_offset=34)], values=[Name(id='merged_languages', ctx=Load(), lineno=319, col_offset=36, end_lineno=319, end_col_offset=52)], lineno=319, col_offset=22, end_lineno=319, end_col_offset=53), lineno=319, col_offset=16, end_lineno=319, end_col_offset=53)], lineno=317, col_offset=12, end_lineno=320, end_col_offset=13), lineno=317, col_offset=12, end_lineno=320, end_col_offset=13), Return(value=Dict(keys=[Constant(value='items', lineno=321, col_offset=20, end_lineno=321, end_col_offset=27), Constant(value='total', lineno=321, col_offset=33, end_lineno=321, end_col_offset=40), Constant(value='truncated', lineno=321, col_offset=45, end_lineno=321, end_col_offset=56)], values=[List(ctx=Load(), lineno=321, col_offset=29, end_lineno=321, end_col_offset=31), Constant(value=0, lineno=321, col_offset=42, end_lineno=321, end_col_offset=43), Constant(value=False, lineno=321, col_offset=58, end_lineno=321, end_col_offset=63)], lineno=321, col_offset=19, end_lineno=321, end_col_offset=64), lineno=321, col_offset=12, end_lineno=321, end_col_offset=64)], lineno=316, col_offset=8, end_lineno=321, end_col_offset=64)], lineno=314, col_offset=4, end_lineno=321, end_col_offset=64), Assign(targets=[Name(id='directory_filters', ctx=Store(), lineno=323, col_offset=4, end_lineno=323, end_col_offset=21)], value=Call(func=Name(id='DirectoryFilters', ctx=Load(), lineno=323, col_offset=24, end_lineno=323, end_col_offset=40), keywords=[keyword(arg='includes', value=Name(id='includes', ctx=Load(), lineno=324, col_offset=17, end_lineno=324, end_col_offset=25), lineno=324, col_offset=8, end_lineno=324, end_col_offset=25), keyword(arg='excludes', value=Name(id='excludes', ctx=Load(), lineno=325, col_offset=17, end_lineno=325, end_col_offset=25), lineno=325, col_offset=8, end_lineno=325, end_col_offset=25), keyword(arg='language_extensions', value=Name(id='language_extensions', ctx=Load(), lineno=326, col_offset=28, end_lineno=326, end_col_offset=47), lineno=326, col_offset=8, end_lineno=326, end_col_offset=47), keyword(arg='max_results', value=Attribute(value=Name(id='filters', ctx=Load(), lineno=327, col_offset=20, end_lineno=327, end_col_offset=27), attr='max_results', ctx=Load(), lineno=327, col_offset=20, end_lineno=327, end_col_offset=39), lineno=327, col_offset=8, end_lineno=327, end_col_offset=39)], lineno=323, col_offset=24, end_lineno=328, end_col_offset=5), lineno=323, col_offset=4, end_lineno=328, end_col_offset=5), Assign(targets=[Tuple(elts=[Name(id='items', ctx=Store(), lineno=329, col_offset=4, end_lineno=329, end_col_offset=9), Name(id='matched_count', ctx=Store(), lineno=329, col_offset=11, end_lineno=329, end_col_offset=24), Name(id='truncated', ctx=Store(), lineno=329, col_offset=26, end_lineno=329, end_col_offset=35)], ctx=Store(), lineno=329, col_offset=4, end_lineno=329, end_col_offset=35)], value=Call(func=Name(id='_collect_filtered_paths', ctx=Load(), lineno=329, col_offset=38, end_lineno=329, end_col_offset=61), keywords=[keyword(arg='search_root', value=Name(id='search_root', ctx=Load(), lineno=330, col_offset=20, end_lineno=330, end_col_offset=31), lineno=330, col_offset=8, end_lineno=330, end_col_offset=31), keyword(arg='repo_root', value=Name(id='repo_root', ctx=Load(), lineno=331, col_offset=18, end_lineno=331, end_col_offset=27), lineno=331, col_offset=8, end_lineno=331, end_col_offset=27), keyword(arg='filters', value=Name(id='directory_filters', ctx=Load(), lineno=332, col_offset=16, end_lineno=332, end_col_offset=33), lineno=332, col_offset=8, end_lineno=332, end_col_offset=33)], lineno=329, col_offset=38, end_lineno=333, end_col_offset=5), lineno=329, col_offset=4, end_lineno=333, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='LOGGER', ctx=Load(), lineno=335, col_offset=4, end_lineno=335, end_col_offset=10), attr='debug', ctx=Load(), lineno=335, col_offset=4, end_lineno=335, end_col_offset=16), args=[Constant(value='Listed paths with scope filters', lineno=336, col_offset=8, end_lineno=336, end_col_offset=41)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='session_id', lineno=338, col_offset=12, end_lineno=338, end_col_offset=24), Constant(value='path', lineno=339, col_offset=12, end_lineno=339, end_col_offset=18), Constant(value='item_count', lineno=340, col_offset=12, end_lineno=340, end_col_offset=24), Constant(value='matched_count', lineno=341, col_offset=12, end_lineno=341, end_col_offset=27), Constant(value='applied_scope', lineno=342, col_offset=12, end_lineno=342, end_col_offset=27), Constant(value='languages', lineno=343, col_offset=12, end_lineno=343, end_col_offset=23)], values=[Name(id='session_id', ctx=Load(), lineno=338, col_offset=26, end_lineno=338, end_col_offset=36), Name(id='path', ctx=Load(), lineno=339, col_offset=20, end_lineno=339, end_col_offset=24), Call(func=Name(id='len', ctx=Load(), lineno=340, col_offset=26, end_lineno=340, end_col_offset=29), args=[Name(id='items', ctx=Load(), lineno=340, col_offset=30, end_lineno=340, end_col_offset=35)], lineno=340, col_offset=26, end_lineno=340, end_col_offset=36), Name(id='matched_count', ctx=Load(), lineno=341, col_offset=29, end_lineno=341, end_col_offset=42), Compare(left=Name(id='scope', ctx=Load(), lineno=342, col_offset=29, end_lineno=342, end_col_offset=34), ops=[IsNot()], comparators=[Constant(value=None, lineno=342, col_offset=42, end_lineno=342, end_col_offset=46)], lineno=342, col_offset=29, end_lineno=342, end_col_offset=46), Name(id='merged_languages', ctx=Load(), lineno=343, col_offset=25, end_lineno=343, end_col_offset=41)], lineno=337, col_offset=14, end_lineno=344, end_col_offset=9), lineno=337, col_offset=8, end_lineno=344, end_col_offset=9)], lineno=335, col_offset=4, end_lineno=345, end_col_offset=5), lineno=335, col_offset=4, end_lineno=345, end_col_offset=5), Return(value=Dict(keys=[Constant(value='items', lineno=348, col_offset=8, end_lineno=348, end_col_offset=15), Constant(value='total', lineno=349, col_offset=8, end_lineno=349, end_col_offset=15), Constant(value='truncated', lineno=350, col_offset=8, end_lineno=350, end_col_offset=19)], values=[Name(id='items', ctx=Load(), lineno=348, col_offset=17, end_lineno=348, end_col_offset=22), Name(id='matched_count', ctx=Load(), lineno=349, col_offset=17, end_lineno=349, end_col_offset=30), Name(id='truncated', ctx=Load(), lineno=350, col_offset=21, end_lineno=350, end_col_offset=30)], lineno=347, col_offset=11, end_lineno=351, end_col_offset=5), lineno=347, col_offset=4, end_lineno=351, end_col_offset=5)], returns=Name(id='dict', ctx=Load(), lineno=241, col_offset=5, end_lineno=241, end_col_offset=9), lineno=235, col_offset=0, end_lineno=351, end_col_offset=5), FunctionDef(name='_collect_filtered_paths', args=arguments(kwonlyargs=[arg(arg='search_root', annotation=Name(id='Path', ctx=Load(), lineno=356, col_offset=17, end_lineno=356, end_col_offset=21), lineno=356, col_offset=4, end_lineno=356, end_col_offset=21), arg(arg='repo_root', annotation=Name(id='Path', ctx=Load(), lineno=357, col_offset=15, end_lineno=357, end_col_offset=19), lineno=357, col_offset=4, end_lineno=357, end_col_offset=19), arg(arg='filters', annotation=Name(id='DirectoryFilters', ctx=Load(), lineno=358, col_offset=13, end_lineno=358, end_col_offset=29), lineno=358, col_offset=4, end_lineno=358, end_col_offset=29)], kw_defaults=[None, None, None]), body=[Expr(value=Constant(value='Walk directories and apply include/exclude filters.\n\n    Parameters\n    ----------\n    search_root : Path\n        Directory to start walking from.\n    repo_root : Path\n        Repository root directory.\n    filters : DirectoryFilters\n        Prepared include/exclude/language filters plus max results.\n\n    Returns\n    -------\n    tuple[list[dict[str, object]], int, bool]\n        Tuple containing:\n        - items: List of file entries with path, size, and modified time\n        - matched_count: Total number of files that matched filters\n        - truncated: True if results were truncated due to max_results limit\n    ', lineno=360, col_offset=4, end_lineno=378, end_col_offset=7), lineno=360, col_offset=4, end_lineno=378, end_col_offset=7), AnnAssign(target=Name(id='items', ctx=Store(), lineno=379, col_offset=4, end_lineno=379, end_col_offset=9), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=379, col_offset=11, end_lineno=379, end_col_offset=15), slice=Subscript(value=Name(id='dict', ctx=Load(), lineno=379, col_offset=16, end_lineno=379, end_col_offset=20), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=379, col_offset=21, end_lineno=379, end_col_offset=24), Name(id='object', ctx=Load(), lineno=379, col_offset=26, end_lineno=379, end_col_offset=32)], ctx=Load(), lineno=379, col_offset=21, end_lineno=379, end_col_offset=32), ctx=Load(), lineno=379, col_offset=16, end_lineno=379, end_col_offset=33), ctx=Load(), lineno=379, col_offset=11, end_lineno=379, end_col_offset=34), value=List(ctx=Load(), lineno=379, col_offset=37, end_lineno=379, end_col_offset=39), simple=1, lineno=379, col_offset=4, end_lineno=379, end_col_offset=39), Assign(targets=[Name(id='matched_count', ctx=Store(), lineno=380, col_offset=4, end_lineno=380, end_col_offset=17)], value=Constant(value=0, lineno=380, col_offset=20, end_lineno=380, end_col_offset=21), lineno=380, col_offset=4, end_lineno=380, end_col_offset=21), Assign(targets=[Name(id='truncated', ctx=Store(), lineno=381, col_offset=4, end_lineno=381, end_col_offset=13)], value=Constant(value=False, lineno=381, col_offset=16, end_lineno=381, end_col_offset=21), lineno=381, col_offset=4, end_lineno=381, end_col_offset=21), For(target=Tuple(elts=[Name(id='current_root', ctx=Store(), lineno=383, col_offset=8, end_lineno=383, end_col_offset=20), Name(id='dirnames', ctx=Store(), lineno=383, col_offset=22, end_lineno=383, end_col_offset=30), Name(id='filenames', ctx=Store(), lineno=383, col_offset=32, end_lineno=383, end_col_offset=41)], ctx=Store(), lineno=383, col_offset=8, end_lineno=383, end_col_offset=41), iter=Call(func=Attribute(value=Name(id='os', ctx=Load(), lineno=383, col_offset=45, end_lineno=383, end_col_offset=47), attr='walk', ctx=Load(), lineno=383, col_offset=45, end_lineno=383, end_col_offset=52), args=[Name(id='search_root', ctx=Load(), lineno=383, col_offset=53, end_lineno=383, end_col_offset=64)], lineno=383, col_offset=45, end_lineno=383, end_col_offset=65), body=[Try(body=[Assign(targets=[Name(id='resolved_root', ctx=Store(), lineno=385, col_offset=12, end_lineno=385, end_col_offset=25)], value=Call(func=Attribute(value=Call(func=Name(id='Path', ctx=Load(), lineno=385, col_offset=28, end_lineno=385, end_col_offset=32), args=[Name(id='current_root', ctx=Load(), lineno=385, col_offset=33, end_lineno=385, end_col_offset=45)], lineno=385, col_offset=28, end_lineno=385, end_col_offset=46), attr='resolve', ctx=Load(), lineno=385, col_offset=28, end_lineno=385, end_col_offset=54), lineno=385, col_offset=28, end_lineno=385, end_col_offset=56), lineno=385, col_offset=12, end_lineno=385, end_col_offset=56)], handlers=[ExceptHandler(type=Name(id='OSError', ctx=Load(), lineno=386, col_offset=15, end_lineno=386, end_col_offset=22), body=[Continue(lineno=387, col_offset=12, end_lineno=387, end_col_offset=20)], lineno=386, col_offset=8, end_lineno=387, end_col_offset=20)], lineno=384, col_offset=8, end_lineno=387, end_col_offset=20), If(test=Compare(left=Call(func=Name(id='_relative_path_str', ctx=Load(), lineno=389, col_offset=11, end_lineno=389, end_col_offset=29), args=[Name(id='resolved_root', ctx=Load(), lineno=389, col_offset=30, end_lineno=389, end_col_offset=43), Name(id='repo_root', ctx=Load(), lineno=389, col_offset=45, end_lineno=389, end_col_offset=54)], lineno=389, col_offset=11, end_lineno=389, end_col_offset=55), ops=[Is()], comparators=[Constant(value=None, lineno=389, col_offset=59, end_lineno=389, end_col_offset=63)], lineno=389, col_offset=11, end_lineno=389, end_col_offset=63), body=[Continue(lineno=390, col_offset=12, end_lineno=390, end_col_offset=20)], lineno=389, col_offset=8, end_lineno=390, end_col_offset=20), Expr(value=Call(func=Name(id='_prune_directories', ctx=Load(), lineno=392, col_offset=8, end_lineno=392, end_col_offset=26), args=[Name(id='dirnames', ctx=Load(), lineno=392, col_offset=27, end_lineno=392, end_col_offset=35), Name(id='resolved_root', ctx=Load(), lineno=392, col_offset=37, end_lineno=392, end_col_offset=50), Name(id='repo_root', ctx=Load(), lineno=392, col_offset=52, end_lineno=392, end_col_offset=61), Attribute(value=Name(id='filters', ctx=Load(), lineno=392, col_offset=63, end_lineno=392, end_col_offset=70), attr='excludes', ctx=Load(), lineno=392, col_offset=63, end_lineno=392, end_col_offset=79)], lineno=392, col_offset=8, end_lineno=392, end_col_offset=80), lineno=392, col_offset=8, end_lineno=392, end_col_offset=80), For(target=Name(id='file_name', ctx=Store(), lineno=394, col_offset=12, end_lineno=394, end_col_offset=21), iter=Name(id='filenames', ctx=Load(), lineno=394, col_offset=25, end_lineno=394, end_col_offset=34), body=[Assign(targets=[Name(id='file_path', ctx=Store(), lineno=395, col_offset=12, end_lineno=395, end_col_offset=21)], value=BinOp(left=Name(id='resolved_root', ctx=Load(), lineno=395, col_offset=24, end_lineno=395, end_col_offset=37), op=Div(), right=Name(id='file_name', ctx=Load(), lineno=395, col_offset=40, end_lineno=395, end_col_offset=49), lineno=395, col_offset=24, end_lineno=395, end_col_offset=49), lineno=395, col_offset=12, end_lineno=395, end_col_offset=49), Assign(targets=[Name(id='entry', ctx=Store(), lineno=396, col_offset=12, end_lineno=396, end_col_offset=17)], value=Call(func=Name(id='_create_file_entry', ctx=Load(), lineno=396, col_offset=20, end_lineno=396, end_col_offset=38), keywords=[keyword(arg='file_path', value=Name(id='file_path', ctx=Load(), lineno=397, col_offset=26, end_lineno=397, end_col_offset=35), lineno=397, col_offset=16, end_lineno=397, end_col_offset=35), keyword(arg='repo_root', value=Name(id='repo_root', ctx=Load(), lineno=398, col_offset=26, end_lineno=398, end_col_offset=35), lineno=398, col_offset=16, end_lineno=398, end_col_offset=35), keyword(arg='includes', value=Attribute(value=Name(id='filters', ctx=Load(), lineno=399, col_offset=25, end_lineno=399, end_col_offset=32), attr='includes', ctx=Load(), lineno=399, col_offset=25, end_lineno=399, end_col_offset=41), lineno=399, col_offset=16, end_lineno=399, end_col_offset=41), keyword(arg='excludes', value=Attribute(value=Name(id='filters', ctx=Load(), lineno=400, col_offset=25, end_lineno=400, end_col_offset=32), attr='excludes', ctx=Load(), lineno=400, col_offset=25, end_lineno=400, end_col_offset=41), lineno=400, col_offset=16, end_lineno=400, end_col_offset=41), keyword(arg='language_extensions', value=Attribute(value=Name(id='filters', ctx=Load(), lineno=401, col_offset=36, end_lineno=401, end_col_offset=43), attr='language_extensions', ctx=Load(), lineno=401, col_offset=36, end_lineno=401, end_col_offset=63), lineno=401, col_offset=16, end_lineno=401, end_col_offset=63)], lineno=396, col_offset=20, end_lineno=402, end_col_offset=13), lineno=396, col_offset=12, end_lineno=402, end_col_offset=13), If(test=Compare(left=Name(id='entry', ctx=Load(), lineno=403, col_offset=15, end_lineno=403, end_col_offset=20), ops=[Is()], comparators=[Constant(value=None, lineno=403, col_offset=24, end_lineno=403, end_col_offset=28)], lineno=403, col_offset=15, end_lineno=403, end_col_offset=28), body=[Continue(lineno=404, col_offset=16, end_lineno=404, end_col_offset=24)], lineno=403, col_offset=12, end_lineno=404, end_col_offset=24), AugAssign(target=Name(id='matched_count', ctx=Store(), lineno=406, col_offset=12, end_lineno=406, end_col_offset=25), op=Add(), value=Constant(value=1, lineno=406, col_offset=29, end_lineno=406, end_col_offset=30), lineno=406, col_offset=12, end_lineno=406, end_col_offset=30), If(test=Compare(left=Call(func=Name(id='len', ctx=Load(), lineno=407, col_offset=15, end_lineno=407, end_col_offset=18), args=[Name(id='items', ctx=Load(), lineno=407, col_offset=19, end_lineno=407, end_col_offset=24)], lineno=407, col_offset=15, end_lineno=407, end_col_offset=25), ops=[Lt()], comparators=[Attribute(value=Name(id='filters', ctx=Load(), lineno=407, col_offset=28, end_lineno=407, end_col_offset=35), attr='max_results', ctx=Load(), lineno=407, col_offset=28, end_lineno=407, end_col_offset=47)], lineno=407, col_offset=15, end_lineno=407, end_col_offset=47), body=[Expr(value=Call(func=Attribute(value=Name(id='items', ctx=Load(), lineno=408, col_offset=16, end_lineno=408, end_col_offset=21), attr='append', ctx=Load(), lineno=408, col_offset=16, end_lineno=408, end_col_offset=28), args=[Name(id='entry', ctx=Load(), lineno=408, col_offset=29, end_lineno=408, end_col_offset=34)], lineno=408, col_offset=16, end_lineno=408, end_col_offset=35), lineno=408, col_offset=16, end_lineno=408, end_col_offset=35)], lineno=407, col_offset=12, end_lineno=408, end_col_offset=35), If(test=BoolOp(op=And(), values=[Attribute(value=Name(id='filters', ctx=Load(), lineno=409, col_offset=15, end_lineno=409, end_col_offset=22), attr='max_results', ctx=Load(), lineno=409, col_offset=15, end_lineno=409, end_col_offset=34), Compare(left=Call(func=Name(id='len', ctx=Load(), lineno=409, col_offset=39, end_lineno=409, end_col_offset=42), args=[Name(id='items', ctx=Load(), lineno=409, col_offset=43, end_lineno=409, end_col_offset=48)], lineno=409, col_offset=39, end_lineno=409, end_col_offset=49), ops=[GtE()], comparators=[Attribute(value=Name(id='filters', ctx=Load(), lineno=409, col_offset=53, end_lineno=409, end_col_offset=60), attr='max_results', ctx=Load(), lineno=409, col_offset=53, end_lineno=409, end_col_offset=72)], lineno=409, col_offset=39, end_lineno=409, end_col_offset=72)], lineno=409, col_offset=15, end_lineno=409, end_col_offset=72), body=[Assign(targets=[Name(id='truncated', ctx=Store(), lineno=410, col_offset=16, end_lineno=410, end_col_offset=25)], value=Constant(value=True, lineno=410, col_offset=28, end_lineno=410, end_col_offset=32), lineno=410, col_offset=16, end_lineno=410, end_col_offset=32), Break(lineno=411, col_offset=16, end_lineno=411, end_col_offset=21)], lineno=409, col_offset=12, end_lineno=411, end_col_offset=21)], lineno=394, col_offset=8, end_lineno=411, end_col_offset=21), If(test=Name(id='truncated', ctx=Load(), lineno=413, col_offset=11, end_lineno=413, end_col_offset=20), body=[Break(lineno=414, col_offset=12, end_lineno=414, end_col_offset=17)], lineno=413, col_offset=8, end_lineno=414, end_col_offset=17)], lineno=383, col_offset=4, end_lineno=414, end_col_offset=17), Return(value=Tuple(elts=[Name(id='items', ctx=Load(), lineno=416, col_offset=11, end_lineno=416, end_col_offset=16), Name(id='matched_count', ctx=Load(), lineno=416, col_offset=18, end_lineno=416, end_col_offset=31), Name(id='truncated', ctx=Load(), lineno=416, col_offset=33, end_lineno=416, end_col_offset=42)], ctx=Load(), lineno=416, col_offset=11, end_lineno=416, end_col_offset=42), lineno=416, col_offset=4, end_lineno=416, end_col_offset=42)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=359, col_offset=5, end_lineno=359, end_col_offset=10), slice=Tuple(elts=[Subscript(value=Name(id='list', ctx=Load(), lineno=359, col_offset=11, end_lineno=359, end_col_offset=15), slice=Subscript(value=Name(id='dict', ctx=Load(), lineno=359, col_offset=16, end_lineno=359, end_col_offset=20), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=359, col_offset=21, end_lineno=359, end_col_offset=24), Name(id='object', ctx=Load(), lineno=359, col_offset=26, end_lineno=359, end_col_offset=32)], ctx=Load(), lineno=359, col_offset=21, end_lineno=359, end_col_offset=32), ctx=Load(), lineno=359, col_offset=16, end_lineno=359, end_col_offset=33), ctx=Load(), lineno=359, col_offset=11, end_lineno=359, end_col_offset=34), Name(id='int', ctx=Load(), lineno=359, col_offset=36, end_lineno=359, end_col_offset=39), Name(id='bool', ctx=Load(), lineno=359, col_offset=41, end_lineno=359, end_col_offset=45)], ctx=Load(), lineno=359, col_offset=11, end_lineno=359, end_col_offset=45), ctx=Load(), lineno=359, col_offset=5, end_lineno=359, end_col_offset=46), lineno=354, col_offset=0, end_lineno=416, end_col_offset=42), FunctionDef(name='_prune_directories', args=arguments(args=[arg(arg='dirnames', annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=420, col_offset=14, end_lineno=420, end_col_offset=18), slice=Name(id='str', ctx=Load(), lineno=420, col_offset=19, end_lineno=420, end_col_offset=22), ctx=Load(), lineno=420, col_offset=14, end_lineno=420, end_col_offset=23), lineno=420, col_offset=4, end_lineno=420, end_col_offset=23), arg(arg='resolved_root', annotation=Name(id='Path', ctx=Load(), lineno=421, col_offset=19, end_lineno=421, end_col_offset=23), lineno=421, col_offset=4, end_lineno=421, end_col_offset=23), arg(arg='repo_root', annotation=Name(id='Path', ctx=Load(), lineno=422, col_offset=15, end_lineno=422, end_col_offset=19), lineno=422, col_offset=4, end_lineno=422, end_col_offset=19), arg(arg='excludes', annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=423, col_offset=14, end_lineno=423, end_col_offset=18), slice=Name(id='str', ctx=Load(), lineno=423, col_offset=19, end_lineno=423, end_col_offset=22), ctx=Load(), lineno=423, col_offset=14, end_lineno=423, end_col_offset=23), lineno=423, col_offset=4, end_lineno=423, end_col_offset=23)]), body=[For(target=Name(id='dir_name', ctx=Store(), lineno=425, col_offset=8, end_lineno=425, end_col_offset=16), iter=Call(func=Name(id='list', ctx=Load(), lineno=425, col_offset=20, end_lineno=425, end_col_offset=24), args=[Name(id='dirnames', ctx=Load(), lineno=425, col_offset=25, end_lineno=425, end_col_offset=33)], lineno=425, col_offset=20, end_lineno=425, end_col_offset=34), body=[Assign(targets=[Name(id='dir_path', ctx=Store(), lineno=426, col_offset=8, end_lineno=426, end_col_offset=16)], value=BinOp(left=Name(id='resolved_root', ctx=Load(), lineno=426, col_offset=19, end_lineno=426, end_col_offset=32), op=Div(), right=Name(id='dir_name', ctx=Load(), lineno=426, col_offset=35, end_lineno=426, end_col_offset=43), lineno=426, col_offset=19, end_lineno=426, end_col_offset=43), lineno=426, col_offset=8, end_lineno=426, end_col_offset=43), Assign(targets=[Name(id='relative_dir', ctx=Store(), lineno=427, col_offset=8, end_lineno=427, end_col_offset=20)], value=Call(func=Name(id='_relative_path_str', ctx=Load(), lineno=427, col_offset=23, end_lineno=427, end_col_offset=41), args=[Name(id='dir_path', ctx=Load(), lineno=427, col_offset=42, end_lineno=427, end_col_offset=50), Name(id='repo_root', ctx=Load(), lineno=427, col_offset=52, end_lineno=427, end_col_offset=61)], lineno=427, col_offset=23, end_lineno=427, end_col_offset=62), lineno=427, col_offset=8, end_lineno=427, end_col_offset=62), If(test=Compare(left=Name(id='relative_dir', ctx=Load(), lineno=428, col_offset=11, end_lineno=428, end_col_offset=23), ops=[Is()], comparators=[Constant(value=None, lineno=428, col_offset=27, end_lineno=428, end_col_offset=31)], lineno=428, col_offset=11, end_lineno=428, end_col_offset=31), body=[Expr(value=Call(func=Attribute(value=Name(id='dirnames', ctx=Load(), lineno=429, col_offset=12, end_lineno=429, end_col_offset=20), attr='remove', ctx=Load(), lineno=429, col_offset=12, end_lineno=429, end_col_offset=27), args=[Name(id='dir_name', ctx=Load(), lineno=429, col_offset=28, end_lineno=429, end_col_offset=36)], lineno=429, col_offset=12, end_lineno=429, end_col_offset=37), lineno=429, col_offset=12, end_lineno=429, end_col_offset=37), Continue(lineno=430, col_offset=12, end_lineno=430, end_col_offset=20)], lineno=428, col_offset=8, end_lineno=430, end_col_offset=20), Assign(targets=[Name(id='dir_targets', ctx=Store(), lineno=431, col_offset=8, end_lineno=431, end_col_offset=19)], value=Tuple(elts=[Name(id='relative_dir', ctx=Load(), lineno=432, col_offset=12, end_lineno=432, end_col_offset=24), JoinedStr(values=[FormattedValue(value=Name(id='relative_dir', ctx=Load(), lineno=433, col_offset=15, end_lineno=433, end_col_offset=27), conversion=-1, lineno=433, col_offset=14, end_lineno=433, end_col_offset=28), Constant(value='/', lineno=433, col_offset=28, end_lineno=433, end_col_offset=29)], lineno=433, col_offset=12, end_lineno=433, end_col_offset=30), JoinedStr(values=[Constant(value='./', lineno=434, col_offset=14, end_lineno=434, end_col_offset=16), FormattedValue(value=Name(id='relative_dir', ctx=Load(), lineno=434, col_offset=17, end_lineno=434, end_col_offset=29), conversion=-1, lineno=434, col_offset=16, end_lineno=434, end_col_offset=30)], lineno=434, col_offset=12, end_lineno=434, end_col_offset=31), JoinedStr(values=[Constant(value='./', lineno=435, col_offset=14, end_lineno=435, end_col_offset=16), FormattedValue(value=Name(id='relative_dir', ctx=Load(), lineno=435, col_offset=17, end_lineno=435, end_col_offset=29), conversion=-1, lineno=435, col_offset=16, end_lineno=435, end_col_offset=30), Constant(value='/', lineno=435, col_offset=30, end_lineno=435, end_col_offset=31)], lineno=435, col_offset=12, end_lineno=435, end_col_offset=32)], ctx=Load(), lineno=431, col_offset=22, end_lineno=436, end_col_offset=9), lineno=431, col_offset=8, end_lineno=436, end_col_offset=9), If(test=Call(func=Name(id='any', ctx=Load(), lineno=437, col_offset=11, end_lineno=437, end_col_offset=14), args=[GeneratorExp(elt=Call(func=Name(id='_matches_any', ctx=Load(), lineno=437, col_offset=15, end_lineno=437, end_col_offset=27), args=[Name(id='target', ctx=Load(), lineno=437, col_offset=28, end_lineno=437, end_col_offset=34), Name(id='excludes', ctx=Load(), lineno=437, col_offset=36, end_lineno=437, end_col_offset=44)], lineno=437, col_offset=15, end_lineno=437, end_col_offset=45), generators=[comprehension(target=Name(id='target', ctx=Store(), lineno=437, col_offset=50, end_lineno=437, end_col_offset=56), iter=Name(id='dir_targets', ctx=Load(), lineno=437, col_offset=60, end_lineno=437, end_col_offset=71), is_async=0)], lineno=437, col_offset=14, end_lineno=437, end_col_offset=72)], lineno=437, col_offset=11, end_lineno=437, end_col_offset=72), body=[Expr(value=Call(func=Attribute(value=Name(id='dirnames', ctx=Load(), lineno=438, col_offset=12, end_lineno=438, end_col_offset=20), attr='remove', ctx=Load(), lineno=438, col_offset=12, end_lineno=438, end_col_offset=27), args=[Name(id='dir_name', ctx=Load(), lineno=438, col_offset=28, end_lineno=438, end_col_offset=36)], lineno=438, col_offset=12, end_lineno=438, end_col_offset=37), lineno=438, col_offset=12, end_lineno=438, end_col_offset=37)], lineno=437, col_offset=8, end_lineno=438, end_col_offset=37)], lineno=425, col_offset=4, end_lineno=438, end_col_offset=37)], returns=Constant(value=None, lineno=424, col_offset=5, end_lineno=424, end_col_offset=9), lineno=419, col_offset=0, end_lineno=438, end_col_offset=37), FunctionDef(name='_create_file_entry', args=arguments(kwonlyargs=[arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=443, col_offset=15, end_lineno=443, end_col_offset=19), lineno=443, col_offset=4, end_lineno=443, end_col_offset=19), arg(arg='repo_root', annotation=Name(id='Path', ctx=Load(), lineno=444, col_offset=15, end_lineno=444, end_col_offset=19), lineno=444, col_offset=4, end_lineno=444, end_col_offset=19), arg(arg='includes', annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=445, col_offset=14, end_lineno=445, end_col_offset=18), slice=Name(id='str', ctx=Load(), lineno=445, col_offset=19, end_lineno=445, end_col_offset=22), ctx=Load(), lineno=445, col_offset=14, end_lineno=445, end_col_offset=23), lineno=445, col_offset=4, end_lineno=445, end_col_offset=23), arg(arg='excludes', annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=446, col_offset=14, end_lineno=446, end_col_offset=18), slice=Name(id='str', ctx=Load(), lineno=446, col_offset=19, end_lineno=446, end_col_offset=22), ctx=Load(), lineno=446, col_offset=14, end_lineno=446, end_col_offset=23), lineno=446, col_offset=4, end_lineno=446, end_col_offset=23), arg(arg='language_extensions', annotation=BinOp(left=Subscript(value=Name(id='set', ctx=Load(), lineno=447, col_offset=25, end_lineno=447, end_col_offset=28), slice=Name(id='str', ctx=Load(), lineno=447, col_offset=29, end_lineno=447, end_col_offset=32), ctx=Load(), lineno=447, col_offset=25, end_lineno=447, end_col_offset=33), op=BitOr(), right=Constant(value=None, lineno=447, col_offset=36, end_lineno=447, end_col_offset=40), lineno=447, col_offset=25, end_lineno=447, end_col_offset=40), lineno=447, col_offset=4, end_lineno=447, end_col_offset=40)], kw_defaults=[None, None, None, None, None]), body=[Expr(value=Constant(value='Return a file entry dict when filters accept the file.\n\n    Checks if a file path matches the provided include/exclude patterns and\n    language extensions. Returns a dictionary with file metadata if the file\n    passes all filters, otherwise returns None.\n\n    Parameters\n    ----------\n    file_path : Path\n        Absolute path to the file being checked.\n    repo_root : Path\n        Root directory of the repository, used to compute relative paths.\n    includes : list[str]\n        List of glob patterns that the file path must match to be included.\n        Empty list means no inclusion filter is applied.\n    excludes : list[str]\n        List of glob patterns that the file path must not match to be included.\n        Empty list means no exclusion filter is applied.\n    language_extensions : set[str] | None\n        Set of file extensions (with leading dot) that the file must have.\n        If None, no language filter is applied.\n\n    Returns\n    -------\n    dict[str, object] | None\n        Dictionary containing file metadata (path, relative_path, etc.) when\n        filters are satisfied, otherwise ``None``.\n    ', lineno=449, col_offset=4, end_lineno=476, end_col_offset=7), lineno=449, col_offset=4, end_lineno=476, end_col_offset=7), Assign(targets=[Name(id='relative_file', ctx=Store(), lineno=477, col_offset=4, end_lineno=477, end_col_offset=17)], value=Call(func=Name(id='_relative_path_str', ctx=Load(), lineno=477, col_offset=20, end_lineno=477, end_col_offset=38), args=[Name(id='file_path', ctx=Load(), lineno=477, col_offset=39, end_lineno=477, end_col_offset=48), Name(id='repo_root', ctx=Load(), lineno=477, col_offset=50, end_lineno=477, end_col_offset=59)], lineno=477, col_offset=20, end_lineno=477, end_col_offset=60), lineno=477, col_offset=4, end_lineno=477, end_col_offset=60), If(test=Compare(left=Name(id='relative_file', ctx=Load(), lineno=478, col_offset=7, end_lineno=478, end_col_offset=20), ops=[Is()], comparators=[Constant(value=None, lineno=478, col_offset=24, end_lineno=478, end_col_offset=28)], lineno=478, col_offset=7, end_lineno=478, end_col_offset=28), body=[Return(value=Constant(value=None, lineno=479, col_offset=15, end_lineno=479, end_col_offset=19), lineno=479, col_offset=8, end_lineno=479, end_col_offset=19)], lineno=478, col_offset=4, end_lineno=479, end_col_offset=19), If(test=BoolOp(op=Or(), values=[Call(func=Name(id='_matches_any', ctx=Load(), lineno=480, col_offset=7, end_lineno=480, end_col_offset=19), args=[Name(id='relative_file', ctx=Load(), lineno=480, col_offset=20, end_lineno=480, end_col_offset=33), Name(id='excludes', ctx=Load(), lineno=480, col_offset=35, end_lineno=480, end_col_offset=43)], lineno=480, col_offset=7, end_lineno=480, end_col_offset=44), Call(func=Name(id='_matches_any', ctx=Load(), lineno=480, col_offset=48, end_lineno=480, end_col_offset=60), args=[JoinedStr(values=[Constant(value='./', lineno=480, col_offset=63, end_lineno=480, end_col_offset=65), FormattedValue(value=Name(id='relative_file', ctx=Load(), lineno=480, col_offset=66, end_lineno=480, end_col_offset=79), conversion=-1, lineno=480, col_offset=65, end_lineno=480, end_col_offset=80)], lineno=480, col_offset=61, end_lineno=480, end_col_offset=81), Name(id='excludes', ctx=Load(), lineno=480, col_offset=83, end_lineno=480, end_col_offset=91)], lineno=480, col_offset=48, end_lineno=480, end_col_offset=92)], lineno=480, col_offset=7, end_lineno=480, end_col_offset=92), body=[Return(value=Constant(value=None, lineno=481, col_offset=15, end_lineno=481, end_col_offset=19), lineno=481, col_offset=8, end_lineno=481, end_col_offset=19)], lineno=480, col_offset=4, end_lineno=481, end_col_offset=19), If(test=UnaryOp(op=Not(), operand=Call(func=Name(id='_matches_any', ctx=Load(), lineno=482, col_offset=11, end_lineno=482, end_col_offset=23), args=[Name(id='relative_file', ctx=Load(), lineno=482, col_offset=24, end_lineno=482, end_col_offset=37), Name(id='includes', ctx=Load(), lineno=482, col_offset=39, end_lineno=482, end_col_offset=47)], lineno=482, col_offset=11, end_lineno=482, end_col_offset=48), lineno=482, col_offset=7, end_lineno=482, end_col_offset=48), body=[Return(value=Constant(value=None, lineno=483, col_offset=15, end_lineno=483, end_col_offset=19), lineno=483, col_offset=8, end_lineno=483, end_col_offset=19)], lineno=482, col_offset=4, end_lineno=483, end_col_offset=19), If(test=BoolOp(op=And(), values=[Name(id='language_extensions', ctx=Load(), lineno=484, col_offset=7, end_lineno=484, end_col_offset=26), UnaryOp(op=Not(), operand=Call(func=Name(id='_matches_language', ctx=Load(), lineno=484, col_offset=35, end_lineno=484, end_col_offset=52), args=[Name(id='relative_file', ctx=Load(), lineno=484, col_offset=53, end_lineno=484, end_col_offset=66), Name(id='language_extensions', ctx=Load(), lineno=484, col_offset=68, end_lineno=484, end_col_offset=87)], lineno=484, col_offset=35, end_lineno=484, end_col_offset=88), lineno=484, col_offset=31, end_lineno=484, end_col_offset=88)], lineno=484, col_offset=7, end_lineno=484, end_col_offset=88), body=[Return(value=Constant(value=None, lineno=485, col_offset=15, end_lineno=485, end_col_offset=19), lineno=485, col_offset=8, end_lineno=485, end_col_offset=19)], lineno=484, col_offset=4, end_lineno=485, end_col_offset=19), Assign(targets=[Name(id='stat_result', ctx=Store(), lineno=487, col_offset=4, end_lineno=487, end_col_offset=15)], value=Call(func=Name(id='_safe_stat', ctx=Load(), lineno=487, col_offset=18, end_lineno=487, end_col_offset=28), args=[Name(id='file_path', ctx=Load(), lineno=487, col_offset=29, end_lineno=487, end_col_offset=38)], lineno=487, col_offset=18, end_lineno=487, end_col_offset=39), lineno=487, col_offset=4, end_lineno=487, end_col_offset=39), If(test=Compare(left=Name(id='stat_result', ctx=Load(), lineno=488, col_offset=7, end_lineno=488, end_col_offset=18), ops=[Is()], comparators=[Constant(value=None, lineno=488, col_offset=22, end_lineno=488, end_col_offset=26)], lineno=488, col_offset=7, end_lineno=488, end_col_offset=26), body=[Return(value=Constant(value=None, lineno=489, col_offset=15, end_lineno=489, end_col_offset=19), lineno=489, col_offset=8, end_lineno=489, end_col_offset=19)], lineno=488, col_offset=4, end_lineno=489, end_col_offset=19), Return(value=Dict(keys=[Constant(value='path', lineno=492, col_offset=8, end_lineno=492, end_col_offset=14), Constant(value='size', lineno=493, col_offset=8, end_lineno=493, end_col_offset=14), Constant(value='modified', lineno=494, col_offset=8, end_lineno=494, end_col_offset=18)], values=[Name(id='relative_file', ctx=Load(), lineno=492, col_offset=16, end_lineno=492, end_col_offset=29), Attribute(value=Name(id='stat_result', ctx=Load(), lineno=493, col_offset=16, end_lineno=493, end_col_offset=27), attr='st_size', ctx=Load(), lineno=493, col_offset=16, end_lineno=493, end_col_offset=35), Attribute(value=Name(id='stat_result', ctx=Load(), lineno=494, col_offset=20, end_lineno=494, end_col_offset=31), attr='st_mtime', ctx=Load(), lineno=494, col_offset=20, end_lineno=494, end_col_offset=40)], lineno=491, col_offset=11, end_lineno=495, end_col_offset=5), lineno=491, col_offset=4, end_lineno=495, end_col_offset=5)], returns=BinOp(left=Subscript(value=Name(id='dict', ctx=Load(), lineno=448, col_offset=5, end_lineno=448, end_col_offset=9), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=448, col_offset=10, end_lineno=448, end_col_offset=13), Name(id='object', ctx=Load(), lineno=448, col_offset=15, end_lineno=448, end_col_offset=21)], ctx=Load(), lineno=448, col_offset=10, end_lineno=448, end_col_offset=21), ctx=Load(), lineno=448, col_offset=5, end_lineno=448, end_col_offset=22), op=BitOr(), right=Constant(value=None, lineno=448, col_offset=25, end_lineno=448, end_col_offset=29), lineno=448, col_offset=5, end_lineno=448, end_col_offset=29), lineno=441, col_offset=0, end_lineno=495, end_col_offset=5), FunctionDef(name='open_file', args=arguments(args=[arg(arg='context', annotation=Name(id='ApplicationContext', ctx=Load(), lineno=499, col_offset=13, end_lineno=499, end_col_offset=31), lineno=499, col_offset=4, end_lineno=499, end_col_offset=31), arg(arg='path', annotation=Name(id='str', ctx=Load(), lineno=500, col_offset=10, end_lineno=500, end_col_offset=13), lineno=500, col_offset=4, end_lineno=500, end_col_offset=13), arg(arg='start_line', annotation=BinOp(left=Name(id='int', ctx=Load(), lineno=501, col_offset=16, end_lineno=501, end_col_offset=19), op=BitOr(), right=Constant(value=None, lineno=501, col_offset=22, end_lineno=501, end_col_offset=26), lineno=501, col_offset=16, end_lineno=501, end_col_offset=26), lineno=501, col_offset=4, end_lineno=501, end_col_offset=26), arg(arg='end_line', annotation=BinOp(left=Name(id='int', ctx=Load(), lineno=502, col_offset=14, end_lineno=502, end_col_offset=17), op=BitOr(), right=Constant(value=None, lineno=502, col_offset=20, end_lineno=502, end_col_offset=24), lineno=502, col_offset=14, end_lineno=502, end_col_offset=24), lineno=502, col_offset=4, end_lineno=502, end_col_offset=24)], defaults=[Constant(value=None, lineno=501, col_offset=29, end_lineno=501, end_col_offset=33), Constant(value=None, lineno=502, col_offset=27, end_lineno=502, end_col_offset=31)]), body=[Expr(value=Constant(value='Read file content with optional line slicing.\n\n    Parameters\n    ----------\n    context : ApplicationContext\n        Application context containing repo root and settings.\n    path : str\n        File path relative to repo root.\n    start_line : int | None\n        Start line (1-indexed, inclusive). Must be positive when provided.\n    end_line : int | None\n        End line (1-indexed, inclusive). Must be positive when provided.\n\n    Returns\n    -------\n    dict\n        File content and metadata with keys: path, content, lines, size.\n\n    Raises\n    ------\n    PathNotFoundError\n        If the requested file does not exist or is not a regular file.\n    FileReadError\n        If file is binary or has encoding issues.\n    InvalidLineRangeError\n        If line range parameters are invalid.\n\n    Notes\n    -----\n    ``start_line`` and ``end_line`` are inclusive and 1-indexed. If both bounds\n    are supplied then ``start_line`` must be less than or equal to ``end_line``.\n    Providing a single bound slices from the start or through the end of the\n    file respectively.\n\n    Examples\n    --------\n    >>> result = open_file(context, "README.md", start_line=1, end_line=10)\n    >>> "content" in result\n    True\n    ', lineno=504, col_offset=4, end_lineno=543, end_col_offset=7), lineno=504, col_offset=4, end_lineno=543, end_col_offset=7), Assign(targets=[Name(id='repo_root', ctx=Store(), lineno=544, col_offset=4, end_lineno=544, end_col_offset=13)], value=Attribute(value=Attribute(value=Name(id='context', ctx=Load(), lineno=544, col_offset=16, end_lineno=544, end_col_offset=23), attr='paths', ctx=Load(), lineno=544, col_offset=16, end_lineno=544, end_col_offset=29), attr='repo_root', ctx=Load(), lineno=544, col_offset=16, end_lineno=544, end_col_offset=39), lineno=544, col_offset=4, end_lineno=544, end_col_offset=39), Try(body=[Assign(targets=[Name(id='file_path', ctx=Store(), lineno=548, col_offset=8, end_lineno=548, end_col_offset=17)], value=Call(func=Name(id='resolve_within_repo', ctx=Load(), lineno=548, col_offset=20, end_lineno=548, end_col_offset=39), args=[Name(id='repo_root', ctx=Load(), lineno=548, col_offset=40, end_lineno=548, end_col_offset=49), Name(id='path', ctx=Load(), lineno=548, col_offset=51, end_lineno=548, end_col_offset=55)], keywords=[keyword(arg='allow_nonexistent', value=Constant(value=False, lineno=548, col_offset=75, end_lineno=548, end_col_offset=80), lineno=548, col_offset=57, end_lineno=548, end_col_offset=80)], lineno=548, col_offset=20, end_lineno=548, end_col_offset=81), lineno=548, col_offset=8, end_lineno=548, end_col_offset=81)], handlers=[ExceptHandler(type=Name(id='FileNotFoundError', ctx=Load(), lineno=549, col_offset=11, end_lineno=549, end_col_offset=28), name='exc', body=[Assign(targets=[Name(id='error_msg', ctx=Store(), lineno=550, col_offset=8, end_lineno=550, end_col_offset=17)], value=JoinedStr(values=[Constant(value='Path not found: ', lineno=550, col_offset=22, end_lineno=550, end_col_offset=38), FormattedValue(value=Name(id='path', ctx=Load(), lineno=550, col_offset=39, end_lineno=550, end_col_offset=43), conversion=-1, lineno=550, col_offset=38, end_lineno=550, end_col_offset=44)], lineno=550, col_offset=20, end_lineno=550, end_col_offset=45), lineno=550, col_offset=8, end_lineno=550, end_col_offset=45), Raise(exc=Call(func=Name(id='PathNotFoundError', ctx=Load(), lineno=551, col_offset=14, end_lineno=551, end_col_offset=31), args=[Name(id='error_msg', ctx=Load(), lineno=551, col_offset=32, end_lineno=551, end_col_offset=41)], keywords=[keyword(arg='path', value=Name(id='path', ctx=Load(), lineno=551, col_offset=48, end_lineno=551, end_col_offset=52), lineno=551, col_offset=43, end_lineno=551, end_col_offset=52), keyword(arg='cause', value=Name(id='exc', ctx=Load(), lineno=551, col_offset=60, end_lineno=551, end_col_offset=63), lineno=551, col_offset=54, end_lineno=551, end_col_offset=63)], lineno=551, col_offset=14, end_lineno=551, end_col_offset=64), cause=Name(id='exc', ctx=Load(), lineno=551, col_offset=70, end_lineno=551, end_col_offset=73), lineno=551, col_offset=8, end_lineno=551, end_col_offset=73)], lineno=549, col_offset=4, end_lineno=551, end_col_offset=73)], lineno=547, col_offset=4, end_lineno=551, end_col_offset=73), If(test=UnaryOp(op=Not(), operand=Call(func=Attribute(value=Name(id='file_path', ctx=Load(), lineno=554, col_offset=11, end_lineno=554, end_col_offset=20), attr='is_file', ctx=Load(), lineno=554, col_offset=11, end_lineno=554, end_col_offset=28), lineno=554, col_offset=11, end_lineno=554, end_col_offset=30), lineno=554, col_offset=7, end_lineno=554, end_col_offset=30), body=[Assign(targets=[Name(id='error_msg', ctx=Store(), lineno=555, col_offset=8, end_lineno=555, end_col_offset=17)], value=JoinedStr(values=[Constant(value='Not a file: ', lineno=555, col_offset=22, end_lineno=555, end_col_offset=34), FormattedValue(value=Name(id='path', ctx=Load(), lineno=555, col_offset=35, end_lineno=555, end_col_offset=39), conversion=-1, lineno=555, col_offset=34, end_lineno=555, end_col_offset=40)], lineno=555, col_offset=20, end_lineno=555, end_col_offset=41), lineno=555, col_offset=8, end_lineno=555, end_col_offset=41), Raise(exc=Call(func=Name(id='PathNotFoundError', ctx=Load(), lineno=556, col_offset=14, end_lineno=556, end_col_offset=31), args=[Name(id='error_msg', ctx=Load(), lineno=556, col_offset=32, end_lineno=556, end_col_offset=41)], keywords=[keyword(arg='path', value=Name(id='path', ctx=Load(), lineno=556, col_offset=48, end_lineno=556, end_col_offset=52), lineno=556, col_offset=43, end_lineno=556, end_col_offset=52)], lineno=556, col_offset=14, end_lineno=556, end_col_offset=53), lineno=556, col_offset=8, end_lineno=556, end_col_offset=53)], lineno=554, col_offset=4, end_lineno=556, end_col_offset=53), Try(body=[Assign(targets=[Name(id='content', ctx=Store(), lineno=560, col_offset=8, end_lineno=560, end_col_offset=15)], value=Call(func=Attribute(value=Name(id='file_path', ctx=Load(), lineno=560, col_offset=18, end_lineno=560, end_col_offset=27), attr='read_text', ctx=Load(), lineno=560, col_offset=18, end_lineno=560, end_col_offset=37), keywords=[keyword(arg='encoding', value=Constant(value='utf-8', lineno=560, col_offset=47, end_lineno=560, end_col_offset=54), lineno=560, col_offset=38, end_lineno=560, end_col_offset=54)], lineno=560, col_offset=18, end_lineno=560, end_col_offset=55), lineno=560, col_offset=8, end_lineno=560, end_col_offset=55)], handlers=[ExceptHandler(type=Name(id='UnicodeDecodeError', ctx=Load(), lineno=561, col_offset=11, end_lineno=561, end_col_offset=29), name='exc', body=[Assign(targets=[Name(id='error_msg', ctx=Store(), lineno=562, col_offset=8, end_lineno=562, end_col_offset=17)], value=Constant(value='Binary file or encoding error', lineno=562, col_offset=20, end_lineno=562, end_col_offset=51), lineno=562, col_offset=8, end_lineno=562, end_col_offset=51), Raise(exc=Call(func=Name(id='FileReadError', ctx=Load(), lineno=563, col_offset=14, end_lineno=563, end_col_offset=27), args=[Name(id='error_msg', ctx=Load(), lineno=563, col_offset=28, end_lineno=563, end_col_offset=37)], keywords=[keyword(arg='path', value=Name(id='path', ctx=Load(), lineno=563, col_offset=44, end_lineno=563, end_col_offset=48), lineno=563, col_offset=39, end_lineno=563, end_col_offset=48)], lineno=563, col_offset=14, end_lineno=563, end_col_offset=49), cause=Name(id='exc', ctx=Load(), lineno=563, col_offset=55, end_lineno=563, end_col_offset=58), lineno=563, col_offset=8, end_lineno=563, end_col_offset=58)], lineno=561, col_offset=4, end_lineno=563, end_col_offset=58)], lineno=559, col_offset=4, end_lineno=563, end_col_offset=58), If(test=BoolOp(op=And(), values=[Compare(left=Name(id='start_line', ctx=Load(), lineno=566, col_offset=7, end_lineno=566, end_col_offset=17), ops=[IsNot()], comparators=[Constant(value=None, lineno=566, col_offset=25, end_lineno=566, end_col_offset=29)], lineno=566, col_offset=7, end_lineno=566, end_col_offset=29), Compare(left=Name(id='start_line', ctx=Load(), lineno=566, col_offset=34, end_lineno=566, end_col_offset=44), ops=[LtE()], comparators=[Constant(value=0, lineno=566, col_offset=48, end_lineno=566, end_col_offset=49)], lineno=566, col_offset=34, end_lineno=566, end_col_offset=49)], lineno=566, col_offset=7, end_lineno=566, end_col_offset=49), body=[Assign(targets=[Name(id='error_msg', ctx=Store(), lineno=567, col_offset=8, end_lineno=567, end_col_offset=17)], value=Constant(value='start_line must be a positive integer', lineno=567, col_offset=20, end_lineno=567, end_col_offset=59), lineno=567, col_offset=8, end_lineno=567, end_col_offset=59), Raise(exc=Call(func=Name(id='InvalidLineRangeError', ctx=Load(), lineno=568, col_offset=14, end_lineno=568, end_col_offset=35), args=[Name(id='error_msg', ctx=Load(), lineno=569, col_offset=12, end_lineno=569, end_col_offset=21)], keywords=[keyword(arg='path', value=Name(id='path', ctx=Load(), lineno=570, col_offset=17, end_lineno=570, end_col_offset=21), lineno=570, col_offset=12, end_lineno=570, end_col_offset=21), keyword(arg='line_range', value=Tuple(elts=[Name(id='start_line', ctx=Load(), lineno=571, col_offset=24, end_lineno=571, end_col_offset=34), Name(id='end_line', ctx=Load(), lineno=571, col_offset=36, end_lineno=571, end_col_offset=44)], ctx=Load(), lineno=571, col_offset=23, end_lineno=571, end_col_offset=45), lineno=571, col_offset=12, end_lineno=571, end_col_offset=45)], lineno=568, col_offset=14, end_lineno=572, end_col_offset=9), lineno=568, col_offset=8, end_lineno=572, end_col_offset=9)], lineno=566, col_offset=4, end_lineno=572, end_col_offset=9), If(test=BoolOp(op=And(), values=[Compare(left=Name(id='end_line', ctx=Load(), lineno=573, col_offset=7, end_lineno=573, end_col_offset=15), ops=[IsNot()], comparators=[Constant(value=None, lineno=573, col_offset=23, end_lineno=573, end_col_offset=27)], lineno=573, col_offset=7, end_lineno=573, end_col_offset=27), Compare(left=Name(id='end_line', ctx=Load(), lineno=573, col_offset=32, end_lineno=573, end_col_offset=40), ops=[LtE()], comparators=[Constant(value=0, lineno=573, col_offset=44, end_lineno=573, end_col_offset=45)], lineno=573, col_offset=32, end_lineno=573, end_col_offset=45)], lineno=573, col_offset=7, end_lineno=573, end_col_offset=45), body=[Assign(targets=[Name(id='error_msg', ctx=Store(), lineno=574, col_offset=8, end_lineno=574, end_col_offset=17)], value=Constant(value='end_line must be a positive integer', lineno=574, col_offset=20, end_lineno=574, end_col_offset=57), lineno=574, col_offset=8, end_lineno=574, end_col_offset=57), Raise(exc=Call(func=Name(id='InvalidLineRangeError', ctx=Load(), lineno=575, col_offset=14, end_lineno=575, end_col_offset=35), args=[Name(id='error_msg', ctx=Load(), lineno=576, col_offset=12, end_lineno=576, end_col_offset=21)], keywords=[keyword(arg='path', value=Name(id='path', ctx=Load(), lineno=577, col_offset=17, end_lineno=577, end_col_offset=21), lineno=577, col_offset=12, end_lineno=577, end_col_offset=21), keyword(arg='line_range', value=Tuple(elts=[Name(id='start_line', ctx=Load(), lineno=578, col_offset=24, end_lineno=578, end_col_offset=34), Name(id='end_line', ctx=Load(), lineno=578, col_offset=36, end_lineno=578, end_col_offset=44)], ctx=Load(), lineno=578, col_offset=23, end_lineno=578, end_col_offset=45), lineno=578, col_offset=12, end_lineno=578, end_col_offset=45)], lineno=575, col_offset=14, end_lineno=579, end_col_offset=9), lineno=575, col_offset=8, end_lineno=579, end_col_offset=9)], lineno=573, col_offset=4, end_lineno=579, end_col_offset=9), If(test=BoolOp(op=And(), values=[Compare(left=Name(id='start_line', ctx=Load(), lineno=580, col_offset=7, end_lineno=580, end_col_offset=17), ops=[IsNot()], comparators=[Constant(value=None, lineno=580, col_offset=25, end_lineno=580, end_col_offset=29)], lineno=580, col_offset=7, end_lineno=580, end_col_offset=29), Compare(left=Name(id='end_line', ctx=Load(), lineno=580, col_offset=34, end_lineno=580, end_col_offset=42), ops=[IsNot()], comparators=[Constant(value=None, lineno=580, col_offset=50, end_lineno=580, end_col_offset=54)], lineno=580, col_offset=34, end_lineno=580, end_col_offset=54), Compare(left=Name(id='start_line', ctx=Load(), lineno=580, col_offset=59, end_lineno=580, end_col_offset=69), ops=[Gt()], comparators=[Name(id='end_line', ctx=Load(), lineno=580, col_offset=72, end_lineno=580, end_col_offset=80)], lineno=580, col_offset=59, end_lineno=580, end_col_offset=80)], lineno=580, col_offset=7, end_lineno=580, end_col_offset=80), body=[Assign(targets=[Name(id='error_msg', ctx=Store(), lineno=581, col_offset=8, end_lineno=581, end_col_offset=17)], value=Constant(value='start_line must be less than or equal to end_line', lineno=581, col_offset=20, end_lineno=581, end_col_offset=71), lineno=581, col_offset=8, end_lineno=581, end_col_offset=71), Raise(exc=Call(func=Name(id='InvalidLineRangeError', ctx=Load(), lineno=582, col_offset=14, end_lineno=582, end_col_offset=35), args=[Name(id='error_msg', ctx=Load(), lineno=583, col_offset=12, end_lineno=583, end_col_offset=21)], keywords=[keyword(arg='path', value=Name(id='path', ctx=Load(), lineno=584, col_offset=17, end_lineno=584, end_col_offset=21), lineno=584, col_offset=12, end_lineno=584, end_col_offset=21), keyword(arg='line_range', value=Tuple(elts=[Name(id='start_line', ctx=Load(), lineno=585, col_offset=24, end_lineno=585, end_col_offset=34), Name(id='end_line', ctx=Load(), lineno=585, col_offset=36, end_lineno=585, end_col_offset=44)], ctx=Load(), lineno=585, col_offset=23, end_lineno=585, end_col_offset=45), lineno=585, col_offset=12, end_lineno=585, end_col_offset=45)], lineno=582, col_offset=14, end_lineno=586, end_col_offset=9), lineno=582, col_offset=8, end_lineno=586, end_col_offset=9)], lineno=580, col_offset=4, end_lineno=586, end_col_offset=9), If(test=BoolOp(op=Or(), values=[Compare(left=Name(id='start_line', ctx=Load(), lineno=589, col_offset=7, end_lineno=589, end_col_offset=17), ops=[IsNot()], comparators=[Constant(value=None, lineno=589, col_offset=25, end_lineno=589, end_col_offset=29)], lineno=589, col_offset=7, end_lineno=589, end_col_offset=29), Compare(left=Name(id='end_line', ctx=Load(), lineno=589, col_offset=33, end_lineno=589, end_col_offset=41), ops=[IsNot()], comparators=[Constant(value=None, lineno=589, col_offset=49, end_lineno=589, end_col_offset=53)], lineno=589, col_offset=33, end_lineno=589, end_col_offset=53)], lineno=589, col_offset=7, end_lineno=589, end_col_offset=53), body=[Assign(targets=[Name(id='lines', ctx=Store(), lineno=590, col_offset=8, end_lineno=590, end_col_offset=13)], value=Call(func=Attribute(value=Name(id='content', ctx=Load(), lineno=590, col_offset=16, end_lineno=590, end_col_offset=23), attr='splitlines', ctx=Load(), lineno=590, col_offset=16, end_lineno=590, end_col_offset=34), keywords=[keyword(arg='keepends', value=Constant(value=True, lineno=590, col_offset=44, end_lineno=590, end_col_offset=48), lineno=590, col_offset=35, end_lineno=590, end_col_offset=48)], lineno=590, col_offset=16, end_lineno=590, end_col_offset=49), lineno=590, col_offset=8, end_lineno=590, end_col_offset=49), Assign(targets=[Name(id='start_idx', ctx=Store(), lineno=591, col_offset=8, end_lineno=591, end_col_offset=17)], value=IfExp(test=Compare(left=Name(id='start_line', ctx=Load(), lineno=591, col_offset=40, end_lineno=591, end_col_offset=50), ops=[IsNot()], comparators=[Constant(value=None, lineno=591, col_offset=58, end_lineno=591, end_col_offset=62)], lineno=591, col_offset=40, end_lineno=591, end_col_offset=62), body=BinOp(left=Name(id='start_line', ctx=Load(), lineno=591, col_offset=21, end_lineno=591, end_col_offset=31), op=Sub(), right=Constant(value=1, lineno=591, col_offset=34, end_lineno=591, end_col_offset=35), lineno=591, col_offset=21, end_lineno=591, end_col_offset=35), orelse=Constant(value=0, lineno=591, col_offset=68, end_lineno=591, end_col_offset=69), lineno=591, col_offset=20, end_lineno=591, end_col_offset=69), lineno=591, col_offset=8, end_lineno=591, end_col_offset=69), Assign(targets=[Name(id='end_idx', ctx=Store(), lineno=592, col_offset=8, end_lineno=592, end_col_offset=15)], value=IfExp(test=Compare(left=Name(id='end_line', ctx=Load(), lineno=592, col_offset=30, end_lineno=592, end_col_offset=38), ops=[IsNot()], comparators=[Constant(value=None, lineno=592, col_offset=46, end_lineno=592, end_col_offset=50)], lineno=592, col_offset=30, end_lineno=592, end_col_offset=50), body=Name(id='end_line', ctx=Load(), lineno=592, col_offset=18, end_lineno=592, end_col_offset=26), orelse=Call(func=Name(id='len', ctx=Load(), lineno=592, col_offset=56, end_lineno=592, end_col_offset=59), args=[Name(id='lines', ctx=Load(), lineno=592, col_offset=60, end_lineno=592, end_col_offset=65)], lineno=592, col_offset=56, end_lineno=592, end_col_offset=66), lineno=592, col_offset=18, end_lineno=592, end_col_offset=66), lineno=592, col_offset=8, end_lineno=592, end_col_offset=66), Assign(targets=[Name(id='content', ctx=Store(), lineno=593, col_offset=8, end_lineno=593, end_col_offset=15)], value=Call(func=Attribute(value=Constant(value='', lineno=593, col_offset=18, end_lineno=593, end_col_offset=20), attr='join', ctx=Load(), lineno=593, col_offset=18, end_lineno=593, end_col_offset=25), args=[Subscript(value=Name(id='lines', ctx=Load(), lineno=593, col_offset=26, end_lineno=593, end_col_offset=31), slice=Slice(lower=Name(id='start_idx', ctx=Load(), lineno=593, col_offset=32, end_lineno=593, end_col_offset=41), upper=Name(id='end_idx', ctx=Load(), lineno=593, col_offset=42, end_lineno=593, end_col_offset=49), lineno=593, col_offset=32, end_lineno=593, end_col_offset=49), ctx=Load(), lineno=593, col_offset=26, end_lineno=593, end_col_offset=50)], lineno=593, col_offset=18, end_lineno=593, end_col_offset=51), lineno=593, col_offset=8, end_lineno=593, end_col_offset=51)], lineno=589, col_offset=4, end_lineno=593, end_col_offset=51), Return(value=Dict(keys=[Constant(value='path', lineno=597, col_offset=8, end_lineno=597, end_col_offset=14), Constant(value='content', lineno=598, col_offset=8, end_lineno=598, end_col_offset=17), Constant(value='lines', lineno=599, col_offset=8, end_lineno=599, end_col_offset=15), Constant(value='size', lineno=600, col_offset=8, end_lineno=600, end_col_offset=14)], values=[Name(id='path', ctx=Load(), lineno=597, col_offset=16, end_lineno=597, end_col_offset=20), Name(id='content', ctx=Load(), lineno=598, col_offset=19, end_lineno=598, end_col_offset=26), Call(func=Name(id='len', ctx=Load(), lineno=599, col_offset=17, end_lineno=599, end_col_offset=20), args=[Call(func=Attribute(value=Name(id='content', ctx=Load(), lineno=599, col_offset=21, end_lineno=599, end_col_offset=28), attr='splitlines', ctx=Load(), lineno=599, col_offset=21, end_lineno=599, end_col_offset=39), lineno=599, col_offset=21, end_lineno=599, end_col_offset=41)], lineno=599, col_offset=17, end_lineno=599, end_col_offset=42), Call(func=Name(id='len', ctx=Load(), lineno=600, col_offset=16, end_lineno=600, end_col_offset=19), args=[Name(id='content', ctx=Load(), lineno=600, col_offset=20, end_lineno=600, end_col_offset=27)], lineno=600, col_offset=16, end_lineno=600, end_col_offset=28)], lineno=596, col_offset=11, end_lineno=601, end_col_offset=5), lineno=596, col_offset=4, end_lineno=601, end_col_offset=5)], returns=Name(id='dict', ctx=Load(), lineno=503, col_offset=5, end_lineno=503, end_col_offset=9), lineno=498, col_offset=0, end_lineno=601, end_col_offset=5), Assign(targets=[Name(id='__all__', ctx=Store(), lineno=604, col_offset=0, end_lineno=604, end_col_offset=7)], value=List(elts=[Constant(value='list_paths', lineno=604, col_offset=11, end_lineno=604, end_col_offset=23), Constant(value='open_file', lineno=604, col_offset=25, end_lineno=604, end_col_offset=36), Constant(value='set_scope', lineno=604, col_offset=38, end_lineno=604, end_col_offset=49)], ctx=Load(), lineno=604, col_offset=10, end_lineno=604, end_col_offset=50), lineno=604, col_offset=0, end_lineno=604, end_col_offset=50), FunctionDef(name='_resolve_search_root', args=arguments(args=[arg(arg='repo_root', annotation=Name(id='Path', ctx=Load(), lineno=607, col_offset=36, end_lineno=607, end_col_offset=40), lineno=607, col_offset=25, end_lineno=607, end_col_offset=40), arg(arg='requested', annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=607, col_offset=53, end_lineno=607, end_col_offset=56), op=BitOr(), right=Constant(value=None, lineno=607, col_offset=59, end_lineno=607, end_col_offset=63), lineno=607, col_offset=53, end_lineno=607, end_col_offset=63), lineno=607, col_offset=42, end_lineno=607, end_col_offset=63)]), body=[Expr(value=Constant(value='Resolve search root path, raising descriptive errors on failure.\n\n    This function calls ``resolve_within_repo`` and converts generic file\n    exceptions into domain-specific errors for consistent error handling.\n\n    Parameters\n    ----------\n    repo_root : Path\n        Repository root directory.\n    requested : str | None\n        Requested path (None = root).\n\n    Returns\n    -------\n    Path\n        Resolved search root path.\n\n    Raises\n    ------\n    PathOutsideRepositoryError\n        If the resolved path escapes the repository root (raised by\n        ``resolve_within_repo``).\n    PathNotFoundError\n        If the requested path does not exist within the repository.\n    PathNotDirectoryError\n        If the resolved path exists but is not a directory.\n    ', lineno=608, col_offset=4, end_lineno=634, end_col_offset=7), lineno=608, col_offset=4, end_lineno=634, end_col_offset=7), If(test=Compare(left=Name(id='requested', ctx=Load(), lineno=635, col_offset=7, end_lineno=635, end_col_offset=16), ops=[Is()], comparators=[Constant(value=None, lineno=635, col_offset=20, end_lineno=635, end_col_offset=24)], lineno=635, col_offset=7, end_lineno=635, end_col_offset=24), body=[Return(value=Name(id='repo_root', ctx=Load(), lineno=636, col_offset=15, end_lineno=636, end_col_offset=24), lineno=636, col_offset=8, end_lineno=636, end_col_offset=24)], lineno=635, col_offset=4, end_lineno=636, end_col_offset=24), Try(body=[Assign(targets=[Name(id='search_root', ctx=Store(), lineno=639, col_offset=8, end_lineno=639, end_col_offset=19)], value=Call(func=Name(id='resolve_within_repo', ctx=Load(), lineno=639, col_offset=22, end_lineno=639, end_col_offset=41), args=[Name(id='repo_root', ctx=Load(), lineno=639, col_offset=42, end_lineno=639, end_col_offset=51), Name(id='requested', ctx=Load(), lineno=639, col_offset=53, end_lineno=639, end_col_offset=62)], keywords=[keyword(arg='allow_nonexistent', value=Constant(value=False, lineno=639, col_offset=82, end_lineno=639, end_col_offset=87), lineno=639, col_offset=64, end_lineno=639, end_col_offset=87)], lineno=639, col_offset=22, end_lineno=639, end_col_offset=88), lineno=639, col_offset=8, end_lineno=639, end_col_offset=88)], handlers=[ExceptHandler(type=Name(id='PathOutsideRepositoryError', ctx=Load(), lineno=640, col_offset=11, end_lineno=640, end_col_offset=37), body=[Raise(lineno=642, col_offset=8, end_lineno=642, end_col_offset=13)], lineno=640, col_offset=4, end_lineno=642, end_col_offset=13), ExceptHandler(type=Name(id='FileNotFoundError', ctx=Load(), lineno=643, col_offset=11, end_lineno=643, end_col_offset=28), name='exc', body=[Assign(targets=[Name(id='error_msg', ctx=Store(), lineno=644, col_offset=8, end_lineno=644, end_col_offset=17)], value=JoinedStr(values=[Constant(value='Path not found: ', lineno=644, col_offset=22, end_lineno=644, end_col_offset=38), FormattedValue(value=Name(id='requested', ctx=Load(), lineno=644, col_offset=39, end_lineno=644, end_col_offset=48), conversion=-1, lineno=644, col_offset=38, end_lineno=644, end_col_offset=49)], lineno=644, col_offset=20, end_lineno=644, end_col_offset=50), lineno=644, col_offset=8, end_lineno=644, end_col_offset=50), Raise(exc=Call(func=Name(id='PathNotFoundError', ctx=Load(), lineno=645, col_offset=14, end_lineno=645, end_col_offset=31), args=[Name(id='error_msg', ctx=Load(), lineno=645, col_offset=32, end_lineno=645, end_col_offset=41)], keywords=[keyword(arg='path', value=Name(id='requested', ctx=Load(), lineno=645, col_offset=48, end_lineno=645, end_col_offset=57), lineno=645, col_offset=43, end_lineno=645, end_col_offset=57), keyword(arg='cause', value=Name(id='exc', ctx=Load(), lineno=645, col_offset=65, end_lineno=645, end_col_offset=68), lineno=645, col_offset=59, end_lineno=645, end_col_offset=68)], lineno=645, col_offset=14, end_lineno=645, end_col_offset=69), cause=Name(id='exc', ctx=Load(), lineno=645, col_offset=75, end_lineno=645, end_col_offset=78), lineno=645, col_offset=8, end_lineno=645, end_col_offset=78)], lineno=643, col_offset=4, end_lineno=645, end_col_offset=78)], lineno=638, col_offset=4, end_lineno=645, end_col_offset=78), If(test=UnaryOp(op=Not(), operand=Call(func=Attribute(value=Name(id='search_root', ctx=Load(), lineno=647, col_offset=11, end_lineno=647, end_col_offset=22), attr='is_dir', ctx=Load(), lineno=647, col_offset=11, end_lineno=647, end_col_offset=29), lineno=647, col_offset=11, end_lineno=647, end_col_offset=31), lineno=647, col_offset=7, end_lineno=647, end_col_offset=31), body=[Assign(targets=[Name(id='error_msg', ctx=Store(), lineno=648, col_offset=8, end_lineno=648, end_col_offset=17)], value=JoinedStr(values=[Constant(value='Path is not a directory: ', lineno=648, col_offset=22, end_lineno=648, end_col_offset=47), FormattedValue(value=Name(id='requested', ctx=Load(), lineno=648, col_offset=48, end_lineno=648, end_col_offset=57), conversion=-1, lineno=648, col_offset=47, end_lineno=648, end_col_offset=58)], lineno=648, col_offset=20, end_lineno=648, end_col_offset=59), lineno=648, col_offset=8, end_lineno=648, end_col_offset=59), Raise(exc=Call(func=Name(id='PathNotDirectoryError', ctx=Load(), lineno=649, col_offset=14, end_lineno=649, end_col_offset=35), args=[Name(id='error_msg', ctx=Load(), lineno=649, col_offset=36, end_lineno=649, end_col_offset=45)], keywords=[keyword(arg='path', value=Name(id='requested', ctx=Load(), lineno=649, col_offset=52, end_lineno=649, end_col_offset=61), lineno=649, col_offset=47, end_lineno=649, end_col_offset=61)], lineno=649, col_offset=14, end_lineno=649, end_col_offset=62), lineno=649, col_offset=8, end_lineno=649, end_col_offset=62)], lineno=647, col_offset=4, end_lineno=649, end_col_offset=62), Return(value=Name(id='search_root', ctx=Load(), lineno=651, col_offset=11, end_lineno=651, end_col_offset=22), lineno=651, col_offset=4, end_lineno=651, end_col_offset=22)], returns=Name(id='Path', ctx=Load(), lineno=607, col_offset=68, end_lineno=607, end_col_offset=72), lineno=607, col_offset=0, end_lineno=651, end_col_offset=22), FunctionDef(name='_matches_any', args=arguments(args=[arg(arg='target', annotation=Name(id='str', ctx=Load(), lineno=654, col_offset=25, end_lineno=654, end_col_offset=28), lineno=654, col_offset=17, end_lineno=654, end_col_offset=28), arg(arg='patterns', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=654, col_offset=40, end_lineno=654, end_col_offset=48), slice=Name(id='str', ctx=Load(), lineno=654, col_offset=49, end_lineno=654, end_col_offset=52), ctx=Load(), lineno=654, col_offset=40, end_lineno=654, end_col_offset=53), lineno=654, col_offset=30, end_lineno=654, end_col_offset=53)]), body=[Assign(targets=[Name(id='normalized', ctx=Store(), lineno=655, col_offset=4, end_lineno=655, end_col_offset=14)], value=Call(func=Attribute(value=Name(id='target', ctx=Load(), lineno=655, col_offset=17, end_lineno=655, end_col_offset=23), attr='replace', ctx=Load(), lineno=655, col_offset=17, end_lineno=655, end_col_offset=31), args=[Constant(value='\\', lineno=655, col_offset=32, end_lineno=655, end_col_offset=36), Constant(value='/', lineno=655, col_offset=38, end_lineno=655, end_col_offset=41)], lineno=655, col_offset=17, end_lineno=655, end_col_offset=42), lineno=655, col_offset=4, end_lineno=655, end_col_offset=42), Return(value=Call(func=Name(id='any', ctx=Load(), lineno=656, col_offset=11, end_lineno=656, end_col_offset=14), args=[GeneratorExp(elt=Call(func=Attribute(value=Name(id='fnmatch', ctx=Load(), lineno=656, col_offset=15, end_lineno=656, end_col_offset=22), attr='fnmatch', ctx=Load(), lineno=656, col_offset=15, end_lineno=656, end_col_offset=30), args=[Name(id='normalized', ctx=Load(), lineno=656, col_offset=31, end_lineno=656, end_col_offset=41), Name(id='pattern', ctx=Load(), lineno=656, col_offset=43, end_lineno=656, end_col_offset=50)], lineno=656, col_offset=15, end_lineno=656, end_col_offset=51), generators=[comprehension(target=Name(id='pattern', ctx=Store(), lineno=656, col_offset=56, end_lineno=656, end_col_offset=63), iter=Name(id='patterns', ctx=Load(), lineno=656, col_offset=67, end_lineno=656, end_col_offset=75), is_async=0)], lineno=656, col_offset=14, end_lineno=656, end_col_offset=76)], lineno=656, col_offset=11, end_lineno=656, end_col_offset=76), lineno=656, col_offset=4, end_lineno=656, end_col_offset=76)], returns=Name(id='bool', ctx=Load(), lineno=654, col_offset=58, end_lineno=654, end_col_offset=62), lineno=654, col_offset=0, end_lineno=656, end_col_offset=76), FunctionDef(name='_relative_path_str', args=arguments(args=[arg(arg='path', annotation=Name(id='Path', ctx=Load(), lineno=659, col_offset=29, end_lineno=659, end_col_offset=33), lineno=659, col_offset=23, end_lineno=659, end_col_offset=33), arg(arg='repo_root', annotation=Name(id='Path', ctx=Load(), lineno=659, col_offset=46, end_lineno=659, end_col_offset=50), lineno=659, col_offset=35, end_lineno=659, end_col_offset=50)]), body=[Try(body=[Assign(targets=[Name(id='resolved', ctx=Store(), lineno=661, col_offset=8, end_lineno=661, end_col_offset=16)], value=Call(func=Attribute(value=Name(id='path', ctx=Load(), lineno=661, col_offset=19, end_lineno=661, end_col_offset=23), attr='resolve', ctx=Load(), lineno=661, col_offset=19, end_lineno=661, end_col_offset=31), lineno=661, col_offset=19, end_lineno=661, end_col_offset=33), lineno=661, col_offset=8, end_lineno=661, end_col_offset=33)], handlers=[ExceptHandler(type=Name(id='OSError', ctx=Load(), lineno=662, col_offset=11, end_lineno=662, end_col_offset=18), body=[Return(value=Constant(value=None, lineno=663, col_offset=15, end_lineno=663, end_col_offset=19), lineno=663, col_offset=8, end_lineno=663, end_col_offset=19)], lineno=662, col_offset=4, end_lineno=663, end_col_offset=19)], lineno=660, col_offset=4, end_lineno=663, end_col_offset=19), Try(body=[Assign(targets=[Name(id='relative_path', ctx=Store(), lineno=665, col_offset=8, end_lineno=665, end_col_offset=21)], value=Call(func=Attribute(value=Name(id='resolved', ctx=Load(), lineno=665, col_offset=24, end_lineno=665, end_col_offset=32), attr='relative_to', ctx=Load(), lineno=665, col_offset=24, end_lineno=665, end_col_offset=44), args=[Name(id='repo_root', ctx=Load(), lineno=665, col_offset=45, end_lineno=665, end_col_offset=54)], lineno=665, col_offset=24, end_lineno=665, end_col_offset=55), lineno=665, col_offset=8, end_lineno=665, end_col_offset=55)], handlers=[ExceptHandler(type=Name(id='ValueError', ctx=Load(), lineno=666, col_offset=11, end_lineno=666, end_col_offset=21), body=[Return(value=Constant(value=None, lineno=667, col_offset=15, end_lineno=667, end_col_offset=19), lineno=667, col_offset=8, end_lineno=667, end_col_offset=19)], lineno=666, col_offset=4, end_lineno=667, end_col_offset=19)], lineno=664, col_offset=4, end_lineno=667, end_col_offset=19), Return(value=Call(func=Attribute(value=Name(id='relative_path', ctx=Load(), lineno=668, col_offset=11, end_lineno=668, end_col_offset=24), attr='as_posix', ctx=Load(), lineno=668, col_offset=11, end_lineno=668, end_col_offset=33), lineno=668, col_offset=11, end_lineno=668, end_col_offset=35), lineno=668, col_offset=4, end_lineno=668, end_col_offset=35)], returns=BinOp(left=Name(id='str', ctx=Load(), lineno=659, col_offset=55, end_lineno=659, end_col_offset=58), op=BitOr(), right=Constant(value=None, lineno=659, col_offset=61, end_lineno=659, end_col_offset=65), lineno=659, col_offset=55, end_lineno=659, end_col_offset=65), lineno=659, col_offset=0, end_lineno=668, end_col_offset=35), FunctionDef(name='_safe_stat', args=arguments(args=[arg(arg='path', annotation=Name(id='Path', ctx=Load(), lineno=671, col_offset=21, end_lineno=671, end_col_offset=25), lineno=671, col_offset=15, end_lineno=671, end_col_offset=25)]), body=[Try(body=[Return(value=Call(func=Attribute(value=Name(id='path', ctx=Load(), lineno=673, col_offset=15, end_lineno=673, end_col_offset=19), attr='stat', ctx=Load(), lineno=673, col_offset=15, end_lineno=673, end_col_offset=24), lineno=673, col_offset=15, end_lineno=673, end_col_offset=26), lineno=673, col_offset=8, end_lineno=673, end_col_offset=26)], handlers=[ExceptHandler(type=Name(id='OSError', ctx=Load(), lineno=674, col_offset=11, end_lineno=674, end_col_offset=18), body=[Return(value=Constant(value=None, lineno=675, col_offset=15, end_lineno=675, end_col_offset=19), lineno=675, col_offset=8, end_lineno=675, end_col_offset=19)], lineno=674, col_offset=4, end_lineno=675, end_col_offset=19)], lineno=672, col_offset=4, end_lineno=675, end_col_offset=19)], returns=BinOp(left=Attribute(value=Name(id='os', ctx=Load(), lineno=671, col_offset=30, end_lineno=671, end_col_offset=32), attr='stat_result', ctx=Load(), lineno=671, col_offset=30, end_lineno=671, end_col_offset=44), op=BitOr(), right=Constant(value=None, lineno=671, col_offset=47, end_lineno=671, end_col_offset=51), lineno=671, col_offset=30, end_lineno=671, end_col_offset=51), lineno=671, col_offset=0, end_lineno=675, end_col_offset=19), FunctionDef(name='_collect_language_extensions', args=arguments(args=[arg(arg='languages', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=678, col_offset=44, end_lineno=678, end_col_offset=52), slice=Name(id='str', ctx=Load(), lineno=678, col_offset=53, end_lineno=678, end_col_offset=56), ctx=Load(), lineno=678, col_offset=44, end_lineno=678, end_col_offset=57), lineno=678, col_offset=33, end_lineno=678, end_col_offset=57)]), body=[Expr(value=Constant(value='Return canonical file extensions for the requested languages.\n\n    Parameters\n    ----------\n    languages : Sequence[str]\n        Language codes to get extensions for (e.g., ["python", "javascript"]).\n\n    Returns\n    -------\n    set[str]\n        Set of file extensions (with leading dots) for the requested languages.\n    ', lineno=679, col_offset=4, end_lineno=690, end_col_offset=7), lineno=679, col_offset=4, end_lineno=690, end_col_offset=7), AnnAssign(target=Name(id='extensions', ctx=Store(), lineno=691, col_offset=4, end_lineno=691, end_col_offset=14), annotation=Subscript(value=Name(id='set', ctx=Load(), lineno=691, col_offset=16, end_lineno=691, end_col_offset=19), slice=Name(id='str', ctx=Load(), lineno=691, col_offset=20, end_lineno=691, end_col_offset=23), ctx=Load(), lineno=691, col_offset=16, end_lineno=691, end_col_offset=24), value=Call(func=Name(id='set', ctx=Load(), lineno=691, col_offset=27, end_lineno=691, end_col_offset=30), lineno=691, col_offset=27, end_lineno=691, end_col_offset=32), simple=1, lineno=691, col_offset=4, end_lineno=691, end_col_offset=32), For(target=Name(id='language', ctx=Store(), lineno=692, col_offset=8, end_lineno=692, end_col_offset=16), iter=Name(id='languages', ctx=Load(), lineno=692, col_offset=20, end_lineno=692, end_col_offset=29), body=[Expr(value=Call(func=Attribute(value=Name(id='extensions', ctx=Load(), lineno=693, col_offset=8, end_lineno=693, end_col_offset=18), attr='update', ctx=Load(), lineno=693, col_offset=8, end_lineno=693, end_col_offset=25), args=[GeneratorExp(elt=Call(func=Attribute(value=Name(id='ext', ctx=Load(), lineno=693, col_offset=26, end_lineno=693, end_col_offset=29), attr='lower', ctx=Load(), lineno=693, col_offset=26, end_lineno=693, end_col_offset=35), lineno=693, col_offset=26, end_lineno=693, end_col_offset=37), generators=[comprehension(target=Name(id='ext', ctx=Store(), lineno=693, col_offset=42, end_lineno=693, end_col_offset=45), iter=Call(func=Attribute(value=Name(id='LANGUAGE_EXTENSIONS', ctx=Load(), lineno=693, col_offset=49, end_lineno=693, end_col_offset=68), attr='get', ctx=Load(), lineno=693, col_offset=49, end_lineno=693, end_col_offset=72), args=[Call(func=Attribute(value=Name(id='language', ctx=Load(), lineno=693, col_offset=73, end_lineno=693, end_col_offset=81), attr='lower', ctx=Load(), lineno=693, col_offset=73, end_lineno=693, end_col_offset=87), lineno=693, col_offset=73, end_lineno=693, end_col_offset=89), List(ctx=Load(), lineno=693, col_offset=91, end_lineno=693, end_col_offset=93)], lineno=693, col_offset=49, end_lineno=693, end_col_offset=94), is_async=0)], lineno=693, col_offset=25, end_lineno=693, end_col_offset=95)], lineno=693, col_offset=8, end_lineno=693, end_col_offset=95), lineno=693, col_offset=8, end_lineno=693, end_col_offset=95)], lineno=692, col_offset=4, end_lineno=693, end_col_offset=95), Return(value=Name(id='extensions', ctx=Load(), lineno=694, col_offset=11, end_lineno=694, end_col_offset=21), lineno=694, col_offset=4, end_lineno=694, end_col_offset=21)], returns=Subscript(value=Name(id='set', ctx=Load(), lineno=678, col_offset=62, end_lineno=678, end_col_offset=65), slice=Name(id='str', ctx=Load(), lineno=678, col_offset=66, end_lineno=678, end_col_offset=69), ctx=Load(), lineno=678, col_offset=62, end_lineno=678, end_col_offset=70), lineno=678, col_offset=0, end_lineno=694, end_col_offset=21), FunctionDef(name='_matches_language', args=arguments(args=[arg(arg='path', annotation=Name(id='str', ctx=Load(), lineno=697, col_offset=28, end_lineno=697, end_col_offset=31), lineno=697, col_offset=22, end_lineno=697, end_col_offset=31), arg(arg='extensions', annotation=Subscript(value=Name(id='set', ctx=Load(), lineno=697, col_offset=45, end_lineno=697, end_col_offset=48), slice=Name(id='str', ctx=Load(), lineno=697, col_offset=49, end_lineno=697, end_col_offset=52), ctx=Load(), lineno=697, col_offset=45, end_lineno=697, end_col_offset=53), lineno=697, col_offset=33, end_lineno=697, end_col_offset=53)]), body=[Expr(value=Constant(value='Return True when the path matches one of the requested extensions.\n\n    Parameters\n    ----------\n    path : str\n        File path to check.\n    extensions : set[str]\n        Set of file extensions (with leading dots) to match against.\n\n    Returns\n    -------\n    bool\n        True if the path ends with one of the extensions (case-insensitive),\n        False otherwise.\n    ', lineno=698, col_offset=4, end_lineno=712, end_col_offset=7), lineno=698, col_offset=4, end_lineno=712, end_col_offset=7), Assign(targets=[Name(id='normalized', ctx=Store(), lineno=713, col_offset=4, end_lineno=713, end_col_offset=14)], value=Call(func=Attribute(value=Name(id='path', ctx=Load(), lineno=713, col_offset=17, end_lineno=713, end_col_offset=21), attr='lower', ctx=Load(), lineno=713, col_offset=17, end_lineno=713, end_col_offset=27), lineno=713, col_offset=17, end_lineno=713, end_col_offset=29), lineno=713, col_offset=4, end_lineno=713, end_col_offset=29), Return(value=Call(func=Name(id='any', ctx=Load(), lineno=714, col_offset=11, end_lineno=714, end_col_offset=14), args=[GeneratorExp(elt=Call(func=Attribute(value=Name(id='normalized', ctx=Load(), lineno=714, col_offset=15, end_lineno=714, end_col_offset=25), attr='endswith', ctx=Load(), lineno=714, col_offset=15, end_lineno=714, end_col_offset=34), args=[Name(id='ext', ctx=Load(), lineno=714, col_offset=35, end_lineno=714, end_col_offset=38)], lineno=714, col_offset=15, end_lineno=714, end_col_offset=39), generators=[comprehension(target=Name(id='ext', ctx=Store(), lineno=714, col_offset=44, end_lineno=714, end_col_offset=47), iter=Name(id='extensions', ctx=Load(), lineno=714, col_offset=51, end_lineno=714, end_col_offset=61), is_async=0)], lineno=714, col_offset=14, end_lineno=714, end_col_offset=62)], lineno=714, col_offset=11, end_lineno=714, end_col_offset=62), lineno=714, col_offset=4, end_lineno=714, end_col_offset=62)], returns=Name(id='bool', ctx=Load(), lineno=697, col_offset=58, end_lineno=697, end_col_offset=62), lineno=697, col_offset=0, end_lineno=714, end_col_offset=62)])