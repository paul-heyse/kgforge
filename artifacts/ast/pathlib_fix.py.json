Module(body=[Expr(value=Constant(value='Codemod to convert os.path and os.makedirs to pathlib.Path.\n\nThis script uses LibCST to transform common filesystem operations:\n- os.makedirs() → Path.mkdir(parents=True)\n- os.path.join() → Path / operator\n- open(os.path.join(...)) → Path.open()\n- os.path.exists() → Path.exists()\n- os.path.dirname() → Path.parent\n\nRequirement: R1 — Pathlib Standardization Across Workflows\nScenario: Index writer uses Path helpers\n', lineno=1, col_offset=0, end_lineno=12, end_col_offset=3), lineno=1, col_offset=0, end_lineno=12, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=14, col_offset=23, end_lineno=14, end_col_offset=34)], level=0, lineno=14, col_offset=0, end_lineno=14, end_col_offset=34), Import(names=[alias(name='argparse', lineno=16, col_offset=7, end_lineno=16, end_col_offset=15)], lineno=16, col_offset=0, end_lineno=16, end_col_offset=15), Import(names=[alias(name='logging', lineno=17, col_offset=7, end_lineno=17, end_col_offset=14)], lineno=17, col_offset=0, end_lineno=17, end_col_offset=14), Import(names=[alias(name='sys', lineno=18, col_offset=7, end_lineno=18, end_col_offset=10)], lineno=18, col_offset=0, end_lineno=18, end_col_offset=10), ImportFrom(module='dataclasses', names=[alias(name='dataclass', lineno=19, col_offset=24, end_lineno=19, end_col_offset=33)], level=0, lineno=19, col_offset=0, end_lineno=19, end_col_offset=33), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=20, col_offset=20, end_lineno=20, end_col_offset=24)], level=0, lineno=20, col_offset=0, end_lineno=20, end_col_offset=24), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=21, col_offset=19, end_lineno=21, end_col_offset=32), alias(name='cast', lineno=21, col_offset=34, end_lineno=21, end_col_offset=38)], level=0, lineno=21, col_offset=0, end_lineno=21, end_col_offset=38), Import(names=[alias(name='libcst', asname='cst', lineno=23, col_offset=7, end_lineno=23, end_col_offset=20)], lineno=23, col_offset=0, end_lineno=23, end_col_offset=20), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=25, col_offset=3, end_lineno=25, end_col_offset=16), body=[ImportFrom(module='collections.abc', names=[alias(name='Sequence', lineno=26, col_offset=32, end_lineno=26, end_col_offset=40)], level=0, lineno=26, col_offset=4, end_lineno=26, end_col_offset=40)], lineno=25, col_offset=0, end_lineno=26, end_col_offset=40), Expr(value=Call(func=Attribute(value=Name(id='logging', ctx=Load(), lineno=28, col_offset=0, end_lineno=28, end_col_offset=7), attr='basicConfig', ctx=Load(), lineno=28, col_offset=0, end_lineno=28, end_col_offset=19), keywords=[keyword(arg='level', value=Attribute(value=Name(id='logging', ctx=Load(), lineno=29, col_offset=10, end_lineno=29, end_col_offset=17), attr='INFO', ctx=Load(), lineno=29, col_offset=10, end_lineno=29, end_col_offset=22), lineno=29, col_offset=4, end_lineno=29, end_col_offset=22), keyword(arg='format', value=Constant(value='%(levelname)s: %(message)s', lineno=30, col_offset=11, end_lineno=30, end_col_offset=39), lineno=30, col_offset=4, end_lineno=30, end_col_offset=39)], lineno=28, col_offset=0, end_lineno=31, end_col_offset=1), lineno=28, col_offset=0, end_lineno=31, end_col_offset=1), AnnAssign(target=Name(id='logger', ctx=Store(), lineno=32, col_offset=0, end_lineno=32, end_col_offset=6), annotation=Attribute(value=Name(id='logging', ctx=Load(), lineno=32, col_offset=8, end_lineno=32, end_col_offset=15), attr='Logger', ctx=Load(), lineno=32, col_offset=8, end_lineno=32, end_col_offset=22), value=Call(func=Attribute(value=Name(id='logging', ctx=Load(), lineno=32, col_offset=25, end_lineno=32, end_col_offset=32), attr='getLogger', ctx=Load(), lineno=32, col_offset=25, end_lineno=32, end_col_offset=42), args=[Name(id='__name__', ctx=Load(), lineno=32, col_offset=43, end_lineno=32, end_col_offset=51)], lineno=32, col_offset=25, end_lineno=32, end_col_offset=52), simple=1, lineno=32, col_offset=0, end_lineno=32, end_col_offset=52), ClassDef(name='PathlibArgs', body=[Expr(value=Constant(value='Parsed CLI options for the pathlib codemod.', lineno=37, col_offset=4, end_lineno=37, end_col_offset=53), lineno=37, col_offset=4, end_lineno=37, end_col_offset=53), AnnAssign(target=Name(id='targets', ctx=Store(), lineno=39, col_offset=4, end_lineno=39, end_col_offset=11), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=39, col_offset=13, end_lineno=39, end_col_offset=18), slice=Tuple(elts=[Name(id='Path', ctx=Load(), lineno=39, col_offset=19, end_lineno=39, end_col_offset=23), Constant(value=Ellipsis, lineno=39, col_offset=25, end_lineno=39, end_col_offset=28)], ctx=Load(), lineno=39, col_offset=19, end_lineno=39, end_col_offset=28), ctx=Load(), lineno=39, col_offset=13, end_lineno=39, end_col_offset=29), simple=1, lineno=39, col_offset=4, end_lineno=39, end_col_offset=29), AnnAssign(target=Name(id='dry_run', ctx=Store(), lineno=40, col_offset=4, end_lineno=40, end_col_offset=11), annotation=Name(id='bool', ctx=Load(), lineno=40, col_offset=13, end_lineno=40, end_col_offset=17), simple=1, lineno=40, col_offset=4, end_lineno=40, end_col_offset=17), AnnAssign(target=Name(id='log', ctx=Store(), lineno=41, col_offset=4, end_lineno=41, end_col_offset=7), annotation=BinOp(left=Name(id='Path', ctx=Load(), lineno=41, col_offset=9, end_lineno=41, end_col_offset=13), op=BitOr(), right=Constant(value=None, lineno=41, col_offset=16, end_lineno=41, end_col_offset=20), lineno=41, col_offset=9, end_lineno=41, end_col_offset=20), simple=1, lineno=41, col_offset=4, end_lineno=41, end_col_offset=20)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=35, col_offset=1, end_lineno=35, end_col_offset=10), keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=35, col_offset=18, end_lineno=35, end_col_offset=22), lineno=35, col_offset=11, end_lineno=35, end_col_offset=22)], lineno=35, col_offset=1, end_lineno=35, end_col_offset=23)], lineno=36, col_offset=0, end_lineno=41, end_col_offset=20), FunctionDef(name='_parse_args', args=arguments(args=[arg(arg='argv', annotation=BinOp(left=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=44, col_offset=22, end_lineno=44, end_col_offset=30), slice=Name(id='str', ctx=Load(), lineno=44, col_offset=31, end_lineno=44, end_col_offset=34), ctx=Load(), lineno=44, col_offset=22, end_lineno=44, end_col_offset=35), op=BitOr(), right=Constant(value=None, lineno=44, col_offset=38, end_lineno=44, end_col_offset=42), lineno=44, col_offset=22, end_lineno=44, end_col_offset=42), lineno=44, col_offset=16, end_lineno=44, end_col_offset=42)], defaults=[Constant(value=None, lineno=44, col_offset=45, end_lineno=44, end_col_offset=49)]), body=[Assign(targets=[Name(id='parser', ctx=Store(), lineno=45, col_offset=4, end_lineno=45, end_col_offset=10)], value=Call(func=Attribute(value=Name(id='argparse', ctx=Load(), lineno=45, col_offset=13, end_lineno=45, end_col_offset=21), attr='ArgumentParser', ctx=Load(), lineno=45, col_offset=13, end_lineno=45, end_col_offset=36), keywords=[keyword(arg='description', value=Constant(value='Convert os.path operations to pathlib.Path', lineno=46, col_offset=20, end_lineno=46, end_col_offset=64), lineno=46, col_offset=8, end_lineno=46, end_col_offset=64)], lineno=45, col_offset=13, end_lineno=47, end_col_offset=5), lineno=45, col_offset=4, end_lineno=47, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='parser', ctx=Load(), lineno=48, col_offset=4, end_lineno=48, end_col_offset=10), attr='add_argument', ctx=Load(), lineno=48, col_offset=4, end_lineno=48, end_col_offset=23), args=[Constant(value='targets', lineno=49, col_offset=8, end_lineno=49, end_col_offset=17)], keywords=[keyword(arg='nargs', value=Constant(value='+', lineno=50, col_offset=14, end_lineno=50, end_col_offset=17), lineno=50, col_offset=8, end_lineno=50, end_col_offset=17), keyword(arg='type', value=Name(id='Path', ctx=Load(), lineno=51, col_offset=13, end_lineno=51, end_col_offset=17), lineno=51, col_offset=8, end_lineno=51, end_col_offset=17), keyword(arg='help', value=Constant(value='Files or directories to transform', lineno=52, col_offset=13, end_lineno=52, end_col_offset=48), lineno=52, col_offset=8, end_lineno=52, end_col_offset=48)], lineno=48, col_offset=4, end_lineno=53, end_col_offset=5), lineno=48, col_offset=4, end_lineno=53, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='parser', ctx=Load(), lineno=54, col_offset=4, end_lineno=54, end_col_offset=10), attr='add_argument', ctx=Load(), lineno=54, col_offset=4, end_lineno=54, end_col_offset=23), args=[Constant(value='--dry-run', lineno=55, col_offset=8, end_lineno=55, end_col_offset=19)], keywords=[keyword(arg='action', value=Constant(value='store_true', lineno=56, col_offset=15, end_lineno=56, end_col_offset=27), lineno=56, col_offset=8, end_lineno=56, end_col_offset=27), keyword(arg='help', value=Constant(value='Report changes without modifying files', lineno=57, col_offset=13, end_lineno=57, end_col_offset=53), lineno=57, col_offset=8, end_lineno=57, end_col_offset=53)], lineno=54, col_offset=4, end_lineno=58, end_col_offset=5), lineno=54, col_offset=4, end_lineno=58, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='parser', ctx=Load(), lineno=59, col_offset=4, end_lineno=59, end_col_offset=10), attr='add_argument', ctx=Load(), lineno=59, col_offset=4, end_lineno=59, end_col_offset=23), args=[Constant(value='--log', lineno=60, col_offset=8, end_lineno=60, end_col_offset=15)], keywords=[keyword(arg='type', value=Name(id='Path', ctx=Load(), lineno=61, col_offset=13, end_lineno=61, end_col_offset=17), lineno=61, col_offset=8, end_lineno=61, end_col_offset=17), keyword(arg='help', value=Constant(value='Write change log to file', lineno=62, col_offset=13, end_lineno=62, end_col_offset=39), lineno=62, col_offset=8, end_lineno=62, end_col_offset=39)], lineno=59, col_offset=4, end_lineno=63, end_col_offset=5), lineno=59, col_offset=4, end_lineno=63, end_col_offset=5), AnnAssign(target=Name(id='parsed', ctx=Store(), lineno=65, col_offset=4, end_lineno=65, end_col_offset=10), annotation=Attribute(value=Name(id='argparse', ctx=Load(), lineno=65, col_offset=12, end_lineno=65, end_col_offset=20), attr='Namespace', ctx=Load(), lineno=65, col_offset=12, end_lineno=65, end_col_offset=30), value=Call(func=Attribute(value=Name(id='parser', ctx=Load(), lineno=65, col_offset=33, end_lineno=65, end_col_offset=39), attr='parse_args', ctx=Load(), lineno=65, col_offset=33, end_lineno=65, end_col_offset=50), args=[Name(id='argv', ctx=Load(), lineno=65, col_offset=51, end_lineno=65, end_col_offset=55)], lineno=65, col_offset=33, end_lineno=65, end_col_offset=56), simple=1, lineno=65, col_offset=4, end_lineno=65, end_col_offset=56), Assign(targets=[Name(id='targets', ctx=Store(), lineno=66, col_offset=4, end_lineno=66, end_col_offset=11)], value=Call(func=Name(id='tuple', ctx=Load(), lineno=66, col_offset=14, end_lineno=66, end_col_offset=19), args=[Call(func=Name(id='cast', ctx=Load(), lineno=66, col_offset=20, end_lineno=66, end_col_offset=24), args=[Constant(value='list[Path]', lineno=66, col_offset=25, end_lineno=66, end_col_offset=37), Attribute(value=Name(id='parsed', ctx=Load(), lineno=66, col_offset=39, end_lineno=66, end_col_offset=45), attr='targets', ctx=Load(), lineno=66, col_offset=39, end_lineno=66, end_col_offset=53)], lineno=66, col_offset=20, end_lineno=66, end_col_offset=54)], lineno=66, col_offset=14, end_lineno=66, end_col_offset=55), lineno=66, col_offset=4, end_lineno=66, end_col_offset=55), Assign(targets=[Name(id='log_path', ctx=Store(), lineno=67, col_offset=4, end_lineno=67, end_col_offset=12)], value=Call(func=Name(id='cast', ctx=Load(), lineno=67, col_offset=15, end_lineno=67, end_col_offset=19), args=[Constant(value='Path | None', lineno=67, col_offset=20, end_lineno=67, end_col_offset=33), Attribute(value=Name(id='parsed', ctx=Load(), lineno=67, col_offset=35, end_lineno=67, end_col_offset=41), attr='log', ctx=Load(), lineno=67, col_offset=35, end_lineno=67, end_col_offset=45)], lineno=67, col_offset=15, end_lineno=67, end_col_offset=46), lineno=67, col_offset=4, end_lineno=67, end_col_offset=46), Assign(targets=[Name(id='dry_run', ctx=Store(), lineno=68, col_offset=4, end_lineno=68, end_col_offset=11)], value=Call(func=Name(id='bool', ctx=Load(), lineno=68, col_offset=14, end_lineno=68, end_col_offset=18), args=[Call(func=Name(id='cast', ctx=Load(), lineno=68, col_offset=19, end_lineno=68, end_col_offset=23), args=[Constant(value='bool', lineno=68, col_offset=24, end_lineno=68, end_col_offset=30), Attribute(value=Name(id='parsed', ctx=Load(), lineno=68, col_offset=32, end_lineno=68, end_col_offset=38), attr='dry_run', ctx=Load(), lineno=68, col_offset=32, end_lineno=68, end_col_offset=46)], lineno=68, col_offset=19, end_lineno=68, end_col_offset=47)], lineno=68, col_offset=14, end_lineno=68, end_col_offset=48), lineno=68, col_offset=4, end_lineno=68, end_col_offset=48), Return(value=Call(func=Name(id='PathlibArgs', ctx=Load(), lineno=69, col_offset=11, end_lineno=69, end_col_offset=22), keywords=[keyword(arg='targets', value=Name(id='targets', ctx=Load(), lineno=69, col_offset=31, end_lineno=69, end_col_offset=38), lineno=69, col_offset=23, end_lineno=69, end_col_offset=38), keyword(arg='dry_run', value=Name(id='dry_run', ctx=Load(), lineno=69, col_offset=48, end_lineno=69, end_col_offset=55), lineno=69, col_offset=40, end_lineno=69, end_col_offset=55), keyword(arg='log', value=Name(id='log_path', ctx=Load(), lineno=69, col_offset=61, end_lineno=69, end_col_offset=69), lineno=69, col_offset=57, end_lineno=69, end_col_offset=69)], lineno=69, col_offset=11, end_lineno=69, end_col_offset=70), lineno=69, col_offset=4, end_lineno=69, end_col_offset=70)], returns=Name(id='PathlibArgs', ctx=Load(), lineno=44, col_offset=54, end_lineno=44, end_col_offset=65), lineno=44, col_offset=0, end_lineno=69, end_col_offset=70), FunctionDef(name='_is_os_call', args=arguments(args=[arg(arg='expression', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=72, col_offset=28, end_lineno=72, end_col_offset=31), attr='BaseExpression', ctx=Load(), lineno=72, col_offset=28, end_lineno=72, end_col_offset=46), lineno=72, col_offset=16, end_lineno=72, end_col_offset=46)], kwonlyargs=[arg(arg='name', annotation=Name(id='str', ctx=Load(), lineno=72, col_offset=57, end_lineno=72, end_col_offset=60), lineno=72, col_offset=51, end_lineno=72, end_col_offset=60)], kw_defaults=[None]), body=[Return(value=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=74, col_offset=8, end_lineno=74, end_col_offset=18), args=[Name(id='expression', ctx=Load(), lineno=74, col_offset=19, end_lineno=74, end_col_offset=29), Attribute(value=Name(id='cst', ctx=Load(), lineno=74, col_offset=31, end_lineno=74, end_col_offset=34), attr='Attribute', ctx=Load(), lineno=74, col_offset=31, end_lineno=74, end_col_offset=44)], lineno=74, col_offset=8, end_lineno=74, end_col_offset=45), Call(func=Name(id='isinstance', ctx=Load(), lineno=75, col_offset=12, end_lineno=75, end_col_offset=22), args=[Attribute(value=Name(id='expression', ctx=Load(), lineno=75, col_offset=23, end_lineno=75, end_col_offset=33), attr='value', ctx=Load(), lineno=75, col_offset=23, end_lineno=75, end_col_offset=39), Attribute(value=Name(id='cst', ctx=Load(), lineno=75, col_offset=41, end_lineno=75, end_col_offset=44), attr='Name', ctx=Load(), lineno=75, col_offset=41, end_lineno=75, end_col_offset=49)], lineno=75, col_offset=12, end_lineno=75, end_col_offset=50), Compare(left=Attribute(value=Attribute(value=Name(id='expression', ctx=Load(), lineno=76, col_offset=12, end_lineno=76, end_col_offset=22), attr='value', ctx=Load(), lineno=76, col_offset=12, end_lineno=76, end_col_offset=28), attr='value', ctx=Load(), lineno=76, col_offset=12, end_lineno=76, end_col_offset=34), ops=[Eq()], comparators=[Constant(value='os', lineno=76, col_offset=38, end_lineno=76, end_col_offset=42)], lineno=76, col_offset=12, end_lineno=76, end_col_offset=42), Compare(left=Attribute(value=Attribute(value=Name(id='expression', ctx=Load(), lineno=77, col_offset=12, end_lineno=77, end_col_offset=22), attr='attr', ctx=Load(), lineno=77, col_offset=12, end_lineno=77, end_col_offset=27), attr='value', ctx=Load(), lineno=77, col_offset=12, end_lineno=77, end_col_offset=33), ops=[Eq()], comparators=[Name(id='name', ctx=Load(), lineno=77, col_offset=37, end_lineno=77, end_col_offset=41)], lineno=77, col_offset=12, end_lineno=77, end_col_offset=41)], lineno=74, col_offset=8, end_lineno=77, end_col_offset=41), lineno=73, col_offset=4, end_lineno=78, end_col_offset=5)], returns=Name(id='bool', ctx=Load(), lineno=72, col_offset=65, end_lineno=72, end_col_offset=69), lineno=72, col_offset=0, end_lineno=78, end_col_offset=5), FunctionDef(name='_is_os_path_call', args=arguments(args=[arg(arg='expression', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=81, col_offset=33, end_lineno=81, end_col_offset=36), attr='BaseExpression', ctx=Load(), lineno=81, col_offset=33, end_lineno=81, end_col_offset=51), lineno=81, col_offset=21, end_lineno=81, end_col_offset=51)], kwonlyargs=[arg(arg='name', annotation=Name(id='str', ctx=Load(), lineno=81, col_offset=62, end_lineno=81, end_col_offset=65), lineno=81, col_offset=56, end_lineno=81, end_col_offset=65)], kw_defaults=[None]), body=[Return(value=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=83, col_offset=8, end_lineno=83, end_col_offset=18), args=[Name(id='expression', ctx=Load(), lineno=83, col_offset=19, end_lineno=83, end_col_offset=29), Attribute(value=Name(id='cst', ctx=Load(), lineno=83, col_offset=31, end_lineno=83, end_col_offset=34), attr='Attribute', ctx=Load(), lineno=83, col_offset=31, end_lineno=83, end_col_offset=44)], lineno=83, col_offset=8, end_lineno=83, end_col_offset=45), Call(func=Name(id='isinstance', ctx=Load(), lineno=84, col_offset=12, end_lineno=84, end_col_offset=22), args=[Attribute(value=Name(id='expression', ctx=Load(), lineno=84, col_offset=23, end_lineno=84, end_col_offset=33), attr='value', ctx=Load(), lineno=84, col_offset=23, end_lineno=84, end_col_offset=39), Attribute(value=Name(id='cst', ctx=Load(), lineno=84, col_offset=41, end_lineno=84, end_col_offset=44), attr='Attribute', ctx=Load(), lineno=84, col_offset=41, end_lineno=84, end_col_offset=54)], lineno=84, col_offset=12, end_lineno=84, end_col_offset=55), Call(func=Name(id='isinstance', ctx=Load(), lineno=85, col_offset=12, end_lineno=85, end_col_offset=22), args=[Attribute(value=Attribute(value=Name(id='expression', ctx=Load(), lineno=85, col_offset=23, end_lineno=85, end_col_offset=33), attr='value', ctx=Load(), lineno=85, col_offset=23, end_lineno=85, end_col_offset=39), attr='value', ctx=Load(), lineno=85, col_offset=23, end_lineno=85, end_col_offset=45), Attribute(value=Name(id='cst', ctx=Load(), lineno=85, col_offset=47, end_lineno=85, end_col_offset=50), attr='Name', ctx=Load(), lineno=85, col_offset=47, end_lineno=85, end_col_offset=55)], lineno=85, col_offset=12, end_lineno=85, end_col_offset=56), Compare(left=Attribute(value=Attribute(value=Attribute(value=Name(id='expression', ctx=Load(), lineno=86, col_offset=12, end_lineno=86, end_col_offset=22), attr='value', ctx=Load(), lineno=86, col_offset=12, end_lineno=86, end_col_offset=28), attr='value', ctx=Load(), lineno=86, col_offset=12, end_lineno=86, end_col_offset=34), attr='value', ctx=Load(), lineno=86, col_offset=12, end_lineno=86, end_col_offset=40), ops=[Eq()], comparators=[Constant(value='os', lineno=86, col_offset=44, end_lineno=86, end_col_offset=48)], lineno=86, col_offset=12, end_lineno=86, end_col_offset=48), Compare(left=Attribute(value=Attribute(value=Attribute(value=Name(id='expression', ctx=Load(), lineno=87, col_offset=12, end_lineno=87, end_col_offset=22), attr='value', ctx=Load(), lineno=87, col_offset=12, end_lineno=87, end_col_offset=28), attr='attr', ctx=Load(), lineno=87, col_offset=12, end_lineno=87, end_col_offset=33), attr='value', ctx=Load(), lineno=87, col_offset=12, end_lineno=87, end_col_offset=39), ops=[Eq()], comparators=[Constant(value='path', lineno=87, col_offset=43, end_lineno=87, end_col_offset=49)], lineno=87, col_offset=12, end_lineno=87, end_col_offset=49), Compare(left=Attribute(value=Attribute(value=Name(id='expression', ctx=Load(), lineno=88, col_offset=12, end_lineno=88, end_col_offset=22), attr='attr', ctx=Load(), lineno=88, col_offset=12, end_lineno=88, end_col_offset=27), attr='value', ctx=Load(), lineno=88, col_offset=12, end_lineno=88, end_col_offset=33), ops=[Eq()], comparators=[Name(id='name', ctx=Load(), lineno=88, col_offset=37, end_lineno=88, end_col_offset=41)], lineno=88, col_offset=12, end_lineno=88, end_col_offset=41)], lineno=83, col_offset=8, end_lineno=88, end_col_offset=41), lineno=82, col_offset=4, end_lineno=89, end_col_offset=5)], returns=Name(id='bool', ctx=Load(), lineno=81, col_offset=70, end_lineno=81, end_col_offset=74), lineno=81, col_offset=0, end_lineno=89, end_col_offset=5), FunctionDef(name='_is_name', args=arguments(args=[arg(arg='node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=92, col_offset=19, end_lineno=92, end_col_offset=22), attr='BaseExpression', ctx=Load(), lineno=92, col_offset=19, end_lineno=92, end_col_offset=37), lineno=92, col_offset=13, end_lineno=92, end_col_offset=37), arg(arg='value', annotation=Name(id='str', ctx=Load(), lineno=92, col_offset=46, end_lineno=92, end_col_offset=49), lineno=92, col_offset=39, end_lineno=92, end_col_offset=49)]), body=[Return(value=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=93, col_offset=11, end_lineno=93, end_col_offset=21), args=[Name(id='node', ctx=Load(), lineno=93, col_offset=22, end_lineno=93, end_col_offset=26), Attribute(value=Name(id='cst', ctx=Load(), lineno=93, col_offset=28, end_lineno=93, end_col_offset=31), attr='Name', ctx=Load(), lineno=93, col_offset=28, end_lineno=93, end_col_offset=36)], lineno=93, col_offset=11, end_lineno=93, end_col_offset=37), Compare(left=Attribute(value=Name(id='node', ctx=Load(), lineno=93, col_offset=42, end_lineno=93, end_col_offset=46), attr='value', ctx=Load(), lineno=93, col_offset=42, end_lineno=93, end_col_offset=52), ops=[Eq()], comparators=[Name(id='value', ctx=Load(), lineno=93, col_offset=56, end_lineno=93, end_col_offset=61)], lineno=93, col_offset=42, end_lineno=93, end_col_offset=61)], lineno=93, col_offset=11, end_lineno=93, end_col_offset=61), lineno=93, col_offset=4, end_lineno=93, end_col_offset=61)], returns=Name(id='bool', ctx=Load(), lineno=92, col_offset=54, end_lineno=92, end_col_offset=58), lineno=92, col_offset=0, end_lineno=93, end_col_offset=61), Assign(targets=[Name(id='MIN_PATH_PARTS', ctx=Store(), lineno=96, col_offset=0, end_lineno=96, end_col_offset=14)], value=Constant(value=2, lineno=96, col_offset=17, end_lineno=96, end_col_offset=18), lineno=96, col_offset=0, end_lineno=96, end_col_offset=18), FunctionDef(name='_path_join_expression', args=arguments(args=[arg(arg='arguments', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=99, col_offset=37, end_lineno=99, end_col_offset=45), slice=Attribute(value=Name(id='cst', ctx=Load(), lineno=99, col_offset=46, end_lineno=99, end_col_offset=49), attr='Arg', ctx=Load(), lineno=99, col_offset=46, end_lineno=99, end_col_offset=53), ctx=Load(), lineno=99, col_offset=37, end_lineno=99, end_col_offset=54), lineno=99, col_offset=26, end_lineno=99, end_col_offset=54)]), body=[Assign(targets=[Name(id='pos_args', ctx=Store(), lineno=100, col_offset=4, end_lineno=100, end_col_offset=12)], value=ListComp(elt=Name(id='arg', ctx=Load(), lineno=100, col_offset=16, end_lineno=100, end_col_offset=19), generators=[comprehension(target=Name(id='arg', ctx=Store(), lineno=100, col_offset=24, end_lineno=100, end_col_offset=27), iter=Name(id='arguments', ctx=Load(), lineno=100, col_offset=31, end_lineno=100, end_col_offset=40), ifs=[Compare(left=Attribute(value=Name(id='arg', ctx=Load(), lineno=100, col_offset=44, end_lineno=100, end_col_offset=47), attr='keyword', ctx=Load(), lineno=100, col_offset=44, end_lineno=100, end_col_offset=55), ops=[Is()], comparators=[Constant(value=None, lineno=100, col_offset=59, end_lineno=100, end_col_offset=63)], lineno=100, col_offset=44, end_lineno=100, end_col_offset=63)], is_async=0)], lineno=100, col_offset=15, end_lineno=100, end_col_offset=64), lineno=100, col_offset=4, end_lineno=100, end_col_offset=64), If(test=Compare(left=Call(func=Name(id='len', ctx=Load(), lineno=101, col_offset=7, end_lineno=101, end_col_offset=10), args=[Name(id='pos_args', ctx=Load(), lineno=101, col_offset=11, end_lineno=101, end_col_offset=19)], lineno=101, col_offset=7, end_lineno=101, end_col_offset=20), ops=[Lt()], comparators=[Name(id='MIN_PATH_PARTS', ctx=Load(), lineno=101, col_offset=23, end_lineno=101, end_col_offset=37)], lineno=101, col_offset=7, end_lineno=101, end_col_offset=37), body=[Return(value=Constant(value=None, lineno=102, col_offset=15, end_lineno=102, end_col_offset=19), lineno=102, col_offset=8, end_lineno=102, end_col_offset=19)], lineno=101, col_offset=4, end_lineno=102, end_col_offset=19), Assign(targets=[Name(id='base', ctx=Store(), lineno=103, col_offset=4, end_lineno=103, end_col_offset=8)], value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=103, col_offset=11, end_lineno=103, end_col_offset=14), attr='Call', ctx=Load(), lineno=103, col_offset=11, end_lineno=103, end_col_offset=19), keywords=[keyword(arg='func', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=104, col_offset=13, end_lineno=104, end_col_offset=16), attr='Name', ctx=Load(), lineno=104, col_offset=13, end_lineno=104, end_col_offset=21), args=[Constant(value='Path', lineno=104, col_offset=22, end_lineno=104, end_col_offset=28)], lineno=104, col_offset=13, end_lineno=104, end_col_offset=29), lineno=104, col_offset=8, end_lineno=104, end_col_offset=29), keyword(arg='args', value=Tuple(elts=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=105, col_offset=14, end_lineno=105, end_col_offset=17), attr='Arg', ctx=Load(), lineno=105, col_offset=14, end_lineno=105, end_col_offset=21), args=[Attribute(value=Subscript(value=Name(id='pos_args', ctx=Load(), lineno=105, col_offset=22, end_lineno=105, end_col_offset=30), slice=Constant(value=0, lineno=105, col_offset=31, end_lineno=105, end_col_offset=32), ctx=Load(), lineno=105, col_offset=22, end_lineno=105, end_col_offset=33), attr='value', ctx=Load(), lineno=105, col_offset=22, end_lineno=105, end_col_offset=39)], lineno=105, col_offset=14, end_lineno=105, end_col_offset=40)], ctx=Load(), lineno=105, col_offset=13, end_lineno=105, end_col_offset=42), lineno=105, col_offset=8, end_lineno=105, end_col_offset=42)], lineno=103, col_offset=11, end_lineno=106, end_col_offset=5), lineno=103, col_offset=4, end_lineno=106, end_col_offset=5), AnnAssign(target=Name(id='result', ctx=Store(), lineno=107, col_offset=4, end_lineno=107, end_col_offset=10), annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=107, col_offset=12, end_lineno=107, end_col_offset=15), attr='BaseExpression', ctx=Load(), lineno=107, col_offset=12, end_lineno=107, end_col_offset=30), value=Name(id='base', ctx=Load(), lineno=107, col_offset=33, end_lineno=107, end_col_offset=37), simple=1, lineno=107, col_offset=4, end_lineno=107, end_col_offset=37), For(target=Name(id='arg', ctx=Store(), lineno=108, col_offset=8, end_lineno=108, end_col_offset=11), iter=Subscript(value=Name(id='pos_args', ctx=Load(), lineno=108, col_offset=15, end_lineno=108, end_col_offset=23), slice=Slice(lower=Constant(value=1, lineno=108, col_offset=24, end_lineno=108, end_col_offset=25), lineno=108, col_offset=24, end_lineno=108, end_col_offset=26), ctx=Load(), lineno=108, col_offset=15, end_lineno=108, end_col_offset=27), body=[Assign(targets=[Name(id='result', ctx=Store(), lineno=109, col_offset=8, end_lineno=109, end_col_offset=14)], value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=109, col_offset=17, end_lineno=109, end_col_offset=20), attr='BinaryOperation', ctx=Load(), lineno=109, col_offset=17, end_lineno=109, end_col_offset=36), keywords=[keyword(arg='left', value=Name(id='result', ctx=Load(), lineno=110, col_offset=17, end_lineno=110, end_col_offset=23), lineno=110, col_offset=12, end_lineno=110, end_col_offset=23), keyword(arg='operator', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=111, col_offset=21, end_lineno=111, end_col_offset=24), attr='Divide', ctx=Load(), lineno=111, col_offset=21, end_lineno=111, end_col_offset=31), lineno=111, col_offset=21, end_lineno=111, end_col_offset=33), lineno=111, col_offset=12, end_lineno=111, end_col_offset=33), keyword(arg='right', value=Attribute(value=Name(id='arg', ctx=Load(), lineno=112, col_offset=18, end_lineno=112, end_col_offset=21), attr='value', ctx=Load(), lineno=112, col_offset=18, end_lineno=112, end_col_offset=27), lineno=112, col_offset=12, end_lineno=112, end_col_offset=27)], lineno=109, col_offset=17, end_lineno=113, end_col_offset=9), lineno=109, col_offset=8, end_lineno=113, end_col_offset=9)], lineno=108, col_offset=4, end_lineno=113, end_col_offset=9), Return(value=Name(id='result', ctx=Load(), lineno=114, col_offset=11, end_lineno=114, end_col_offset=17), lineno=114, col_offset=4, end_lineno=114, end_col_offset=17)], returns=BinOp(left=Attribute(value=Name(id='cst', ctx=Load(), lineno=99, col_offset=59, end_lineno=99, end_col_offset=62), attr='BaseExpression', ctx=Load(), lineno=99, col_offset=59, end_lineno=99, end_col_offset=77), op=BitOr(), right=Constant(value=None, lineno=99, col_offset=80, end_lineno=99, end_col_offset=84), lineno=99, col_offset=59, end_lineno=99, end_col_offset=84), lineno=99, col_offset=0, end_lineno=114, end_col_offset=17), ClassDef(name='PathlibTransformer', bases=[Attribute(value=Name(id='cst', ctx=Load(), lineno=117, col_offset=25, end_lineno=117, end_col_offset=28), attr='CSTTransformer', ctx=Load(), lineno=117, col_offset=25, end_lineno=117, end_col_offset=43)], body=[Expr(value=Constant(value='Apply pathlib conversions to common ``os.path`` call sites.\n\n    Initializes transformer with change tracking.\n    ', lineno=118, col_offset=4, end_lineno=121, end_col_offset=7), lineno=118, col_offset=4, end_lineno=121, end_col_offset=7), FunctionDef(name='__init__', args=arguments(args=[arg(arg='self', lineno=123, col_offset=17, end_lineno=123, end_col_offset=21)]), body=[Expr(value=Call(func=Attribute(value=Call(func=Name(id='super', ctx=Load(), lineno=124, col_offset=8, end_lineno=124, end_col_offset=13), lineno=124, col_offset=8, end_lineno=124, end_col_offset=15), attr='__init__', ctx=Load(), lineno=124, col_offset=8, end_lineno=124, end_col_offset=24), lineno=124, col_offset=8, end_lineno=124, end_col_offset=26), lineno=124, col_offset=8, end_lineno=124, end_col_offset=26), AnnAssign(target=Attribute(value=Name(id='self', ctx=Load(), lineno=125, col_offset=8, end_lineno=125, end_col_offset=12), attr='changes', ctx=Store(), lineno=125, col_offset=8, end_lineno=125, end_col_offset=20), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=125, col_offset=22, end_lineno=125, end_col_offset=26), slice=Name(id='str', ctx=Load(), lineno=125, col_offset=27, end_lineno=125, end_col_offset=30), ctx=Load(), lineno=125, col_offset=22, end_lineno=125, end_col_offset=31), value=List(ctx=Load(), lineno=125, col_offset=34, end_lineno=125, end_col_offset=36), simple=0, lineno=125, col_offset=8, end_lineno=125, end_col_offset=36), AnnAssign(target=Attribute(value=Name(id='self', ctx=Load(), lineno=126, col_offset=8, end_lineno=126, end_col_offset=12), attr='needs_pathlib_import', ctx=Store(), lineno=126, col_offset=8, end_lineno=126, end_col_offset=33), annotation=Name(id='bool', ctx=Load(), lineno=126, col_offset=35, end_lineno=126, end_col_offset=39), value=Constant(value=False, lineno=126, col_offset=42, end_lineno=126, end_col_offset=47), simple=0, lineno=126, col_offset=8, end_lineno=126, end_col_offset=47)], returns=Constant(value=None, lineno=123, col_offset=26, end_lineno=123, end_col_offset=30), lineno=123, col_offset=4, end_lineno=126, end_col_offset=47), FunctionDef(name='on_visit', args=arguments(args=[arg(arg='self', lineno=128, col_offset=17, end_lineno=128, end_col_offset=21), arg(arg='node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=128, col_offset=29, end_lineno=128, end_col_offset=32), attr='CSTNode', ctx=Load(), lineno=128, col_offset=29, end_lineno=128, end_col_offset=40), lineno=128, col_offset=23, end_lineno=128, end_col_offset=40)]), body=[Expr(value=Constant(value='Track if pathlib import already exists.\n\n        Parameters\n        ----------\n        node : cst.CSTNode\n            Node being visited.\n\n        Returns\n        -------\n        bool\n            True to continue traversal.\n        ', lineno=129, col_offset=8, end_lineno=140, end_col_offset=11), lineno=129, col_offset=8, end_lineno=140, end_col_offset=11), If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=141, col_offset=11, end_lineno=141, end_col_offset=21), args=[Name(id='node', ctx=Load(), lineno=141, col_offset=22, end_lineno=141, end_col_offset=26), Attribute(value=Name(id='cst', ctx=Load(), lineno=141, col_offset=28, end_lineno=141, end_col_offset=31), attr='Import', ctx=Load(), lineno=141, col_offset=28, end_lineno=141, end_col_offset=38)], lineno=141, col_offset=11, end_lineno=141, end_col_offset=39), body=[For(target=Name(id='alias', ctx=Store(), lineno=142, col_offset=16, end_lineno=142, end_col_offset=21), iter=Attribute(value=Name(id='node', ctx=Load(), lineno=142, col_offset=25, end_lineno=142, end_col_offset=29), attr='names', ctx=Load(), lineno=142, col_offset=25, end_lineno=142, end_col_offset=35), body=[If(test=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=143, col_offset=19, end_lineno=143, end_col_offset=29), args=[Attribute(value=Name(id='alias', ctx=Load(), lineno=143, col_offset=30, end_lineno=143, end_col_offset=35), attr='name', ctx=Load(), lineno=143, col_offset=30, end_lineno=143, end_col_offset=40), Attribute(value=Name(id='cst', ctx=Load(), lineno=143, col_offset=42, end_lineno=143, end_col_offset=45), attr='Name', ctx=Load(), lineno=143, col_offset=42, end_lineno=143, end_col_offset=50)], lineno=143, col_offset=19, end_lineno=143, end_col_offset=51), Compare(left=Attribute(value=Attribute(value=Name(id='alias', ctx=Load(), lineno=143, col_offset=56, end_lineno=143, end_col_offset=61), attr='name', ctx=Load(), lineno=143, col_offset=56, end_lineno=143, end_col_offset=66), attr='value', ctx=Load(), lineno=143, col_offset=56, end_lineno=143, end_col_offset=72), ops=[Eq()], comparators=[Constant(value='pathlib', lineno=143, col_offset=76, end_lineno=143, end_col_offset=85)], lineno=143, col_offset=56, end_lineno=143, end_col_offset=85)], lineno=143, col_offset=19, end_lineno=143, end_col_offset=85), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=144, col_offset=20, end_lineno=144, end_col_offset=24), attr='needs_pathlib_import', ctx=Store(), lineno=144, col_offset=20, end_lineno=144, end_col_offset=45)], value=Constant(value=True, lineno=144, col_offset=48, end_lineno=144, end_col_offset=52), lineno=144, col_offset=20, end_lineno=144, end_col_offset=52)], lineno=143, col_offset=16, end_lineno=144, end_col_offset=52)], lineno=142, col_offset=12, end_lineno=144, end_col_offset=52)], lineno=141, col_offset=8, end_lineno=144, end_col_offset=52), Return(value=Constant(value=True, lineno=145, col_offset=15, end_lineno=145, end_col_offset=19), lineno=145, col_offset=8, end_lineno=145, end_col_offset=19)], returns=Name(id='bool', ctx=Load(), lineno=128, col_offset=45, end_lineno=128, end_col_offset=49), lineno=128, col_offset=4, end_lineno=145, end_col_offset=19), FunctionDef(name='leave_call', args=arguments(args=[arg(arg='self', lineno=147, col_offset=19, end_lineno=147, end_col_offset=23), arg(arg='original_node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=147, col_offset=40, end_lineno=147, end_col_offset=43), attr='Call', ctx=Load(), lineno=147, col_offset=40, end_lineno=147, end_col_offset=48), lineno=147, col_offset=25, end_lineno=147, end_col_offset=48), arg(arg='updated_node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=147, col_offset=64, end_lineno=147, end_col_offset=67), attr='Call', ctx=Load(), lineno=147, col_offset=64, end_lineno=147, end_col_offset=72), lineno=147, col_offset=50, end_lineno=147, end_col_offset=72)]), body=[Expr(value=Constant(value='Apply call rewrites when exiting a Call node.\n\n        Parameters\n        ----------\n        original_node : cst.Call\n            Original call node.\n        updated_node : cst.Call\n            Updated call node.\n\n        Returns\n        -------\n        cst.BaseExpression\n            Transformed call expression.\n        ', lineno=148, col_offset=8, end_lineno=161, end_col_offset=11), lineno=148, col_offset=8, end_lineno=161, end_col_offset=11), Assign(targets=[Name(id='replacement', ctx=Store(), lineno=162, col_offset=8, end_lineno=162, end_col_offset=19)], value=Call(func=Attribute(value=Name(id='self', ctx=Load(), lineno=162, col_offset=22, end_lineno=162, end_col_offset=26), attr='_transform_call', ctx=Load(), lineno=162, col_offset=22, end_lineno=162, end_col_offset=42), args=[Name(id='original_node', ctx=Load(), lineno=162, col_offset=43, end_lineno=162, end_col_offset=56)], lineno=162, col_offset=22, end_lineno=162, end_col_offset=57), lineno=162, col_offset=8, end_lineno=162, end_col_offset=57), Return(value=IfExp(test=Compare(left=Name(id='replacement', ctx=Load(), lineno=163, col_offset=30, end_lineno=163, end_col_offset=41), ops=[IsNot()], comparators=[Constant(value=None, lineno=163, col_offset=49, end_lineno=163, end_col_offset=53)], lineno=163, col_offset=30, end_lineno=163, end_col_offset=53), body=Name(id='replacement', ctx=Load(), lineno=163, col_offset=15, end_lineno=163, end_col_offset=26), orelse=Name(id='updated_node', ctx=Load(), lineno=163, col_offset=59, end_lineno=163, end_col_offset=71), lineno=163, col_offset=15, end_lineno=163, end_col_offset=71), lineno=163, col_offset=8, end_lineno=163, end_col_offset=71)], returns=Attribute(value=Name(id='cst', ctx=Load(), lineno=147, col_offset=77, end_lineno=147, end_col_offset=80), attr='BaseExpression', ctx=Load(), lineno=147, col_offset=77, end_lineno=147, end_col_offset=95), lineno=147, col_offset=4, end_lineno=163, end_col_offset=71), FunctionDef(name='leave_with', args=arguments(args=[arg(arg='self', lineno=165, col_offset=19, end_lineno=165, end_col_offset=23), arg(arg='original_node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=165, col_offset=40, end_lineno=165, end_col_offset=43), attr='With', ctx=Load(), lineno=165, col_offset=40, end_lineno=165, end_col_offset=48), lineno=165, col_offset=25, end_lineno=165, end_col_offset=48), arg(arg='updated_node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=165, col_offset=64, end_lineno=165, end_col_offset=67), attr='With', ctx=Load(), lineno=165, col_offset=64, end_lineno=165, end_col_offset=72), lineno=165, col_offset=50, end_lineno=165, end_col_offset=72)]), body=[Expr(value=Constant(value='Apply with-statement rewrites when exiting a ``with`` block.\n\n        Parameters\n        ----------\n        original_node : cst.With\n            Original with statement node before transformation.\n        updated_node : cst.With\n            Updated with statement node after child transformations.\n\n        Returns\n        -------\n        cst.With\n            Potentially transformed with statement node.\n        ', lineno=166, col_offset=8, end_lineno=179, end_col_offset=11), lineno=166, col_offset=8, end_lineno=179, end_col_offset=11), Return(value=Call(func=Attribute(value=Name(id='self', ctx=Load(), lineno=180, col_offset=15, end_lineno=180, end_col_offset=19), attr='_transform_with', ctx=Load(), lineno=180, col_offset=15, end_lineno=180, end_col_offset=35), args=[Name(id='original_node', ctx=Load(), lineno=180, col_offset=36, end_lineno=180, end_col_offset=49), Name(id='updated_node', ctx=Load(), lineno=180, col_offset=51, end_lineno=180, end_col_offset=63)], lineno=180, col_offset=15, end_lineno=180, end_col_offset=64), lineno=180, col_offset=8, end_lineno=180, end_col_offset=64)], returns=Attribute(value=Name(id='cst', ctx=Load(), lineno=165, col_offset=77, end_lineno=165, end_col_offset=80), attr='With', ctx=Load(), lineno=165, col_offset=77, end_lineno=165, end_col_offset=85), lineno=165, col_offset=4, end_lineno=180, end_col_offset=64), Assign(targets=[Name(id='leave_Call', ctx=Store(), lineno=184, col_offset=4, end_lineno=184, end_col_offset=14)], value=Name(id='leave_call', ctx=Load(), lineno=184, col_offset=17, end_lineno=184, end_col_offset=27), lineno=184, col_offset=4, end_lineno=184, end_col_offset=27), Assign(targets=[Name(id='leave_With', ctx=Store(), lineno=185, col_offset=4, end_lineno=185, end_col_offset=14)], value=Name(id='leave_with', ctx=Load(), lineno=185, col_offset=17, end_lineno=185, end_col_offset=27), lineno=185, col_offset=4, end_lineno=185, end_col_offset=27), FunctionDef(name='_transform_makedirs', args=arguments(args=[arg(arg='self', lineno=187, col_offset=28, end_lineno=187, end_col_offset=32), arg(arg='node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=187, col_offset=40, end_lineno=187, end_col_offset=43), attr='Call', ctx=Load(), lineno=187, col_offset=40, end_lineno=187, end_col_offset=48), lineno=187, col_offset=34, end_lineno=187, end_col_offset=48)]), body=[If(test=UnaryOp(op=Not(), operand=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=189, col_offset=12, end_lineno=189, end_col_offset=22), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=189, col_offset=23, end_lineno=189, end_col_offset=27), attr='func', ctx=Load(), lineno=189, col_offset=23, end_lineno=189, end_col_offset=32), Attribute(value=Name(id='cst', ctx=Load(), lineno=189, col_offset=34, end_lineno=189, end_col_offset=37), attr='Attribute', ctx=Load(), lineno=189, col_offset=34, end_lineno=189, end_col_offset=47)], lineno=189, col_offset=12, end_lineno=189, end_col_offset=48), Call(func=Name(id='_is_os_call', ctx=Load(), lineno=190, col_offset=16, end_lineno=190, end_col_offset=27), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=190, col_offset=28, end_lineno=190, end_col_offset=32), attr='func', ctx=Load(), lineno=190, col_offset=28, end_lineno=190, end_col_offset=37)], keywords=[keyword(arg='name', value=Constant(value='makedirs', lineno=190, col_offset=44, end_lineno=190, end_col_offset=54), lineno=190, col_offset=39, end_lineno=190, end_col_offset=54)], lineno=190, col_offset=16, end_lineno=190, end_col_offset=55), Attribute(value=Name(id='node', ctx=Load(), lineno=191, col_offset=16, end_lineno=191, end_col_offset=20), attr='args', ctx=Load(), lineno=191, col_offset=16, end_lineno=191, end_col_offset=25)], lineno=189, col_offset=12, end_lineno=191, end_col_offset=25), lineno=188, col_offset=11, end_lineno=192, end_col_offset=9), body=[Return(value=Constant(value=None, lineno=193, col_offset=19, end_lineno=193, end_col_offset=23), lineno=193, col_offset=12, end_lineno=193, end_col_offset=23)], lineno=188, col_offset=8, end_lineno=193, end_col_offset=23), Assign(targets=[Name(id='path_arg', ctx=Store(), lineno=195, col_offset=8, end_lineno=195, end_col_offset=16)], value=Attribute(value=Subscript(value=Attribute(value=Name(id='node', ctx=Load(), lineno=195, col_offset=19, end_lineno=195, end_col_offset=23), attr='args', ctx=Load(), lineno=195, col_offset=19, end_lineno=195, end_col_offset=28), slice=Constant(value=0, lineno=195, col_offset=29, end_lineno=195, end_col_offset=30), ctx=Load(), lineno=195, col_offset=19, end_lineno=195, end_col_offset=31), attr='value', ctx=Load(), lineno=195, col_offset=19, end_lineno=195, end_col_offset=37), lineno=195, col_offset=8, end_lineno=195, end_col_offset=37), Assign(targets=[Name(id='exist_ok', ctx=Store(), lineno=196, col_offset=8, end_lineno=196, end_col_offset=16)], value=Constant(value=False, lineno=196, col_offset=19, end_lineno=196, end_col_offset=24), lineno=196, col_offset=8, end_lineno=196, end_col_offset=24), For(target=Name(id='kw', ctx=Store(), lineno=197, col_offset=12, end_lineno=197, end_col_offset=14), iter=Attribute(value=Name(id='node', ctx=Load(), lineno=197, col_offset=18, end_lineno=197, end_col_offset=22), attr='args', ctx=Load(), lineno=197, col_offset=18, end_lineno=197, end_col_offset=27), body=[If(test=BoolOp(op=And(), values=[Attribute(value=Name(id='kw', ctx=Load(), lineno=198, col_offset=15, end_lineno=198, end_col_offset=17), attr='keyword', ctx=Load(), lineno=198, col_offset=15, end_lineno=198, end_col_offset=25), Call(func=Name(id='_is_name', ctx=Load(), lineno=198, col_offset=30, end_lineno=198, end_col_offset=38), args=[Attribute(value=Name(id='kw', ctx=Load(), lineno=198, col_offset=39, end_lineno=198, end_col_offset=41), attr='keyword', ctx=Load(), lineno=198, col_offset=39, end_lineno=198, end_col_offset=49), Constant(value='exist_ok', lineno=198, col_offset=51, end_lineno=198, end_col_offset=61)], lineno=198, col_offset=30, end_lineno=198, end_col_offset=62)], lineno=198, col_offset=15, end_lineno=198, end_col_offset=62), body=[If(test=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=199, col_offset=19, end_lineno=199, end_col_offset=29), args=[Attribute(value=Name(id='kw', ctx=Load(), lineno=199, col_offset=30, end_lineno=199, end_col_offset=32), attr='value', ctx=Load(), lineno=199, col_offset=30, end_lineno=199, end_col_offset=38), Attribute(value=Name(id='cst', ctx=Load(), lineno=199, col_offset=40, end_lineno=199, end_col_offset=43), attr='Name', ctx=Load(), lineno=199, col_offset=40, end_lineno=199, end_col_offset=48)], lineno=199, col_offset=19, end_lineno=199, end_col_offset=49), Compare(left=Attribute(value=Attribute(value=Name(id='kw', ctx=Load(), lineno=199, col_offset=54, end_lineno=199, end_col_offset=56), attr='value', ctx=Load(), lineno=199, col_offset=54, end_lineno=199, end_col_offset=62), attr='value', ctx=Load(), lineno=199, col_offset=54, end_lineno=199, end_col_offset=68), ops=[Eq()], comparators=[Constant(value='True', lineno=199, col_offset=72, end_lineno=199, end_col_offset=78)], lineno=199, col_offset=54, end_lineno=199, end_col_offset=78)], lineno=199, col_offset=19, end_lineno=199, end_col_offset=78), body=[Assign(targets=[Name(id='exist_ok', ctx=Store(), lineno=200, col_offset=20, end_lineno=200, end_col_offset=28)], value=Constant(value=True, lineno=200, col_offset=31, end_lineno=200, end_col_offset=35), lineno=200, col_offset=20, end_lineno=200, end_col_offset=35)], orelse=[If(test=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=201, col_offset=21, end_lineno=201, end_col_offset=31), args=[Attribute(value=Name(id='kw', ctx=Load(), lineno=201, col_offset=32, end_lineno=201, end_col_offset=34), attr='value', ctx=Load(), lineno=201, col_offset=32, end_lineno=201, end_col_offset=40), Attribute(value=Name(id='cst', ctx=Load(), lineno=201, col_offset=42, end_lineno=201, end_col_offset=45), attr='Name', ctx=Load(), lineno=201, col_offset=42, end_lineno=201, end_col_offset=50)], lineno=201, col_offset=21, end_lineno=201, end_col_offset=51), Compare(left=Attribute(value=Attribute(value=Name(id='kw', ctx=Load(), lineno=201, col_offset=56, end_lineno=201, end_col_offset=58), attr='value', ctx=Load(), lineno=201, col_offset=56, end_lineno=201, end_col_offset=64), attr='value', ctx=Load(), lineno=201, col_offset=56, end_lineno=201, end_col_offset=70), ops=[Eq()], comparators=[Constant(value='False', lineno=201, col_offset=74, end_lineno=201, end_col_offset=81)], lineno=201, col_offset=56, end_lineno=201, end_col_offset=81)], lineno=201, col_offset=21, end_lineno=201, end_col_offset=81), body=[Assign(targets=[Name(id='exist_ok', ctx=Store(), lineno=202, col_offset=20, end_lineno=202, end_col_offset=28)], value=Constant(value=False, lineno=202, col_offset=31, end_lineno=202, end_col_offset=36), lineno=202, col_offset=20, end_lineno=202, end_col_offset=36)], lineno=201, col_offset=16, end_lineno=202, end_col_offset=36)], lineno=199, col_offset=16, end_lineno=202, end_col_offset=36), Break(lineno=203, col_offset=16, end_lineno=203, end_col_offset=21)], lineno=198, col_offset=12, end_lineno=203, end_col_offset=21)], lineno=197, col_offset=8, end_lineno=203, end_col_offset=21), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=205, col_offset=8, end_lineno=205, end_col_offset=12), attr='changes', ctx=Load(), lineno=205, col_offset=8, end_lineno=205, end_col_offset=20), attr='append', ctx=Load(), lineno=205, col_offset=8, end_lineno=205, end_col_offset=27), args=[Constant(value='os.makedirs() → Path().mkdir()', lineno=205, col_offset=28, end_lineno=205, end_col_offset=62)], lineno=205, col_offset=8, end_lineno=205, end_col_offset=63), lineno=205, col_offset=8, end_lineno=205, end_col_offset=63), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=206, col_offset=8, end_lineno=206, end_col_offset=12), attr='needs_pathlib_import', ctx=Store(), lineno=206, col_offset=8, end_lineno=206, end_col_offset=33)], value=Constant(value=True, lineno=206, col_offset=36, end_lineno=206, end_col_offset=40), lineno=206, col_offset=8, end_lineno=206, end_col_offset=40), Assign(targets=[Name(id='mkdir_keywords', ctx=Store(), lineno=208, col_offset=8, end_lineno=208, end_col_offset=22)], value=List(elts=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=209, col_offset=12, end_lineno=209, end_col_offset=15), attr='Arg', ctx=Load(), lineno=209, col_offset=12, end_lineno=209, end_col_offset=19), args=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=209, col_offset=20, end_lineno=209, end_col_offset=23), attr='Name', ctx=Load(), lineno=209, col_offset=20, end_lineno=209, end_col_offset=28), args=[Constant(value='True', lineno=209, col_offset=29, end_lineno=209, end_col_offset=35)], lineno=209, col_offset=20, end_lineno=209, end_col_offset=36)], keywords=[keyword(arg='keyword', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=209, col_offset=46, end_lineno=209, end_col_offset=49), attr='Name', ctx=Load(), lineno=209, col_offset=46, end_lineno=209, end_col_offset=54), args=[Constant(value='parents', lineno=209, col_offset=55, end_lineno=209, end_col_offset=64)], lineno=209, col_offset=46, end_lineno=209, end_col_offset=65), lineno=209, col_offset=38, end_lineno=209, end_col_offset=65)], lineno=209, col_offset=12, end_lineno=209, end_col_offset=66)], ctx=Load(), lineno=208, col_offset=25, end_lineno=210, end_col_offset=9), lineno=208, col_offset=8, end_lineno=210, end_col_offset=9), If(test=Name(id='exist_ok', ctx=Load(), lineno=211, col_offset=11, end_lineno=211, end_col_offset=19), body=[Expr(value=Call(func=Attribute(value=Name(id='mkdir_keywords', ctx=Load(), lineno=212, col_offset=12, end_lineno=212, end_col_offset=26), attr='append', ctx=Load(), lineno=212, col_offset=12, end_lineno=212, end_col_offset=33), args=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=212, col_offset=34, end_lineno=212, end_col_offset=37), attr='Arg', ctx=Load(), lineno=212, col_offset=34, end_lineno=212, end_col_offset=41), args=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=212, col_offset=42, end_lineno=212, end_col_offset=45), attr='Name', ctx=Load(), lineno=212, col_offset=42, end_lineno=212, end_col_offset=50), args=[Constant(value='True', lineno=212, col_offset=51, end_lineno=212, end_col_offset=57)], lineno=212, col_offset=42, end_lineno=212, end_col_offset=58)], keywords=[keyword(arg='keyword', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=212, col_offset=68, end_lineno=212, end_col_offset=71), attr='Name', ctx=Load(), lineno=212, col_offset=68, end_lineno=212, end_col_offset=76), args=[Constant(value='exist_ok', lineno=212, col_offset=77, end_lineno=212, end_col_offset=87)], lineno=212, col_offset=68, end_lineno=212, end_col_offset=88), lineno=212, col_offset=60, end_lineno=212, end_col_offset=88)], lineno=212, col_offset=34, end_lineno=212, end_col_offset=89)], lineno=212, col_offset=12, end_lineno=212, end_col_offset=90), lineno=212, col_offset=12, end_lineno=212, end_col_offset=90)], lineno=211, col_offset=8, end_lineno=212, end_col_offset=90), Return(value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=214, col_offset=15, end_lineno=214, end_col_offset=18), attr='Call', ctx=Load(), lineno=214, col_offset=15, end_lineno=214, end_col_offset=23), keywords=[keyword(arg='func', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=215, col_offset=17, end_lineno=215, end_col_offset=20), attr='Attribute', ctx=Load(), lineno=215, col_offset=17, end_lineno=215, end_col_offset=30), keywords=[keyword(arg='value', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=216, col_offset=22, end_lineno=216, end_col_offset=25), attr='Call', ctx=Load(), lineno=216, col_offset=22, end_lineno=216, end_col_offset=30), keywords=[keyword(arg='func', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=217, col_offset=25, end_lineno=217, end_col_offset=28), attr='Name', ctx=Load(), lineno=217, col_offset=25, end_lineno=217, end_col_offset=33), args=[Constant(value='Path', lineno=217, col_offset=34, end_lineno=217, end_col_offset=40)], lineno=217, col_offset=25, end_lineno=217, end_col_offset=41), lineno=217, col_offset=20, end_lineno=217, end_col_offset=41), keyword(arg='args', value=Tuple(elts=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=218, col_offset=26, end_lineno=218, end_col_offset=29), attr='Arg', ctx=Load(), lineno=218, col_offset=26, end_lineno=218, end_col_offset=33), args=[Name(id='path_arg', ctx=Load(), lineno=218, col_offset=34, end_lineno=218, end_col_offset=42)], lineno=218, col_offset=26, end_lineno=218, end_col_offset=43)], ctx=Load(), lineno=218, col_offset=25, end_lineno=218, end_col_offset=45), lineno=218, col_offset=20, end_lineno=218, end_col_offset=45)], lineno=216, col_offset=22, end_lineno=219, end_col_offset=17), lineno=216, col_offset=16, end_lineno=219, end_col_offset=17), keyword(arg='attr', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=220, col_offset=21, end_lineno=220, end_col_offset=24), attr='Name', ctx=Load(), lineno=220, col_offset=21, end_lineno=220, end_col_offset=29), args=[Constant(value='mkdir', lineno=220, col_offset=30, end_lineno=220, end_col_offset=37)], lineno=220, col_offset=21, end_lineno=220, end_col_offset=38), lineno=220, col_offset=16, end_lineno=220, end_col_offset=38)], lineno=215, col_offset=17, end_lineno=221, end_col_offset=13), lineno=215, col_offset=12, end_lineno=221, end_col_offset=13), keyword(arg='args', value=Call(func=Name(id='tuple', ctx=Load(), lineno=222, col_offset=17, end_lineno=222, end_col_offset=22), args=[Name(id='mkdir_keywords', ctx=Load(), lineno=222, col_offset=23, end_lineno=222, end_col_offset=37)], lineno=222, col_offset=17, end_lineno=222, end_col_offset=38), lineno=222, col_offset=12, end_lineno=222, end_col_offset=38)], lineno=214, col_offset=15, end_lineno=223, end_col_offset=9), lineno=214, col_offset=8, end_lineno=223, end_col_offset=9)], returns=BinOp(left=Attribute(value=Name(id='cst', ctx=Load(), lineno=187, col_offset=53, end_lineno=187, end_col_offset=56), attr='BaseExpression', ctx=Load(), lineno=187, col_offset=53, end_lineno=187, end_col_offset=71), op=BitOr(), right=Constant(value=None, lineno=187, col_offset=74, end_lineno=187, end_col_offset=78), lineno=187, col_offset=53, end_lineno=187, end_col_offset=78), lineno=187, col_offset=4, end_lineno=223, end_col_offset=9), FunctionDef(name='_transform_path_join', args=arguments(args=[arg(arg='self', lineno=225, col_offset=29, end_lineno=225, end_col_offset=33), arg(arg='node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=225, col_offset=41, end_lineno=225, end_col_offset=44), attr='Call', ctx=Load(), lineno=225, col_offset=41, end_lineno=225, end_col_offset=49), lineno=225, col_offset=35, end_lineno=225, end_col_offset=49)]), body=[If(test=UnaryOp(op=Not(), operand=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=226, col_offset=16, end_lineno=226, end_col_offset=26), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=226, col_offset=27, end_lineno=226, end_col_offset=31), attr='func', ctx=Load(), lineno=226, col_offset=27, end_lineno=226, end_col_offset=36), Attribute(value=Name(id='cst', ctx=Load(), lineno=226, col_offset=38, end_lineno=226, end_col_offset=41), attr='Attribute', ctx=Load(), lineno=226, col_offset=38, end_lineno=226, end_col_offset=51)], lineno=226, col_offset=16, end_lineno=226, end_col_offset=52), Call(func=Name(id='_is_os_path_call', ctx=Load(), lineno=226, col_offset=57, end_lineno=226, end_col_offset=73), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=226, col_offset=74, end_lineno=226, end_col_offset=78), attr='func', ctx=Load(), lineno=226, col_offset=74, end_lineno=226, end_col_offset=83)], keywords=[keyword(arg='name', value=Constant(value='join', lineno=226, col_offset=90, end_lineno=226, end_col_offset=96), lineno=226, col_offset=85, end_lineno=226, end_col_offset=96)], lineno=226, col_offset=57, end_lineno=226, end_col_offset=97)], lineno=226, col_offset=16, end_lineno=226, end_col_offset=97), lineno=226, col_offset=11, end_lineno=226, end_col_offset=98), body=[Return(value=Constant(value=None, lineno=227, col_offset=19, end_lineno=227, end_col_offset=23), lineno=227, col_offset=12, end_lineno=227, end_col_offset=23)], lineno=226, col_offset=8, end_lineno=227, end_col_offset=23), Assign(targets=[Name(id='join_expr', ctx=Store(), lineno=228, col_offset=8, end_lineno=228, end_col_offset=17)], value=Call(func=Name(id='_path_join_expression', ctx=Load(), lineno=228, col_offset=20, end_lineno=228, end_col_offset=41), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=228, col_offset=42, end_lineno=228, end_col_offset=46), attr='args', ctx=Load(), lineno=228, col_offset=42, end_lineno=228, end_col_offset=51)], lineno=228, col_offset=20, end_lineno=228, end_col_offset=52), lineno=228, col_offset=8, end_lineno=228, end_col_offset=52), If(test=Compare(left=Name(id='join_expr', ctx=Load(), lineno=229, col_offset=11, end_lineno=229, end_col_offset=20), ops=[Is()], comparators=[Constant(value=None, lineno=229, col_offset=24, end_lineno=229, end_col_offset=28)], lineno=229, col_offset=11, end_lineno=229, end_col_offset=28), body=[Return(value=Constant(value=None, lineno=230, col_offset=19, end_lineno=230, end_col_offset=23), lineno=230, col_offset=12, end_lineno=230, end_col_offset=23)], lineno=229, col_offset=8, end_lineno=230, end_col_offset=23), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=231, col_offset=8, end_lineno=231, end_col_offset=12), attr='changes', ctx=Load(), lineno=231, col_offset=8, end_lineno=231, end_col_offset=20), attr='append', ctx=Load(), lineno=231, col_offset=8, end_lineno=231, end_col_offset=27), args=[Constant(value='os.path.join() → Path / operator', lineno=231, col_offset=28, end_lineno=231, end_col_offset=64)], lineno=231, col_offset=8, end_lineno=231, end_col_offset=65), lineno=231, col_offset=8, end_lineno=231, end_col_offset=65), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=232, col_offset=8, end_lineno=232, end_col_offset=12), attr='needs_pathlib_import', ctx=Store(), lineno=232, col_offset=8, end_lineno=232, end_col_offset=33)], value=Constant(value=True, lineno=232, col_offset=36, end_lineno=232, end_col_offset=40), lineno=232, col_offset=8, end_lineno=232, end_col_offset=40), Return(value=Name(id='join_expr', ctx=Load(), lineno=233, col_offset=15, end_lineno=233, end_col_offset=24), lineno=233, col_offset=8, end_lineno=233, end_col_offset=24)], returns=BinOp(left=Attribute(value=Name(id='cst', ctx=Load(), lineno=225, col_offset=54, end_lineno=225, end_col_offset=57), attr='BaseExpression', ctx=Load(), lineno=225, col_offset=54, end_lineno=225, end_col_offset=72), op=BitOr(), right=Constant(value=None, lineno=225, col_offset=75, end_lineno=225, end_col_offset=79), lineno=225, col_offset=54, end_lineno=225, end_col_offset=79), lineno=225, col_offset=4, end_lineno=233, end_col_offset=24), FunctionDef(name='_transform_exists', args=arguments(args=[arg(arg='self', lineno=235, col_offset=26, end_lineno=235, end_col_offset=30), arg(arg='node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=235, col_offset=38, end_lineno=235, end_col_offset=41), attr='Call', ctx=Load(), lineno=235, col_offset=38, end_lineno=235, end_col_offset=46), lineno=235, col_offset=32, end_lineno=235, end_col_offset=46)]), body=[If(test=UnaryOp(op=Not(), operand=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=237, col_offset=12, end_lineno=237, end_col_offset=22), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=237, col_offset=23, end_lineno=237, end_col_offset=27), attr='func', ctx=Load(), lineno=237, col_offset=23, end_lineno=237, end_col_offset=32), Attribute(value=Name(id='cst', ctx=Load(), lineno=237, col_offset=34, end_lineno=237, end_col_offset=37), attr='Attribute', ctx=Load(), lineno=237, col_offset=34, end_lineno=237, end_col_offset=47)], lineno=237, col_offset=12, end_lineno=237, end_col_offset=48), Call(func=Name(id='_is_os_path_call', ctx=Load(), lineno=238, col_offset=16, end_lineno=238, end_col_offset=32), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=238, col_offset=33, end_lineno=238, end_col_offset=37), attr='func', ctx=Load(), lineno=238, col_offset=33, end_lineno=238, end_col_offset=42)], keywords=[keyword(arg='name', value=Constant(value='exists', lineno=238, col_offset=49, end_lineno=238, end_col_offset=57), lineno=238, col_offset=44, end_lineno=238, end_col_offset=57)], lineno=238, col_offset=16, end_lineno=238, end_col_offset=58), Attribute(value=Name(id='node', ctx=Load(), lineno=239, col_offset=16, end_lineno=239, end_col_offset=20), attr='args', ctx=Load(), lineno=239, col_offset=16, end_lineno=239, end_col_offset=25)], lineno=237, col_offset=12, end_lineno=239, end_col_offset=25), lineno=236, col_offset=11, end_lineno=240, end_col_offset=9), body=[Return(value=Constant(value=None, lineno=241, col_offset=19, end_lineno=241, end_col_offset=23), lineno=241, col_offset=12, end_lineno=241, end_col_offset=23)], lineno=236, col_offset=8, end_lineno=241, end_col_offset=23), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=242, col_offset=8, end_lineno=242, end_col_offset=12), attr='changes', ctx=Load(), lineno=242, col_offset=8, end_lineno=242, end_col_offset=20), attr='append', ctx=Load(), lineno=242, col_offset=8, end_lineno=242, end_col_offset=27), args=[Constant(value='os.path.exists() → Path().exists()', lineno=242, col_offset=28, end_lineno=242, end_col_offset=66)], lineno=242, col_offset=8, end_lineno=242, end_col_offset=67), lineno=242, col_offset=8, end_lineno=242, end_col_offset=67), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=243, col_offset=8, end_lineno=243, end_col_offset=12), attr='needs_pathlib_import', ctx=Store(), lineno=243, col_offset=8, end_lineno=243, end_col_offset=33)], value=Constant(value=True, lineno=243, col_offset=36, end_lineno=243, end_col_offset=40), lineno=243, col_offset=8, end_lineno=243, end_col_offset=40), Return(value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=244, col_offset=15, end_lineno=244, end_col_offset=18), attr='Call', ctx=Load(), lineno=244, col_offset=15, end_lineno=244, end_col_offset=23), keywords=[keyword(arg='func', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=245, col_offset=17, end_lineno=245, end_col_offset=20), attr='Attribute', ctx=Load(), lineno=245, col_offset=17, end_lineno=245, end_col_offset=30), keywords=[keyword(arg='value', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=246, col_offset=22, end_lineno=246, end_col_offset=25), attr='Call', ctx=Load(), lineno=246, col_offset=22, end_lineno=246, end_col_offset=30), keywords=[keyword(arg='func', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=247, col_offset=25, end_lineno=247, end_col_offset=28), attr='Name', ctx=Load(), lineno=247, col_offset=25, end_lineno=247, end_col_offset=33), args=[Constant(value='Path', lineno=247, col_offset=34, end_lineno=247, end_col_offset=40)], lineno=247, col_offset=25, end_lineno=247, end_col_offset=41), lineno=247, col_offset=20, end_lineno=247, end_col_offset=41), keyword(arg='args', value=Tuple(elts=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=248, col_offset=26, end_lineno=248, end_col_offset=29), attr='Arg', ctx=Load(), lineno=248, col_offset=26, end_lineno=248, end_col_offset=33), args=[Attribute(value=Subscript(value=Attribute(value=Name(id='node', ctx=Load(), lineno=248, col_offset=34, end_lineno=248, end_col_offset=38), attr='args', ctx=Load(), lineno=248, col_offset=34, end_lineno=248, end_col_offset=43), slice=Constant(value=0, lineno=248, col_offset=44, end_lineno=248, end_col_offset=45), ctx=Load(), lineno=248, col_offset=34, end_lineno=248, end_col_offset=46), attr='value', ctx=Load(), lineno=248, col_offset=34, end_lineno=248, end_col_offset=52)], lineno=248, col_offset=26, end_lineno=248, end_col_offset=53)], ctx=Load(), lineno=248, col_offset=25, end_lineno=248, end_col_offset=55), lineno=248, col_offset=20, end_lineno=248, end_col_offset=55)], lineno=246, col_offset=22, end_lineno=249, end_col_offset=17), lineno=246, col_offset=16, end_lineno=249, end_col_offset=17), keyword(arg='attr', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=250, col_offset=21, end_lineno=250, end_col_offset=24), attr='Name', ctx=Load(), lineno=250, col_offset=21, end_lineno=250, end_col_offset=29), args=[Constant(value='exists', lineno=250, col_offset=30, end_lineno=250, end_col_offset=38)], lineno=250, col_offset=21, end_lineno=250, end_col_offset=39), lineno=250, col_offset=16, end_lineno=250, end_col_offset=39)], lineno=245, col_offset=17, end_lineno=251, end_col_offset=13), lineno=245, col_offset=12, end_lineno=251, end_col_offset=13)], lineno=244, col_offset=15, end_lineno=252, end_col_offset=9), lineno=244, col_offset=8, end_lineno=252, end_col_offset=9)], returns=BinOp(left=Attribute(value=Name(id='cst', ctx=Load(), lineno=235, col_offset=51, end_lineno=235, end_col_offset=54), attr='BaseExpression', ctx=Load(), lineno=235, col_offset=51, end_lineno=235, end_col_offset=69), op=BitOr(), right=Constant(value=None, lineno=235, col_offset=72, end_lineno=235, end_col_offset=76), lineno=235, col_offset=51, end_lineno=235, end_col_offset=76), lineno=235, col_offset=4, end_lineno=252, end_col_offset=9), FunctionDef(name='_transform_dirname', args=arguments(args=[arg(arg='self', lineno=254, col_offset=27, end_lineno=254, end_col_offset=31), arg(arg='node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=254, col_offset=39, end_lineno=254, end_col_offset=42), attr='Call', ctx=Load(), lineno=254, col_offset=39, end_lineno=254, end_col_offset=47), lineno=254, col_offset=33, end_lineno=254, end_col_offset=47)]), body=[If(test=UnaryOp(op=Not(), operand=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=256, col_offset=12, end_lineno=256, end_col_offset=22), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=256, col_offset=23, end_lineno=256, end_col_offset=27), attr='func', ctx=Load(), lineno=256, col_offset=23, end_lineno=256, end_col_offset=32), Attribute(value=Name(id='cst', ctx=Load(), lineno=256, col_offset=34, end_lineno=256, end_col_offset=37), attr='Attribute', ctx=Load(), lineno=256, col_offset=34, end_lineno=256, end_col_offset=47)], lineno=256, col_offset=12, end_lineno=256, end_col_offset=48), Call(func=Name(id='_is_os_path_call', ctx=Load(), lineno=257, col_offset=16, end_lineno=257, end_col_offset=32), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=257, col_offset=33, end_lineno=257, end_col_offset=37), attr='func', ctx=Load(), lineno=257, col_offset=33, end_lineno=257, end_col_offset=42)], keywords=[keyword(arg='name', value=Constant(value='dirname', lineno=257, col_offset=49, end_lineno=257, end_col_offset=58), lineno=257, col_offset=44, end_lineno=257, end_col_offset=58)], lineno=257, col_offset=16, end_lineno=257, end_col_offset=59), Attribute(value=Name(id='node', ctx=Load(), lineno=258, col_offset=16, end_lineno=258, end_col_offset=20), attr='args', ctx=Load(), lineno=258, col_offset=16, end_lineno=258, end_col_offset=25)], lineno=256, col_offset=12, end_lineno=258, end_col_offset=25), lineno=255, col_offset=11, end_lineno=259, end_col_offset=9), body=[Return(value=Constant(value=None, lineno=260, col_offset=19, end_lineno=260, end_col_offset=23), lineno=260, col_offset=12, end_lineno=260, end_col_offset=23)], lineno=255, col_offset=8, end_lineno=260, end_col_offset=23), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=261, col_offset=8, end_lineno=261, end_col_offset=12), attr='changes', ctx=Load(), lineno=261, col_offset=8, end_lineno=261, end_col_offset=20), attr='append', ctx=Load(), lineno=261, col_offset=8, end_lineno=261, end_col_offset=27), args=[Constant(value='os.path.dirname() → Path().parent', lineno=261, col_offset=28, end_lineno=261, end_col_offset=65)], lineno=261, col_offset=8, end_lineno=261, end_col_offset=66), lineno=261, col_offset=8, end_lineno=261, end_col_offset=66), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=262, col_offset=8, end_lineno=262, end_col_offset=12), attr='needs_pathlib_import', ctx=Store(), lineno=262, col_offset=8, end_lineno=262, end_col_offset=33)], value=Constant(value=True, lineno=262, col_offset=36, end_lineno=262, end_col_offset=40), lineno=262, col_offset=8, end_lineno=262, end_col_offset=40), Return(value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=263, col_offset=15, end_lineno=263, end_col_offset=18), attr='Attribute', ctx=Load(), lineno=263, col_offset=15, end_lineno=263, end_col_offset=28), keywords=[keyword(arg='value', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=264, col_offset=18, end_lineno=264, end_col_offset=21), attr='Call', ctx=Load(), lineno=264, col_offset=18, end_lineno=264, end_col_offset=26), keywords=[keyword(arg='func', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=265, col_offset=21, end_lineno=265, end_col_offset=24), attr='Name', ctx=Load(), lineno=265, col_offset=21, end_lineno=265, end_col_offset=29), args=[Constant(value='Path', lineno=265, col_offset=30, end_lineno=265, end_col_offset=36)], lineno=265, col_offset=21, end_lineno=265, end_col_offset=37), lineno=265, col_offset=16, end_lineno=265, end_col_offset=37), keyword(arg='args', value=Tuple(elts=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=266, col_offset=22, end_lineno=266, end_col_offset=25), attr='Arg', ctx=Load(), lineno=266, col_offset=22, end_lineno=266, end_col_offset=29), args=[Attribute(value=Subscript(value=Attribute(value=Name(id='node', ctx=Load(), lineno=266, col_offset=30, end_lineno=266, end_col_offset=34), attr='args', ctx=Load(), lineno=266, col_offset=30, end_lineno=266, end_col_offset=39), slice=Constant(value=0, lineno=266, col_offset=40, end_lineno=266, end_col_offset=41), ctx=Load(), lineno=266, col_offset=30, end_lineno=266, end_col_offset=42), attr='value', ctx=Load(), lineno=266, col_offset=30, end_lineno=266, end_col_offset=48)], lineno=266, col_offset=22, end_lineno=266, end_col_offset=49)], ctx=Load(), lineno=266, col_offset=21, end_lineno=266, end_col_offset=51), lineno=266, col_offset=16, end_lineno=266, end_col_offset=51)], lineno=264, col_offset=18, end_lineno=267, end_col_offset=13), lineno=264, col_offset=12, end_lineno=267, end_col_offset=13), keyword(arg='attr', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=268, col_offset=17, end_lineno=268, end_col_offset=20), attr='Name', ctx=Load(), lineno=268, col_offset=17, end_lineno=268, end_col_offset=25), args=[Constant(value='parent', lineno=268, col_offset=26, end_lineno=268, end_col_offset=34)], lineno=268, col_offset=17, end_lineno=268, end_col_offset=35), lineno=268, col_offset=12, end_lineno=268, end_col_offset=35)], lineno=263, col_offset=15, end_lineno=269, end_col_offset=9), lineno=263, col_offset=8, end_lineno=269, end_col_offset=9)], returns=BinOp(left=Attribute(value=Name(id='cst', ctx=Load(), lineno=254, col_offset=52, end_lineno=254, end_col_offset=55), attr='BaseExpression', ctx=Load(), lineno=254, col_offset=52, end_lineno=254, end_col_offset=70), op=BitOr(), right=Constant(value=None, lineno=254, col_offset=73, end_lineno=254, end_col_offset=77), lineno=254, col_offset=52, end_lineno=254, end_col_offset=77), lineno=254, col_offset=4, end_lineno=269, end_col_offset=9), FunctionDef(name='_transform_call', args=arguments(args=[arg(arg='self', lineno=271, col_offset=24, end_lineno=271, end_col_offset=28), arg(arg='node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=271, col_offset=36, end_lineno=271, end_col_offset=39), attr='Call', ctx=Load(), lineno=271, col_offset=36, end_lineno=271, end_col_offset=44), lineno=271, col_offset=30, end_lineno=271, end_col_offset=44)]), body=[Expr(value=Constant(value='Return rewritten call expression when a pathlib substitution exists.\n\n        Parameters\n        ----------\n        node : cst.Call\n            Call node to transform.\n\n        Returns\n        -------\n        cst.BaseExpression | None\n            Transformed expression | None if no transformation applies.\n        ', lineno=272, col_offset=8, end_lineno=283, end_col_offset=11), lineno=272, col_offset=8, end_lineno=283, end_col_offset=11), For(target=Name(id='transformer', ctx=Store(), lineno=284, col_offset=12, end_lineno=284, end_col_offset=23), iter=Tuple(elts=[Attribute(value=Name(id='self', ctx=Load(), lineno=285, col_offset=12, end_lineno=285, end_col_offset=16), attr='_transform_makedirs', ctx=Load(), lineno=285, col_offset=12, end_lineno=285, end_col_offset=36), Attribute(value=Name(id='self', ctx=Load(), lineno=286, col_offset=12, end_lineno=286, end_col_offset=16), attr='_transform_path_join', ctx=Load(), lineno=286, col_offset=12, end_lineno=286, end_col_offset=37), Attribute(value=Name(id='self', ctx=Load(), lineno=287, col_offset=12, end_lineno=287, end_col_offset=16), attr='_transform_exists', ctx=Load(), lineno=287, col_offset=12, end_lineno=287, end_col_offset=34), Attribute(value=Name(id='self', ctx=Load(), lineno=288, col_offset=12, end_lineno=288, end_col_offset=16), attr='_transform_dirname', ctx=Load(), lineno=288, col_offset=12, end_lineno=288, end_col_offset=35)], ctx=Load(), lineno=284, col_offset=27, end_lineno=289, end_col_offset=9), body=[Assign(targets=[Name(id='replacement', ctx=Store(), lineno=290, col_offset=12, end_lineno=290, end_col_offset=23)], value=Call(func=Name(id='transformer', ctx=Load(), lineno=290, col_offset=26, end_lineno=290, end_col_offset=37), args=[Name(id='node', ctx=Load(), lineno=290, col_offset=38, end_lineno=290, end_col_offset=42)], lineno=290, col_offset=26, end_lineno=290, end_col_offset=43), lineno=290, col_offset=12, end_lineno=290, end_col_offset=43), If(test=Compare(left=Name(id='replacement', ctx=Load(), lineno=291, col_offset=15, end_lineno=291, end_col_offset=26), ops=[IsNot()], comparators=[Constant(value=None, lineno=291, col_offset=34, end_lineno=291, end_col_offset=38)], lineno=291, col_offset=15, end_lineno=291, end_col_offset=38), body=[Return(value=Name(id='replacement', ctx=Load(), lineno=292, col_offset=23, end_lineno=292, end_col_offset=34), lineno=292, col_offset=16, end_lineno=292, end_col_offset=34)], lineno=291, col_offset=12, end_lineno=292, end_col_offset=34)], lineno=284, col_offset=8, end_lineno=292, end_col_offset=34), Return(value=Constant(value=None, lineno=293, col_offset=15, end_lineno=293, end_col_offset=19), lineno=293, col_offset=8, end_lineno=293, end_col_offset=19)], returns=BinOp(left=Attribute(value=Name(id='cst', ctx=Load(), lineno=271, col_offset=49, end_lineno=271, end_col_offset=52), attr='BaseExpression', ctx=Load(), lineno=271, col_offset=49, end_lineno=271, end_col_offset=67), op=BitOr(), right=Constant(value=None, lineno=271, col_offset=70, end_lineno=271, end_col_offset=74), lineno=271, col_offset=49, end_lineno=271, end_col_offset=74), lineno=271, col_offset=4, end_lineno=293, end_col_offset=19), FunctionDef(name='_transform_with', args=arguments(args=[arg(arg='self', lineno=295, col_offset=24, end_lineno=295, end_col_offset=28), arg(arg='original_node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=295, col_offset=45, end_lineno=295, end_col_offset=48), attr='With', ctx=Load(), lineno=295, col_offset=45, end_lineno=295, end_col_offset=53), lineno=295, col_offset=30, end_lineno=295, end_col_offset=53), arg(arg='updated_node', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=295, col_offset=69, end_lineno=295, end_col_offset=72), attr='With', ctx=Load(), lineno=295, col_offset=69, end_lineno=295, end_col_offset=77), lineno=295, col_offset=55, end_lineno=295, end_col_offset=77)]), body=[Expr(value=Constant(value='Rewrite ``with`` blocks wrapping ``open(os.path.join(...))`` patterns.\n\n        Parameters\n        ----------\n        original_node : cst.With\n            Original with statement node.\n        updated_node : cst.With\n            Updated with statement node.\n\n        Returns\n        -------\n        cst.With\n            Transformed with statement.\n        ', lineno=296, col_offset=8, end_lineno=309, end_col_offset=11), lineno=296, col_offset=8, end_lineno=309, end_col_offset=11), For(target=Tuple(elts=[Name(id='index', ctx=Store(), lineno=310, col_offset=12, end_lineno=310, end_col_offset=17), Tuple(elts=[Name(id='original_item', ctx=Store(), lineno=310, col_offset=20, end_lineno=310, end_col_offset=33), Name(id='updated_item', ctx=Store(), lineno=310, col_offset=35, end_lineno=310, end_col_offset=47)], ctx=Store(), lineno=310, col_offset=19, end_lineno=310, end_col_offset=48)], ctx=Store(), lineno=310, col_offset=12, end_lineno=310, end_col_offset=48), iter=Call(func=Name(id='enumerate', ctx=Load(), lineno=310, col_offset=52, end_lineno=310, end_col_offset=61), args=[Call(func=Name(id='zip', ctx=Load(), lineno=311, col_offset=12, end_lineno=311, end_col_offset=15), args=[Attribute(value=Name(id='original_node', ctx=Load(), lineno=311, col_offset=16, end_lineno=311, end_col_offset=29), attr='items', ctx=Load(), lineno=311, col_offset=16, end_lineno=311, end_col_offset=35), Attribute(value=Name(id='updated_node', ctx=Load(), lineno=311, col_offset=37, end_lineno=311, end_col_offset=49), attr='items', ctx=Load(), lineno=311, col_offset=37, end_lineno=311, end_col_offset=55)], keywords=[keyword(arg='strict', value=Constant(value=True, lineno=311, col_offset=64, end_lineno=311, end_col_offset=68), lineno=311, col_offset=57, end_lineno=311, end_col_offset=68)], lineno=311, col_offset=12, end_lineno=311, end_col_offset=69)], lineno=310, col_offset=52, end_lineno=312, end_col_offset=9), body=[Assign(targets=[Name(id='original_call', ctx=Store(), lineno=313, col_offset=12, end_lineno=313, end_col_offset=25)], value=Attribute(value=Name(id='original_item', ctx=Load(), lineno=313, col_offset=28, end_lineno=313, end_col_offset=41), attr='item', ctx=Load(), lineno=313, col_offset=28, end_lineno=313, end_col_offset=46), lineno=313, col_offset=12, end_lineno=313, end_col_offset=46), If(test=BoolOp(op=Or(), values=[UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=315, col_offset=20, end_lineno=315, end_col_offset=30), args=[Name(id='original_call', ctx=Load(), lineno=315, col_offset=31, end_lineno=315, end_col_offset=44), Attribute(value=Name(id='cst', ctx=Load(), lineno=315, col_offset=46, end_lineno=315, end_col_offset=49), attr='Call', ctx=Load(), lineno=315, col_offset=46, end_lineno=315, end_col_offset=54)], lineno=315, col_offset=20, end_lineno=315, end_col_offset=55), lineno=315, col_offset=16, end_lineno=315, end_col_offset=55), UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=316, col_offset=23, end_lineno=316, end_col_offset=33), args=[Attribute(value=Name(id='original_call', ctx=Load(), lineno=316, col_offset=34, end_lineno=316, end_col_offset=47), attr='func', ctx=Load(), lineno=316, col_offset=34, end_lineno=316, end_col_offset=52), Attribute(value=Name(id='cst', ctx=Load(), lineno=316, col_offset=54, end_lineno=316, end_col_offset=57), attr='Name', ctx=Load(), lineno=316, col_offset=54, end_lineno=316, end_col_offset=62)], lineno=316, col_offset=23, end_lineno=316, end_col_offset=63), lineno=316, col_offset=19, end_lineno=316, end_col_offset=63), Compare(left=Attribute(value=Attribute(value=Name(id='original_call', ctx=Load(), lineno=317, col_offset=19, end_lineno=317, end_col_offset=32), attr='func', ctx=Load(), lineno=317, col_offset=19, end_lineno=317, end_col_offset=37), attr='value', ctx=Load(), lineno=317, col_offset=19, end_lineno=317, end_col_offset=43), ops=[NotEq()], comparators=[Constant(value='open', lineno=317, col_offset=47, end_lineno=317, end_col_offset=53)], lineno=317, col_offset=19, end_lineno=317, end_col_offset=53), UnaryOp(op=Not(), operand=Attribute(value=Name(id='original_call', ctx=Load(), lineno=318, col_offset=23, end_lineno=318, end_col_offset=36), attr='args', ctx=Load(), lineno=318, col_offset=23, end_lineno=318, end_col_offset=41), lineno=318, col_offset=19, end_lineno=318, end_col_offset=41)], lineno=315, col_offset=16, end_lineno=318, end_col_offset=41), body=[Continue(lineno=320, col_offset=16, end_lineno=320, end_col_offset=24)], lineno=314, col_offset=12, end_lineno=320, end_col_offset=24), Assign(targets=[Name(id='first_arg', ctx=Store(), lineno=322, col_offset=12, end_lineno=322, end_col_offset=21)], value=Subscript(value=Attribute(value=Name(id='original_call', ctx=Load(), lineno=322, col_offset=24, end_lineno=322, end_col_offset=37), attr='args', ctx=Load(), lineno=322, col_offset=24, end_lineno=322, end_col_offset=42), slice=Constant(value=0, lineno=322, col_offset=43, end_lineno=322, end_col_offset=44), ctx=Load(), lineno=322, col_offset=24, end_lineno=322, end_col_offset=45), lineno=322, col_offset=12, end_lineno=322, end_col_offset=45), If(test=Compare(left=Attribute(value=Name(id='first_arg', ctx=Load(), lineno=323, col_offset=15, end_lineno=323, end_col_offset=24), attr='keyword', ctx=Load(), lineno=323, col_offset=15, end_lineno=323, end_col_offset=32), ops=[IsNot()], comparators=[Constant(value=None, lineno=323, col_offset=40, end_lineno=323, end_col_offset=44)], lineno=323, col_offset=15, end_lineno=323, end_col_offset=44), body=[Continue(lineno=324, col_offset=16, end_lineno=324, end_col_offset=24)], lineno=323, col_offset=12, end_lineno=324, end_col_offset=24), Assign(targets=[Name(id='join_call', ctx=Store(), lineno=326, col_offset=12, end_lineno=326, end_col_offset=21)], value=Attribute(value=Name(id='first_arg', ctx=Load(), lineno=326, col_offset=24, end_lineno=326, end_col_offset=33), attr='value', ctx=Load(), lineno=326, col_offset=24, end_lineno=326, end_col_offset=39), lineno=326, col_offset=12, end_lineno=326, end_col_offset=39), If(test=UnaryOp(op=Not(), operand=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=328, col_offset=16, end_lineno=328, end_col_offset=26), args=[Name(id='join_call', ctx=Load(), lineno=328, col_offset=27, end_lineno=328, end_col_offset=36), Attribute(value=Name(id='cst', ctx=Load(), lineno=328, col_offset=38, end_lineno=328, end_col_offset=41), attr='Call', ctx=Load(), lineno=328, col_offset=38, end_lineno=328, end_col_offset=46)], lineno=328, col_offset=16, end_lineno=328, end_col_offset=47), Call(func=Name(id='isinstance', ctx=Load(), lineno=329, col_offset=20, end_lineno=329, end_col_offset=30), args=[Attribute(value=Name(id='join_call', ctx=Load(), lineno=329, col_offset=31, end_lineno=329, end_col_offset=40), attr='func', ctx=Load(), lineno=329, col_offset=31, end_lineno=329, end_col_offset=45), Attribute(value=Name(id='cst', ctx=Load(), lineno=329, col_offset=47, end_lineno=329, end_col_offset=50), attr='Attribute', ctx=Load(), lineno=329, col_offset=47, end_lineno=329, end_col_offset=60)], lineno=329, col_offset=20, end_lineno=329, end_col_offset=61), Call(func=Name(id='_is_os_path_call', ctx=Load(), lineno=330, col_offset=20, end_lineno=330, end_col_offset=36), args=[Attribute(value=Name(id='join_call', ctx=Load(), lineno=330, col_offset=37, end_lineno=330, end_col_offset=46), attr='func', ctx=Load(), lineno=330, col_offset=37, end_lineno=330, end_col_offset=51)], keywords=[keyword(arg='name', value=Constant(value='join', lineno=330, col_offset=58, end_lineno=330, end_col_offset=64), lineno=330, col_offset=53, end_lineno=330, end_col_offset=64)], lineno=330, col_offset=20, end_lineno=330, end_col_offset=65)], lineno=328, col_offset=16, end_lineno=330, end_col_offset=65), lineno=327, col_offset=15, end_lineno=331, end_col_offset=13), body=[Continue(lineno=332, col_offset=16, end_lineno=332, end_col_offset=24)], lineno=327, col_offset=12, end_lineno=332, end_col_offset=24), Assign(targets=[Name(id='path_expr', ctx=Store(), lineno=334, col_offset=12, end_lineno=334, end_col_offset=21)], value=Call(func=Name(id='_path_join_expression', ctx=Load(), lineno=334, col_offset=24, end_lineno=334, end_col_offset=45), args=[Attribute(value=Name(id='join_call', ctx=Load(), lineno=334, col_offset=46, end_lineno=334, end_col_offset=55), attr='args', ctx=Load(), lineno=334, col_offset=46, end_lineno=334, end_col_offset=60)], lineno=334, col_offset=24, end_lineno=334, end_col_offset=61), lineno=334, col_offset=12, end_lineno=334, end_col_offset=61), If(test=Compare(left=Name(id='path_expr', ctx=Load(), lineno=335, col_offset=15, end_lineno=335, end_col_offset=24), ops=[Is()], comparators=[Constant(value=None, lineno=335, col_offset=28, end_lineno=335, end_col_offset=32)], lineno=335, col_offset=15, end_lineno=335, end_col_offset=32), body=[Continue(lineno=336, col_offset=16, end_lineno=336, end_col_offset=24)], lineno=335, col_offset=12, end_lineno=336, end_col_offset=24), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=338, col_offset=12, end_lineno=338, end_col_offset=16), attr='changes', ctx=Load(), lineno=338, col_offset=12, end_lineno=338, end_col_offset=24), attr='append', ctx=Load(), lineno=338, col_offset=12, end_lineno=338, end_col_offset=31), args=[Constant(value='open(os.path.join(...)) → Path(...).open()', lineno=338, col_offset=32, end_lineno=338, end_col_offset=78)], lineno=338, col_offset=12, end_lineno=338, end_col_offset=79), lineno=338, col_offset=12, end_lineno=338, end_col_offset=79), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=339, col_offset=12, end_lineno=339, end_col_offset=16), attr='needs_pathlib_import', ctx=Store(), lineno=339, col_offset=12, end_lineno=339, end_col_offset=37)], value=Constant(value=True, lineno=339, col_offset=40, end_lineno=339, end_col_offset=44), lineno=339, col_offset=12, end_lineno=339, end_col_offset=44), AnnAssign(target=Name(id='remaining_args', ctx=Store(), lineno=341, col_offset=12, end_lineno=341, end_col_offset=26), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=341, col_offset=28, end_lineno=341, end_col_offset=33), slice=Tuple(elts=[Attribute(value=Name(id='cst', ctx=Load(), lineno=341, col_offset=34, end_lineno=341, end_col_offset=37), attr='Arg', ctx=Load(), lineno=341, col_offset=34, end_lineno=341, end_col_offset=41), Constant(value=Ellipsis, lineno=341, col_offset=43, end_lineno=341, end_col_offset=46)], ctx=Load(), lineno=341, col_offset=34, end_lineno=341, end_col_offset=46), ctx=Load(), lineno=341, col_offset=28, end_lineno=341, end_col_offset=47), value=Tuple(ctx=Load(), lineno=341, col_offset=50, end_lineno=341, end_col_offset=52), simple=1, lineno=341, col_offset=12, end_lineno=341, end_col_offset=52), If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=342, col_offset=15, end_lineno=342, end_col_offset=25), args=[Attribute(value=Name(id='updated_item', ctx=Load(), lineno=342, col_offset=26, end_lineno=342, end_col_offset=38), attr='item', ctx=Load(), lineno=342, col_offset=26, end_lineno=342, end_col_offset=43), Attribute(value=Name(id='cst', ctx=Load(), lineno=342, col_offset=45, end_lineno=342, end_col_offset=48), attr='Call', ctx=Load(), lineno=342, col_offset=45, end_lineno=342, end_col_offset=53)], lineno=342, col_offset=15, end_lineno=342, end_col_offset=54), body=[Assign(targets=[Name(id='call_args', ctx=Store(), lineno=343, col_offset=16, end_lineno=343, end_col_offset=25)], value=Call(func=Name(id='cast', ctx=Load(), lineno=343, col_offset=28, end_lineno=343, end_col_offset=32), args=[Constant(value='tuple[cst.Arg, ...]', lineno=344, col_offset=20, end_lineno=344, end_col_offset=41), Call(func=Name(id='tuple', ctx=Load(), lineno=345, col_offset=20, end_lineno=345, end_col_offset=25), args=[Attribute(value=Attribute(value=Name(id='updated_item', ctx=Load(), lineno=345, col_offset=26, end_lineno=345, end_col_offset=38), attr='item', ctx=Load(), lineno=345, col_offset=26, end_lineno=345, end_col_offset=43), attr='args', ctx=Load(), lineno=345, col_offset=26, end_lineno=345, end_col_offset=48)], lineno=345, col_offset=20, end_lineno=345, end_col_offset=49)], lineno=343, col_offset=28, end_lineno=346, end_col_offset=17), lineno=343, col_offset=16, end_lineno=346, end_col_offset=17), Assign(targets=[Name(id='remaining_args', ctx=Store(), lineno=347, col_offset=16, end_lineno=347, end_col_offset=30)], value=Subscript(value=Name(id='call_args', ctx=Load(), lineno=347, col_offset=33, end_lineno=347, end_col_offset=42), slice=Slice(lower=Constant(value=1, lineno=347, col_offset=43, end_lineno=347, end_col_offset=44), lineno=347, col_offset=43, end_lineno=347, end_col_offset=45), ctx=Load(), lineno=347, col_offset=33, end_lineno=347, end_col_offset=46), lineno=347, col_offset=16, end_lineno=347, end_col_offset=46)], lineno=342, col_offset=12, end_lineno=347, end_col_offset=46), Assign(targets=[Name(id='new_open_call', ctx=Store(), lineno=349, col_offset=12, end_lineno=349, end_col_offset=25)], value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=349, col_offset=28, end_lineno=349, end_col_offset=31), attr='Call', ctx=Load(), lineno=349, col_offset=28, end_lineno=349, end_col_offset=36), keywords=[keyword(arg='func', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=350, col_offset=21, end_lineno=350, end_col_offset=24), attr='Attribute', ctx=Load(), lineno=350, col_offset=21, end_lineno=350, end_col_offset=34), keywords=[keyword(arg='value', value=Name(id='path_expr', ctx=Load(), lineno=350, col_offset=41, end_lineno=350, end_col_offset=50), lineno=350, col_offset=35, end_lineno=350, end_col_offset=50), keyword(arg='attr', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=350, col_offset=57, end_lineno=350, end_col_offset=60), attr='Name', ctx=Load(), lineno=350, col_offset=57, end_lineno=350, end_col_offset=65), args=[Constant(value='open', lineno=350, col_offset=66, end_lineno=350, end_col_offset=72)], lineno=350, col_offset=57, end_lineno=350, end_col_offset=73), lineno=350, col_offset=52, end_lineno=350, end_col_offset=73)], lineno=350, col_offset=21, end_lineno=350, end_col_offset=74), lineno=350, col_offset=16, end_lineno=350, end_col_offset=74), keyword(arg='args', value=Name(id='remaining_args', ctx=Load(), lineno=351, col_offset=21, end_lineno=351, end_col_offset=35), lineno=351, col_offset=16, end_lineno=351, end_col_offset=35)], lineno=349, col_offset=28, end_lineno=352, end_col_offset=13), lineno=349, col_offset=12, end_lineno=352, end_col_offset=13), Assign(targets=[Name(id='new_item', ctx=Store(), lineno=353, col_offset=12, end_lineno=353, end_col_offset=20)], value=Call(func=Attribute(value=Name(id='updated_item', ctx=Load(), lineno=353, col_offset=23, end_lineno=353, end_col_offset=35), attr='with_changes', ctx=Load(), lineno=353, col_offset=23, end_lineno=353, end_col_offset=48), keywords=[keyword(arg='item', value=Name(id='new_open_call', ctx=Load(), lineno=353, col_offset=54, end_lineno=353, end_col_offset=67), lineno=353, col_offset=49, end_lineno=353, end_col_offset=67)], lineno=353, col_offset=23, end_lineno=353, end_col_offset=68), lineno=353, col_offset=12, end_lineno=353, end_col_offset=68), AnnAssign(target=Name(id='updated_items', ctx=Store(), lineno=354, col_offset=12, end_lineno=354, end_col_offset=25), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=354, col_offset=27, end_lineno=354, end_col_offset=31), slice=Attribute(value=Name(id='cst', ctx=Load(), lineno=354, col_offset=32, end_lineno=354, end_col_offset=35), attr='WithItem', ctx=Load(), lineno=354, col_offset=32, end_lineno=354, end_col_offset=44), ctx=Load(), lineno=354, col_offset=27, end_lineno=354, end_col_offset=45), value=Call(func=Name(id='list', ctx=Load(), lineno=354, col_offset=48, end_lineno=354, end_col_offset=52), args=[Attribute(value=Name(id='updated_node', ctx=Load(), lineno=354, col_offset=53, end_lineno=354, end_col_offset=65), attr='items', ctx=Load(), lineno=354, col_offset=53, end_lineno=354, end_col_offset=71)], lineno=354, col_offset=48, end_lineno=354, end_col_offset=72), simple=1, lineno=354, col_offset=12, end_lineno=354, end_col_offset=72), Assign(targets=[Subscript(value=Name(id='updated_items', ctx=Load(), lineno=355, col_offset=12, end_lineno=355, end_col_offset=25), slice=Name(id='index', ctx=Load(), lineno=355, col_offset=26, end_lineno=355, end_col_offset=31), ctx=Store(), lineno=355, col_offset=12, end_lineno=355, end_col_offset=32)], value=Name(id='new_item', ctx=Load(), lineno=355, col_offset=35, end_lineno=355, end_col_offset=43), lineno=355, col_offset=12, end_lineno=355, end_col_offset=43), AnnAssign(target=Name(id='new_items_tuple', ctx=Store(), lineno=356, col_offset=12, end_lineno=356, end_col_offset=27), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=356, col_offset=29, end_lineno=356, end_col_offset=34), slice=Tuple(elts=[Attribute(value=Name(id='cst', ctx=Load(), lineno=356, col_offset=35, end_lineno=356, end_col_offset=38), attr='WithItem', ctx=Load(), lineno=356, col_offset=35, end_lineno=356, end_col_offset=47), Constant(value=Ellipsis, lineno=356, col_offset=49, end_lineno=356, end_col_offset=52)], ctx=Load(), lineno=356, col_offset=35, end_lineno=356, end_col_offset=52), ctx=Load(), lineno=356, col_offset=29, end_lineno=356, end_col_offset=53), value=Call(func=Name(id='tuple', ctx=Load(), lineno=356, col_offset=56, end_lineno=356, end_col_offset=61), args=[Name(id='updated_items', ctx=Load(), lineno=356, col_offset=62, end_lineno=356, end_col_offset=75)], lineno=356, col_offset=56, end_lineno=356, end_col_offset=76), simple=1, lineno=356, col_offset=12, end_lineno=356, end_col_offset=76), Return(value=Call(func=Attribute(value=Name(id='updated_node', ctx=Load(), lineno=357, col_offset=19, end_lineno=357, end_col_offset=31), attr='with_changes', ctx=Load(), lineno=357, col_offset=19, end_lineno=357, end_col_offset=44), keywords=[keyword(arg='items', value=Name(id='new_items_tuple', ctx=Load(), lineno=357, col_offset=51, end_lineno=357, end_col_offset=66), lineno=357, col_offset=45, end_lineno=357, end_col_offset=66)], lineno=357, col_offset=19, end_lineno=357, end_col_offset=67), lineno=357, col_offset=12, end_lineno=357, end_col_offset=67)], lineno=310, col_offset=8, end_lineno=357, end_col_offset=67), Return(value=Name(id='updated_node', ctx=Load(), lineno=358, col_offset=15, end_lineno=358, end_col_offset=27), lineno=358, col_offset=8, end_lineno=358, end_col_offset=27)], returns=Attribute(value=Name(id='cst', ctx=Load(), lineno=295, col_offset=82, end_lineno=295, end_col_offset=85), attr='With', ctx=Load(), lineno=295, col_offset=82, end_lineno=295, end_col_offset=90), lineno=295, col_offset=4, end_lineno=358, end_col_offset=27)], lineno=117, col_offset=0, end_lineno=358, end_col_offset=27), FunctionDef(name='_iter_simple_bodies', args=arguments(args=[arg(arg='module', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=361, col_offset=32, end_lineno=361, end_col_offset=35), attr='Module', ctx=Load(), lineno=361, col_offset=32, end_lineno=361, end_col_offset=42), lineno=361, col_offset=24, end_lineno=361, end_col_offset=42)]), body=[AnnAssign(target=Name(id='items', ctx=Store(), lineno=362, col_offset=4, end_lineno=362, end_col_offset=9), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=362, col_offset=11, end_lineno=362, end_col_offset=15), slice=Attribute(value=Name(id='cst', ctx=Load(), lineno=362, col_offset=16, end_lineno=362, end_col_offset=19), attr='CSTNode', ctx=Load(), lineno=362, col_offset=16, end_lineno=362, end_col_offset=27), ctx=Load(), lineno=362, col_offset=11, end_lineno=362, end_col_offset=28), value=List(ctx=Load(), lineno=362, col_offset=31, end_lineno=362, end_col_offset=33), simple=1, lineno=362, col_offset=4, end_lineno=362, end_col_offset=33), For(target=Name(id='statement', ctx=Store(), lineno=363, col_offset=8, end_lineno=363, end_col_offset=17), iter=Attribute(value=Name(id='module', ctx=Load(), lineno=363, col_offset=21, end_lineno=363, end_col_offset=27), attr='body', ctx=Load(), lineno=363, col_offset=21, end_lineno=363, end_col_offset=32), body=[If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=364, col_offset=11, end_lineno=364, end_col_offset=21), args=[Name(id='statement', ctx=Load(), lineno=364, col_offset=22, end_lineno=364, end_col_offset=31), Attribute(value=Name(id='cst', ctx=Load(), lineno=364, col_offset=33, end_lineno=364, end_col_offset=36), attr='SimpleStatementLine', ctx=Load(), lineno=364, col_offset=33, end_lineno=364, end_col_offset=56)], lineno=364, col_offset=11, end_lineno=364, end_col_offset=57), body=[Expr(value=Call(func=Attribute(value=Name(id='items', ctx=Load(), lineno=365, col_offset=12, end_lineno=365, end_col_offset=17), attr='extend', ctx=Load(), lineno=365, col_offset=12, end_lineno=365, end_col_offset=24), args=[Attribute(value=Name(id='statement', ctx=Load(), lineno=365, col_offset=25, end_lineno=365, end_col_offset=34), attr='body', ctx=Load(), lineno=365, col_offset=25, end_lineno=365, end_col_offset=39)], lineno=365, col_offset=12, end_lineno=365, end_col_offset=40), lineno=365, col_offset=12, end_lineno=365, end_col_offset=40)], lineno=364, col_offset=8, end_lineno=365, end_col_offset=40)], lineno=363, col_offset=4, end_lineno=365, end_col_offset=40), Return(value=Name(id='items', ctx=Load(), lineno=366, col_offset=11, end_lineno=366, end_col_offset=16), lineno=366, col_offset=4, end_lineno=366, end_col_offset=16)], returns=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=361, col_offset=47, end_lineno=361, end_col_offset=55), slice=Attribute(value=Name(id='cst', ctx=Load(), lineno=361, col_offset=56, end_lineno=361, end_col_offset=59), attr='CSTNode', ctx=Load(), lineno=361, col_offset=56, end_lineno=361, end_col_offset=67), ctx=Load(), lineno=361, col_offset=47, end_lineno=361, end_col_offset=68), lineno=361, col_offset=0, end_lineno=366, end_col_offset=16), FunctionDef(name='_module_has_pathlib', args=arguments(args=[arg(arg='module', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=369, col_offset=32, end_lineno=369, end_col_offset=35), attr='Module', ctx=Load(), lineno=369, col_offset=32, end_lineno=369, end_col_offset=42), lineno=369, col_offset=24, end_lineno=369, end_col_offset=42)]), body=[For(target=Name(id='node', ctx=Store(), lineno=370, col_offset=8, end_lineno=370, end_col_offset=12), iter=Call(func=Name(id='_iter_simple_bodies', ctx=Load(), lineno=370, col_offset=16, end_lineno=370, end_col_offset=35), args=[Name(id='module', ctx=Load(), lineno=370, col_offset=36, end_lineno=370, end_col_offset=42)], lineno=370, col_offset=16, end_lineno=370, end_col_offset=43), body=[Assign(targets=[Name(id='imports_pathlib', ctx=Store(), lineno=371, col_offset=8, end_lineno=371, end_col_offset=23)], value=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=371, col_offset=26, end_lineno=371, end_col_offset=36), args=[Name(id='node', ctx=Load(), lineno=371, col_offset=37, end_lineno=371, end_col_offset=41), Attribute(value=Name(id='cst', ctx=Load(), lineno=371, col_offset=43, end_lineno=371, end_col_offset=46), attr='Import', ctx=Load(), lineno=371, col_offset=43, end_lineno=371, end_col_offset=53)], lineno=371, col_offset=26, end_lineno=371, end_col_offset=54), Call(func=Name(id='any', ctx=Load(), lineno=371, col_offset=59, end_lineno=371, end_col_offset=62), args=[GeneratorExp(elt=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=372, col_offset=12, end_lineno=372, end_col_offset=22), args=[Attribute(value=Name(id='alias', ctx=Load(), lineno=372, col_offset=23, end_lineno=372, end_col_offset=28), attr='name', ctx=Load(), lineno=372, col_offset=23, end_lineno=372, end_col_offset=33), Attribute(value=Name(id='cst', ctx=Load(), lineno=372, col_offset=35, end_lineno=372, end_col_offset=38), attr='Name', ctx=Load(), lineno=372, col_offset=35, end_lineno=372, end_col_offset=43)], lineno=372, col_offset=12, end_lineno=372, end_col_offset=44), Compare(left=Attribute(value=Attribute(value=Name(id='alias', ctx=Load(), lineno=372, col_offset=49, end_lineno=372, end_col_offset=54), attr='name', ctx=Load(), lineno=372, col_offset=49, end_lineno=372, end_col_offset=59), attr='value', ctx=Load(), lineno=372, col_offset=49, end_lineno=372, end_col_offset=65), ops=[Eq()], comparators=[Constant(value='pathlib', lineno=372, col_offset=69, end_lineno=372, end_col_offset=78)], lineno=372, col_offset=49, end_lineno=372, end_col_offset=78)], lineno=372, col_offset=12, end_lineno=372, end_col_offset=78), generators=[comprehension(target=Name(id='alias', ctx=Store(), lineno=373, col_offset=16, end_lineno=373, end_col_offset=21), iter=Attribute(value=Name(id='node', ctx=Load(), lineno=373, col_offset=25, end_lineno=373, end_col_offset=29), attr='names', ctx=Load(), lineno=373, col_offset=25, end_lineno=373, end_col_offset=35), is_async=0)], lineno=371, col_offset=62, end_lineno=374, end_col_offset=9)], lineno=371, col_offset=59, end_lineno=374, end_col_offset=9)], lineno=371, col_offset=26, end_lineno=374, end_col_offset=9), lineno=371, col_offset=8, end_lineno=374, end_col_offset=9), Assign(targets=[Name(id='from_pathlib', ctx=Store(), lineno=375, col_offset=8, end_lineno=375, end_col_offset=20)], value=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=376, col_offset=12, end_lineno=376, end_col_offset=22), args=[Name(id='node', ctx=Load(), lineno=376, col_offset=23, end_lineno=376, end_col_offset=27), Attribute(value=Name(id='cst', ctx=Load(), lineno=376, col_offset=29, end_lineno=376, end_col_offset=32), attr='ImportFrom', ctx=Load(), lineno=376, col_offset=29, end_lineno=376, end_col_offset=43)], lineno=376, col_offset=12, end_lineno=376, end_col_offset=44), Call(func=Name(id='isinstance', ctx=Load(), lineno=377, col_offset=16, end_lineno=377, end_col_offset=26), args=[Attribute(value=Name(id='node', ctx=Load(), lineno=377, col_offset=27, end_lineno=377, end_col_offset=31), attr='module', ctx=Load(), lineno=377, col_offset=27, end_lineno=377, end_col_offset=38), Attribute(value=Name(id='cst', ctx=Load(), lineno=377, col_offset=40, end_lineno=377, end_col_offset=43), attr='Name', ctx=Load(), lineno=377, col_offset=40, end_lineno=377, end_col_offset=48)], lineno=377, col_offset=16, end_lineno=377, end_col_offset=49), Compare(left=Attribute(value=Attribute(value=Name(id='node', ctx=Load(), lineno=378, col_offset=16, end_lineno=378, end_col_offset=20), attr='module', ctx=Load(), lineno=378, col_offset=16, end_lineno=378, end_col_offset=27), attr='value', ctx=Load(), lineno=378, col_offset=16, end_lineno=378, end_col_offset=33), ops=[Eq()], comparators=[Constant(value='pathlib', lineno=378, col_offset=37, end_lineno=378, end_col_offset=46)], lineno=378, col_offset=16, end_lineno=378, end_col_offset=46)], lineno=376, col_offset=12, end_lineno=378, end_col_offset=46), lineno=375, col_offset=8, end_lineno=379, end_col_offset=9), If(test=BoolOp(op=Or(), values=[Name(id='imports_pathlib', ctx=Load(), lineno=380, col_offset=11, end_lineno=380, end_col_offset=26), Name(id='from_pathlib', ctx=Load(), lineno=380, col_offset=30, end_lineno=380, end_col_offset=42)], lineno=380, col_offset=11, end_lineno=380, end_col_offset=42), body=[Return(value=Constant(value=True, lineno=381, col_offset=19, end_lineno=381, end_col_offset=23), lineno=381, col_offset=12, end_lineno=381, end_col_offset=23)], lineno=380, col_offset=8, end_lineno=381, end_col_offset=23)], lineno=370, col_offset=4, end_lineno=381, end_col_offset=23), Return(value=Constant(value=False, lineno=382, col_offset=11, end_lineno=382, end_col_offset=16), lineno=382, col_offset=4, end_lineno=382, end_col_offset=16)], returns=Name(id='bool', ctx=Load(), lineno=369, col_offset=47, end_lineno=369, end_col_offset=51), lineno=369, col_offset=0, end_lineno=382, end_col_offset=16), FunctionDef(name='_insertion_index', args=arguments(args=[arg(arg='module', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=385, col_offset=29, end_lineno=385, end_col_offset=32), attr='Module', ctx=Load(), lineno=385, col_offset=29, end_lineno=385, end_col_offset=39), lineno=385, col_offset=21, end_lineno=385, end_col_offset=39)]), body=[Assign(targets=[Name(id='index_after_future', ctx=Store(), lineno=386, col_offset=4, end_lineno=386, end_col_offset=22)], value=Constant(value=0, lineno=386, col_offset=25, end_lineno=386, end_col_offset=26), lineno=386, col_offset=4, end_lineno=386, end_col_offset=26), For(target=Tuple(elts=[Name(id='position', ctx=Store(), lineno=387, col_offset=8, end_lineno=387, end_col_offset=16), Name(id='statement', ctx=Store(), lineno=387, col_offset=18, end_lineno=387, end_col_offset=27)], ctx=Store(), lineno=387, col_offset=8, end_lineno=387, end_col_offset=27), iter=Call(func=Name(id='enumerate', ctx=Load(), lineno=387, col_offset=31, end_lineno=387, end_col_offset=40), args=[Attribute(value=Name(id='module', ctx=Load(), lineno=387, col_offset=41, end_lineno=387, end_col_offset=47), attr='body', ctx=Load(), lineno=387, col_offset=41, end_lineno=387, end_col_offset=52)], lineno=387, col_offset=31, end_lineno=387, end_col_offset=53), body=[If(test=UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=388, col_offset=15, end_lineno=388, end_col_offset=25), args=[Name(id='statement', ctx=Load(), lineno=388, col_offset=26, end_lineno=388, end_col_offset=35), Attribute(value=Name(id='cst', ctx=Load(), lineno=388, col_offset=37, end_lineno=388, end_col_offset=40), attr='SimpleStatementLine', ctx=Load(), lineno=388, col_offset=37, end_lineno=388, end_col_offset=60)], lineno=388, col_offset=15, end_lineno=388, end_col_offset=61), lineno=388, col_offset=11, end_lineno=388, end_col_offset=61), body=[Continue(lineno=389, col_offset=12, end_lineno=389, end_col_offset=20)], lineno=388, col_offset=8, end_lineno=389, end_col_offset=20), If(test=Call(func=Name(id='any', ctx=Load(), lineno=390, col_offset=11, end_lineno=390, end_col_offset=14), args=[GeneratorExp(elt=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=391, col_offset=12, end_lineno=391, end_col_offset=22), args=[Name(id='item', ctx=Load(), lineno=391, col_offset=23, end_lineno=391, end_col_offset=27), Attribute(value=Name(id='cst', ctx=Load(), lineno=391, col_offset=29, end_lineno=391, end_col_offset=32), attr='ImportFrom', ctx=Load(), lineno=391, col_offset=29, end_lineno=391, end_col_offset=43)], lineno=391, col_offset=12, end_lineno=391, end_col_offset=44), Call(func=Name(id='isinstance', ctx=Load(), lineno=392, col_offset=16, end_lineno=392, end_col_offset=26), args=[Attribute(value=Name(id='item', ctx=Load(), lineno=392, col_offset=27, end_lineno=392, end_col_offset=31), attr='module', ctx=Load(), lineno=392, col_offset=27, end_lineno=392, end_col_offset=38), Attribute(value=Name(id='cst', ctx=Load(), lineno=392, col_offset=40, end_lineno=392, end_col_offset=43), attr='Name', ctx=Load(), lineno=392, col_offset=40, end_lineno=392, end_col_offset=48)], lineno=392, col_offset=16, end_lineno=392, end_col_offset=49), Compare(left=Attribute(value=Attribute(value=Name(id='item', ctx=Load(), lineno=393, col_offset=16, end_lineno=393, end_col_offset=20), attr='module', ctx=Load(), lineno=393, col_offset=16, end_lineno=393, end_col_offset=27), attr='value', ctx=Load(), lineno=393, col_offset=16, end_lineno=393, end_col_offset=33), ops=[Eq()], comparators=[Constant(value='__future__', lineno=393, col_offset=37, end_lineno=393, end_col_offset=49)], lineno=393, col_offset=16, end_lineno=393, end_col_offset=49)], lineno=391, col_offset=12, end_lineno=393, end_col_offset=49), generators=[comprehension(target=Name(id='item', ctx=Store(), lineno=394, col_offset=16, end_lineno=394, end_col_offset=20), iter=Attribute(value=Name(id='statement', ctx=Load(), lineno=394, col_offset=24, end_lineno=394, end_col_offset=33), attr='body', ctx=Load(), lineno=394, col_offset=24, end_lineno=394, end_col_offset=38), is_async=0)], lineno=390, col_offset=14, end_lineno=395, end_col_offset=9)], lineno=390, col_offset=11, end_lineno=395, end_col_offset=9), body=[Assign(targets=[Name(id='index_after_future', ctx=Store(), lineno=396, col_offset=12, end_lineno=396, end_col_offset=30)], value=BinOp(left=Name(id='position', ctx=Load(), lineno=396, col_offset=33, end_lineno=396, end_col_offset=41), op=Add(), right=Constant(value=1, lineno=396, col_offset=44, end_lineno=396, end_col_offset=45), lineno=396, col_offset=33, end_lineno=396, end_col_offset=45), lineno=396, col_offset=12, end_lineno=396, end_col_offset=45)], lineno=390, col_offset=8, end_lineno=396, end_col_offset=45)], lineno=387, col_offset=4, end_lineno=396, end_col_offset=45), Return(value=Name(id='index_after_future', ctx=Load(), lineno=397, col_offset=11, end_lineno=397, end_col_offset=29), lineno=397, col_offset=4, end_lineno=397, end_col_offset=29)], returns=Name(id='int', ctx=Load(), lineno=385, col_offset=44, end_lineno=385, end_col_offset=47), lineno=385, col_offset=0, end_lineno=397, end_col_offset=29), FunctionDef(name='_pathlib_import_statement', args=arguments(), body=[Return(value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=401, col_offset=11, end_lineno=401, end_col_offset=14), attr='SimpleStatementLine', ctx=Load(), lineno=401, col_offset=11, end_lineno=401, end_col_offset=34), keywords=[keyword(arg='body', value=List(elts=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=403, col_offset=12, end_lineno=403, end_col_offset=15), attr='Import', ctx=Load(), lineno=403, col_offset=12, end_lineno=403, end_col_offset=22), keywords=[keyword(arg='names', value=List(elts=[Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=405, col_offset=20, end_lineno=405, end_col_offset=23), attr='ImportAlias', ctx=Load(), lineno=405, col_offset=20, end_lineno=405, end_col_offset=35), keywords=[keyword(arg='name', value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=406, col_offset=29, end_lineno=406, end_col_offset=32), attr='Name', ctx=Load(), lineno=406, col_offset=29, end_lineno=406, end_col_offset=37), args=[Constant(value='pathlib', lineno=406, col_offset=38, end_lineno=406, end_col_offset=47)], lineno=406, col_offset=29, end_lineno=406, end_col_offset=48), lineno=406, col_offset=24, end_lineno=406, end_col_offset=48)], lineno=405, col_offset=20, end_lineno=407, end_col_offset=21)], ctx=Load(), lineno=404, col_offset=22, end_lineno=408, end_col_offset=17), lineno=404, col_offset=16, end_lineno=408, end_col_offset=17)], lineno=403, col_offset=12, end_lineno=409, end_col_offset=13)], ctx=Load(), lineno=402, col_offset=13, end_lineno=410, end_col_offset=9), lineno=402, col_offset=8, end_lineno=410, end_col_offset=9)], lineno=401, col_offset=11, end_lineno=411, end_col_offset=5), lineno=401, col_offset=4, end_lineno=411, end_col_offset=5)], returns=Attribute(value=Name(id='cst', ctx=Load(), lineno=400, col_offset=35, end_lineno=400, end_col_offset=38), attr='SimpleStatementLine', ctx=Load(), lineno=400, col_offset=35, end_lineno=400, end_col_offset=58), lineno=400, col_offset=0, end_lineno=411, end_col_offset=5), FunctionDef(name='ensure_pathlib_import', args=arguments(args=[arg(arg='module', annotation=Attribute(value=Name(id='cst', ctx=Load(), lineno=415, col_offset=12, end_lineno=415, end_col_offset=15), attr='Module', ctx=Load(), lineno=415, col_offset=12, end_lineno=415, end_col_offset=22), lineno=415, col_offset=4, end_lineno=415, end_col_offset=22)]), body=[Expr(value=Constant(value='Add pathlib import if missing.\n\n    Parameters\n    ----------\n    module : cst.Module\n        Module node to modify.\n\n    Returns\n    -------\n    cst.Module\n        Module with pathlib import added if needed.\n    ', lineno=417, col_offset=4, end_lineno=428, end_col_offset=7), lineno=417, col_offset=4, end_lineno=428, end_col_offset=7), If(test=Call(func=Name(id='_module_has_pathlib', ctx=Load(), lineno=429, col_offset=7, end_lineno=429, end_col_offset=26), args=[Name(id='module', ctx=Load(), lineno=429, col_offset=27, end_lineno=429, end_col_offset=33)], lineno=429, col_offset=7, end_lineno=429, end_col_offset=34), body=[Return(value=Name(id='module', ctx=Load(), lineno=430, col_offset=15, end_lineno=430, end_col_offset=21), lineno=430, col_offset=8, end_lineno=430, end_col_offset=21)], lineno=429, col_offset=4, end_lineno=430, end_col_offset=21), AnnAssign(target=Name(id='new_body', ctx=Store(), lineno=432, col_offset=4, end_lineno=432, end_col_offset=12), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=432, col_offset=14, end_lineno=432, end_col_offset=18), slice=Attribute(value=Name(id='cst', ctx=Load(), lineno=432, col_offset=19, end_lineno=432, end_col_offset=22), attr='BaseStatement', ctx=Load(), lineno=432, col_offset=19, end_lineno=432, end_col_offset=36), ctx=Load(), lineno=432, col_offset=14, end_lineno=432, end_col_offset=37), value=Call(func=Name(id='list', ctx=Load(), lineno=432, col_offset=40, end_lineno=432, end_col_offset=44), args=[Attribute(value=Name(id='module', ctx=Load(), lineno=432, col_offset=45, end_lineno=432, end_col_offset=51), attr='body', ctx=Load(), lineno=432, col_offset=45, end_lineno=432, end_col_offset=56)], lineno=432, col_offset=40, end_lineno=432, end_col_offset=57), simple=1, lineno=432, col_offset=4, end_lineno=432, end_col_offset=57), Expr(value=Call(func=Attribute(value=Name(id='new_body', ctx=Load(), lineno=433, col_offset=4, end_lineno=433, end_col_offset=12), attr='insert', ctx=Load(), lineno=433, col_offset=4, end_lineno=433, end_col_offset=19), args=[Call(func=Name(id='_insertion_index', ctx=Load(), lineno=433, col_offset=20, end_lineno=433, end_col_offset=36), args=[Name(id='module', ctx=Load(), lineno=433, col_offset=37, end_lineno=433, end_col_offset=43)], lineno=433, col_offset=20, end_lineno=433, end_col_offset=44), Call(func=Name(id='_pathlib_import_statement', ctx=Load(), lineno=433, col_offset=46, end_lineno=433, end_col_offset=71), lineno=433, col_offset=46, end_lineno=433, end_col_offset=73)], lineno=433, col_offset=4, end_lineno=433, end_col_offset=74), lineno=433, col_offset=4, end_lineno=433, end_col_offset=74), AnnAssign(target=Name(id='new_body_tuple', ctx=Store(), lineno=434, col_offset=4, end_lineno=434, end_col_offset=18), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=434, col_offset=20, end_lineno=434, end_col_offset=25), slice=Tuple(elts=[Attribute(value=Name(id='cst', ctx=Load(), lineno=434, col_offset=26, end_lineno=434, end_col_offset=29), attr='BaseStatement', ctx=Load(), lineno=434, col_offset=26, end_lineno=434, end_col_offset=43), Constant(value=Ellipsis, lineno=434, col_offset=45, end_lineno=434, end_col_offset=48)], ctx=Load(), lineno=434, col_offset=26, end_lineno=434, end_col_offset=48), ctx=Load(), lineno=434, col_offset=20, end_lineno=434, end_col_offset=49), value=Call(func=Name(id='tuple', ctx=Load(), lineno=434, col_offset=52, end_lineno=434, end_col_offset=57), args=[Name(id='new_body', ctx=Load(), lineno=434, col_offset=58, end_lineno=434, end_col_offset=66)], lineno=434, col_offset=52, end_lineno=434, end_col_offset=67), simple=1, lineno=434, col_offset=4, end_lineno=434, end_col_offset=67), Return(value=Call(func=Attribute(value=Name(id='module', ctx=Load(), lineno=435, col_offset=11, end_lineno=435, end_col_offset=17), attr='with_changes', ctx=Load(), lineno=435, col_offset=11, end_lineno=435, end_col_offset=30), keywords=[keyword(arg='body', value=Name(id='new_body_tuple', ctx=Load(), lineno=435, col_offset=36, end_lineno=435, end_col_offset=50), lineno=435, col_offset=31, end_lineno=435, end_col_offset=50)], lineno=435, col_offset=11, end_lineno=435, end_col_offset=51), lineno=435, col_offset=4, end_lineno=435, end_col_offset=51)], returns=Attribute(value=Name(id='cst', ctx=Load(), lineno=416, col_offset=5, end_lineno=416, end_col_offset=8), attr='Module', ctx=Load(), lineno=416, col_offset=5, end_lineno=416, end_col_offset=15), lineno=414, col_offset=0, end_lineno=435, end_col_offset=51), FunctionDef(name='transform_file', args=arguments(args=[arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=438, col_offset=30, end_lineno=438, end_col_offset=34), lineno=438, col_offset=19, end_lineno=438, end_col_offset=34)], kwonlyargs=[arg(arg='dry_run', annotation=Name(id='bool', ctx=Load(), lineno=438, col_offset=48, end_lineno=438, end_col_offset=52), lineno=438, col_offset=39, end_lineno=438, end_col_offset=52)], kw_defaults=[Constant(value=False, lineno=438, col_offset=55, end_lineno=438, end_col_offset=60)]), body=[Expr(value=Constant(value='Transform a single Python file.\n\n    Parameters\n    ----------\n    file_path : Path\n        Path to Python file to transform.\n    dry_run : bool, optional\n        If True, only report changes without modifying files.\n\n    Returns\n    -------\n    list[str]\n        List of change descriptions.\n    ', lineno=439, col_offset=4, end_lineno=452, end_col_offset=7), lineno=439, col_offset=4, end_lineno=452, end_col_offset=7), Try(body=[Assign(targets=[Name(id='source_code', ctx=Store(), lineno=454, col_offset=8, end_lineno=454, end_col_offset=19)], value=Call(func=Attribute(value=Name(id='file_path', ctx=Load(), lineno=454, col_offset=22, end_lineno=454, end_col_offset=31), attr='read_text', ctx=Load(), lineno=454, col_offset=22, end_lineno=454, end_col_offset=41), keywords=[keyword(arg='encoding', value=Constant(value='utf-8', lineno=454, col_offset=51, end_lineno=454, end_col_offset=58), lineno=454, col_offset=42, end_lineno=454, end_col_offset=58)], lineno=454, col_offset=22, end_lineno=454, end_col_offset=59), lineno=454, col_offset=8, end_lineno=454, end_col_offset=59)], handlers=[ExceptHandler(type=Tuple(elts=[Name(id='OSError', ctx=Load(), lineno=455, col_offset=12, end_lineno=455, end_col_offset=19), Name(id='UnicodeDecodeError', ctx=Load(), lineno=455, col_offset=21, end_lineno=455, end_col_offset=39)], ctx=Load(), lineno=455, col_offset=11, end_lineno=455, end_col_offset=40), body=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=456, col_offset=8, end_lineno=456, end_col_offset=14), attr='exception', ctx=Load(), lineno=456, col_offset=8, end_lineno=456, end_col_offset=24), args=[Constant(value='Failed to read %s', lineno=456, col_offset=25, end_lineno=456, end_col_offset=44), Name(id='file_path', ctx=Load(), lineno=456, col_offset=46, end_lineno=456, end_col_offset=55)], lineno=456, col_offset=8, end_lineno=456, end_col_offset=56), lineno=456, col_offset=8, end_lineno=456, end_col_offset=56), Return(value=List(ctx=Load(), lineno=457, col_offset=15, end_lineno=457, end_col_offset=17), lineno=457, col_offset=8, end_lineno=457, end_col_offset=17)], lineno=455, col_offset=4, end_lineno=457, end_col_offset=17)], lineno=453, col_offset=4, end_lineno=457, end_col_offset=17), Try(body=[Assign(targets=[Name(id='module', ctx=Store(), lineno=460, col_offset=8, end_lineno=460, end_col_offset=14)], value=Call(func=Attribute(value=Name(id='cst', ctx=Load(), lineno=460, col_offset=17, end_lineno=460, end_col_offset=20), attr='parse_module', ctx=Load(), lineno=460, col_offset=17, end_lineno=460, end_col_offset=33), args=[Name(id='source_code', ctx=Load(), lineno=460, col_offset=34, end_lineno=460, end_col_offset=45)], lineno=460, col_offset=17, end_lineno=460, end_col_offset=46), lineno=460, col_offset=8, end_lineno=460, end_col_offset=46)], handlers=[ExceptHandler(type=Attribute(value=Name(id='cst', ctx=Load(), lineno=461, col_offset=11, end_lineno=461, end_col_offset=14), attr='ParserSyntaxError', ctx=Load(), lineno=461, col_offset=11, end_lineno=461, end_col_offset=32), body=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=462, col_offset=8, end_lineno=462, end_col_offset=14), attr='exception', ctx=Load(), lineno=462, col_offset=8, end_lineno=462, end_col_offset=24), args=[Constant(value='Failed to parse %s', lineno=462, col_offset=25, end_lineno=462, end_col_offset=45), Name(id='file_path', ctx=Load(), lineno=462, col_offset=47, end_lineno=462, end_col_offset=56)], lineno=462, col_offset=8, end_lineno=462, end_col_offset=57), lineno=462, col_offset=8, end_lineno=462, end_col_offset=57), Return(value=List(ctx=Load(), lineno=463, col_offset=15, end_lineno=463, end_col_offset=17), lineno=463, col_offset=8, end_lineno=463, end_col_offset=17)], lineno=461, col_offset=4, end_lineno=463, end_col_offset=17)], lineno=459, col_offset=4, end_lineno=463, end_col_offset=17), Assign(targets=[Name(id='transformer', ctx=Store(), lineno=465, col_offset=4, end_lineno=465, end_col_offset=15)], value=Call(func=Name(id='PathlibTransformer', ctx=Load(), lineno=465, col_offset=18, end_lineno=465, end_col_offset=36), lineno=465, col_offset=18, end_lineno=465, end_col_offset=38), lineno=465, col_offset=4, end_lineno=465, end_col_offset=38), Assign(targets=[Name(id='transformed_module', ctx=Store(), lineno=466, col_offset=4, end_lineno=466, end_col_offset=22)], value=Call(func=Attribute(value=Name(id='module', ctx=Load(), lineno=466, col_offset=25, end_lineno=466, end_col_offset=31), attr='visit', ctx=Load(), lineno=466, col_offset=25, end_lineno=466, end_col_offset=37), args=[Name(id='transformer', ctx=Load(), lineno=466, col_offset=38, end_lineno=466, end_col_offset=49)], lineno=466, col_offset=25, end_lineno=466, end_col_offset=50), lineno=466, col_offset=4, end_lineno=466, end_col_offset=50), If(test=Attribute(value=Name(id='transformer', ctx=Load(), lineno=468, col_offset=7, end_lineno=468, end_col_offset=18), attr='needs_pathlib_import', ctx=Load(), lineno=468, col_offset=7, end_lineno=468, end_col_offset=39), body=[Assign(targets=[Name(id='transformed_module', ctx=Store(), lineno=469, col_offset=8, end_lineno=469, end_col_offset=26)], value=Call(func=Name(id='ensure_pathlib_import', ctx=Load(), lineno=469, col_offset=29, end_lineno=469, end_col_offset=50), args=[Name(id='transformed_module', ctx=Load(), lineno=469, col_offset=51, end_lineno=469, end_col_offset=69)], lineno=469, col_offset=29, end_lineno=469, end_col_offset=70), lineno=469, col_offset=8, end_lineno=469, end_col_offset=70)], lineno=468, col_offset=4, end_lineno=469, end_col_offset=70), If(test=Attribute(value=Name(id='transformer', ctx=Load(), lineno=471, col_offset=7, end_lineno=471, end_col_offset=18), attr='changes', ctx=Load(), lineno=471, col_offset=7, end_lineno=471, end_col_offset=26), body=[If(test=UnaryOp(op=Not(), operand=Name(id='dry_run', ctx=Load(), lineno=472, col_offset=15, end_lineno=472, end_col_offset=22), lineno=472, col_offset=11, end_lineno=472, end_col_offset=22), body=[Try(body=[Expr(value=Call(func=Attribute(value=Name(id='file_path', ctx=Load(), lineno=474, col_offset=16, end_lineno=474, end_col_offset=25), attr='write_text', ctx=Load(), lineno=474, col_offset=16, end_lineno=474, end_col_offset=36), args=[Attribute(value=Name(id='transformed_module', ctx=Load(), lineno=475, col_offset=20, end_lineno=475, end_col_offset=38), attr='code', ctx=Load(), lineno=475, col_offset=20, end_lineno=475, end_col_offset=43)], keywords=[keyword(arg='encoding', value=Constant(value='utf-8', lineno=476, col_offset=29, end_lineno=476, end_col_offset=36), lineno=476, col_offset=20, end_lineno=476, end_col_offset=36)], lineno=474, col_offset=16, end_lineno=477, end_col_offset=17), lineno=474, col_offset=16, end_lineno=477, end_col_offset=17), Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=478, col_offset=16, end_lineno=478, end_col_offset=22), attr='info', ctx=Load(), lineno=478, col_offset=16, end_lineno=478, end_col_offset=27), args=[Constant(value='✓ Transformed %s', lineno=478, col_offset=28, end_lineno=478, end_col_offset=48), Name(id='file_path', ctx=Load(), lineno=478, col_offset=50, end_lineno=478, end_col_offset=59)], lineno=478, col_offset=16, end_lineno=478, end_col_offset=60), lineno=478, col_offset=16, end_lineno=478, end_col_offset=60)], handlers=[ExceptHandler(type=Name(id='OSError', ctx=Load(), lineno=479, col_offset=19, end_lineno=479, end_col_offset=26), body=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=480, col_offset=16, end_lineno=480, end_col_offset=22), attr='exception', ctx=Load(), lineno=480, col_offset=16, end_lineno=480, end_col_offset=32), args=[Constant(value='Failed to write %s', lineno=480, col_offset=33, end_lineno=480, end_col_offset=53), Name(id='file_path', ctx=Load(), lineno=480, col_offset=55, end_lineno=480, end_col_offset=64)], lineno=480, col_offset=16, end_lineno=480, end_col_offset=65), lineno=480, col_offset=16, end_lineno=480, end_col_offset=65), Return(value=List(ctx=Load(), lineno=481, col_offset=23, end_lineno=481, end_col_offset=25), lineno=481, col_offset=16, end_lineno=481, end_col_offset=25)], lineno=479, col_offset=12, end_lineno=481, end_col_offset=25)], lineno=473, col_offset=12, end_lineno=481, end_col_offset=25)], orelse=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=483, col_offset=12, end_lineno=483, end_col_offset=18), attr='info', ctx=Load(), lineno=483, col_offset=12, end_lineno=483, end_col_offset=23), args=[Constant(value='[DRY RUN] Would transform %s', lineno=483, col_offset=24, end_lineno=483, end_col_offset=54), Name(id='file_path', ctx=Load(), lineno=483, col_offset=56, end_lineno=483, end_col_offset=65)], lineno=483, col_offset=12, end_lineno=483, end_col_offset=66), lineno=483, col_offset=12, end_lineno=483, end_col_offset=66)], lineno=472, col_offset=8, end_lineno=483, end_col_offset=66)], lineno=471, col_offset=4, end_lineno=483, end_col_offset=66), Return(value=Attribute(value=Name(id='transformer', ctx=Load(), lineno=485, col_offset=11, end_lineno=485, end_col_offset=22), attr='changes', ctx=Load(), lineno=485, col_offset=11, end_lineno=485, end_col_offset=30), lineno=485, col_offset=4, end_lineno=485, end_col_offset=30)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=438, col_offset=65, end_lineno=438, end_col_offset=69), slice=Name(id='str', ctx=Load(), lineno=438, col_offset=70, end_lineno=438, end_col_offset=73), ctx=Load(), lineno=438, col_offset=65, end_lineno=438, end_col_offset=74), lineno=438, col_offset=0, end_lineno=485, end_col_offset=30), FunctionDef(name='main', args=arguments(), body=[Expr(value=Constant(value='Run codemod on target files or directories.\n\n    Returns\n    -------\n    int\n        Exit code (0 on success, 1 on error).\n    ', lineno=489, col_offset=4, end_lineno=495, end_col_offset=7), lineno=489, col_offset=4, end_lineno=495, end_col_offset=7), Assign(targets=[Name(id='args', ctx=Store(), lineno=496, col_offset=4, end_lineno=496, end_col_offset=8)], value=Call(func=Name(id='_parse_args', ctx=Load(), lineno=496, col_offset=11, end_lineno=496, end_col_offset=22), lineno=496, col_offset=11, end_lineno=496, end_col_offset=24), lineno=496, col_offset=4, end_lineno=496, end_col_offset=24), AnnAssign(target=Name(id='all_changes', ctx=Store(), lineno=498, col_offset=4, end_lineno=498, end_col_offset=15), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=498, col_offset=17, end_lineno=498, end_col_offset=21), slice=Tuple(elts=[Name(id='Path', ctx=Load(), lineno=498, col_offset=22, end_lineno=498, end_col_offset=26), Subscript(value=Name(id='list', ctx=Load(), lineno=498, col_offset=28, end_lineno=498, end_col_offset=32), slice=Name(id='str', ctx=Load(), lineno=498, col_offset=33, end_lineno=498, end_col_offset=36), ctx=Load(), lineno=498, col_offset=28, end_lineno=498, end_col_offset=37)], ctx=Load(), lineno=498, col_offset=22, end_lineno=498, end_col_offset=37), ctx=Load(), lineno=498, col_offset=17, end_lineno=498, end_col_offset=38), value=Dict(lineno=498, col_offset=41, end_lineno=498, end_col_offset=43), simple=1, lineno=498, col_offset=4, end_lineno=498, end_col_offset=43), AnnAssign(target=Name(id='target_paths', ctx=Store(), lineno=499, col_offset=4, end_lineno=499, end_col_offset=16), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=499, col_offset=18, end_lineno=499, end_col_offset=22), slice=Name(id='Path', ctx=Load(), lineno=499, col_offset=23, end_lineno=499, end_col_offset=27), ctx=Load(), lineno=499, col_offset=18, end_lineno=499, end_col_offset=28), value=List(ctx=Load(), lineno=499, col_offset=31, end_lineno=499, end_col_offset=33), simple=1, lineno=499, col_offset=4, end_lineno=499, end_col_offset=33), For(target=Name(id='path', ctx=Store(), lineno=501, col_offset=8, end_lineno=501, end_col_offset=12), iter=Attribute(value=Name(id='args', ctx=Load(), lineno=501, col_offset=16, end_lineno=501, end_col_offset=20), attr='targets', ctx=Load(), lineno=501, col_offset=16, end_lineno=501, end_col_offset=28), body=[If(test=BoolOp(op=And(), values=[Call(func=Attribute(value=Name(id='path', ctx=Load(), lineno=502, col_offset=11, end_lineno=502, end_col_offset=15), attr='is_file', ctx=Load(), lineno=502, col_offset=11, end_lineno=502, end_col_offset=23), lineno=502, col_offset=11, end_lineno=502, end_col_offset=25), Compare(left=Attribute(value=Name(id='path', ctx=Load(), lineno=502, col_offset=30, end_lineno=502, end_col_offset=34), attr='suffix', ctx=Load(), lineno=502, col_offset=30, end_lineno=502, end_col_offset=41), ops=[Eq()], comparators=[Constant(value='.py', lineno=502, col_offset=45, end_lineno=502, end_col_offset=50)], lineno=502, col_offset=30, end_lineno=502, end_col_offset=50)], lineno=502, col_offset=11, end_lineno=502, end_col_offset=50), body=[Expr(value=Call(func=Attribute(value=Name(id='target_paths', ctx=Load(), lineno=503, col_offset=12, end_lineno=503, end_col_offset=24), attr='append', ctx=Load(), lineno=503, col_offset=12, end_lineno=503, end_col_offset=31), args=[Name(id='path', ctx=Load(), lineno=503, col_offset=32, end_lineno=503, end_col_offset=36)], lineno=503, col_offset=12, end_lineno=503, end_col_offset=37), lineno=503, col_offset=12, end_lineno=503, end_col_offset=37)], orelse=[If(test=Call(func=Attribute(value=Name(id='path', ctx=Load(), lineno=504, col_offset=13, end_lineno=504, end_col_offset=17), attr='is_dir', ctx=Load(), lineno=504, col_offset=13, end_lineno=504, end_col_offset=24), lineno=504, col_offset=13, end_lineno=504, end_col_offset=26), body=[Expr(value=Call(func=Attribute(value=Name(id='target_paths', ctx=Load(), lineno=505, col_offset=12, end_lineno=505, end_col_offset=24), attr='extend', ctx=Load(), lineno=505, col_offset=12, end_lineno=505, end_col_offset=31), args=[Call(func=Attribute(value=Name(id='path', ctx=Load(), lineno=505, col_offset=32, end_lineno=505, end_col_offset=36), attr='rglob', ctx=Load(), lineno=505, col_offset=32, end_lineno=505, end_col_offset=42), args=[Constant(value='*.py', lineno=505, col_offset=43, end_lineno=505, end_col_offset=49)], lineno=505, col_offset=32, end_lineno=505, end_col_offset=50)], lineno=505, col_offset=12, end_lineno=505, end_col_offset=51), lineno=505, col_offset=12, end_lineno=505, end_col_offset=51)], orelse=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=507, col_offset=12, end_lineno=507, end_col_offset=18), attr='warning', ctx=Load(), lineno=507, col_offset=12, end_lineno=507, end_col_offset=26), args=[Constant(value='Skipping non-Python file: %s', lineno=507, col_offset=27, end_lineno=507, end_col_offset=57), Name(id='path', ctx=Load(), lineno=507, col_offset=59, end_lineno=507, end_col_offset=63)], lineno=507, col_offset=12, end_lineno=507, end_col_offset=64), lineno=507, col_offset=12, end_lineno=507, end_col_offset=64)], lineno=504, col_offset=8, end_lineno=507, end_col_offset=64)], lineno=502, col_offset=8, end_lineno=507, end_col_offset=64)], lineno=501, col_offset=4, end_lineno=507, end_col_offset=64), If(test=UnaryOp(op=Not(), operand=Name(id='target_paths', ctx=Load(), lineno=509, col_offset=11, end_lineno=509, end_col_offset=23), lineno=509, col_offset=7, end_lineno=509, end_col_offset=23), body=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=510, col_offset=8, end_lineno=510, end_col_offset=14), attr='error', ctx=Load(), lineno=510, col_offset=8, end_lineno=510, end_col_offset=20), args=[Constant(value='No Python files found', lineno=510, col_offset=21, end_lineno=510, end_col_offset=44)], lineno=510, col_offset=8, end_lineno=510, end_col_offset=45), lineno=510, col_offset=8, end_lineno=510, end_col_offset=45), Return(value=Constant(value=1, lineno=511, col_offset=15, end_lineno=511, end_col_offset=16), lineno=511, col_offset=8, end_lineno=511, end_col_offset=16)], lineno=509, col_offset=4, end_lineno=511, end_col_offset=16), Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=513, col_offset=4, end_lineno=513, end_col_offset=10), attr='info', ctx=Load(), lineno=513, col_offset=4, end_lineno=513, end_col_offset=15), args=[Constant(value='Processing %d file(s)...', lineno=513, col_offset=16, end_lineno=513, end_col_offset=42), Call(func=Name(id='len', ctx=Load(), lineno=513, col_offset=44, end_lineno=513, end_col_offset=47), args=[Name(id='target_paths', ctx=Load(), lineno=513, col_offset=48, end_lineno=513, end_col_offset=60)], lineno=513, col_offset=44, end_lineno=513, end_col_offset=61)], lineno=513, col_offset=4, end_lineno=513, end_col_offset=62), lineno=513, col_offset=4, end_lineno=513, end_col_offset=62), For(target=Name(id='file_path', ctx=Store(), lineno=515, col_offset=8, end_lineno=515, end_col_offset=17), iter=Name(id='target_paths', ctx=Load(), lineno=515, col_offset=21, end_lineno=515, end_col_offset=33), body=[Assign(targets=[Name(id='changes', ctx=Store(), lineno=516, col_offset=8, end_lineno=516, end_col_offset=15)], value=Call(func=Name(id='transform_file', ctx=Load(), lineno=516, col_offset=18, end_lineno=516, end_col_offset=32), args=[Name(id='file_path', ctx=Load(), lineno=516, col_offset=33, end_lineno=516, end_col_offset=42)], keywords=[keyword(arg='dry_run', value=Attribute(value=Name(id='args', ctx=Load(), lineno=516, col_offset=52, end_lineno=516, end_col_offset=56), attr='dry_run', ctx=Load(), lineno=516, col_offset=52, end_lineno=516, end_col_offset=64), lineno=516, col_offset=44, end_lineno=516, end_col_offset=64)], lineno=516, col_offset=18, end_lineno=516, end_col_offset=65), lineno=516, col_offset=8, end_lineno=516, end_col_offset=65), If(test=Name(id='changes', ctx=Load(), lineno=517, col_offset=11, end_lineno=517, end_col_offset=18), body=[Assign(targets=[Subscript(value=Name(id='all_changes', ctx=Load(), lineno=518, col_offset=12, end_lineno=518, end_col_offset=23), slice=Name(id='file_path', ctx=Load(), lineno=518, col_offset=24, end_lineno=518, end_col_offset=33), ctx=Store(), lineno=518, col_offset=12, end_lineno=518, end_col_offset=34)], value=Name(id='changes', ctx=Load(), lineno=518, col_offset=37, end_lineno=518, end_col_offset=44), lineno=518, col_offset=12, end_lineno=518, end_col_offset=44)], lineno=517, col_offset=8, end_lineno=518, end_col_offset=44)], lineno=515, col_offset=4, end_lineno=518, end_col_offset=44), If(test=Compare(left=Attribute(value=Name(id='args', ctx=Load(), lineno=520, col_offset=7, end_lineno=520, end_col_offset=11), attr='log', ctx=Load(), lineno=520, col_offset=7, end_lineno=520, end_col_offset=15), ops=[IsNot()], comparators=[Constant(value=None, lineno=520, col_offset=23, end_lineno=520, end_col_offset=27)], lineno=520, col_offset=7, end_lineno=520, end_col_offset=27), body=[Assign(targets=[Name(id='log_path', ctx=Store(), lineno=521, col_offset=8, end_lineno=521, end_col_offset=16)], value=Attribute(value=Name(id='args', ctx=Load(), lineno=521, col_offset=19, end_lineno=521, end_col_offset=23), attr='log', ctx=Load(), lineno=521, col_offset=19, end_lineno=521, end_col_offset=27), lineno=521, col_offset=8, end_lineno=521, end_col_offset=27), With(items=[withitem(context_expr=Call(func=Attribute(value=Name(id='log_path', ctx=Load(), lineno=522, col_offset=13, end_lineno=522, end_col_offset=21), attr='open', ctx=Load(), lineno=522, col_offset=13, end_lineno=522, end_col_offset=26), args=[Constant(value='w', lineno=522, col_offset=27, end_lineno=522, end_col_offset=30)], keywords=[keyword(arg='encoding', value=Constant(value='utf-8', lineno=522, col_offset=41, end_lineno=522, end_col_offset=48), lineno=522, col_offset=32, end_lineno=522, end_col_offset=48)], lineno=522, col_offset=13, end_lineno=522, end_col_offset=49), optional_vars=Name(id='f', ctx=Store(), lineno=522, col_offset=53, end_lineno=522, end_col_offset=54))], body=[Expr(value=Call(func=Attribute(value=Name(id='f', ctx=Load(), lineno=523, col_offset=12, end_lineno=523, end_col_offset=13), attr='write', ctx=Load(), lineno=523, col_offset=12, end_lineno=523, end_col_offset=19), args=[Constant(value='Pathlib Codemod Change Log\n', lineno=523, col_offset=20, end_lineno=523, end_col_offset=50)], lineno=523, col_offset=12, end_lineno=523, end_col_offset=51), lineno=523, col_offset=12, end_lineno=523, end_col_offset=51), Expr(value=Call(func=Attribute(value=Name(id='f', ctx=Load(), lineno=524, col_offset=12, end_lineno=524, end_col_offset=13), attr='write', ctx=Load(), lineno=524, col_offset=12, end_lineno=524, end_col_offset=19), args=[BinOp(left=BinOp(left=Constant(value='=', lineno=524, col_offset=20, end_lineno=524, end_col_offset=23), op=Mult(), right=Constant(value=50, lineno=524, col_offset=26, end_lineno=524, end_col_offset=28), lineno=524, col_offset=20, end_lineno=524, end_col_offset=28), op=Add(), right=Constant(value='\n\n', lineno=524, col_offset=31, end_lineno=524, end_col_offset=37), lineno=524, col_offset=20, end_lineno=524, end_col_offset=37)], lineno=524, col_offset=12, end_lineno=524, end_col_offset=38), lineno=524, col_offset=12, end_lineno=524, end_col_offset=38), For(target=Tuple(elts=[Name(id='file_path', ctx=Store(), lineno=525, col_offset=16, end_lineno=525, end_col_offset=25), Name(id='changes', ctx=Store(), lineno=525, col_offset=27, end_lineno=525, end_col_offset=34)], ctx=Store(), lineno=525, col_offset=16, end_lineno=525, end_col_offset=34), iter=Call(func=Name(id='sorted', ctx=Load(), lineno=525, col_offset=38, end_lineno=525, end_col_offset=44), args=[Call(func=Attribute(value=Name(id='all_changes', ctx=Load(), lineno=525, col_offset=45, end_lineno=525, end_col_offset=56), attr='items', ctx=Load(), lineno=525, col_offset=45, end_lineno=525, end_col_offset=62), lineno=525, col_offset=45, end_lineno=525, end_col_offset=64)], lineno=525, col_offset=38, end_lineno=525, end_col_offset=65), body=[Expr(value=Call(func=Attribute(value=Name(id='f', ctx=Load(), lineno=526, col_offset=16, end_lineno=526, end_col_offset=17), attr='write', ctx=Load(), lineno=526, col_offset=16, end_lineno=526, end_col_offset=23), args=[JoinedStr(values=[FormattedValue(value=Name(id='file_path', ctx=Load(), lineno=526, col_offset=27, end_lineno=526, end_col_offset=36), conversion=-1, lineno=526, col_offset=26, end_lineno=526, end_col_offset=37), Constant(value='\n', lineno=526, col_offset=37, end_lineno=526, end_col_offset=39)], lineno=526, col_offset=24, end_lineno=526, end_col_offset=40)], lineno=526, col_offset=16, end_lineno=526, end_col_offset=41), lineno=526, col_offset=16, end_lineno=526, end_col_offset=41), Expr(value=Call(func=Attribute(value=Name(id='f', ctx=Load(), lineno=527, col_offset=16, end_lineno=527, end_col_offset=17), attr='write', ctx=Load(), lineno=527, col_offset=16, end_lineno=527, end_col_offset=23), args=[BinOp(left=BinOp(left=Constant(value='-', lineno=527, col_offset=24, end_lineno=527, end_col_offset=27), op=Mult(), right=Call(func=Name(id='len', ctx=Load(), lineno=527, col_offset=30, end_lineno=527, end_col_offset=33), args=[Call(func=Name(id='str', ctx=Load(), lineno=527, col_offset=34, end_lineno=527, end_col_offset=37), args=[Name(id='file_path', ctx=Load(), lineno=527, col_offset=38, end_lineno=527, end_col_offset=47)], lineno=527, col_offset=34, end_lineno=527, end_col_offset=48)], lineno=527, col_offset=30, end_lineno=527, end_col_offset=49), lineno=527, col_offset=24, end_lineno=527, end_col_offset=49), op=Add(), right=Constant(value='\n', lineno=527, col_offset=52, end_lineno=527, end_col_offset=56), lineno=527, col_offset=24, end_lineno=527, end_col_offset=56)], lineno=527, col_offset=16, end_lineno=527, end_col_offset=57), lineno=527, col_offset=16, end_lineno=527, end_col_offset=57), For(target=Name(id='change', ctx=Store(), lineno=528, col_offset=20, end_lineno=528, end_col_offset=26), iter=Name(id='changes', ctx=Load(), lineno=528, col_offset=30, end_lineno=528, end_col_offset=37), body=[Expr(value=Call(func=Attribute(value=Name(id='f', ctx=Load(), lineno=529, col_offset=20, end_lineno=529, end_col_offset=21), attr='write', ctx=Load(), lineno=529, col_offset=20, end_lineno=529, end_col_offset=27), args=[JoinedStr(values=[Constant(value='  ', lineno=529, col_offset=30, end_lineno=529, end_col_offset=32), FormattedValue(value=Name(id='change', ctx=Load(), lineno=529, col_offset=33, end_lineno=529, end_col_offset=39), conversion=-1, lineno=529, col_offset=32, end_lineno=529, end_col_offset=40), Constant(value='\n', lineno=529, col_offset=40, end_lineno=529, end_col_offset=42)], lineno=529, col_offset=28, end_lineno=529, end_col_offset=43)], lineno=529, col_offset=20, end_lineno=529, end_col_offset=44), lineno=529, col_offset=20, end_lineno=529, end_col_offset=44)], lineno=528, col_offset=16, end_lineno=529, end_col_offset=44), Expr(value=Call(func=Attribute(value=Name(id='f', ctx=Load(), lineno=530, col_offset=16, end_lineno=530, end_col_offset=17), attr='write', ctx=Load(), lineno=530, col_offset=16, end_lineno=530, end_col_offset=23), args=[Constant(value='\n', lineno=530, col_offset=24, end_lineno=530, end_col_offset=28)], lineno=530, col_offset=16, end_lineno=530, end_col_offset=29), lineno=530, col_offset=16, end_lineno=530, end_col_offset=29)], lineno=525, col_offset=12, end_lineno=530, end_col_offset=29)], lineno=522, col_offset=8, end_lineno=530, end_col_offset=29), Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=531, col_offset=8, end_lineno=531, end_col_offset=14), attr='info', ctx=Load(), lineno=531, col_offset=8, end_lineno=531, end_col_offset=19), args=[Constant(value='Change log written to %s', lineno=531, col_offset=20, end_lineno=531, end_col_offset=46), Name(id='log_path', ctx=Load(), lineno=531, col_offset=48, end_lineno=531, end_col_offset=56)], lineno=531, col_offset=8, end_lineno=531, end_col_offset=57), lineno=531, col_offset=8, end_lineno=531, end_col_offset=57)], lineno=520, col_offset=4, end_lineno=531, end_col_offset=57), Assign(targets=[Name(id='total_changes', ctx=Store(), lineno=533, col_offset=4, end_lineno=533, end_col_offset=17)], value=Call(func=Name(id='sum', ctx=Load(), lineno=533, col_offset=20, end_lineno=533, end_col_offset=23), args=[GeneratorExp(elt=Call(func=Name(id='len', ctx=Load(), lineno=533, col_offset=24, end_lineno=533, end_col_offset=27), args=[Name(id='changes', ctx=Load(), lineno=533, col_offset=28, end_lineno=533, end_col_offset=35)], lineno=533, col_offset=24, end_lineno=533, end_col_offset=36), generators=[comprehension(target=Name(id='changes', ctx=Store(), lineno=533, col_offset=41, end_lineno=533, end_col_offset=48), iter=Call(func=Attribute(value=Name(id='all_changes', ctx=Load(), lineno=533, col_offset=52, end_lineno=533, end_col_offset=63), attr='values', ctx=Load(), lineno=533, col_offset=52, end_lineno=533, end_col_offset=70), lineno=533, col_offset=52, end_lineno=533, end_col_offset=72), is_async=0)], lineno=533, col_offset=23, end_lineno=533, end_col_offset=73)], lineno=533, col_offset=20, end_lineno=533, end_col_offset=73), lineno=533, col_offset=4, end_lineno=533, end_col_offset=73), Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=534, col_offset=4, end_lineno=534, end_col_offset=10), attr='info', ctx=Load(), lineno=534, col_offset=4, end_lineno=534, end_col_offset=15), args=[Constant(value='Total transformations: %d in %d file(s)', lineno=534, col_offset=16, end_lineno=534, end_col_offset=57), Name(id='total_changes', ctx=Load(), lineno=534, col_offset=59, end_lineno=534, end_col_offset=72), Call(func=Name(id='len', ctx=Load(), lineno=534, col_offset=74, end_lineno=534, end_col_offset=77), args=[Name(id='all_changes', ctx=Load(), lineno=534, col_offset=78, end_lineno=534, end_col_offset=89)], lineno=534, col_offset=74, end_lineno=534, end_col_offset=90)], lineno=534, col_offset=4, end_lineno=534, end_col_offset=91), lineno=534, col_offset=4, end_lineno=534, end_col_offset=91), Return(value=Constant(value=0, lineno=536, col_offset=11, end_lineno=536, end_col_offset=12), lineno=536, col_offset=4, end_lineno=536, end_col_offset=12)], returns=Name(id='int', ctx=Load(), lineno=488, col_offset=14, end_lineno=488, end_col_offset=17), lineno=488, col_offset=0, end_lineno=536, end_col_offset=12), If(test=Compare(left=Name(id='__name__', ctx=Load(), lineno=539, col_offset=3, end_lineno=539, end_col_offset=11), ops=[Eq()], comparators=[Constant(value='__main__', lineno=539, col_offset=15, end_lineno=539, end_col_offset=25)], lineno=539, col_offset=3, end_lineno=539, end_col_offset=25), body=[Expr(value=Call(func=Attribute(value=Name(id='sys', ctx=Load(), lineno=540, col_offset=4, end_lineno=540, end_col_offset=7), attr='exit', ctx=Load(), lineno=540, col_offset=4, end_lineno=540, end_col_offset=12), args=[Call(func=Name(id='main', ctx=Load(), lineno=540, col_offset=13, end_lineno=540, end_col_offset=17), lineno=540, col_offset=13, end_lineno=540, end_col_offset=19)], lineno=540, col_offset=4, end_lineno=540, end_col_offset=20), lineno=540, col_offset=4, end_lineno=540, end_col_offset=20)], lineno=539, col_offset=0, end_lineno=540, end_col_offset=20)])