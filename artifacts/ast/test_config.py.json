Module(body=[Expr(value=Constant(value='Tests for configuration management with pydantic_settings.', lineno=1, col_offset=0, end_lineno=1, end_col_offset=64), lineno=1, col_offset=0, end_lineno=1, end_col_offset=64), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=3, col_offset=23, end_lineno=3, end_col_offset=34)], level=0, lineno=3, col_offset=0, end_lineno=3, end_col_offset=34), Import(names=[alias(name='os', lineno=5, col_offset=7, end_lineno=5, end_col_offset=9)], lineno=5, col_offset=0, end_lineno=5, end_col_offset=9), Import(names=[alias(name='pytest', lineno=7, col_offset=7, end_lineno=7, end_col_offset=13)], lineno=7, col_offset=0, end_lineno=7, end_col_offset=13), ImportFrom(module='pydantic', names=[alias(name='ValidationError', lineno=8, col_offset=21, end_lineno=8, end_col_offset=36)], level=0, lineno=8, col_offset=0, end_lineno=8, end_col_offset=36), ImportFrom(module='kgfoundry_common.config', names=[alias(name='AppSettings', lineno=10, col_offset=36, end_lineno=10, end_col_offset=47), alias(name='load_config', lineno=10, col_offset=49, end_lineno=10, end_col_offset=60)], level=0, lineno=10, col_offset=0, end_lineno=10, end_col_offset=60), FunctionDef(name='test_defaults', args=arguments(), body=[Expr(value=Constant(value='Test default configuration values.', lineno=14, col_offset=4, end_lineno=14, end_col_offset=44), lineno=14, col_offset=4, end_lineno=14, end_col_offset=44), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=16, col_offset=4, end_lineno=16, end_col_offset=6), attr='environ', ctx=Load(), lineno=16, col_offset=4, end_lineno=16, end_col_offset=14), attr='pop', ctx=Load(), lineno=16, col_offset=4, end_lineno=16, end_col_offset=18), args=[Constant(value='LOG_LEVEL', lineno=16, col_offset=19, end_lineno=16, end_col_offset=30), Constant(value=None, lineno=16, col_offset=32, end_lineno=16, end_col_offset=36)], lineno=16, col_offset=4, end_lineno=16, end_col_offset=37), lineno=16, col_offset=4, end_lineno=16, end_col_offset=37), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=17, col_offset=4, end_lineno=17, end_col_offset=6), attr='environ', ctx=Load(), lineno=17, col_offset=4, end_lineno=17, end_col_offset=14), attr='pop', ctx=Load(), lineno=17, col_offset=4, end_lineno=17, end_col_offset=18), args=[Constant(value='LOG_FORMAT', lineno=17, col_offset=19, end_lineno=17, end_col_offset=31), Constant(value=None, lineno=17, col_offset=33, end_lineno=17, end_col_offset=37)], lineno=17, col_offset=4, end_lineno=17, end_col_offset=38), lineno=17, col_offset=4, end_lineno=17, end_col_offset=38), Expr(value=Call(func=Name(id='load_config', ctx=Load(), lineno=20, col_offset=4, end_lineno=20, end_col_offset=15), keywords=[keyword(arg='reload', value=Constant(value=True, lineno=20, col_offset=23, end_lineno=20, end_col_offset=27), lineno=20, col_offset=16, end_lineno=20, end_col_offset=27)], lineno=20, col_offset=4, end_lineno=20, end_col_offset=28), lineno=20, col_offset=4, end_lineno=20, end_col_offset=28), Assign(targets=[Name(id='settings', ctx=Store(), lineno=21, col_offset=4, end_lineno=21, end_col_offset=12)], value=Call(func=Name(id='AppSettings', ctx=Load(), lineno=21, col_offset=15, end_lineno=21, end_col_offset=26), lineno=21, col_offset=15, end_lineno=21, end_col_offset=28), lineno=21, col_offset=4, end_lineno=21, end_col_offset=28), Assert(test=Compare(left=Attribute(value=Name(id='settings', ctx=Load(), lineno=23, col_offset=11, end_lineno=23, end_col_offset=19), attr='log_level', ctx=Load(), lineno=23, col_offset=11, end_lineno=23, end_col_offset=29), ops=[Eq()], comparators=[Constant(value='INFO', lineno=23, col_offset=33, end_lineno=23, end_col_offset=39)], lineno=23, col_offset=11, end_lineno=23, end_col_offset=39), lineno=23, col_offset=4, end_lineno=23, end_col_offset=39), Assert(test=Compare(left=Attribute(value=Name(id='settings', ctx=Load(), lineno=24, col_offset=11, end_lineno=24, end_col_offset=19), attr='log_format', ctx=Load(), lineno=24, col_offset=11, end_lineno=24, end_col_offset=30), ops=[Eq()], comparators=[Constant(value='json', lineno=24, col_offset=34, end_lineno=24, end_col_offset=40)], lineno=24, col_offset=11, end_lineno=24, end_col_offset=40), lineno=24, col_offset=4, end_lineno=24, end_col_offset=40)], returns=Constant(value=None, lineno=13, col_offset=23, end_lineno=13, end_col_offset=27), lineno=13, col_offset=0, end_lineno=24, end_col_offset=40), FunctionDef(name='test_env_override', args=arguments(), body=[Expr(value=Constant(value='Test environment variable overrides.', lineno=28, col_offset=4, end_lineno=28, end_col_offset=46), lineno=28, col_offset=4, end_lineno=28, end_col_offset=46), Assign(targets=[Subscript(value=Attribute(value=Name(id='os', ctx=Load(), lineno=29, col_offset=4, end_lineno=29, end_col_offset=6), attr='environ', ctx=Load(), lineno=29, col_offset=4, end_lineno=29, end_col_offset=14), slice=Constant(value='LOG_LEVEL', lineno=29, col_offset=15, end_lineno=29, end_col_offset=26), ctx=Store(), lineno=29, col_offset=4, end_lineno=29, end_col_offset=27)], value=Constant(value='DEBUG', lineno=29, col_offset=30, end_lineno=29, end_col_offset=37), lineno=29, col_offset=4, end_lineno=29, end_col_offset=37), Assign(targets=[Subscript(value=Attribute(value=Name(id='os', ctx=Load(), lineno=30, col_offset=4, end_lineno=30, end_col_offset=6), attr='environ', ctx=Load(), lineno=30, col_offset=4, end_lineno=30, end_col_offset=14), slice=Constant(value='LOG_FORMAT', lineno=30, col_offset=15, end_lineno=30, end_col_offset=27), ctx=Store(), lineno=30, col_offset=4, end_lineno=30, end_col_offset=28)], value=Constant(value='text', lineno=30, col_offset=31, end_lineno=30, end_col_offset=37), lineno=30, col_offset=4, end_lineno=30, end_col_offset=37), Assign(targets=[Name(id='settings', ctx=Store(), lineno=32, col_offset=4, end_lineno=32, end_col_offset=12)], value=Call(func=Name(id='AppSettings', ctx=Load(), lineno=32, col_offset=15, end_lineno=32, end_col_offset=26), lineno=32, col_offset=15, end_lineno=32, end_col_offset=28), lineno=32, col_offset=4, end_lineno=32, end_col_offset=28), Assert(test=Compare(left=Attribute(value=Name(id='settings', ctx=Load(), lineno=34, col_offset=11, end_lineno=34, end_col_offset=19), attr='log_level', ctx=Load(), lineno=34, col_offset=11, end_lineno=34, end_col_offset=29), ops=[Eq()], comparators=[Constant(value='DEBUG', lineno=34, col_offset=33, end_lineno=34, end_col_offset=40)], lineno=34, col_offset=11, end_lineno=34, end_col_offset=40), lineno=34, col_offset=4, end_lineno=34, end_col_offset=40), Assert(test=Compare(left=Attribute(value=Name(id='settings', ctx=Load(), lineno=35, col_offset=11, end_lineno=35, end_col_offset=19), attr='log_format', ctx=Load(), lineno=35, col_offset=11, end_lineno=35, end_col_offset=30), ops=[Eq()], comparators=[Constant(value='text', lineno=35, col_offset=34, end_lineno=35, end_col_offset=40)], lineno=35, col_offset=11, end_lineno=35, end_col_offset=40), lineno=35, col_offset=4, end_lineno=35, end_col_offset=40), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=38, col_offset=4, end_lineno=38, end_col_offset=6), attr='environ', ctx=Load(), lineno=38, col_offset=4, end_lineno=38, end_col_offset=14), attr='pop', ctx=Load(), lineno=38, col_offset=4, end_lineno=38, end_col_offset=18), args=[Constant(value='LOG_LEVEL', lineno=38, col_offset=19, end_lineno=38, end_col_offset=30), Constant(value=None, lineno=38, col_offset=32, end_lineno=38, end_col_offset=36)], lineno=38, col_offset=4, end_lineno=38, end_col_offset=37), lineno=38, col_offset=4, end_lineno=38, end_col_offset=37), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=39, col_offset=4, end_lineno=39, end_col_offset=6), attr='environ', ctx=Load(), lineno=39, col_offset=4, end_lineno=39, end_col_offset=14), attr='pop', ctx=Load(), lineno=39, col_offset=4, end_lineno=39, end_col_offset=18), args=[Constant(value='LOG_FORMAT', lineno=39, col_offset=19, end_lineno=39, end_col_offset=31), Constant(value=None, lineno=39, col_offset=33, end_lineno=39, end_col_offset=37)], lineno=39, col_offset=4, end_lineno=39, end_col_offset=38), lineno=39, col_offset=4, end_lineno=39, end_col_offset=38)], returns=Constant(value=None, lineno=27, col_offset=27, end_lineno=27, end_col_offset=31), lineno=27, col_offset=0, end_lineno=39, end_col_offset=38), FunctionDef(name='test_case_insensitive', args=arguments(), body=[Expr(value=Constant(value='Test that log level validation is case-insensitive.', lineno=43, col_offset=4, end_lineno=43, end_col_offset=61), lineno=43, col_offset=4, end_lineno=43, end_col_offset=61), Assign(targets=[Subscript(value=Attribute(value=Name(id='os', ctx=Load(), lineno=44, col_offset=4, end_lineno=44, end_col_offset=6), attr='environ', ctx=Load(), lineno=44, col_offset=4, end_lineno=44, end_col_offset=14), slice=Constant(value='LOG_LEVEL', lineno=44, col_offset=15, end_lineno=44, end_col_offset=26), ctx=Store(), lineno=44, col_offset=4, end_lineno=44, end_col_offset=27)], value=Constant(value='debug', lineno=44, col_offset=30, end_lineno=44, end_col_offset=37), lineno=44, col_offset=4, end_lineno=44, end_col_offset=37), Assign(targets=[Name(id='settings', ctx=Store(), lineno=46, col_offset=4, end_lineno=46, end_col_offset=12)], value=Call(func=Name(id='AppSettings', ctx=Load(), lineno=46, col_offset=15, end_lineno=46, end_col_offset=26), lineno=46, col_offset=15, end_lineno=46, end_col_offset=28), lineno=46, col_offset=4, end_lineno=46, end_col_offset=28), Assert(test=Compare(left=Attribute(value=Name(id='settings', ctx=Load(), lineno=48, col_offset=11, end_lineno=48, end_col_offset=19), attr='log_level', ctx=Load(), lineno=48, col_offset=11, end_lineno=48, end_col_offset=29), ops=[Eq()], comparators=[Constant(value='DEBUG', lineno=48, col_offset=33, end_lineno=48, end_col_offset=40)], lineno=48, col_offset=11, end_lineno=48, end_col_offset=40), lineno=48, col_offset=4, end_lineno=48, end_col_offset=40), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=51, col_offset=4, end_lineno=51, end_col_offset=6), attr='environ', ctx=Load(), lineno=51, col_offset=4, end_lineno=51, end_col_offset=14), attr='pop', ctx=Load(), lineno=51, col_offset=4, end_lineno=51, end_col_offset=18), args=[Constant(value='LOG_LEVEL', lineno=51, col_offset=19, end_lineno=51, end_col_offset=30), Constant(value=None, lineno=51, col_offset=32, end_lineno=51, end_col_offset=36)], lineno=51, col_offset=4, end_lineno=51, end_col_offset=37), lineno=51, col_offset=4, end_lineno=51, end_col_offset=37)], returns=Constant(value=None, lineno=42, col_offset=31, end_lineno=42, end_col_offset=35), lineno=42, col_offset=0, end_lineno=51, end_col_offset=37), FunctionDef(name='test_invalid_log_level', args=arguments(), body=[Expr(value=Constant(value='Test that invalid log level raises ValueError.', lineno=55, col_offset=4, end_lineno=55, end_col_offset=56), lineno=55, col_offset=4, end_lineno=55, end_col_offset=56), Assign(targets=[Subscript(value=Attribute(value=Name(id='os', ctx=Load(), lineno=56, col_offset=4, end_lineno=56, end_col_offset=6), attr='environ', ctx=Load(), lineno=56, col_offset=4, end_lineno=56, end_col_offset=14), slice=Constant(value='LOG_LEVEL', lineno=56, col_offset=15, end_lineno=56, end_col_offset=26), ctx=Store(), lineno=56, col_offset=4, end_lineno=56, end_col_offset=27)], value=Constant(value='INVALID', lineno=56, col_offset=30, end_lineno=56, end_col_offset=39), lineno=56, col_offset=4, end_lineno=56, end_col_offset=39), With(items=[withitem(context_expr=Call(func=Attribute(value=Name(id='pytest', ctx=Load(), lineno=58, col_offset=9, end_lineno=58, end_col_offset=15), attr='raises', ctx=Load(), lineno=58, col_offset=9, end_lineno=58, end_col_offset=22), args=[Name(id='ValueError', ctx=Load(), lineno=58, col_offset=23, end_lineno=58, end_col_offset=33)], keywords=[keyword(arg='match', value=Constant(value='Invalid log level', lineno=58, col_offset=41, end_lineno=58, end_col_offset=60), lineno=58, col_offset=35, end_lineno=58, end_col_offset=60)], lineno=58, col_offset=9, end_lineno=58, end_col_offset=61))], body=[Expr(value=Call(func=Name(id='AppSettings', ctx=Load(), lineno=59, col_offset=8, end_lineno=59, end_col_offset=19), lineno=59, col_offset=8, end_lineno=59, end_col_offset=21), lineno=59, col_offset=8, end_lineno=59, end_col_offset=21)], lineno=58, col_offset=4, end_lineno=59, end_col_offset=21), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=62, col_offset=4, end_lineno=62, end_col_offset=6), attr='environ', ctx=Load(), lineno=62, col_offset=4, end_lineno=62, end_col_offset=14), attr='pop', ctx=Load(), lineno=62, col_offset=4, end_lineno=62, end_col_offset=18), args=[Constant(value='LOG_LEVEL', lineno=62, col_offset=19, end_lineno=62, end_col_offset=30), Constant(value=None, lineno=62, col_offset=32, end_lineno=62, end_col_offset=36)], lineno=62, col_offset=4, end_lineno=62, end_col_offset=37), lineno=62, col_offset=4, end_lineno=62, end_col_offset=37)], returns=Constant(value=None, lineno=54, col_offset=32, end_lineno=54, end_col_offset=36), lineno=54, col_offset=0, end_lineno=62, end_col_offset=37), FunctionDef(name='test_invalid_log_format', args=arguments(), body=[Expr(value=Constant(value='Test that invalid log format raises ValueError.', lineno=66, col_offset=4, end_lineno=66, end_col_offset=57), lineno=66, col_offset=4, end_lineno=66, end_col_offset=57), Assign(targets=[Subscript(value=Attribute(value=Name(id='os', ctx=Load(), lineno=67, col_offset=4, end_lineno=67, end_col_offset=6), attr='environ', ctx=Load(), lineno=67, col_offset=4, end_lineno=67, end_col_offset=14), slice=Constant(value='LOG_FORMAT', lineno=67, col_offset=15, end_lineno=67, end_col_offset=27), ctx=Store(), lineno=67, col_offset=4, end_lineno=67, end_col_offset=28)], value=Constant(value='xml', lineno=67, col_offset=31, end_lineno=67, end_col_offset=36), lineno=67, col_offset=4, end_lineno=67, end_col_offset=36), With(items=[withitem(context_expr=Call(func=Attribute(value=Name(id='pytest', ctx=Load(), lineno=69, col_offset=9, end_lineno=69, end_col_offset=15), attr='raises', ctx=Load(), lineno=69, col_offset=9, end_lineno=69, end_col_offset=22), args=[Name(id='ValueError', ctx=Load(), lineno=69, col_offset=23, end_lineno=69, end_col_offset=33)], keywords=[keyword(arg='match', value=Constant(value='Invalid log format', lineno=69, col_offset=41, end_lineno=69, end_col_offset=61), lineno=69, col_offset=35, end_lineno=69, end_col_offset=61)], lineno=69, col_offset=9, end_lineno=69, end_col_offset=62))], body=[Expr(value=Call(func=Name(id='AppSettings', ctx=Load(), lineno=70, col_offset=8, end_lineno=70, end_col_offset=19), lineno=70, col_offset=8, end_lineno=70, end_col_offset=21), lineno=70, col_offset=8, end_lineno=70, end_col_offset=21)], lineno=69, col_offset=4, end_lineno=70, end_col_offset=21), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=73, col_offset=4, end_lineno=73, end_col_offset=6), attr='environ', ctx=Load(), lineno=73, col_offset=4, end_lineno=73, end_col_offset=14), attr='pop', ctx=Load(), lineno=73, col_offset=4, end_lineno=73, end_col_offset=18), args=[Constant(value='LOG_FORMAT', lineno=73, col_offset=19, end_lineno=73, end_col_offset=31), Constant(value=None, lineno=73, col_offset=33, end_lineno=73, end_col_offset=37)], lineno=73, col_offset=4, end_lineno=73, end_col_offset=38), lineno=73, col_offset=4, end_lineno=73, end_col_offset=38)], returns=Constant(value=None, lineno=65, col_offset=33, end_lineno=65, end_col_offset=37), lineno=65, col_offset=0, end_lineno=73, end_col_offset=38), FunctionDef(name='test_frozen', args=arguments(), body=[Expr(value=Constant(value='Test that AppSettings is frozen (immutable).', lineno=77, col_offset=4, end_lineno=77, end_col_offset=54), lineno=77, col_offset=4, end_lineno=77, end_col_offset=54), Assign(targets=[Name(id='settings', ctx=Store(), lineno=78, col_offset=4, end_lineno=78, end_col_offset=12)], value=Call(func=Name(id='AppSettings', ctx=Load(), lineno=78, col_offset=15, end_lineno=78, end_col_offset=26), lineno=78, col_offset=15, end_lineno=78, end_col_offset=28), lineno=78, col_offset=4, end_lineno=78, end_col_offset=28), Assign(targets=[Name(id='field_name', ctx=Store(), lineno=79, col_offset=4, end_lineno=79, end_col_offset=14)], value=Constant(value='log_level', lineno=79, col_offset=17, end_lineno=79, end_col_offset=28), lineno=79, col_offset=4, end_lineno=79, end_col_offset=28), With(items=[withitem(context_expr=Call(func=Attribute(value=Name(id='pytest', ctx=Load(), lineno=80, col_offset=9, end_lineno=80, end_col_offset=15), attr='raises', ctx=Load(), lineno=80, col_offset=9, end_lineno=80, end_col_offset=22), args=[Name(id='ValidationError', ctx=Load(), lineno=80, col_offset=23, end_lineno=80, end_col_offset=38)], lineno=80, col_offset=9, end_lineno=80, end_col_offset=39))], body=[Expr(value=Call(func=Name(id='setattr', ctx=Load(), lineno=81, col_offset=8, end_lineno=81, end_col_offset=15), args=[Name(id='settings', ctx=Load(), lineno=81, col_offset=16, end_lineno=81, end_col_offset=24), Name(id='field_name', ctx=Load(), lineno=81, col_offset=26, end_lineno=81, end_col_offset=36), Constant(value='WARNING', lineno=81, col_offset=38, end_lineno=81, end_col_offset=47)], lineno=81, col_offset=8, end_lineno=81, end_col_offset=48), lineno=81, col_offset=8, end_lineno=81, end_col_offset=48)], lineno=80, col_offset=4, end_lineno=81, end_col_offset=48)], returns=Constant(value=None, lineno=76, col_offset=21, end_lineno=76, end_col_offset=25), lineno=76, col_offset=0, end_lineno=81, end_col_offset=48), FunctionDef(name='test_load_config_caching', args=arguments(), body=[Expr(value=Constant(value='Test that load_config caches results.', lineno=85, col_offset=4, end_lineno=85, end_col_offset=47), lineno=85, col_offset=4, end_lineno=85, end_col_offset=47), Expr(value=Call(func=Name(id='load_config', ctx=Load(), lineno=87, col_offset=4, end_lineno=87, end_col_offset=15), keywords=[keyword(arg='reload', value=Constant(value=True, lineno=87, col_offset=23, end_lineno=87, end_col_offset=27), lineno=87, col_offset=16, end_lineno=87, end_col_offset=27)], lineno=87, col_offset=4, end_lineno=87, end_col_offset=28), lineno=87, col_offset=4, end_lineno=87, end_col_offset=28), Assign(targets=[Name(id='config1', ctx=Store(), lineno=88, col_offset=4, end_lineno=88, end_col_offset=11)], value=Call(func=Name(id='load_config', ctx=Load(), lineno=88, col_offset=14, end_lineno=88, end_col_offset=25), lineno=88, col_offset=14, end_lineno=88, end_col_offset=27), lineno=88, col_offset=4, end_lineno=88, end_col_offset=27), Assign(targets=[Name(id='config2', ctx=Store(), lineno=89, col_offset=4, end_lineno=89, end_col_offset=11)], value=Call(func=Name(id='load_config', ctx=Load(), lineno=89, col_offset=14, end_lineno=89, end_col_offset=25), lineno=89, col_offset=14, end_lineno=89, end_col_offset=27), lineno=89, col_offset=4, end_lineno=89, end_col_offset=27), Assert(test=Compare(left=Name(id='config1', ctx=Load(), lineno=92, col_offset=11, end_lineno=92, end_col_offset=18), ops=[Is()], comparators=[Name(id='config2', ctx=Load(), lineno=92, col_offset=22, end_lineno=92, end_col_offset=29)], lineno=92, col_offset=11, end_lineno=92, end_col_offset=29), lineno=92, col_offset=4, end_lineno=92, end_col_offset=29)], returns=Constant(value=None, lineno=84, col_offset=34, end_lineno=84, end_col_offset=38), lineno=84, col_offset=0, end_lineno=92, end_col_offset=29), FunctionDef(name='test_load_config_reload', args=arguments(), body=[Expr(value=Constant(value='Test that reload=True clears cache.', lineno=96, col_offset=4, end_lineno=96, end_col_offset=45), lineno=96, col_offset=4, end_lineno=96, end_col_offset=45), Assign(targets=[Subscript(value=Attribute(value=Name(id='os', ctx=Load(), lineno=97, col_offset=4, end_lineno=97, end_col_offset=6), attr='environ', ctx=Load(), lineno=97, col_offset=4, end_lineno=97, end_col_offset=14), slice=Constant(value='LOG_LEVEL', lineno=97, col_offset=15, end_lineno=97, end_col_offset=26), ctx=Store(), lineno=97, col_offset=4, end_lineno=97, end_col_offset=27)], value=Constant(value='INFO', lineno=97, col_offset=30, end_lineno=97, end_col_offset=36), lineno=97, col_offset=4, end_lineno=97, end_col_offset=36), Assign(targets=[Name(id='config1', ctx=Store(), lineno=100, col_offset=4, end_lineno=100, end_col_offset=11)], value=Call(func=Name(id='load_config', ctx=Load(), lineno=100, col_offset=14, end_lineno=100, end_col_offset=25), keywords=[keyword(arg='reload', value=Constant(value=True, lineno=100, col_offset=33, end_lineno=100, end_col_offset=37), lineno=100, col_offset=26, end_lineno=100, end_col_offset=37)], lineno=100, col_offset=14, end_lineno=100, end_col_offset=38), lineno=100, col_offset=4, end_lineno=100, end_col_offset=38), Assert(test=Compare(left=Attribute(value=Name(id='config1', ctx=Load(), lineno=101, col_offset=11, end_lineno=101, end_col_offset=18), attr='log_level', ctx=Load(), lineno=101, col_offset=11, end_lineno=101, end_col_offset=28), ops=[Eq()], comparators=[Constant(value='INFO', lineno=101, col_offset=32, end_lineno=101, end_col_offset=38)], lineno=101, col_offset=11, end_lineno=101, end_col_offset=38), lineno=101, col_offset=4, end_lineno=101, end_col_offset=38), Assign(targets=[Subscript(value=Attribute(value=Name(id='os', ctx=Load(), lineno=104, col_offset=4, end_lineno=104, end_col_offset=6), attr='environ', ctx=Load(), lineno=104, col_offset=4, end_lineno=104, end_col_offset=14), slice=Constant(value='LOG_LEVEL', lineno=104, col_offset=15, end_lineno=104, end_col_offset=26), ctx=Store(), lineno=104, col_offset=4, end_lineno=104, end_col_offset=27)], value=Constant(value='WARNING', lineno=104, col_offset=30, end_lineno=104, end_col_offset=39), lineno=104, col_offset=4, end_lineno=104, end_col_offset=39), Assign(targets=[Name(id='config2', ctx=Store(), lineno=107, col_offset=4, end_lineno=107, end_col_offset=11)], value=Call(func=Name(id='load_config', ctx=Load(), lineno=107, col_offset=14, end_lineno=107, end_col_offset=25), keywords=[keyword(arg='reload', value=Constant(value=False, lineno=107, col_offset=33, end_lineno=107, end_col_offset=38), lineno=107, col_offset=26, end_lineno=107, end_col_offset=38)], lineno=107, col_offset=14, end_lineno=107, end_col_offset=39), lineno=107, col_offset=4, end_lineno=107, end_col_offset=39), Assert(test=Compare(left=Attribute(value=Name(id='config2', ctx=Load(), lineno=108, col_offset=11, end_lineno=108, end_col_offset=18), attr='log_level', ctx=Load(), lineno=108, col_offset=11, end_lineno=108, end_col_offset=28), ops=[Eq()], comparators=[Constant(value='INFO', lineno=108, col_offset=32, end_lineno=108, end_col_offset=38)], lineno=108, col_offset=11, end_lineno=108, end_col_offset=38), lineno=108, col_offset=4, end_lineno=108, end_col_offset=38), Assign(targets=[Name(id='config3', ctx=Store(), lineno=111, col_offset=4, end_lineno=111, end_col_offset=11)], value=Call(func=Name(id='load_config', ctx=Load(), lineno=111, col_offset=14, end_lineno=111, end_col_offset=25), keywords=[keyword(arg='reload', value=Constant(value=True, lineno=111, col_offset=33, end_lineno=111, end_col_offset=37), lineno=111, col_offset=26, end_lineno=111, end_col_offset=37)], lineno=111, col_offset=14, end_lineno=111, end_col_offset=38), lineno=111, col_offset=4, end_lineno=111, end_col_offset=38), Assert(test=Compare(left=Attribute(value=Name(id='config3', ctx=Load(), lineno=112, col_offset=11, end_lineno=112, end_col_offset=18), attr='log_level', ctx=Load(), lineno=112, col_offset=11, end_lineno=112, end_col_offset=28), ops=[Eq()], comparators=[Constant(value='WARNING', lineno=112, col_offset=32, end_lineno=112, end_col_offset=41)], lineno=112, col_offset=11, end_lineno=112, end_col_offset=41), lineno=112, col_offset=4, end_lineno=112, end_col_offset=41), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=115, col_offset=4, end_lineno=115, end_col_offset=6), attr='environ', ctx=Load(), lineno=115, col_offset=4, end_lineno=115, end_col_offset=14), attr='pop', ctx=Load(), lineno=115, col_offset=4, end_lineno=115, end_col_offset=18), args=[Constant(value='LOG_LEVEL', lineno=115, col_offset=19, end_lineno=115, end_col_offset=30), Constant(value=None, lineno=115, col_offset=32, end_lineno=115, end_col_offset=36)], lineno=115, col_offset=4, end_lineno=115, end_col_offset=37), lineno=115, col_offset=4, end_lineno=115, end_col_offset=37)], returns=Constant(value=None, lineno=95, col_offset=33, end_lineno=95, end_col_offset=37), lineno=95, col_offset=0, end_lineno=115, end_col_offset=37), FunctionDef(name='test_valid_log_levels', args=arguments(args=[arg(arg='log_level', annotation=Name(id='str', ctx=Load(), lineno=128, col_offset=37, end_lineno=128, end_col_offset=40), lineno=128, col_offset=26, end_lineno=128, end_col_offset=40)]), body=[Expr(value=Constant(value='Test all valid log levels.', lineno=129, col_offset=4, end_lineno=129, end_col_offset=36), lineno=129, col_offset=4, end_lineno=129, end_col_offset=36), Assign(targets=[Subscript(value=Attribute(value=Name(id='os', ctx=Load(), lineno=130, col_offset=4, end_lineno=130, end_col_offset=6), attr='environ', ctx=Load(), lineno=130, col_offset=4, end_lineno=130, end_col_offset=14), slice=Constant(value='LOG_LEVEL', lineno=130, col_offset=15, end_lineno=130, end_col_offset=26), ctx=Store(), lineno=130, col_offset=4, end_lineno=130, end_col_offset=27)], value=Name(id='log_level', ctx=Load(), lineno=130, col_offset=30, end_lineno=130, end_col_offset=39), lineno=130, col_offset=4, end_lineno=130, end_col_offset=39), Assign(targets=[Name(id='settings', ctx=Store(), lineno=132, col_offset=4, end_lineno=132, end_col_offset=12)], value=Call(func=Name(id='AppSettings', ctx=Load(), lineno=132, col_offset=15, end_lineno=132, end_col_offset=26), lineno=132, col_offset=15, end_lineno=132, end_col_offset=28), lineno=132, col_offset=4, end_lineno=132, end_col_offset=28), Assert(test=Compare(left=Attribute(value=Name(id='settings', ctx=Load(), lineno=134, col_offset=11, end_lineno=134, end_col_offset=19), attr='log_level', ctx=Load(), lineno=134, col_offset=11, end_lineno=134, end_col_offset=29), ops=[Eq()], comparators=[Name(id='log_level', ctx=Load(), lineno=134, col_offset=33, end_lineno=134, end_col_offset=42)], lineno=134, col_offset=11, end_lineno=134, end_col_offset=42), lineno=134, col_offset=4, end_lineno=134, end_col_offset=42), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=137, col_offset=4, end_lineno=137, end_col_offset=6), attr='environ', ctx=Load(), lineno=137, col_offset=4, end_lineno=137, end_col_offset=14), attr='pop', ctx=Load(), lineno=137, col_offset=4, end_lineno=137, end_col_offset=18), args=[Constant(value='LOG_LEVEL', lineno=137, col_offset=19, end_lineno=137, end_col_offset=30), Constant(value=None, lineno=137, col_offset=32, end_lineno=137, end_col_offset=36)], lineno=137, col_offset=4, end_lineno=137, end_col_offset=37), lineno=137, col_offset=4, end_lineno=137, end_col_offset=37)], decorator_list=[Call(func=Attribute(value=Attribute(value=Name(id='pytest', ctx=Load(), lineno=118, col_offset=1, end_lineno=118, end_col_offset=7), attr='mark', ctx=Load(), lineno=118, col_offset=1, end_lineno=118, end_col_offset=12), attr='parametrize', ctx=Load(), lineno=118, col_offset=1, end_lineno=118, end_col_offset=24), args=[Constant(value='log_level', lineno=119, col_offset=4, end_lineno=119, end_col_offset=15), List(elts=[Constant(value='DEBUG', lineno=121, col_offset=8, end_lineno=121, end_col_offset=15), Constant(value='INFO', lineno=122, col_offset=8, end_lineno=122, end_col_offset=14), Constant(value='WARNING', lineno=123, col_offset=8, end_lineno=123, end_col_offset=17), Constant(value='ERROR', lineno=124, col_offset=8, end_lineno=124, end_col_offset=15), Constant(value='CRITICAL', lineno=125, col_offset=8, end_lineno=125, end_col_offset=18)], ctx=Load(), lineno=120, col_offset=4, end_lineno=126, end_col_offset=5)], lineno=118, col_offset=1, end_lineno=127, end_col_offset=1)], returns=Constant(value=None, lineno=128, col_offset=45, end_lineno=128, end_col_offset=49), lineno=128, col_offset=0, end_lineno=137, end_col_offset=37), FunctionDef(name='test_valid_log_formats', args=arguments(args=[arg(arg='log_format', annotation=Name(id='str', ctx=Load(), lineno=147, col_offset=39, end_lineno=147, end_col_offset=42), lineno=147, col_offset=27, end_lineno=147, end_col_offset=42)]), body=[Expr(value=Constant(value='Test all valid log formats.', lineno=148, col_offset=4, end_lineno=148, end_col_offset=37), lineno=148, col_offset=4, end_lineno=148, end_col_offset=37), Assign(targets=[Subscript(value=Attribute(value=Name(id='os', ctx=Load(), lineno=149, col_offset=4, end_lineno=149, end_col_offset=6), attr='environ', ctx=Load(), lineno=149, col_offset=4, end_lineno=149, end_col_offset=14), slice=Constant(value='LOG_FORMAT', lineno=149, col_offset=15, end_lineno=149, end_col_offset=27), ctx=Store(), lineno=149, col_offset=4, end_lineno=149, end_col_offset=28)], value=Name(id='log_format', ctx=Load(), lineno=149, col_offset=31, end_lineno=149, end_col_offset=41), lineno=149, col_offset=4, end_lineno=149, end_col_offset=41), Assign(targets=[Name(id='settings', ctx=Store(), lineno=151, col_offset=4, end_lineno=151, end_col_offset=12)], value=Call(func=Name(id='AppSettings', ctx=Load(), lineno=151, col_offset=15, end_lineno=151, end_col_offset=26), lineno=151, col_offset=15, end_lineno=151, end_col_offset=28), lineno=151, col_offset=4, end_lineno=151, end_col_offset=28), Assert(test=Compare(left=Attribute(value=Name(id='settings', ctx=Load(), lineno=153, col_offset=11, end_lineno=153, end_col_offset=19), attr='log_format', ctx=Load(), lineno=153, col_offset=11, end_lineno=153, end_col_offset=30), ops=[Eq()], comparators=[Name(id='log_format', ctx=Load(), lineno=153, col_offset=34, end_lineno=153, end_col_offset=44)], lineno=153, col_offset=11, end_lineno=153, end_col_offset=44), lineno=153, col_offset=4, end_lineno=153, end_col_offset=44), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=156, col_offset=4, end_lineno=156, end_col_offset=6), attr='environ', ctx=Load(), lineno=156, col_offset=4, end_lineno=156, end_col_offset=14), attr='pop', ctx=Load(), lineno=156, col_offset=4, end_lineno=156, end_col_offset=18), args=[Constant(value='LOG_FORMAT', lineno=156, col_offset=19, end_lineno=156, end_col_offset=31), Constant(value=None, lineno=156, col_offset=33, end_lineno=156, end_col_offset=37)], lineno=156, col_offset=4, end_lineno=156, end_col_offset=38), lineno=156, col_offset=4, end_lineno=156, end_col_offset=38)], decorator_list=[Call(func=Attribute(value=Attribute(value=Name(id='pytest', ctx=Load(), lineno=140, col_offset=1, end_lineno=140, end_col_offset=7), attr='mark', ctx=Load(), lineno=140, col_offset=1, end_lineno=140, end_col_offset=12), attr='parametrize', ctx=Load(), lineno=140, col_offset=1, end_lineno=140, end_col_offset=24), args=[Constant(value='log_format', lineno=141, col_offset=4, end_lineno=141, end_col_offset=16), List(elts=[Constant(value='json', lineno=143, col_offset=8, end_lineno=143, end_col_offset=14), Constant(value='text', lineno=144, col_offset=8, end_lineno=144, end_col_offset=14)], ctx=Load(), lineno=142, col_offset=4, end_lineno=145, end_col_offset=5)], lineno=140, col_offset=1, end_lineno=146, end_col_offset=1)], returns=Constant(value=None, lineno=147, col_offset=47, end_lineno=147, end_col_offset=51), lineno=147, col_offset=0, end_lineno=156, end_col_offset=38)])