Module(body=[Expr(value=Constant(value='Sequence access guards for observability-critical code paths.\n\nThis module provides typed helpers for validating sequence length before indexing,\nemitting structured logs, metrics, and RFC 9457 Problem Details when inputs are empty.\nGuards prevent raw IndexError exceptions and ensure consistent observability.\n\nExamples\n--------\n>>> from kgfoundry_common.sequence_guards import first_or_error\n>>> devices = (0, 1, 2)\n>>> device = first_or_error(devices, context="gpu_device_selection")\n>>> device\n0\n\nWhen sequence is empty, raises a Problem Details error:\n\n>>> from kgfoundry_common.sequence_guards import first_or_error\n>>> try:\n...     first_or_error((), context="gpu_device_selection")\n... except Exception as e:\n...     assert "empty" in str(e).lower()\n', lineno=1, col_offset=0, end_lineno=22, end_col_offset=3), lineno=1, col_offset=0, end_lineno=22, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=26, col_offset=23, end_lineno=26, end_col_offset=34)], level=0, lineno=26, col_offset=0, end_lineno=26, end_col_offset=34), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=28, col_offset=19, end_lineno=28, end_col_offset=32)], level=0, lineno=28, col_offset=0, end_lineno=28, end_col_offset=32), ImportFrom(module='kgfoundry_common.navmap_loader', names=[alias(name='load_nav_metadata', lineno=30, col_offset=43, end_lineno=30, end_col_offset=60)], level=0, lineno=30, col_offset=0, end_lineno=30, end_col_offset=60), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=32, col_offset=3, end_lineno=32, end_col_offset=16), body=[ImportFrom(module='collections.abc', names=[alias(name='Sequence', lineno=33, col_offset=32, end_lineno=33, end_col_offset=40)], level=0, lineno=33, col_offset=4, end_lineno=33, end_col_offset=40)], orelse=[Import(names=[alias(name='collections.abc', asname='_abc', lineno=35, col_offset=11, end_lineno=35, end_col_offset=34)], lineno=35, col_offset=4, end_lineno=35, end_col_offset=34), Assign(targets=[Name(id='Sequence', ctx=Store(), lineno=37, col_offset=4, end_lineno=37, end_col_offset=12)], value=Attribute(value=Name(id='_abc', ctx=Load(), lineno=37, col_offset=15, end_lineno=37, end_col_offset=19), attr='Sequence', ctx=Load(), lineno=37, col_offset=15, end_lineno=37, end_col_offset=28), lineno=37, col_offset=4, end_lineno=37, end_col_offset=28)], lineno=32, col_offset=0, end_lineno=37, end_col_offset=28), ImportFrom(module='kgfoundry_common.errors', names=[alias(name='VectorSearchError', lineno=39, col_offset=36, end_lineno=39, end_col_offset=53)], level=0, lineno=39, col_offset=0, end_lineno=39, end_col_offset=53), ImportFrom(module='kgfoundry_common.logging', names=[alias(name='get_logger', lineno=40, col_offset=37, end_lineno=40, end_col_offset=47), alias(name='with_fields', lineno=40, col_offset=49, end_lineno=40, end_col_offset=60)], level=0, lineno=40, col_offset=0, end_lineno=40, end_col_offset=60), ImportFrom(module='kgfoundry_common.problem_details', names=[alias(name='build_problem_details', lineno=42, col_offset=4, end_lineno=42, end_col_offset=25), alias(name='render_problem', lineno=43, col_offset=4, end_lineno=43, end_col_offset=18)], level=0, lineno=41, col_offset=0, end_lineno=44, end_col_offset=1), Assign(targets=[Name(id='logger', ctx=Store(), lineno=46, col_offset=0, end_lineno=46, end_col_offset=6)], value=Call(func=Name(id='get_logger', ctx=Load(), lineno=46, col_offset=9, end_lineno=46, end_col_offset=19), args=[Name(id='__name__', ctx=Load(), lineno=46, col_offset=20, end_lineno=46, end_col_offset=28)], lineno=46, col_offset=9, end_lineno=46, end_col_offset=29), lineno=46, col_offset=0, end_lineno=46, end_col_offset=29), Assign(targets=[Name(id='__all__', ctx=Store(), lineno=48, col_offset=0, end_lineno=48, end_col_offset=7)], value=List(elts=[Constant(value='first_or_error', lineno=49, col_offset=4, end_lineno=49, end_col_offset=20), Constant(value='first_or_error_multi_device', lineno=50, col_offset=4, end_lineno=50, end_col_offset=33)], ctx=Load(), lineno=48, col_offset=10, end_lineno=51, end_col_offset=1), lineno=48, col_offset=0, end_lineno=51, end_col_offset=1), Assign(targets=[Name(id='__navmap__', ctx=Store(), lineno=52, col_offset=0, end_lineno=52, end_col_offset=10)], value=Call(func=Name(id='load_nav_metadata', ctx=Load(), lineno=52, col_offset=13, end_lineno=52, end_col_offset=30), args=[Name(id='__name__', ctx=Load(), lineno=52, col_offset=31, end_lineno=52, end_col_offset=39), Call(func=Name(id='tuple', ctx=Load(), lineno=52, col_offset=41, end_lineno=52, end_col_offset=46), args=[Name(id='__all__', ctx=Load(), lineno=52, col_offset=47, end_lineno=52, end_col_offset=54)], lineno=52, col_offset=41, end_lineno=52, end_col_offset=55)], lineno=52, col_offset=13, end_lineno=52, end_col_offset=56), lineno=52, col_offset=0, end_lineno=52, end_col_offset=56), FunctionDef(name='first_or_error', args=arguments(args=[arg(arg='sequence', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=57, col_offset=14, end_lineno=57, end_col_offset=22), slice=Name(id='T', ctx=Load(), lineno=57, col_offset=23, end_lineno=57, end_col_offset=24), ctx=Load(), lineno=57, col_offset=14, end_lineno=57, end_col_offset=25), lineno=57, col_offset=4, end_lineno=57, end_col_offset=25)], kwonlyargs=[arg(arg='context', annotation=Name(id='str', ctx=Load(), lineno=59, col_offset=13, end_lineno=59, end_col_offset=16), lineno=59, col_offset=4, end_lineno=59, end_col_offset=16), arg(arg='operation', annotation=Name(id='str', ctx=Load(), lineno=60, col_offset=15, end_lineno=60, end_col_offset=18), lineno=60, col_offset=4, end_lineno=60, end_col_offset=18)], kw_defaults=[None, Constant(value='sequence_access', lineno=60, col_offset=21, end_lineno=60, end_col_offset=38)]), body=[Expr(value=Constant(value='Access first element of sequence or raise Problem Details error.\n\n    Validates that the sequence is non-empty before indexing, ensuring\n    observability instrumentation captures empty-input failures with\n    structured logs and metrics.\n\n    Parameters\n    ----------\n    sequence : Sequence[T]\n        The sequence from which to extract the first element.\n    context : str\n        Human-readable description of why the sequence was accessed\n        (e.g., "gpu_device_selection", "prometheus_parameter_extraction").\n    operation : str, optional\n        Name of the operation being performed. Defaults to "sequence_access".\n\n    Returns\n    -------\n    T\n        The first element of the sequence.\n\n    Raises\n    ------\n    VectorSearchError\n        When the sequence is empty, with RFC 9457 Problem Details payload.\n\n    Examples\n    --------\n    >>> devices = [0, 1]\n    >>> device = first_or_error(devices, context="gpu_devices")\n    >>> device\n    0\n\n    >>> empty = []\n    >>> try:\n    ...     first_or_error(empty, context="gpu_devices")\n    ... except Exception as e:\n    ...     assert "empty" in str(e).lower()\n    ', lineno=62, col_offset=4, end_lineno=100, end_col_offset=7), lineno=62, col_offset=4, end_lineno=100, end_col_offset=7), If(test=Compare(left=Call(func=Name(id='len', ctx=Load(), lineno=101, col_offset=7, end_lineno=101, end_col_offset=10), args=[Name(id='sequence', ctx=Load(), lineno=101, col_offset=11, end_lineno=101, end_col_offset=19)], lineno=101, col_offset=7, end_lineno=101, end_col_offset=20), ops=[Eq()], comparators=[Constant(value=0, lineno=101, col_offset=24, end_lineno=101, end_col_offset=25)], lineno=101, col_offset=7, end_lineno=101, end_col_offset=25), body=[Assign(targets=[Name(id='msg', ctx=Store(), lineno=102, col_offset=8, end_lineno=102, end_col_offset=11)], value=JoinedStr(values=[Constant(value='Cannot access ', lineno=102, col_offset=16, end_lineno=102, end_col_offset=30), FormattedValue(value=Name(id='context', ctx=Load(), lineno=102, col_offset=31, end_lineno=102, end_col_offset=38), conversion=-1, lineno=102, col_offset=30, end_lineno=102, end_col_offset=39), Constant(value=': sequence is empty', lineno=102, col_offset=39, end_lineno=102, end_col_offset=58)], lineno=102, col_offset=14, end_lineno=102, end_col_offset=59), lineno=102, col_offset=8, end_lineno=102, end_col_offset=59), Assign(targets=[Name(id='problem', ctx=Store(), lineno=103, col_offset=8, end_lineno=103, end_col_offset=15)], value=Call(func=Name(id='build_problem_details', ctx=Load(), lineno=103, col_offset=18, end_lineno=103, end_col_offset=39), keywords=[keyword(arg='problem_type', value=Constant(value='https://kgfoundry.dev/problems/sequence-empty', lineno=104, col_offset=25, end_lineno=104, end_col_offset=72), lineno=104, col_offset=12, end_lineno=104, end_col_offset=72), keyword(arg='title', value=Constant(value='Sequence access failed', lineno=105, col_offset=18, end_lineno=105, end_col_offset=42), lineno=105, col_offset=12, end_lineno=105, end_col_offset=42), keyword(arg='status', value=Constant(value=400, lineno=106, col_offset=19, end_lineno=106, end_col_offset=22), lineno=106, col_offset=12, end_lineno=106, end_col_offset=22), keyword(arg='detail', value=Name(id='msg', ctx=Load(), lineno=107, col_offset=19, end_lineno=107, end_col_offset=22), lineno=107, col_offset=12, end_lineno=107, end_col_offset=22), keyword(arg='instance', value=JoinedStr(values=[Constant(value='urn:operation:', lineno=108, col_offset=23, end_lineno=108, end_col_offset=37), FormattedValue(value=Name(id='operation', ctx=Load(), lineno=108, col_offset=38, end_lineno=108, end_col_offset=47), conversion=-1, lineno=108, col_offset=37, end_lineno=108, end_col_offset=48), Constant(value=':', lineno=108, col_offset=48, end_lineno=108, end_col_offset=49), FormattedValue(value=Name(id='context', ctx=Load(), lineno=108, col_offset=50, end_lineno=108, end_col_offset=57), conversion=-1, lineno=108, col_offset=49, end_lineno=108, end_col_offset=58)], lineno=108, col_offset=21, end_lineno=108, end_col_offset=59), lineno=108, col_offset=12, end_lineno=108, end_col_offset=59), keyword(arg='extensions', value=Dict(keys=[Constant(value='context', lineno=110, col_offset=16, end_lineno=110, end_col_offset=25), Constant(value='operation', lineno=111, col_offset=16, end_lineno=111, end_col_offset=27), Constant(value='sequence_length', lineno=112, col_offset=16, end_lineno=112, end_col_offset=33)], values=[Name(id='context', ctx=Load(), lineno=110, col_offset=27, end_lineno=110, end_col_offset=34), Name(id='operation', ctx=Load(), lineno=111, col_offset=29, end_lineno=111, end_col_offset=38), Constant(value=0, lineno=112, col_offset=35, end_lineno=112, end_col_offset=36)], lineno=109, col_offset=23, end_lineno=113, end_col_offset=13), lineno=109, col_offset=12, end_lineno=113, end_col_offset=13)], lineno=103, col_offset=18, end_lineno=114, end_col_offset=9), lineno=103, col_offset=8, end_lineno=114, end_col_offset=9), With(items=[withitem(context_expr=Call(func=Name(id='with_fields', ctx=Load(), lineno=117, col_offset=13, end_lineno=117, end_col_offset=24), args=[Name(id='logger', ctx=Load(), lineno=118, col_offset=12, end_lineno=118, end_col_offset=18)], keywords=[keyword(arg='operation', value=Name(id='operation', ctx=Load(), lineno=119, col_offset=22, end_lineno=119, end_col_offset=31), lineno=119, col_offset=12, end_lineno=119, end_col_offset=31), keyword(arg='status', value=Constant(value='error', lineno=120, col_offset=19, end_lineno=120, end_col_offset=26), lineno=120, col_offset=12, end_lineno=120, end_col_offset=26), keyword(arg='context', value=Name(id='context', ctx=Load(), lineno=121, col_offset=20, end_lineno=121, end_col_offset=27), lineno=121, col_offset=12, end_lineno=121, end_col_offset=27)], lineno=117, col_offset=13, end_lineno=122, end_col_offset=9), optional_vars=Name(id='structured_logger', ctx=Store(), lineno=122, col_offset=13, end_lineno=122, end_col_offset=30))], body=[Expr(value=Call(func=Attribute(value=Name(id='structured_logger', ctx=Load(), lineno=123, col_offset=12, end_lineno=123, end_col_offset=29), attr='error', ctx=Load(), lineno=123, col_offset=12, end_lineno=123, end_col_offset=35), args=[Constant(value='Sequence access guard triggered: %s', lineno=124, col_offset=16, end_lineno=124, end_col_offset=53), Name(id='msg', ctx=Load(), lineno=125, col_offset=16, end_lineno=125, end_col_offset=19)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='problem_details', lineno=127, col_offset=20, end_lineno=127, end_col_offset=37)], values=[Call(func=Name(id='render_problem', ctx=Load(), lineno=127, col_offset=39, end_lineno=127, end_col_offset=53), args=[Name(id='problem', ctx=Load(), lineno=127, col_offset=54, end_lineno=127, end_col_offset=61)], lineno=127, col_offset=39, end_lineno=127, end_col_offset=62)], lineno=126, col_offset=22, end_lineno=128, end_col_offset=17), lineno=126, col_offset=16, end_lineno=128, end_col_offset=17)], lineno=123, col_offset=12, end_lineno=129, end_col_offset=13), lineno=123, col_offset=12, end_lineno=129, end_col_offset=13)], lineno=117, col_offset=8, end_lineno=129, end_col_offset=13), Raise(exc=Call(func=Name(id='VectorSearchError', ctx=Load(), lineno=131, col_offset=14, end_lineno=131, end_col_offset=31), args=[Name(id='msg', ctx=Load(), lineno=131, col_offset=32, end_lineno=131, end_col_offset=35)], lineno=131, col_offset=14, end_lineno=131, end_col_offset=36), cause=Constant(value=None, lineno=131, col_offset=42, end_lineno=131, end_col_offset=46), lineno=131, col_offset=8, end_lineno=131, end_col_offset=46)], lineno=101, col_offset=4, end_lineno=131, end_col_offset=46), Return(value=Subscript(value=Name(id='sequence', ctx=Load(), lineno=133, col_offset=11, end_lineno=133, end_col_offset=19), slice=Constant(value=0, lineno=133, col_offset=20, end_lineno=133, end_col_offset=21), ctx=Load(), lineno=133, col_offset=11, end_lineno=133, end_col_offset=22), lineno=133, col_offset=4, end_lineno=133, end_col_offset=22)], returns=Name(id='T', ctx=Load(), lineno=61, col_offset=5, end_lineno=61, end_col_offset=6), type_params=[TypeVar(name='T', lineno=56, col_offset=19, end_lineno=56, end_col_offset=20)], lineno=56, col_offset=0, end_lineno=133, end_col_offset=22), FunctionDef(name='first_or_error_multi_device', args=arguments(args=[arg(arg='sequence', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=138, col_offset=14, end_lineno=138, end_col_offset=22), slice=Name(id='T', ctx=Load(), lineno=138, col_offset=23, end_lineno=138, end_col_offset=24), ctx=Load(), lineno=138, col_offset=14, end_lineno=138, end_col_offset=25), lineno=138, col_offset=4, end_lineno=138, end_col_offset=25)], kwonlyargs=[arg(arg='context', annotation=Name(id='str', ctx=Load(), lineno=140, col_offset=13, end_lineno=140, end_col_offset=16), lineno=140, col_offset=4, end_lineno=140, end_col_offset=16), arg(arg='operation', annotation=Name(id='str', ctx=Load(), lineno=141, col_offset=15, end_lineno=141, end_col_offset=18), lineno=141, col_offset=4, end_lineno=141, end_col_offset=18)], kw_defaults=[Constant(value='device_selection', lineno=140, col_offset=19, end_lineno=140, end_col_offset=37), Constant(value='multi_device_access', lineno=141, col_offset=21, end_lineno=141, end_col_offset=42)]), body=[Expr(value=Constant(value='Access first element for multi-device scenarios.\n\n    Specialized variant for FAISS multi-device GPU cloning that provides\n    domain-specific error messages and metrics.\n\n    Parameters\n    ----------\n    sequence : Sequence[T]\n        The device list or equivalent sequence.\n    context : str, optional\n        Context description. Defaults to "device_selection".\n    operation : str, optional\n        Operation name. Defaults to "multi_device_access".\n\n    Returns\n    -------\n    T\n        The first element of the sequence.\n\n    Raises\n    ------\n    VectorSearchError\n        When the sequence is empty, with Problem Details including device context.\n\n    Examples\n    --------\n    >>> gpu_indices = [<FaissIndex>]  # doctest: +SKIP\n    >>> index = first_or_error_multi_device(gpu_indices, context="gpu_indices")  # doctest: +SKIP\n    >>> index  # doctest: +SKIP\n    <FaissIndex object at ...>\n    ', lineno=143, col_offset=4, end_lineno=173, end_col_offset=7), lineno=143, col_offset=4, end_lineno=173, end_col_offset=7), If(test=Compare(left=Call(func=Name(id='len', ctx=Load(), lineno=174, col_offset=7, end_lineno=174, end_col_offset=10), args=[Name(id='sequence', ctx=Load(), lineno=174, col_offset=11, end_lineno=174, end_col_offset=19)], lineno=174, col_offset=7, end_lineno=174, end_col_offset=20), ops=[Eq()], comparators=[Constant(value=0, lineno=174, col_offset=24, end_lineno=174, end_col_offset=25)], lineno=174, col_offset=7, end_lineno=174, end_col_offset=25), body=[Assign(targets=[Name(id='msg', ctx=Store(), lineno=175, col_offset=8, end_lineno=175, end_col_offset=11)], value=JoinedStr(values=[Constant(value='FAISS GPU cloning failed: ', lineno=175, col_offset=16, end_lineno=175, end_col_offset=42), FormattedValue(value=Name(id='context', ctx=Load(), lineno=175, col_offset=43, end_lineno=175, end_col_offset=50), conversion=-1, lineno=175, col_offset=42, end_lineno=175, end_col_offset=51), Constant(value=' is empty (no devices available)', lineno=175, col_offset=51, end_lineno=175, end_col_offset=83)], lineno=175, col_offset=14, end_lineno=175, end_col_offset=84), lineno=175, col_offset=8, end_lineno=175, end_col_offset=84), Assign(targets=[Name(id='problem', ctx=Store(), lineno=176, col_offset=8, end_lineno=176, end_col_offset=15)], value=Call(func=Name(id='build_problem_details', ctx=Load(), lineno=176, col_offset=18, end_lineno=176, end_col_offset=39), keywords=[keyword(arg='problem_type', value=Constant(value='https://kgfoundry.dev/problems/faiss-multi-device-empty', lineno=177, col_offset=25, end_lineno=177, end_col_offset=82), lineno=177, col_offset=12, end_lineno=177, end_col_offset=82), keyword(arg='title', value=Constant(value='Multi-device GPU cloning failed', lineno=178, col_offset=18, end_lineno=178, end_col_offset=51), lineno=178, col_offset=12, end_lineno=178, end_col_offset=51), keyword(arg='status', value=Constant(value=503, lineno=179, col_offset=19, end_lineno=179, end_col_offset=22), lineno=179, col_offset=12, end_lineno=179, end_col_offset=22), keyword(arg='detail', value=Name(id='msg', ctx=Load(), lineno=180, col_offset=19, end_lineno=180, end_col_offset=22), lineno=180, col_offset=12, end_lineno=180, end_col_offset=22), keyword(arg='instance', value=JoinedStr(values=[Constant(value='urn:operation:', lineno=181, col_offset=23, end_lineno=181, end_col_offset=37), FormattedValue(value=Name(id='operation', ctx=Load(), lineno=181, col_offset=38, end_lineno=181, end_col_offset=47), conversion=-1, lineno=181, col_offset=37, end_lineno=181, end_col_offset=48), Constant(value=':', lineno=181, col_offset=48, end_lineno=181, end_col_offset=49), FormattedValue(value=Name(id='context', ctx=Load(), lineno=181, col_offset=50, end_lineno=181, end_col_offset=57), conversion=-1, lineno=181, col_offset=49, end_lineno=181, end_col_offset=58)], lineno=181, col_offset=21, end_lineno=181, end_col_offset=59), lineno=181, col_offset=12, end_lineno=181, end_col_offset=59), keyword(arg='extensions', value=Dict(keys=[Constant(value='context', lineno=183, col_offset=16, end_lineno=183, end_col_offset=25), Constant(value='operation', lineno=184, col_offset=16, end_lineno=184, end_col_offset=27), Constant(value='device_count', lineno=185, col_offset=16, end_lineno=185, end_col_offset=30), Constant(value='remediation', lineno=186, col_offset=16, end_lineno=186, end_col_offset=29)], values=[Name(id='context', ctx=Load(), lineno=183, col_offset=27, end_lineno=183, end_col_offset=34), Name(id='operation', ctx=Load(), lineno=184, col_offset=29, end_lineno=184, end_col_offset=38), Constant(value=0, lineno=185, col_offset=32, end_lineno=185, end_col_offset=33), Constant(value='Ensure GPU resources are available and FAISS is compiled with GPU support', lineno=187, col_offset=20, end_lineno=187, end_col_offset=95)], lineno=182, col_offset=23, end_lineno=189, end_col_offset=13), lineno=182, col_offset=12, end_lineno=189, end_col_offset=13)], lineno=176, col_offset=18, end_lineno=190, end_col_offset=9), lineno=176, col_offset=8, end_lineno=190, end_col_offset=9), With(items=[withitem(context_expr=Call(func=Name(id='with_fields', ctx=Load(), lineno=193, col_offset=13, end_lineno=193, end_col_offset=24), args=[Name(id='logger', ctx=Load(), lineno=194, col_offset=12, end_lineno=194, end_col_offset=18)], keywords=[keyword(arg='operation', value=Name(id='operation', ctx=Load(), lineno=195, col_offset=22, end_lineno=195, end_col_offset=31), lineno=195, col_offset=12, end_lineno=195, end_col_offset=31), keyword(arg='status', value=Constant(value='error', lineno=196, col_offset=19, end_lineno=196, end_col_offset=26), lineno=196, col_offset=12, end_lineno=196, end_col_offset=26), keyword(arg='context', value=Name(id='context', ctx=Load(), lineno=197, col_offset=20, end_lineno=197, end_col_offset=27), lineno=197, col_offset=12, end_lineno=197, end_col_offset=27), keyword(arg='device_count', value=Constant(value=0, lineno=198, col_offset=25, end_lineno=198, end_col_offset=26), lineno=198, col_offset=12, end_lineno=198, end_col_offset=26)], lineno=193, col_offset=13, end_lineno=199, end_col_offset=9), optional_vars=Name(id='structured_logger', ctx=Store(), lineno=199, col_offset=13, end_lineno=199, end_col_offset=30))], body=[Expr(value=Call(func=Attribute(value=Name(id='structured_logger', ctx=Load(), lineno=200, col_offset=12, end_lineno=200, end_col_offset=29), attr='error', ctx=Load(), lineno=200, col_offset=12, end_lineno=200, end_col_offset=35), args=[Constant(value='Multi-device access guard triggered: %s', lineno=201, col_offset=16, end_lineno=201, end_col_offset=57), Name(id='msg', ctx=Load(), lineno=202, col_offset=16, end_lineno=202, end_col_offset=19)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='problem_details', lineno=204, col_offset=20, end_lineno=204, end_col_offset=37)], values=[Call(func=Name(id='render_problem', ctx=Load(), lineno=204, col_offset=39, end_lineno=204, end_col_offset=53), args=[Name(id='problem', ctx=Load(), lineno=204, col_offset=54, end_lineno=204, end_col_offset=61)], lineno=204, col_offset=39, end_lineno=204, end_col_offset=62)], lineno=203, col_offset=22, end_lineno=205, end_col_offset=17), lineno=203, col_offset=16, end_lineno=205, end_col_offset=17)], lineno=200, col_offset=12, end_lineno=206, end_col_offset=13), lineno=200, col_offset=12, end_lineno=206, end_col_offset=13)], lineno=193, col_offset=8, end_lineno=206, end_col_offset=13), Raise(exc=Call(func=Name(id='VectorSearchError', ctx=Load(), lineno=208, col_offset=14, end_lineno=208, end_col_offset=31), args=[Name(id='msg', ctx=Load(), lineno=208, col_offset=32, end_lineno=208, end_col_offset=35)], lineno=208, col_offset=14, end_lineno=208, end_col_offset=36), cause=Constant(value=None, lineno=208, col_offset=42, end_lineno=208, end_col_offset=46), lineno=208, col_offset=8, end_lineno=208, end_col_offset=46)], lineno=174, col_offset=4, end_lineno=208, end_col_offset=46), Return(value=Subscript(value=Name(id='sequence', ctx=Load(), lineno=210, col_offset=11, end_lineno=210, end_col_offset=19), slice=Constant(value=0, lineno=210, col_offset=20, end_lineno=210, end_col_offset=21), ctx=Load(), lineno=210, col_offset=11, end_lineno=210, end_col_offset=22), lineno=210, col_offset=4, end_lineno=210, end_col_offset=22)], returns=Name(id='T', ctx=Load(), lineno=142, col_offset=5, end_lineno=142, end_col_offset=6), type_params=[TypeVar(name='T', lineno=137, col_offset=32, end_lineno=137, end_col_offset=33)], lineno=137, col_offset=0, end_lineno=210, end_col_offset=22)])