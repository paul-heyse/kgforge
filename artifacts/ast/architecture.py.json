Module(body=[Expr(value=Constant(value='Architecture checks for the internal tooling package.\n\nThe tooling suite follows a layered structure where reusable domain helpers live\nunder ``tools._shared``; feature packages such as ``tools.docs`` and\n``tools.docstring_builder`` adapt those helpers; and executable entry points\n(``tools/*.py`` and ``*.cli`` modules) form the outermost IO/CLI layer.  This\nmodule provides pytestarch-based helpers so both the CLI and the automated test\nsuite can enforce that layering discipline.\n', lineno=1, col_offset=0, end_lineno=9, end_col_offset=3), lineno=1, col_offset=0, end_lineno=9, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=11, col_offset=23, end_lineno=11, end_col_offset=34)], level=0, lineno=11, col_offset=0, end_lineno=11, end_col_offset=34), Import(names=[alias(name='json', lineno=13, col_offset=7, end_lineno=13, end_col_offset=11)], lineno=13, col_offset=0, end_lineno=13, end_col_offset=11), Import(names=[alias(name='re', lineno=14, col_offset=7, end_lineno=14, end_col_offset=9)], lineno=14, col_offset=0, end_lineno=14, end_col_offset=9), ImportFrom(module='dataclasses', names=[alias(name='dataclass', lineno=15, col_offset=24, end_lineno=15, end_col_offset=33)], level=0, lineno=15, col_offset=0, end_lineno=15, end_col_offset=33), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=16, col_offset=20, end_lineno=16, end_col_offset=24)], level=0, lineno=16, col_offset=0, end_lineno=16, end_col_offset=24), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=17, col_offset=19, end_lineno=17, end_col_offset=32)], level=0, lineno=17, col_offset=0, end_lineno=17, end_col_offset=32), ImportFrom(module='tools.types_facade', names=[alias(name='get_evaluable_architecture', lineno=20, col_offset=4, end_lineno=20, end_col_offset=30), alias(name='new_layered_architecture', lineno=21, col_offset=4, end_lineno=21, end_col_offset=28), alias(name='new_module_name_filter', lineno=22, col_offset=4, end_lineno=22, end_col_offset=26)], level=0, lineno=19, col_offset=0, end_lineno=23, end_col_offset=1), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=25, col_offset=3, end_lineno=25, end_col_offset=16), body=[ImportFrom(module='collections.abc', names=[alias(name='Iterable', lineno=26, col_offset=32, end_lineno=26, end_col_offset=40), alias(name='Sequence', lineno=26, col_offset=42, end_lineno=26, end_col_offset=50)], level=0, lineno=26, col_offset=4, end_lineno=26, end_col_offset=50), ImportFrom(module='tools.types_facade', names=[alias(name='EvaluableArchitecture', lineno=29, col_offset=8, end_lineno=29, end_col_offset=29), alias(name='LayeredArchitectureProtocol', lineno=30, col_offset=8, end_lineno=30, end_col_offset=35)], level=0, lineno=28, col_offset=4, end_lineno=31, end_col_offset=5)], lineno=25, col_offset=0, end_lineno=31, end_col_offset=5), Assign(targets=[Name(id='TOOLS_ROOT', ctx=Store(), lineno=33, col_offset=0, end_lineno=33, end_col_offset=10)], value=Attribute(value=Call(func=Attribute(value=Call(func=Name(id='Path', ctx=Load(), lineno=33, col_offset=13, end_lineno=33, end_col_offset=17), args=[Name(id='__file__', ctx=Load(), lineno=33, col_offset=18, end_lineno=33, end_col_offset=26)], lineno=33, col_offset=13, end_lineno=33, end_col_offset=27), attr='resolve', ctx=Load(), lineno=33, col_offset=13, end_lineno=33, end_col_offset=35), lineno=33, col_offset=13, end_lineno=33, end_col_offset=37), attr='parent', ctx=Load(), lineno=33, col_offset=13, end_lineno=33, end_col_offset=44), lineno=33, col_offset=0, end_lineno=33, end_col_offset=44), Assign(targets=[Name(id='REPO_ROOT', ctx=Store(), lineno=34, col_offset=0, end_lineno=34, end_col_offset=9)], value=Attribute(value=Name(id='TOOLS_ROOT', ctx=Load(), lineno=34, col_offset=12, end_lineno=34, end_col_offset=22), attr='parent', ctx=Load(), lineno=34, col_offset=12, end_lineno=34, end_col_offset=29), lineno=34, col_offset=0, end_lineno=34, end_col_offset=29), Assign(targets=[Name(id='DOMAIN_PATTERNS', ctx=Store(), lineno=36, col_offset=0, end_lineno=36, end_col_offset=15)], value=Tuple(elts=[Constant(value='^kgfoundry\\.tools\\._shared(\\..+)?$', lineno=36, col_offset=19, end_lineno=36, end_col_offset=56)], ctx=Load(), lineno=36, col_offset=18, end_lineno=36, end_col_offset=58), lineno=36, col_offset=0, end_lineno=36, end_col_offset=58), Assign(targets=[Name(id='ADAPTER_PATTERNS', ctx=Store(), lineno=37, col_offset=0, end_lineno=37, end_col_offset=16)], value=Tuple(elts=[Constant(value='^kgfoundry\\.tools\\.(?:docstring_builder|docs|navmap|codemods)(\\..+)?$', lineno=37, col_offset=20, end_lineno=37, end_col_offset=92)], ctx=Load(), lineno=37, col_offset=19, end_lineno=37, end_col_offset=94), lineno=37, col_offset=0, end_lineno=37, end_col_offset=94), Assign(targets=[Name(id='CLI_PATTERNS', ctx=Store(), lineno=38, col_offset=0, end_lineno=38, end_col_offset=12)], value=Tuple(elts=[Constant(value='^kgfoundry\\.tools\\.(?!(?:_shared|docs|docstring_builder|navmap|codemods)$)[^.]+$', lineno=39, col_offset=4, end_lineno=39, end_col_offset=87), Constant(value='^kgfoundry\\.tools\\..*\\.cli(\\..+)?$', lineno=40, col_offset=4, end_lineno=40, end_col_offset=41)], ctx=Load(), lineno=38, col_offset=15, end_lineno=41, end_col_offset=1), lineno=38, col_offset=0, end_lineno=41, end_col_offset=1), Assign(targets=[Name(id='ADAPTER_SUPPORT_MODULES', ctx=Store(), lineno=43, col_offset=0, end_lineno=43, end_col_offset=23)], value=Set(elts=[Constant(value='kgfoundry.tools.drift_preview', lineno=44, col_offset=4, end_lineno=44, end_col_offset=35), Constant(value='kgfoundry.tools.griffe_utils', lineno=45, col_offset=4, end_lineno=45, end_col_offset=34), Constant(value='kgfoundry.tools.stubs.drift_check', lineno=46, col_offset=4, end_lineno=46, end_col_offset=39)], lineno=43, col_offset=26, end_lineno=47, end_col_offset=1), lineno=43, col_offset=0, end_lineno=47, end_col_offset=1), Assign(targets=[Name(id='ADAPTER_BASE_PACKAGES', ctx=Store(), lineno=49, col_offset=0, end_lineno=49, end_col_offset=21)], value=Set(elts=[Constant(value='kgfoundry.tools.codemods', lineno=50, col_offset=4, end_lineno=50, end_col_offset=30), Constant(value='kgfoundry.tools.docstring_builder', lineno=51, col_offset=4, end_lineno=51, end_col_offset=39), Constant(value='kgfoundry.tools.docs', lineno=52, col_offset=4, end_lineno=52, end_col_offset=26), Constant(value='kgfoundry.tools.navmap', lineno=53, col_offset=4, end_lineno=53, end_col_offset=28)], lineno=49, col_offset=24, end_lineno=54, end_col_offset=1), lineno=49, col_offset=0, end_lineno=54, end_col_offset=1), Assign(targets=[Name(id='CLI_SUPPORT_MODULES', ctx=Store(), lineno=56, col_offset=0, end_lineno=56, end_col_offset=19)], value=Set(elts=[Constant(value='kgfoundry.tools.docstring_builder.__init__', lineno=57, col_offset=4, end_lineno=57, end_col_offset=48), Constant(value='kgfoundry.tools.docstring_builder.__main__', lineno=58, col_offset=4, end_lineno=58, end_col_offset=48)], lineno=56, col_offset=22, end_lineno=59, end_col_offset=1), lineno=56, col_offset=0, end_lineno=59, end_col_offset=1), ClassDef(name='ArchitectureResult', body=[Expr(value=Constant(value='Outcome of the tooling architecture evaluation.', lineno=64, col_offset=4, end_lineno=64, end_col_offset=57), lineno=64, col_offset=4, end_lineno=64, end_col_offset=57), AnnAssign(target=Name(id='violations', ctx=Store(), lineno=66, col_offset=4, end_lineno=66, end_col_offset=14), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=66, col_offset=16, end_lineno=66, end_col_offset=21), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=66, col_offset=22, end_lineno=66, end_col_offset=25), Constant(value=Ellipsis, lineno=66, col_offset=27, end_lineno=66, end_col_offset=30)], ctx=Load(), lineno=66, col_offset=22, end_lineno=66, end_col_offset=30), ctx=Load(), lineno=66, col_offset=16, end_lineno=66, end_col_offset=31), simple=1, lineno=66, col_offset=4, end_lineno=66, end_col_offset=31), FunctionDef(name='is_success', args=arguments(args=[arg(arg='self', lineno=69, col_offset=19, end_lineno=69, end_col_offset=23)]), body=[Expr(value=Constant(value='Return ``True`` when no layering violations were detected.', lineno=70, col_offset=8, end_lineno=70, end_col_offset=72), lineno=70, col_offset=8, end_lineno=70, end_col_offset=72), Return(value=UnaryOp(op=Not(), operand=Attribute(value=Name(id='self', ctx=Load(), lineno=71, col_offset=19, end_lineno=71, end_col_offset=23), attr='violations', ctx=Load(), lineno=71, col_offset=19, end_lineno=71, end_col_offset=34), lineno=71, col_offset=15, end_lineno=71, end_col_offset=34), lineno=71, col_offset=8, end_lineno=71, end_col_offset=34)], decorator_list=[Name(id='property', ctx=Load(), lineno=68, col_offset=5, end_lineno=68, end_col_offset=13)], returns=Name(id='bool', ctx=Load(), lineno=69, col_offset=28, end_lineno=69, end_col_offset=32), lineno=69, col_offset=4, end_lineno=71, end_col_offset=34), FunctionDef(name='to_json', args=arguments(args=[arg(arg='self', lineno=73, col_offset=16, end_lineno=73, end_col_offset=20)]), body=[Expr(value=Constant(value='Return a JSON representation of the architecture check result.\n\n        Returns\n        -------\n        str\n            JSON string representation.\n        ', lineno=74, col_offset=8, end_lineno=80, end_col_offset=11), lineno=74, col_offset=8, end_lineno=80, end_col_offset=11), AnnAssign(target=Name(id='payload', ctx=Store(), lineno=81, col_offset=8, end_lineno=81, end_col_offset=15), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=81, col_offset=17, end_lineno=81, end_col_offset=21), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=81, col_offset=22, end_lineno=81, end_col_offset=25), Name(id='object', ctx=Load(), lineno=81, col_offset=27, end_lineno=81, end_col_offset=33)], ctx=Load(), lineno=81, col_offset=22, end_lineno=81, end_col_offset=33), ctx=Load(), lineno=81, col_offset=17, end_lineno=81, end_col_offset=34), value=Dict(keys=[Constant(value='violations', lineno=81, col_offset=38, end_lineno=81, end_col_offset=50)], values=[Call(func=Name(id='list', ctx=Load(), lineno=81, col_offset=52, end_lineno=81, end_col_offset=56), args=[Attribute(value=Name(id='self', ctx=Load(), lineno=81, col_offset=57, end_lineno=81, end_col_offset=61), attr='violations', ctx=Load(), lineno=81, col_offset=57, end_lineno=81, end_col_offset=72)], lineno=81, col_offset=52, end_lineno=81, end_col_offset=73)], lineno=81, col_offset=37, end_lineno=81, end_col_offset=74), simple=1, lineno=81, col_offset=8, end_lineno=81, end_col_offset=74), Return(value=Call(func=Attribute(value=Name(id='json', ctx=Load(), lineno=82, col_offset=15, end_lineno=82, end_col_offset=19), attr='dumps', ctx=Load(), lineno=82, col_offset=15, end_lineno=82, end_col_offset=25), args=[Name(id='payload', ctx=Load(), lineno=82, col_offset=26, end_lineno=82, end_col_offset=33)], keywords=[keyword(arg='indent', value=Constant(value=2, lineno=82, col_offset=42, end_lineno=82, end_col_offset=43), lineno=82, col_offset=35, end_lineno=82, end_col_offset=43)], lineno=82, col_offset=15, end_lineno=82, end_col_offset=44), lineno=82, col_offset=8, end_lineno=82, end_col_offset=44)], returns=Name(id='str', ctx=Load(), lineno=73, col_offset=25, end_lineno=73, end_col_offset=28), lineno=73, col_offset=4, end_lineno=82, end_col_offset=44)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=62, col_offset=1, end_lineno=62, end_col_offset=10), keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=62, col_offset=18, end_lineno=62, end_col_offset=22), lineno=62, col_offset=11, end_lineno=62, end_col_offset=22), keyword(arg='slots', value=Constant(value=True, lineno=62, col_offset=30, end_lineno=62, end_col_offset=34), lineno=62, col_offset=24, end_lineno=62, end_col_offset=34)], lineno=62, col_offset=1, end_lineno=62, end_col_offset=35)], lineno=63, col_offset=0, end_lineno=82, end_col_offset=44), FunctionDef(name='_match_modules', args=arguments(args=[arg(arg='modules', annotation=Subscript(value=Name(id='Iterable', ctx=Load(), lineno=85, col_offset=28, end_lineno=85, end_col_offset=36), slice=Name(id='str', ctx=Load(), lineno=85, col_offset=37, end_lineno=85, end_col_offset=40), ctx=Load(), lineno=85, col_offset=28, end_lineno=85, end_col_offset=41), lineno=85, col_offset=19, end_lineno=85, end_col_offset=41), arg(arg='patterns', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=85, col_offset=53, end_lineno=85, end_col_offset=61), slice=Name(id='str', ctx=Load(), lineno=85, col_offset=62, end_lineno=85, end_col_offset=65), ctx=Load(), lineno=85, col_offset=53, end_lineno=85, end_col_offset=66), lineno=85, col_offset=43, end_lineno=85, end_col_offset=66)]), body=[Expr(value=Constant(value='Return the subset of ``modules`` matching any of the provided regex ``patterns``.\n\n    Parameters\n    ----------\n    modules : Iterable[str]\n        Module names to match.\n    patterns : Sequence[str]\n        Regex patterns to match against.\n\n    Returns\n    -------\n    set[str]\n        Set of matching module names.\n    ', lineno=86, col_offset=4, end_lineno=99, end_col_offset=7), lineno=86, col_offset=4, end_lineno=99, end_col_offset=7), Assign(targets=[Name(id='regexes', ctx=Store(), lineno=100, col_offset=4, end_lineno=100, end_col_offset=11)], value=ListComp(elt=Call(func=Attribute(value=Name(id='re', ctx=Load(), lineno=100, col_offset=15, end_lineno=100, end_col_offset=17), attr='compile', ctx=Load(), lineno=100, col_offset=15, end_lineno=100, end_col_offset=25), args=[Name(id='pattern', ctx=Load(), lineno=100, col_offset=26, end_lineno=100, end_col_offset=33)], lineno=100, col_offset=15, end_lineno=100, end_col_offset=34), generators=[comprehension(target=Name(id='pattern', ctx=Store(), lineno=100, col_offset=39, end_lineno=100, end_col_offset=46), iter=Name(id='patterns', ctx=Load(), lineno=100, col_offset=50, end_lineno=100, end_col_offset=58), is_async=0)], lineno=100, col_offset=14, end_lineno=100, end_col_offset=59), lineno=100, col_offset=4, end_lineno=100, end_col_offset=59), Return(value=SetComp(elt=Name(id='module', ctx=Load(), lineno=101, col_offset=12, end_lineno=101, end_col_offset=18), generators=[comprehension(target=Name(id='module', ctx=Store(), lineno=101, col_offset=23, end_lineno=101, end_col_offset=29), iter=Name(id='modules', ctx=Load(), lineno=101, col_offset=33, end_lineno=101, end_col_offset=40), ifs=[Call(func=Name(id='any', ctx=Load(), lineno=101, col_offset=44, end_lineno=101, end_col_offset=47), args=[GeneratorExp(elt=Call(func=Attribute(value=Name(id='regex', ctx=Load(), lineno=101, col_offset=48, end_lineno=101, end_col_offset=53), attr='match', ctx=Load(), lineno=101, col_offset=48, end_lineno=101, end_col_offset=59), args=[Name(id='module', ctx=Load(), lineno=101, col_offset=60, end_lineno=101, end_col_offset=66)], lineno=101, col_offset=48, end_lineno=101, end_col_offset=67), generators=[comprehension(target=Name(id='regex', ctx=Store(), lineno=101, col_offset=72, end_lineno=101, end_col_offset=77), iter=Name(id='regexes', ctx=Load(), lineno=101, col_offset=81, end_lineno=101, end_col_offset=88), is_async=0)], lineno=101, col_offset=47, end_lineno=101, end_col_offset=89)], lineno=101, col_offset=44, end_lineno=101, end_col_offset=89)], is_async=0)], lineno=101, col_offset=11, end_lineno=101, end_col_offset=90), lineno=101, col_offset=4, end_lineno=101, end_col_offset=90)], returns=Subscript(value=Name(id='set', ctx=Load(), lineno=85, col_offset=71, end_lineno=85, end_col_offset=74), slice=Name(id='str', ctx=Load(), lineno=85, col_offset=75, end_lineno=85, end_col_offset=78), ctx=Load(), lineno=85, col_offset=71, end_lineno=85, end_col_offset=79), lineno=85, col_offset=0, end_lineno=101, end_col_offset=90), FunctionDef(name='_build_layered_architecture', args=arguments(args=[arg(arg='modules', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=105, col_offset=13, end_lineno=105, end_col_offset=21), slice=Name(id='str', ctx=Load(), lineno=105, col_offset=22, end_lineno=105, end_col_offset=25), ctx=Load(), lineno=105, col_offset=13, end_lineno=105, end_col_offset=26), lineno=105, col_offset=4, end_lineno=105, end_col_offset=26)]), body=[Expr(value=Constant(value='Build the layered architecture and return the classified module groups.\n\n    Parameters\n    ----------\n    modules : Sequence[str]\n        Module names to classify.\n\n    Returns\n    -------\n    tuple[LayeredArchitectureProtocol, list[str], list[str], list[str]]\n        (architecture, domain_modules, adapter_modules, io_modules) tuple.\n    ', lineno=107, col_offset=4, end_lineno=118, end_col_offset=7), lineno=107, col_offset=4, end_lineno=118, end_col_offset=7), Assign(targets=[Name(id='domain_modules', ctx=Store(), lineno=119, col_offset=4, end_lineno=119, end_col_offset=18)], value=Call(func=Name(id='sorted', ctx=Load(), lineno=119, col_offset=21, end_lineno=119, end_col_offset=27), args=[Call(func=Name(id='_match_modules', ctx=Load(), lineno=119, col_offset=28, end_lineno=119, end_col_offset=42), args=[Name(id='modules', ctx=Load(), lineno=119, col_offset=43, end_lineno=119, end_col_offset=50), Name(id='DOMAIN_PATTERNS', ctx=Load(), lineno=119, col_offset=52, end_lineno=119, end_col_offset=67)], lineno=119, col_offset=28, end_lineno=119, end_col_offset=68)], lineno=119, col_offset=21, end_lineno=119, end_col_offset=69), lineno=119, col_offset=4, end_lineno=119, end_col_offset=69), Assign(targets=[Name(id='cli_candidates', ctx=Store(), lineno=121, col_offset=4, end_lineno=121, end_col_offset=18)], value=Call(func=Name(id='_match_modules', ctx=Load(), lineno=121, col_offset=21, end_lineno=121, end_col_offset=35), args=[Name(id='modules', ctx=Load(), lineno=121, col_offset=36, end_lineno=121, end_col_offset=43), Name(id='CLI_PATTERNS', ctx=Load(), lineno=121, col_offset=45, end_lineno=121, end_col_offset=57)], lineno=121, col_offset=21, end_lineno=121, end_col_offset=58), lineno=121, col_offset=4, end_lineno=121, end_col_offset=58), Expr(value=Call(func=Attribute(value=Name(id='cli_candidates', ctx=Load(), lineno=122, col_offset=4, end_lineno=122, end_col_offset=18), attr='difference_update', ctx=Load(), lineno=122, col_offset=4, end_lineno=122, end_col_offset=36), args=[Name(id='ADAPTER_SUPPORT_MODULES', ctx=Load(), lineno=122, col_offset=37, end_lineno=122, end_col_offset=60)], lineno=122, col_offset=4, end_lineno=122, end_col_offset=61), lineno=122, col_offset=4, end_lineno=122, end_col_offset=61), Expr(value=Call(func=Attribute(value=Name(id='cli_candidates', ctx=Load(), lineno=123, col_offset=4, end_lineno=123, end_col_offset=18), attr='update', ctx=Load(), lineno=123, col_offset=4, end_lineno=123, end_col_offset=25), args=[GeneratorExp(elt=Name(id='module', ctx=Load(), lineno=123, col_offset=26, end_lineno=123, end_col_offset=32), generators=[comprehension(target=Name(id='module', ctx=Store(), lineno=123, col_offset=37, end_lineno=123, end_col_offset=43), iter=Name(id='modules', ctx=Load(), lineno=123, col_offset=47, end_lineno=123, end_col_offset=54), ifs=[Compare(left=Name(id='module', ctx=Load(), lineno=123, col_offset=58, end_lineno=123, end_col_offset=64), ops=[In()], comparators=[Name(id='CLI_SUPPORT_MODULES', ctx=Load(), lineno=123, col_offset=68, end_lineno=123, end_col_offset=87)], lineno=123, col_offset=58, end_lineno=123, end_col_offset=87)], is_async=0)], lineno=123, col_offset=25, end_lineno=123, end_col_offset=88)], lineno=123, col_offset=4, end_lineno=123, end_col_offset=88), lineno=123, col_offset=4, end_lineno=123, end_col_offset=88), Assign(targets=[Name(id='adapter_candidates', ctx=Store(), lineno=125, col_offset=4, end_lineno=125, end_col_offset=22)], value=Call(func=Name(id='_match_modules', ctx=Load(), lineno=125, col_offset=25, end_lineno=125, end_col_offset=39), args=[Name(id='modules', ctx=Load(), lineno=125, col_offset=40, end_lineno=125, end_col_offset=47), Name(id='ADAPTER_PATTERNS', ctx=Load(), lineno=125, col_offset=49, end_lineno=125, end_col_offset=65)], lineno=125, col_offset=25, end_lineno=125, end_col_offset=66), lineno=125, col_offset=4, end_lineno=125, end_col_offset=66), Expr(value=Call(func=Attribute(value=Name(id='adapter_candidates', ctx=Load(), lineno=126, col_offset=4, end_lineno=126, end_col_offset=22), attr='update', ctx=Load(), lineno=126, col_offset=4, end_lineno=126, end_col_offset=29), args=[GeneratorExp(elt=Name(id='module', ctx=Load(), lineno=126, col_offset=30, end_lineno=126, end_col_offset=36), generators=[comprehension(target=Name(id='module', ctx=Store(), lineno=126, col_offset=41, end_lineno=126, end_col_offset=47), iter=Name(id='modules', ctx=Load(), lineno=126, col_offset=51, end_lineno=126, end_col_offset=58), ifs=[Compare(left=Name(id='module', ctx=Load(), lineno=126, col_offset=62, end_lineno=126, end_col_offset=68), ops=[In()], comparators=[Name(id='ADAPTER_SUPPORT_MODULES', ctx=Load(), lineno=126, col_offset=72, end_lineno=126, end_col_offset=95)], lineno=126, col_offset=62, end_lineno=126, end_col_offset=95)], is_async=0)], lineno=126, col_offset=29, end_lineno=126, end_col_offset=96)], lineno=126, col_offset=4, end_lineno=126, end_col_offset=96), lineno=126, col_offset=4, end_lineno=126, end_col_offset=96), Assign(targets=[Name(id='adapter_modules', ctx=Store(), lineno=128, col_offset=4, end_lineno=128, end_col_offset=19)], value=Call(func=Name(id='sorted', ctx=Load(), lineno=128, col_offset=22, end_lineno=128, end_col_offset=28), args=[BinOp(left=BinOp(left=Name(id='adapter_candidates', ctx=Load(), lineno=128, col_offset=29, end_lineno=128, end_col_offset=47), op=Sub(), right=Call(func=Name(id='set', ctx=Load(), lineno=128, col_offset=50, end_lineno=128, end_col_offset=53), args=[Name(id='domain_modules', ctx=Load(), lineno=128, col_offset=54, end_lineno=128, end_col_offset=68)], lineno=128, col_offset=50, end_lineno=128, end_col_offset=69), lineno=128, col_offset=29, end_lineno=128, end_col_offset=69), op=Sub(), right=Name(id='cli_candidates', ctx=Load(), lineno=128, col_offset=72, end_lineno=128, end_col_offset=86), lineno=128, col_offset=29, end_lineno=128, end_col_offset=86)], lineno=128, col_offset=22, end_lineno=128, end_col_offset=87), lineno=128, col_offset=4, end_lineno=128, end_col_offset=87), Assign(targets=[Name(id='adapter_modules', ctx=Store(), lineno=129, col_offset=4, end_lineno=129, end_col_offset=19)], value=ListComp(elt=Name(id='module', ctx=Load(), lineno=129, col_offset=23, end_lineno=129, end_col_offset=29), generators=[comprehension(target=Name(id='module', ctx=Store(), lineno=129, col_offset=34, end_lineno=129, end_col_offset=40), iter=Name(id='adapter_modules', ctx=Load(), lineno=129, col_offset=44, end_lineno=129, end_col_offset=59), ifs=[Compare(left=Name(id='module', ctx=Load(), lineno=129, col_offset=63, end_lineno=129, end_col_offset=69), ops=[NotIn()], comparators=[Name(id='ADAPTER_BASE_PACKAGES', ctx=Load(), lineno=129, col_offset=77, end_lineno=129, end_col_offset=98)], lineno=129, col_offset=63, end_lineno=129, end_col_offset=98)], is_async=0)], lineno=129, col_offset=22, end_lineno=129, end_col_offset=99), lineno=129, col_offset=4, end_lineno=129, end_col_offset=99), Assign(targets=[Name(id='io_modules', ctx=Store(), lineno=130, col_offset=4, end_lineno=130, end_col_offset=14)], value=Call(func=Name(id='sorted', ctx=Load(), lineno=130, col_offset=17, end_lineno=130, end_col_offset=23), args=[BinOp(left=BinOp(left=Name(id='cli_candidates', ctx=Load(), lineno=130, col_offset=24, end_lineno=130, end_col_offset=38), op=Sub(), right=Call(func=Name(id='set', ctx=Load(), lineno=130, col_offset=41, end_lineno=130, end_col_offset=44), args=[Name(id='domain_modules', ctx=Load(), lineno=130, col_offset=45, end_lineno=130, end_col_offset=59)], lineno=130, col_offset=41, end_lineno=130, end_col_offset=60), lineno=130, col_offset=24, end_lineno=130, end_col_offset=60), op=Sub(), right=Call(func=Name(id='set', ctx=Load(), lineno=130, col_offset=63, end_lineno=130, end_col_offset=66), args=[Name(id='adapter_modules', ctx=Load(), lineno=130, col_offset=67, end_lineno=130, end_col_offset=82)], lineno=130, col_offset=63, end_lineno=130, end_col_offset=83), lineno=130, col_offset=24, end_lineno=130, end_col_offset=83)], lineno=130, col_offset=17, end_lineno=130, end_col_offset=84), lineno=130, col_offset=4, end_lineno=130, end_col_offset=84), Assign(targets=[Name(id='architecture', ctx=Store(), lineno=132, col_offset=4, end_lineno=132, end_col_offset=16)], value=Call(func=Name(id='new_layered_architecture', ctx=Load(), lineno=132, col_offset=19, end_lineno=132, end_col_offset=43), lineno=132, col_offset=19, end_lineno=132, end_col_offset=45), lineno=132, col_offset=4, end_lineno=132, end_col_offset=45), Expr(value=Call(func=Attribute(value=Call(func=Attribute(value=Name(id='architecture', ctx=Load(), lineno=133, col_offset=4, end_lineno=133, end_col_offset=16), attr='layer', ctx=Load(), lineno=133, col_offset=4, end_lineno=133, end_col_offset=22), args=[Constant(value='domain', lineno=133, col_offset=23, end_lineno=133, end_col_offset=31)], lineno=133, col_offset=4, end_lineno=133, end_col_offset=32), attr='containing_modules', ctx=Load(), lineno=133, col_offset=4, end_lineno=133, end_col_offset=51), args=[Name(id='domain_modules', ctx=Load(), lineno=133, col_offset=52, end_lineno=133, end_col_offset=66)], lineno=133, col_offset=4, end_lineno=133, end_col_offset=67), lineno=133, col_offset=4, end_lineno=133, end_col_offset=67), Expr(value=Call(func=Attribute(value=Call(func=Attribute(value=Name(id='architecture', ctx=Load(), lineno=134, col_offset=4, end_lineno=134, end_col_offset=16), attr='layer', ctx=Load(), lineno=134, col_offset=4, end_lineno=134, end_col_offset=22), args=[Constant(value='adapters', lineno=134, col_offset=23, end_lineno=134, end_col_offset=33)], lineno=134, col_offset=4, end_lineno=134, end_col_offset=34), attr='containing_modules', ctx=Load(), lineno=134, col_offset=4, end_lineno=134, end_col_offset=53), args=[Name(id='adapter_modules', ctx=Load(), lineno=134, col_offset=54, end_lineno=134, end_col_offset=69)], lineno=134, col_offset=4, end_lineno=134, end_col_offset=70), lineno=134, col_offset=4, end_lineno=134, end_col_offset=70), Expr(value=Call(func=Attribute(value=Call(func=Attribute(value=Name(id='architecture', ctx=Load(), lineno=135, col_offset=4, end_lineno=135, end_col_offset=16), attr='layer', ctx=Load(), lineno=135, col_offset=4, end_lineno=135, end_col_offset=22), args=[Constant(value='io_cli', lineno=135, col_offset=23, end_lineno=135, end_col_offset=31)], lineno=135, col_offset=4, end_lineno=135, end_col_offset=32), attr='containing_modules', ctx=Load(), lineno=135, col_offset=4, end_lineno=135, end_col_offset=51), args=[Name(id='io_modules', ctx=Load(), lineno=135, col_offset=52, end_lineno=135, end_col_offset=62)], lineno=135, col_offset=4, end_lineno=135, end_col_offset=63), lineno=135, col_offset=4, end_lineno=135, end_col_offset=63), Return(value=Tuple(elts=[Name(id='architecture', ctx=Load(), lineno=136, col_offset=11, end_lineno=136, end_col_offset=23), Name(id='domain_modules', ctx=Load(), lineno=136, col_offset=25, end_lineno=136, end_col_offset=39), Name(id='adapter_modules', ctx=Load(), lineno=136, col_offset=41, end_lineno=136, end_col_offset=56), Name(id='io_modules', ctx=Load(), lineno=136, col_offset=58, end_lineno=136, end_col_offset=68)], ctx=Load(), lineno=136, col_offset=11, end_lineno=136, end_col_offset=68), lineno=136, col_offset=4, end_lineno=136, end_col_offset=68)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=106, col_offset=5, end_lineno=106, end_col_offset=10), slice=Tuple(elts=[Name(id='LayeredArchitectureProtocol', ctx=Load(), lineno=106, col_offset=11, end_lineno=106, end_col_offset=38), Subscript(value=Name(id='list', ctx=Load(), lineno=106, col_offset=40, end_lineno=106, end_col_offset=44), slice=Name(id='str', ctx=Load(), lineno=106, col_offset=45, end_lineno=106, end_col_offset=48), ctx=Load(), lineno=106, col_offset=40, end_lineno=106, end_col_offset=49), Subscript(value=Name(id='list', ctx=Load(), lineno=106, col_offset=51, end_lineno=106, end_col_offset=55), slice=Name(id='str', ctx=Load(), lineno=106, col_offset=56, end_lineno=106, end_col_offset=59), ctx=Load(), lineno=106, col_offset=51, end_lineno=106, end_col_offset=60), Subscript(value=Name(id='list', ctx=Load(), lineno=106, col_offset=62, end_lineno=106, end_col_offset=66), slice=Name(id='str', ctx=Load(), lineno=106, col_offset=67, end_lineno=106, end_col_offset=70), ctx=Load(), lineno=106, col_offset=62, end_lineno=106, end_col_offset=71)], ctx=Load(), lineno=106, col_offset=11, end_lineno=106, end_col_offset=71), ctx=Load(), lineno=106, col_offset=5, end_lineno=106, end_col_offset=72), lineno=104, col_offset=0, end_lineno=136, end_col_offset=68), FunctionDef(name='_load_tooling_architecture', args=arguments(args=[arg(arg='root', annotation=BinOp(left=Name(id='Path', ctx=Load(), lineno=140, col_offset=10, end_lineno=140, end_col_offset=14), op=BitOr(), right=Constant(value=None, lineno=140, col_offset=17, end_lineno=140, end_col_offset=21), lineno=140, col_offset=10, end_lineno=140, end_col_offset=21), lineno=140, col_offset=4, end_lineno=140, end_col_offset=21)], defaults=[Constant(value=None, lineno=140, col_offset=24, end_lineno=140, end_col_offset=28)]), body=[Assign(targets=[Name(id='project_root', ctx=Store(), lineno=148, col_offset=4, end_lineno=148, end_col_offset=16)], value=BoolOp(op=Or(), values=[Name(id='root', ctx=Load(), lineno=148, col_offset=19, end_lineno=148, end_col_offset=23), Name(id='REPO_ROOT', ctx=Load(), lineno=148, col_offset=27, end_lineno=148, end_col_offset=36)], lineno=148, col_offset=19, end_lineno=148, end_col_offset=36), lineno=148, col_offset=4, end_lineno=148, end_col_offset=36), Assign(targets=[Name(id='evaluable', ctx=Store(), lineno=149, col_offset=4, end_lineno=149, end_col_offset=13)], value=Call(func=Name(id='get_evaluable_architecture', ctx=Load(), lineno=149, col_offset=16, end_lineno=149, end_col_offset=42), args=[Call(func=Name(id='str', ctx=Load(), lineno=150, col_offset=8, end_lineno=150, end_col_offset=11), args=[Name(id='project_root', ctx=Load(), lineno=150, col_offset=12, end_lineno=150, end_col_offset=24)], lineno=150, col_offset=8, end_lineno=150, end_col_offset=25), Call(func=Name(id='str', ctx=Load(), lineno=151, col_offset=8, end_lineno=151, end_col_offset=11), args=[BinOp(left=Name(id='project_root', ctx=Load(), lineno=151, col_offset=12, end_lineno=151, end_col_offset=24), op=Div(), right=Constant(value='tools', lineno=151, col_offset=27, end_lineno=151, end_col_offset=34), lineno=151, col_offset=12, end_lineno=151, end_col_offset=34)], lineno=151, col_offset=8, end_lineno=151, end_col_offset=35)], lineno=149, col_offset=16, end_lineno=152, end_col_offset=5), lineno=149, col_offset=4, end_lineno=152, end_col_offset=5), Assign(targets=[Tuple(elts=[Name(id='architecture', ctx=Store(), lineno=153, col_offset=4, end_lineno=153, end_col_offset=16), Name(id='domain_modules', ctx=Store(), lineno=153, col_offset=18, end_lineno=153, end_col_offset=32), Name(id='adapter_modules', ctx=Store(), lineno=153, col_offset=34, end_lineno=153, end_col_offset=49), Name(id='io_modules', ctx=Store(), lineno=153, col_offset=51, end_lineno=153, end_col_offset=61)], ctx=Store(), lineno=153, col_offset=4, end_lineno=153, end_col_offset=61)], value=Call(func=Name(id='_build_layered_architecture', ctx=Load(), lineno=153, col_offset=64, end_lineno=153, end_col_offset=91), args=[Call(func=Name(id='tuple', ctx=Load(), lineno=154, col_offset=8, end_lineno=154, end_col_offset=13), args=[Attribute(value=Name(id='evaluable', ctx=Load(), lineno=154, col_offset=14, end_lineno=154, end_col_offset=23), attr='modules', ctx=Load(), lineno=154, col_offset=14, end_lineno=154, end_col_offset=31)], lineno=154, col_offset=8, end_lineno=154, end_col_offset=32)], lineno=153, col_offset=64, end_lineno=155, end_col_offset=5), lineno=153, col_offset=4, end_lineno=155, end_col_offset=5), Return(value=Tuple(elts=[Name(id='architecture', ctx=Load(), lineno=156, col_offset=11, end_lineno=156, end_col_offset=23), Name(id='domain_modules', ctx=Load(), lineno=156, col_offset=25, end_lineno=156, end_col_offset=39), Name(id='adapter_modules', ctx=Load(), lineno=156, col_offset=41, end_lineno=156, end_col_offset=56), Name(id='io_modules', ctx=Load(), lineno=156, col_offset=58, end_lineno=156, end_col_offset=68), Name(id='evaluable', ctx=Load(), lineno=156, col_offset=70, end_lineno=156, end_col_offset=79)], ctx=Load(), lineno=156, col_offset=11, end_lineno=156, end_col_offset=79), lineno=156, col_offset=4, end_lineno=156, end_col_offset=79)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=141, col_offset=5, end_lineno=141, end_col_offset=10), slice=Tuple(elts=[Name(id='LayeredArchitectureProtocol', ctx=Load(), lineno=142, col_offset=4, end_lineno=142, end_col_offset=31), Subscript(value=Name(id='list', ctx=Load(), lineno=143, col_offset=4, end_lineno=143, end_col_offset=8), slice=Name(id='str', ctx=Load(), lineno=143, col_offset=9, end_lineno=143, end_col_offset=12), ctx=Load(), lineno=143, col_offset=4, end_lineno=143, end_col_offset=13), Subscript(value=Name(id='list', ctx=Load(), lineno=144, col_offset=4, end_lineno=144, end_col_offset=8), slice=Name(id='str', ctx=Load(), lineno=144, col_offset=9, end_lineno=144, end_col_offset=12), ctx=Load(), lineno=144, col_offset=4, end_lineno=144, end_col_offset=13), Subscript(value=Name(id='list', ctx=Load(), lineno=145, col_offset=4, end_lineno=145, end_col_offset=8), slice=Name(id='str', ctx=Load(), lineno=145, col_offset=9, end_lineno=145, end_col_offset=12), ctx=Load(), lineno=145, col_offset=4, end_lineno=145, end_col_offset=13), Name(id='EvaluableArchitecture', ctx=Load(), lineno=146, col_offset=4, end_lineno=146, end_col_offset=25)], ctx=Load(), lineno=142, col_offset=4, end_lineno=146, end_col_offset=26), ctx=Load(), lineno=141, col_offset=5, end_lineno=147, end_col_offset=1), lineno=139, col_offset=0, end_lineno=156, end_col_offset=79), FunctionDef(name='_collect_violations', args=arguments(args=[arg(arg='evaluable', annotation=Name(id='EvaluableArchitecture', ctx=Load(), lineno=160, col_offset=15, end_lineno=160, end_col_offset=36), lineno=160, col_offset=4, end_lineno=160, end_col_offset=36), arg(arg='sources', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=161, col_offset=13, end_lineno=161, end_col_offset=21), slice=Name(id='str', ctx=Load(), lineno=161, col_offset=22, end_lineno=161, end_col_offset=25), ctx=Load(), lineno=161, col_offset=13, end_lineno=161, end_col_offset=26), lineno=161, col_offset=4, end_lineno=161, end_col_offset=26), arg(arg='targets', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=162, col_offset=13, end_lineno=162, end_col_offset=21), slice=Name(id='str', ctx=Load(), lineno=162, col_offset=22, end_lineno=162, end_col_offset=25), ctx=Load(), lineno=162, col_offset=13, end_lineno=162, end_col_offset=26), lineno=162, col_offset=4, end_lineno=162, end_col_offset=26), arg(arg='message', annotation=Name(id='str', ctx=Load(), lineno=163, col_offset=13, end_lineno=163, end_col_offset=16), lineno=163, col_offset=4, end_lineno=163, end_col_offset=16)]), body=[If(test=BoolOp(op=Or(), values=[UnaryOp(op=Not(), operand=Name(id='sources', ctx=Load(), lineno=165, col_offset=11, end_lineno=165, end_col_offset=18), lineno=165, col_offset=7, end_lineno=165, end_col_offset=18), UnaryOp(op=Not(), operand=Name(id='targets', ctx=Load(), lineno=165, col_offset=26, end_lineno=165, end_col_offset=33), lineno=165, col_offset=22, end_lineno=165, end_col_offset=33)], lineno=165, col_offset=7, end_lineno=165, end_col_offset=33), body=[Return(value=List(ctx=Load(), lineno=166, col_offset=15, end_lineno=166, end_col_offset=17), lineno=166, col_offset=8, end_lineno=166, end_col_offset=17)], lineno=165, col_offset=4, end_lineno=166, end_col_offset=17), Assign(targets=[Name(id='dependencies', ctx=Store(), lineno=167, col_offset=4, end_lineno=167, end_col_offset=16)], value=Call(func=Attribute(value=Name(id='evaluable', ctx=Load(), lineno=167, col_offset=19, end_lineno=167, end_col_offset=28), attr='get_dependencies', ctx=Load(), lineno=167, col_offset=19, end_lineno=167, end_col_offset=45), args=[ListComp(elt=Call(func=Name(id='new_module_name_filter', ctx=Load(), lineno=168, col_offset=9, end_lineno=168, end_col_offset=31), args=[Name(id='module', ctx=Load(), lineno=168, col_offset=32, end_lineno=168, end_col_offset=38)], lineno=168, col_offset=9, end_lineno=168, end_col_offset=39), generators=[comprehension(target=Name(id='module', ctx=Store(), lineno=168, col_offset=44, end_lineno=168, end_col_offset=50), iter=Name(id='sources', ctx=Load(), lineno=168, col_offset=54, end_lineno=168, end_col_offset=61), is_async=0)], lineno=168, col_offset=8, end_lineno=168, end_col_offset=62), ListComp(elt=Call(func=Name(id='new_module_name_filter', ctx=Load(), lineno=169, col_offset=9, end_lineno=169, end_col_offset=31), args=[Name(id='module', ctx=Load(), lineno=169, col_offset=32, end_lineno=169, end_col_offset=38)], lineno=169, col_offset=9, end_lineno=169, end_col_offset=39), generators=[comprehension(target=Name(id='module', ctx=Store(), lineno=169, col_offset=44, end_lineno=169, end_col_offset=50), iter=Name(id='targets', ctx=Load(), lineno=169, col_offset=54, end_lineno=169, end_col_offset=61), is_async=0)], lineno=169, col_offset=8, end_lineno=169, end_col_offset=62)], lineno=167, col_offset=19, end_lineno=170, end_col_offset=5), lineno=167, col_offset=4, end_lineno=170, end_col_offset=5), AnnAssign(target=Name(id='violations', ctx=Store(), lineno=171, col_offset=4, end_lineno=171, end_col_offset=14), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=171, col_offset=16, end_lineno=171, end_col_offset=20), slice=Name(id='str', ctx=Load(), lineno=171, col_offset=21, end_lineno=171, end_col_offset=24), ctx=Load(), lineno=171, col_offset=16, end_lineno=171, end_col_offset=25), value=List(ctx=Load(), lineno=171, col_offset=28, end_lineno=171, end_col_offset=30), simple=1, lineno=171, col_offset=4, end_lineno=171, end_col_offset=30), For(target=Name(id='edges', ctx=Store(), lineno=172, col_offset=8, end_lineno=172, end_col_offset=13), iter=Call(func=Attribute(value=Name(id='dependencies', ctx=Load(), lineno=172, col_offset=17, end_lineno=172, end_col_offset=29), attr='values', ctx=Load(), lineno=172, col_offset=17, end_lineno=172, end_col_offset=36), lineno=172, col_offset=17, end_lineno=172, end_col_offset=38), body=[For(target=Tuple(elts=[Name(id='importer', ctx=Store(), lineno=173, col_offset=12, end_lineno=173, end_col_offset=20), Name(id='importee', ctx=Store(), lineno=173, col_offset=22, end_lineno=173, end_col_offset=30)], ctx=Store(), lineno=173, col_offset=12, end_lineno=173, end_col_offset=30), iter=Name(id='edges', ctx=Load(), lineno=173, col_offset=34, end_lineno=173, end_col_offset=39), body=[Expr(value=Call(func=Attribute(value=Name(id='violations', ctx=Load(), lineno=174, col_offset=12, end_lineno=174, end_col_offset=22), attr='append', ctx=Load(), lineno=174, col_offset=12, end_lineno=174, end_col_offset=29), args=[JoinedStr(values=[FormattedValue(value=Name(id='message', ctx=Load(), lineno=174, col_offset=33, end_lineno=174, end_col_offset=40), conversion=-1, lineno=174, col_offset=32, end_lineno=174, end_col_offset=41), Constant(value=': "', lineno=174, col_offset=41, end_lineno=174, end_col_offset=44), FormattedValue(value=Attribute(value=Name(id='importer', ctx=Load(), lineno=174, col_offset=45, end_lineno=174, end_col_offset=53), attr='identifier', ctx=Load(), lineno=174, col_offset=45, end_lineno=174, end_col_offset=64), conversion=-1, lineno=174, col_offset=44, end_lineno=174, end_col_offset=65), Constant(value='" imports "', lineno=174, col_offset=65, end_lineno=174, end_col_offset=76), FormattedValue(value=Attribute(value=Name(id='importee', ctx=Load(), lineno=174, col_offset=77, end_lineno=174, end_col_offset=85), attr='identifier', ctx=Load(), lineno=174, col_offset=77, end_lineno=174, end_col_offset=96), conversion=-1, lineno=174, col_offset=76, end_lineno=174, end_col_offset=97), Constant(value='"', lineno=174, col_offset=97, end_lineno=174, end_col_offset=98)], lineno=174, col_offset=30, end_lineno=174, end_col_offset=99)], lineno=174, col_offset=12, end_lineno=174, end_col_offset=100), lineno=174, col_offset=12, end_lineno=174, end_col_offset=100)], lineno=173, col_offset=8, end_lineno=174, end_col_offset=100)], lineno=172, col_offset=4, end_lineno=174, end_col_offset=100), Return(value=Name(id='violations', ctx=Load(), lineno=175, col_offset=11, end_lineno=175, end_col_offset=21), lineno=175, col_offset=4, end_lineno=175, end_col_offset=21)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=164, col_offset=5, end_lineno=164, end_col_offset=9), slice=Name(id='str', ctx=Load(), lineno=164, col_offset=10, end_lineno=164, end_col_offset=13), ctx=Load(), lineno=164, col_offset=5, end_lineno=164, end_col_offset=14), lineno=159, col_offset=0, end_lineno=175, end_col_offset=21), FunctionDef(name='enforce_tooling_layers', args=arguments(args=[arg(arg='root', annotation=BinOp(left=Name(id='Path', ctx=Load(), lineno=178, col_offset=33, end_lineno=178, end_col_offset=37), op=BitOr(), right=Constant(value=None, lineno=178, col_offset=40, end_lineno=178, end_col_offset=44), lineno=178, col_offset=33, end_lineno=178, end_col_offset=44), lineno=178, col_offset=27, end_lineno=178, end_col_offset=44)], defaults=[Constant(value=None, lineno=178, col_offset=47, end_lineno=178, end_col_offset=51)]), body=[Expr(value=Constant(value='Validate the domain → adapters → IO layering of the tooling package.\n\n    Parameters\n    ----------\n    root : Path | None\n        Project root path (defaults to REPO_ROOT).\n\n    Returns\n    -------\n    ArchitectureResult\n        Architecture check result with violations.\n    ', lineno=179, col_offset=4, end_lineno=190, end_col_offset=7), lineno=179, col_offset=4, end_lineno=190, end_col_offset=7), Assign(targets=[Tuple(elts=[Name(id='_', ctx=Store(), lineno=191, col_offset=4, end_lineno=191, end_col_offset=5), Name(id='domain_modules', ctx=Store(), lineno=191, col_offset=7, end_lineno=191, end_col_offset=21), Name(id='adapter_modules', ctx=Store(), lineno=191, col_offset=23, end_lineno=191, end_col_offset=38), Name(id='io_modules', ctx=Store(), lineno=191, col_offset=40, end_lineno=191, end_col_offset=50), Name(id='evaluable', ctx=Store(), lineno=191, col_offset=52, end_lineno=191, end_col_offset=61)], ctx=Store(), lineno=191, col_offset=4, end_lineno=191, end_col_offset=61)], value=Call(func=Name(id='_load_tooling_architecture', ctx=Load(), lineno=191, col_offset=64, end_lineno=191, end_col_offset=90), keywords=[keyword(arg='root', value=Name(id='root', ctx=Load(), lineno=192, col_offset=13, end_lineno=192, end_col_offset=17), lineno=192, col_offset=8, end_lineno=192, end_col_offset=17)], lineno=191, col_offset=64, end_lineno=193, end_col_offset=5), lineno=191, col_offset=4, end_lineno=193, end_col_offset=5), AnnAssign(target=Name(id='violations', ctx=Store(), lineno=195, col_offset=4, end_lineno=195, end_col_offset=14), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=195, col_offset=16, end_lineno=195, end_col_offset=20), slice=Name(id='str', ctx=Load(), lineno=195, col_offset=21, end_lineno=195, end_col_offset=24), ctx=Load(), lineno=195, col_offset=16, end_lineno=195, end_col_offset=25), value=List(ctx=Load(), lineno=195, col_offset=28, end_lineno=195, end_col_offset=30), simple=1, lineno=195, col_offset=4, end_lineno=195, end_col_offset=30), Expr(value=Call(func=Attribute(value=Name(id='violations', ctx=Load(), lineno=196, col_offset=4, end_lineno=196, end_col_offset=14), attr='extend', ctx=Load(), lineno=196, col_offset=4, end_lineno=196, end_col_offset=21), args=[Call(func=Name(id='_collect_violations', ctx=Load(), lineno=197, col_offset=8, end_lineno=197, end_col_offset=27), args=[Name(id='evaluable', ctx=Load(), lineno=198, col_offset=12, end_lineno=198, end_col_offset=21), Name(id='domain_modules', ctx=Load(), lineno=199, col_offset=12, end_lineno=199, end_col_offset=26), Name(id='adapter_modules', ctx=Load(), lineno=200, col_offset=12, end_lineno=200, end_col_offset=27), Constant(value='domain must not import adapters', lineno=201, col_offset=12, end_lineno=201, end_col_offset=45)], lineno=197, col_offset=8, end_lineno=202, end_col_offset=9)], lineno=196, col_offset=4, end_lineno=203, end_col_offset=5), lineno=196, col_offset=4, end_lineno=203, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='violations', ctx=Load(), lineno=204, col_offset=4, end_lineno=204, end_col_offset=14), attr='extend', ctx=Load(), lineno=204, col_offset=4, end_lineno=204, end_col_offset=21), args=[Call(func=Name(id='_collect_violations', ctx=Load(), lineno=205, col_offset=8, end_lineno=205, end_col_offset=27), args=[Name(id='evaluable', ctx=Load(), lineno=206, col_offset=12, end_lineno=206, end_col_offset=21), Name(id='domain_modules', ctx=Load(), lineno=207, col_offset=12, end_lineno=207, end_col_offset=26), Name(id='io_modules', ctx=Load(), lineno=208, col_offset=12, end_lineno=208, end_col_offset=22), Constant(value='domain must not import IO/CLI', lineno=209, col_offset=12, end_lineno=209, end_col_offset=43)], lineno=205, col_offset=8, end_lineno=210, end_col_offset=9)], lineno=204, col_offset=4, end_lineno=211, end_col_offset=5), lineno=204, col_offset=4, end_lineno=211, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='violations', ctx=Load(), lineno=212, col_offset=4, end_lineno=212, end_col_offset=14), attr='extend', ctx=Load(), lineno=212, col_offset=4, end_lineno=212, end_col_offset=21), args=[Call(func=Name(id='_collect_violations', ctx=Load(), lineno=213, col_offset=8, end_lineno=213, end_col_offset=27), args=[Name(id='evaluable', ctx=Load(), lineno=214, col_offset=12, end_lineno=214, end_col_offset=21), Name(id='adapter_modules', ctx=Load(), lineno=215, col_offset=12, end_lineno=215, end_col_offset=27), Name(id='io_modules', ctx=Load(), lineno=216, col_offset=12, end_lineno=216, end_col_offset=22), Constant(value='adapters must not import IO/CLI', lineno=217, col_offset=12, end_lineno=217, end_col_offset=45)], lineno=213, col_offset=8, end_lineno=218, end_col_offset=9)], lineno=212, col_offset=4, end_lineno=219, end_col_offset=5), lineno=212, col_offset=4, end_lineno=219, end_col_offset=5), Return(value=Call(func=Name(id='ArchitectureResult', ctx=Load(), lineno=221, col_offset=11, end_lineno=221, end_col_offset=29), keywords=[keyword(arg='violations', value=Call(func=Name(id='tuple', ctx=Load(), lineno=221, col_offset=41, end_lineno=221, end_col_offset=46), args=[Call(func=Name(id='sorted', ctx=Load(), lineno=221, col_offset=47, end_lineno=221, end_col_offset=53), args=[Call(func=Name(id='set', ctx=Load(), lineno=221, col_offset=54, end_lineno=221, end_col_offset=57), args=[Name(id='violations', ctx=Load(), lineno=221, col_offset=58, end_lineno=221, end_col_offset=68)], lineno=221, col_offset=54, end_lineno=221, end_col_offset=69)], lineno=221, col_offset=47, end_lineno=221, end_col_offset=70)], lineno=221, col_offset=41, end_lineno=221, end_col_offset=71), lineno=221, col_offset=30, end_lineno=221, end_col_offset=71)], lineno=221, col_offset=11, end_lineno=221, end_col_offset=72), lineno=221, col_offset=4, end_lineno=221, end_col_offset=72)], returns=Name(id='ArchitectureResult', ctx=Load(), lineno=178, col_offset=56, end_lineno=178, end_col_offset=74), lineno=178, col_offset=0, end_lineno=221, end_col_offset=72)])