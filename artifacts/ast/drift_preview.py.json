Module(body=[Expr(value=Constant(value='Helpers for generating HTML drift previews.', lineno=1, col_offset=0, end_lineno=1, end_col_offset=49), lineno=1, col_offset=0, end_lineno=1, end_col_offset=49), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=3, col_offset=23, end_lineno=3, end_col_offset=34)], level=0, lineno=3, col_offset=0, end_lineno=3, end_col_offset=34), Import(names=[alias(name='difflib', lineno=5, col_offset=7, end_lineno=5, end_col_offset=14)], lineno=5, col_offset=0, end_lineno=5, end_col_offset=14), Import(names=[alias(name='html', lineno=6, col_offset=7, end_lineno=6, end_col_offset=11)], lineno=6, col_offset=0, end_lineno=6, end_col_offset=11), ImportFrom(module='dataclasses', names=[alias(name='dataclass', lineno=7, col_offset=24, end_lineno=7, end_col_offset=33)], level=0, lineno=7, col_offset=0, end_lineno=7, end_col_offset=33), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=8, col_offset=19, end_lineno=8, end_col_offset=32)], level=0, lineno=8, col_offset=0, end_lineno=8, end_col_offset=32), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=10, col_offset=3, end_lineno=10, end_col_offset=16), body=[ImportFrom(module='pathlib', names=[alias(name='Path', lineno=11, col_offset=24, end_lineno=11, end_col_offset=28)], level=0, lineno=11, col_offset=4, end_lineno=11, end_col_offset=28)], lineno=10, col_offset=0, end_lineno=11, end_col_offset=28), Assign(targets=[Name(id='_DIFF', ctx=Store(), lineno=13, col_offset=0, end_lineno=13, end_col_offset=5)], value=Call(func=Attribute(value=Name(id='difflib', ctx=Load(), lineno=13, col_offset=8, end_lineno=13, end_col_offset=15), attr='HtmlDiff', ctx=Load(), lineno=13, col_offset=8, end_lineno=13, end_col_offset=24), keywords=[keyword(arg='wrapcolumn', value=Constant(value=80, lineno=13, col_offset=36, end_lineno=13, end_col_offset=38), lineno=13, col_offset=25, end_lineno=13, end_col_offset=38)], lineno=13, col_offset=8, end_lineno=13, end_col_offset=39), lineno=13, col_offset=0, end_lineno=13, end_col_offset=39), FunctionDef(name='write_html_diff', args=arguments(args=[arg(arg='before', annotation=Name(id='str', ctx=Load(), lineno=16, col_offset=28, end_lineno=16, end_col_offset=31), lineno=16, col_offset=20, end_lineno=16, end_col_offset=31), arg(arg='after', annotation=Name(id='str', ctx=Load(), lineno=16, col_offset=40, end_lineno=16, end_col_offset=43), lineno=16, col_offset=33, end_lineno=16, end_col_offset=43), arg(arg='output', annotation=Name(id='Path', ctx=Load(), lineno=16, col_offset=53, end_lineno=16, end_col_offset=57), lineno=16, col_offset=45, end_lineno=16, end_col_offset=57), arg(arg='title', annotation=Name(id='str', ctx=Load(), lineno=16, col_offset=66, end_lineno=16, end_col_offset=69), lineno=16, col_offset=59, end_lineno=16, end_col_offset=69)]), body=[Expr(value=Constant(value='Render an HTML diff between ``before`` and ``after`` to ``output``.', lineno=17, col_offset=4, end_lineno=17, end_col_offset=77), lineno=17, col_offset=4, end_lineno=17, end_col_offset=77), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='output', ctx=Load(), lineno=18, col_offset=4, end_lineno=18, end_col_offset=10), attr='parent', ctx=Load(), lineno=18, col_offset=4, end_lineno=18, end_col_offset=17), attr='mkdir', ctx=Load(), lineno=18, col_offset=4, end_lineno=18, end_col_offset=23), keywords=[keyword(arg='parents', value=Constant(value=True, lineno=18, col_offset=32, end_lineno=18, end_col_offset=36), lineno=18, col_offset=24, end_lineno=18, end_col_offset=36), keyword(arg='exist_ok', value=Constant(value=True, lineno=18, col_offset=47, end_lineno=18, end_col_offset=51), lineno=18, col_offset=38, end_lineno=18, end_col_offset=51)], lineno=18, col_offset=4, end_lineno=18, end_col_offset=52), lineno=18, col_offset=4, end_lineno=18, end_col_offset=52), Assign(targets=[Name(id='html_output', ctx=Store(), lineno=19, col_offset=4, end_lineno=19, end_col_offset=15)], value=Call(func=Attribute(value=Name(id='_DIFF', ctx=Load(), lineno=19, col_offset=18, end_lineno=19, end_col_offset=23), attr='make_file', ctx=Load(), lineno=19, col_offset=18, end_lineno=19, end_col_offset=33), args=[Call(func=Attribute(value=Name(id='before', ctx=Load(), lineno=20, col_offset=8, end_lineno=20, end_col_offset=14), attr='splitlines', ctx=Load(), lineno=20, col_offset=8, end_lineno=20, end_col_offset=25), lineno=20, col_offset=8, end_lineno=20, end_col_offset=27), Call(func=Attribute(value=Name(id='after', ctx=Load(), lineno=21, col_offset=8, end_lineno=21, end_col_offset=13), attr='splitlines', ctx=Load(), lineno=21, col_offset=8, end_lineno=21, end_col_offset=24), lineno=21, col_offset=8, end_lineno=21, end_col_offset=26)], keywords=[keyword(arg='fromdesc', value=JoinedStr(values=[FormattedValue(value=Name(id='title', ctx=Load(), lineno=22, col_offset=20, end_lineno=22, end_col_offset=25), conversion=-1, lineno=22, col_offset=19, end_lineno=22, end_col_offset=26), Constant(value=' (previous)', lineno=22, col_offset=26, end_lineno=22, end_col_offset=37)], lineno=22, col_offset=17, end_lineno=22, end_col_offset=38), lineno=22, col_offset=8, end_lineno=22, end_col_offset=38), keyword(arg='todesc', value=JoinedStr(values=[FormattedValue(value=Name(id='title', ctx=Load(), lineno=23, col_offset=18, end_lineno=23, end_col_offset=23), conversion=-1, lineno=23, col_offset=17, end_lineno=23, end_col_offset=24), Constant(value=' (current)', lineno=23, col_offset=24, end_lineno=23, end_col_offset=34)], lineno=23, col_offset=15, end_lineno=23, end_col_offset=35), lineno=23, col_offset=8, end_lineno=23, end_col_offset=35), keyword(arg='context', value=Constant(value=True, lineno=24, col_offset=16, end_lineno=24, end_col_offset=20), lineno=24, col_offset=8, end_lineno=24, end_col_offset=20), keyword(arg='numlines', value=Constant(value=20, lineno=25, col_offset=17, end_lineno=25, end_col_offset=19), lineno=25, col_offset=8, end_lineno=25, end_col_offset=19)], lineno=19, col_offset=18, end_lineno=26, end_col_offset=5), lineno=19, col_offset=4, end_lineno=26, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='output', ctx=Load(), lineno=27, col_offset=4, end_lineno=27, end_col_offset=10), attr='write_text', ctx=Load(), lineno=27, col_offset=4, end_lineno=27, end_col_offset=21), args=[Name(id='html_output', ctx=Load(), lineno=27, col_offset=22, end_lineno=27, end_col_offset=33)], keywords=[keyword(arg='encoding', value=Constant(value='utf-8', lineno=27, col_offset=44, end_lineno=27, end_col_offset=51), lineno=27, col_offset=35, end_lineno=27, end_col_offset=51)], lineno=27, col_offset=4, end_lineno=27, end_col_offset=52), lineno=27, col_offset=4, end_lineno=27, end_col_offset=52)], returns=Constant(value=None, lineno=16, col_offset=74, end_lineno=16, end_col_offset=78), lineno=16, col_offset=0, end_lineno=27, end_col_offset=52), ClassDef(name='DocstringDriftEntry', body=[Expr(value=Constant(value='Represents drift between two versions of a source file.', lineno=32, col_offset=4, end_lineno=32, end_col_offset=65), lineno=32, col_offset=4, end_lineno=32, end_col_offset=65), AnnAssign(target=Name(id='path', ctx=Store(), lineno=34, col_offset=4, end_lineno=34, end_col_offset=8), annotation=Name(id='str', ctx=Load(), lineno=34, col_offset=10, end_lineno=34, end_col_offset=13), simple=1, lineno=34, col_offset=4, end_lineno=34, end_col_offset=13), AnnAssign(target=Name(id='before', ctx=Store(), lineno=35, col_offset=4, end_lineno=35, end_col_offset=10), annotation=Name(id='str', ctx=Load(), lineno=35, col_offset=12, end_lineno=35, end_col_offset=15), simple=1, lineno=35, col_offset=4, end_lineno=35, end_col_offset=15), AnnAssign(target=Name(id='after', ctx=Store(), lineno=36, col_offset=4, end_lineno=36, end_col_offset=9), annotation=Name(id='str', ctx=Load(), lineno=36, col_offset=11, end_lineno=36, end_col_offset=14), simple=1, lineno=36, col_offset=4, end_lineno=36, end_col_offset=14)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=30, col_offset=1, end_lineno=30, end_col_offset=10), keywords=[keyword(arg='slots', value=Constant(value=True, lineno=30, col_offset=17, end_lineno=30, end_col_offset=21), lineno=30, col_offset=11, end_lineno=30, end_col_offset=21), keyword(arg='frozen', value=Constant(value=True, lineno=30, col_offset=30, end_lineno=30, end_col_offset=34), lineno=30, col_offset=23, end_lineno=30, end_col_offset=34)], lineno=30, col_offset=1, end_lineno=30, end_col_offset=35)], lineno=31, col_offset=0, end_lineno=36, end_col_offset=14), FunctionDef(name='write_docstring_drift', args=arguments(args=[arg(arg='entries', annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=39, col_offset=35, end_lineno=39, end_col_offset=39), slice=Name(id='DocstringDriftEntry', ctx=Load(), lineno=39, col_offset=40, end_lineno=39, end_col_offset=59), ctx=Load(), lineno=39, col_offset=35, end_lineno=39, end_col_offset=60), lineno=39, col_offset=26, end_lineno=39, end_col_offset=60), arg(arg='output', annotation=Name(id='Path', ctx=Load(), lineno=39, col_offset=70, end_lineno=39, end_col_offset=74), lineno=39, col_offset=62, end_lineno=39, end_col_offset=74)]), body=[Expr(value=Constant(value='Render an aggregated docstring drift preview.', lineno=40, col_offset=4, end_lineno=40, end_col_offset=55), lineno=40, col_offset=4, end_lineno=40, end_col_offset=55), If(test=UnaryOp(op=Not(), operand=Name(id='entries', ctx=Load(), lineno=41, col_offset=11, end_lineno=41, end_col_offset=18), lineno=41, col_offset=7, end_lineno=41, end_col_offset=18), body=[Expr(value=Call(func=Attribute(value=Name(id='output', ctx=Load(), lineno=42, col_offset=8, end_lineno=42, end_col_offset=14), attr='unlink', ctx=Load(), lineno=42, col_offset=8, end_lineno=42, end_col_offset=21), keywords=[keyword(arg='missing_ok', value=Constant(value=True, lineno=42, col_offset=33, end_lineno=42, end_col_offset=37), lineno=42, col_offset=22, end_lineno=42, end_col_offset=37)], lineno=42, col_offset=8, end_lineno=42, end_col_offset=38), lineno=42, col_offset=8, end_lineno=42, end_col_offset=38), Return(lineno=43, col_offset=8, end_lineno=43, end_col_offset=14)], lineno=41, col_offset=4, end_lineno=43, end_col_offset=14), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='output', ctx=Load(), lineno=44, col_offset=4, end_lineno=44, end_col_offset=10), attr='parent', ctx=Load(), lineno=44, col_offset=4, end_lineno=44, end_col_offset=17), attr='mkdir', ctx=Load(), lineno=44, col_offset=4, end_lineno=44, end_col_offset=23), keywords=[keyword(arg='parents', value=Constant(value=True, lineno=44, col_offset=32, end_lineno=44, end_col_offset=36), lineno=44, col_offset=24, end_lineno=44, end_col_offset=36), keyword(arg='exist_ok', value=Constant(value=True, lineno=44, col_offset=47, end_lineno=44, end_col_offset=51), lineno=44, col_offset=38, end_lineno=44, end_col_offset=51)], lineno=44, col_offset=4, end_lineno=44, end_col_offset=52), lineno=44, col_offset=4, end_lineno=44, end_col_offset=52), AnnAssign(target=Name(id='sections', ctx=Store(), lineno=45, col_offset=4, end_lineno=45, end_col_offset=12), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=45, col_offset=14, end_lineno=45, end_col_offset=18), slice=Name(id='str', ctx=Load(), lineno=45, col_offset=19, end_lineno=45, end_col_offset=22), ctx=Load(), lineno=45, col_offset=14, end_lineno=45, end_col_offset=23), value=List(ctx=Load(), lineno=45, col_offset=26, end_lineno=45, end_col_offset=28), simple=1, lineno=45, col_offset=4, end_lineno=45, end_col_offset=28), For(target=Name(id='entry', ctx=Store(), lineno=46, col_offset=8, end_lineno=46, end_col_offset=13), iter=Name(id='entries', ctx=Load(), lineno=46, col_offset=17, end_lineno=46, end_col_offset=24), body=[Assign(targets=[Name(id='table', ctx=Store(), lineno=47, col_offset=8, end_lineno=47, end_col_offset=13)], value=Call(func=Attribute(value=Name(id='_DIFF', ctx=Load(), lineno=47, col_offset=16, end_lineno=47, end_col_offset=21), attr='make_table', ctx=Load(), lineno=47, col_offset=16, end_lineno=47, end_col_offset=32), args=[Call(func=Attribute(value=Attribute(value=Name(id='entry', ctx=Load(), lineno=48, col_offset=12, end_lineno=48, end_col_offset=17), attr='before', ctx=Load(), lineno=48, col_offset=12, end_lineno=48, end_col_offset=24), attr='splitlines', ctx=Load(), lineno=48, col_offset=12, end_lineno=48, end_col_offset=35), lineno=48, col_offset=12, end_lineno=48, end_col_offset=37), Call(func=Attribute(value=Attribute(value=Name(id='entry', ctx=Load(), lineno=49, col_offset=12, end_lineno=49, end_col_offset=17), attr='after', ctx=Load(), lineno=49, col_offset=12, end_lineno=49, end_col_offset=23), attr='splitlines', ctx=Load(), lineno=49, col_offset=12, end_lineno=49, end_col_offset=34), lineno=49, col_offset=12, end_lineno=49, end_col_offset=36)], keywords=[keyword(arg='fromdesc', value=JoinedStr(values=[FormattedValue(value=Attribute(value=Name(id='entry', ctx=Load(), lineno=50, col_offset=24, end_lineno=50, end_col_offset=29), attr='path', ctx=Load(), lineno=50, col_offset=24, end_lineno=50, end_col_offset=34), conversion=-1, lineno=50, col_offset=23, end_lineno=50, end_col_offset=35), Constant(value=' (baseline)', lineno=50, col_offset=35, end_lineno=50, end_col_offset=46)], lineno=50, col_offset=21, end_lineno=50, end_col_offset=47), lineno=50, col_offset=12, end_lineno=50, end_col_offset=47), keyword(arg='todesc', value=JoinedStr(values=[FormattedValue(value=Attribute(value=Name(id='entry', ctx=Load(), lineno=51, col_offset=22, end_lineno=51, end_col_offset=27), attr='path', ctx=Load(), lineno=51, col_offset=22, end_lineno=51, end_col_offset=32), conversion=-1, lineno=51, col_offset=21, end_lineno=51, end_col_offset=33), Constant(value=' (current)', lineno=51, col_offset=33, end_lineno=51, end_col_offset=43)], lineno=51, col_offset=19, end_lineno=51, end_col_offset=44), lineno=51, col_offset=12, end_lineno=51, end_col_offset=44), keyword(arg='context', value=Constant(value=True, lineno=52, col_offset=20, end_lineno=52, end_col_offset=24), lineno=52, col_offset=12, end_lineno=52, end_col_offset=24), keyword(arg='numlines', value=Constant(value=20, lineno=53, col_offset=21, end_lineno=53, end_col_offset=23), lineno=53, col_offset=12, end_lineno=53, end_col_offset=23)], lineno=47, col_offset=16, end_lineno=54, end_col_offset=9), lineno=47, col_offset=8, end_lineno=54, end_col_offset=9), Assign(targets=[Name(id='heading', ctx=Store(), lineno=55, col_offset=8, end_lineno=55, end_col_offset=15)], value=JoinedStr(values=[Constant(value='<h2>', lineno=55, col_offset=20, end_lineno=55, end_col_offset=24), FormattedValue(value=Call(func=Attribute(value=Name(id='html', ctx=Load(), lineno=55, col_offset=25, end_lineno=55, end_col_offset=29), attr='escape', ctx=Load(), lineno=55, col_offset=25, end_lineno=55, end_col_offset=36), args=[Attribute(value=Name(id='entry', ctx=Load(), lineno=55, col_offset=37, end_lineno=55, end_col_offset=42), attr='path', ctx=Load(), lineno=55, col_offset=37, end_lineno=55, end_col_offset=47)], lineno=55, col_offset=25, end_lineno=55, end_col_offset=48), conversion=-1, lineno=55, col_offset=24, end_lineno=55, end_col_offset=49), Constant(value='</h2>', lineno=55, col_offset=49, end_lineno=55, end_col_offset=54)], lineno=55, col_offset=18, end_lineno=55, end_col_offset=55), lineno=55, col_offset=8, end_lineno=55, end_col_offset=55), Expr(value=Call(func=Attribute(value=Name(id='sections', ctx=Load(), lineno=56, col_offset=8, end_lineno=56, end_col_offset=16), attr='append', ctx=Load(), lineno=56, col_offset=8, end_lineno=56, end_col_offset=23), args=[JoinedStr(values=[FormattedValue(value=Name(id='heading', ctx=Load(), lineno=56, col_offset=27, end_lineno=56, end_col_offset=34), conversion=-1, lineno=56, col_offset=26, end_lineno=56, end_col_offset=35), Constant(value='\n', lineno=56, col_offset=35, end_lineno=56, end_col_offset=37), FormattedValue(value=Name(id='table', ctx=Load(), lineno=56, col_offset=38, end_lineno=56, end_col_offset=43), conversion=-1, lineno=56, col_offset=37, end_lineno=56, end_col_offset=44)], lineno=56, col_offset=24, end_lineno=56, end_col_offset=45)], lineno=56, col_offset=8, end_lineno=56, end_col_offset=46), lineno=56, col_offset=8, end_lineno=56, end_col_offset=46)], lineno=46, col_offset=4, end_lineno=56, end_col_offset=46), Assign(targets=[Name(id='body', ctx=Store(), lineno=57, col_offset=4, end_lineno=57, end_col_offset=8)], value=Call(func=Attribute(value=Constant(value='\n', lineno=57, col_offset=11, end_lineno=57, end_col_offset=15), attr='join', ctx=Load(), lineno=57, col_offset=11, end_lineno=57, end_col_offset=20), args=[Name(id='sections', ctx=Load(), lineno=57, col_offset=21, end_lineno=57, end_col_offset=29)], lineno=57, col_offset=11, end_lineno=57, end_col_offset=30), lineno=57, col_offset=4, end_lineno=57, end_col_offset=30), Assign(targets=[Name(id='html_output', ctx=Store(), lineno=58, col_offset=4, end_lineno=58, end_col_offset=15)], value=JoinedStr(values=[Constant(value="<html><head><meta charset='utf-8'><title>Docstring drift</title></head><body><h1>Docstring drift preview</h1>\n", lineno=59, col_offset=8, end_lineno=60, end_col_offset=44), FormattedValue(value=Name(id='body', ctx=Load(), lineno=60, col_offset=45, end_lineno=60, end_col_offset=49), conversion=-1, lineno=60, col_offset=44, end_lineno=60, end_col_offset=50), Constant(value='\n</body></html>', lineno=60, col_offset=50, end_lineno=61, end_col_offset=24)], lineno=59, col_offset=8, end_lineno=61, end_col_offset=24), lineno=58, col_offset=4, end_lineno=62, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='output', ctx=Load(), lineno=63, col_offset=4, end_lineno=63, end_col_offset=10), attr='write_text', ctx=Load(), lineno=63, col_offset=4, end_lineno=63, end_col_offset=21), args=[Name(id='html_output', ctx=Load(), lineno=63, col_offset=22, end_lineno=63, end_col_offset=33)], keywords=[keyword(arg='encoding', value=Constant(value='utf-8', lineno=63, col_offset=44, end_lineno=63, end_col_offset=51), lineno=63, col_offset=35, end_lineno=63, end_col_offset=51)], lineno=63, col_offset=4, end_lineno=63, end_col_offset=52), lineno=63, col_offset=4, end_lineno=63, end_col_offset=52)], returns=Constant(value=None, lineno=39, col_offset=79, end_lineno=39, end_col_offset=83), lineno=39, col_offset=0, end_lineno=63, end_col_offset=52), Assign(targets=[Name(id='__all__', ctx=Store(), lineno=66, col_offset=0, end_lineno=66, end_col_offset=7)], value=List(elts=[Constant(value='DocstringDriftEntry', lineno=66, col_offset=11, end_lineno=66, end_col_offset=32), Constant(value='write_docstring_drift', lineno=66, col_offset=34, end_lineno=66, end_col_offset=57), Constant(value='write_html_diff', lineno=66, col_offset=59, end_lineno=66, end_col_offset=76)], ctx=Load(), lineno=66, col_offset=10, end_lineno=66, end_col_offset=77), lineno=66, col_offset=0, end_lineno=66, end_col_offset=77)])