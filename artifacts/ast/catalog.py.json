Module(body=[Expr(value=Constant(value='Overview of catalog.\n\nThis module bundles catalog logic for the kgfoundry stack. It groups related helpers so downstream\npackages can import a single cohesive namespace. Refer to the functions and classes below for\nimplementation specifics.\n', lineno=1, col_offset=0, end_lineno=6, end_col_offset=3), lineno=1, col_offset=0, end_lineno=6, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=10, col_offset=23, end_lineno=10, end_col_offset=34)], level=0, lineno=10, col_offset=0, end_lineno=10, end_col_offset=34), ImportFrom(module='dataclasses', names=[alias(name='dataclass', lineno=12, col_offset=24, end_lineno=12, end_col_offset=33)], level=0, lineno=12, col_offset=0, end_lineno=12, end_col_offset=33), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=13, col_offset=19, end_lineno=13, end_col_offset=32)], level=0, lineno=13, col_offset=0, end_lineno=13, end_col_offset=32), ImportFrom(module='kgfoundry_common.navmap_loader', names=[alias(name='load_nav_metadata', lineno=15, col_offset=43, end_lineno=15, end_col_offset=60)], level=0, lineno=15, col_offset=0, end_lineno=15, end_col_offset=60), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=17, col_offset=3, end_lineno=17, end_col_offset=16), body=[ImportFrom(module='kgfoundry_common.problem_details', names=[alias(name='JsonValue', lineno=18, col_offset=49, end_lineno=18, end_col_offset=58)], level=0, lineno=18, col_offset=4, end_lineno=18, end_col_offset=58)], lineno=17, col_offset=0, end_lineno=18, end_col_offset=58), ClassDef(name='Concept', body=[Expr(value=Constant(value='Knowledge graph concept representation.\n\n    Represents a concept in the ontology catalog with an identifier\n    and optional human-readable label.\n\n    Attributes\n    ----------\n    id : str\n        Unique concept identifier (typically a URN).\n    label : str | None\n        Human-readable label for the concept. Defaults to None.\n    ', lineno=23, col_offset=4, end_lineno=34, end_col_offset=7), lineno=23, col_offset=4, end_lineno=34, end_col_offset=7), AnnAssign(target=Name(id='id', ctx=Store(), lineno=36, col_offset=4, end_lineno=36, end_col_offset=6), annotation=Name(id='str', ctx=Load(), lineno=36, col_offset=8, end_lineno=36, end_col_offset=11), simple=1, lineno=36, col_offset=4, end_lineno=36, end_col_offset=11), AnnAssign(target=Name(id='label', ctx=Store(), lineno=37, col_offset=4, end_lineno=37, end_col_offset=9), annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=37, col_offset=11, end_lineno=37, end_col_offset=14), op=BitOr(), right=Constant(value=None, lineno=37, col_offset=17, end_lineno=37, end_col_offset=21), lineno=37, col_offset=11, end_lineno=37, end_col_offset=21), value=Constant(value=None, lineno=37, col_offset=24, end_lineno=37, end_col_offset=28), simple=1, lineno=37, col_offset=4, end_lineno=37, end_col_offset=28)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=21, col_offset=1, end_lineno=21, end_col_offset=10), keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=21, col_offset=18, end_lineno=21, end_col_offset=22), lineno=21, col_offset=11, end_lineno=21, end_col_offset=22)], lineno=21, col_offset=1, end_lineno=21, end_col_offset=23)], lineno=22, col_offset=0, end_lineno=37, end_col_offset=28), Assign(targets=[Name(id='__all__', ctx=Store(), lineno=40, col_offset=0, end_lineno=40, end_col_offset=7)], value=List(elts=[Constant(value='OntologyCatalog', lineno=41, col_offset=4, end_lineno=41, end_col_offset=21)], ctx=Load(), lineno=40, col_offset=10, end_lineno=42, end_col_offset=1), lineno=40, col_offset=0, end_lineno=42, end_col_offset=1), Assign(targets=[Name(id='__navmap__', ctx=Store(), lineno=43, col_offset=0, end_lineno=43, end_col_offset=10)], value=Call(func=Name(id='load_nav_metadata', ctx=Load(), lineno=43, col_offset=13, end_lineno=43, end_col_offset=30), args=[Name(id='__name__', ctx=Load(), lineno=43, col_offset=31, end_lineno=43, end_col_offset=39), Call(func=Name(id='tuple', ctx=Load(), lineno=43, col_offset=41, end_lineno=43, end_col_offset=46), args=[Name(id='__all__', ctx=Load(), lineno=43, col_offset=47, end_lineno=43, end_col_offset=54)], lineno=43, col_offset=41, end_lineno=43, end_col_offset=55)], lineno=43, col_offset=13, end_lineno=43, end_col_offset=56), lineno=43, col_offset=0, end_lineno=43, end_col_offset=56), ClassDef(name='OntologyCatalog', body=[Expr(value=Constant(value='Utility catalog for lightweight ontology lookups.\n\n    Provides a simple in-memory catalog for querying knowledge graph\n    concepts. Supports neighbor traversal and concept hydration.\n\n    Initializes the ontology catalog with concepts. Builds an internal index\n    mapping concept IDs to concept objects for fast lookup.\n\n    Parameters\n    ----------\n    concepts : list[Concept]\n        List of concepts to include in the catalog.\n    ', lineno=48, col_offset=4, end_lineno=60, end_col_offset=7), lineno=48, col_offset=4, end_lineno=60, end_col_offset=7), FunctionDef(name='__init__', args=arguments(args=[arg(arg='self', lineno=62, col_offset=17, end_lineno=62, end_col_offset=21), arg(arg='concepts', annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=62, col_offset=33, end_lineno=62, end_col_offset=37), slice=Name(id='Concept', ctx=Load(), lineno=62, col_offset=38, end_lineno=62, end_col_offset=45), ctx=Load(), lineno=62, col_offset=33, end_lineno=62, end_col_offset=46), lineno=62, col_offset=23, end_lineno=62, end_col_offset=46)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=63, col_offset=8, end_lineno=63, end_col_offset=12), attr='by_id', ctx=Store(), lineno=63, col_offset=8, end_lineno=63, end_col_offset=18)], value=DictComp(key=Attribute(value=Name(id='concept', ctx=Load(), lineno=63, col_offset=22, end_lineno=63, end_col_offset=29), attr='id', ctx=Load(), lineno=63, col_offset=22, end_lineno=63, end_col_offset=32), value=Name(id='concept', ctx=Load(), lineno=63, col_offset=34, end_lineno=63, end_col_offset=41), generators=[comprehension(target=Name(id='concept', ctx=Store(), lineno=63, col_offset=46, end_lineno=63, end_col_offset=53), iter=Name(id='concepts', ctx=Load(), lineno=63, col_offset=57, end_lineno=63, end_col_offset=65), is_async=0)], lineno=63, col_offset=21, end_lineno=63, end_col_offset=66), lineno=63, col_offset=8, end_lineno=63, end_col_offset=66)], returns=Constant(value=None, lineno=62, col_offset=51, end_lineno=62, end_col_offset=55), lineno=62, col_offset=4, end_lineno=63, end_col_offset=66), FunctionDef(name='neighbors', args=arguments(args=[arg(arg='self', lineno=65, col_offset=18, end_lineno=65, end_col_offset=22), arg(arg='concept_id', annotation=Name(id='str', ctx=Load(), lineno=65, col_offset=36, end_lineno=65, end_col_offset=39), lineno=65, col_offset=24, end_lineno=65, end_col_offset=39), arg(arg='depth', annotation=Name(id='int', ctx=Load(), lineno=65, col_offset=48, end_lineno=65, end_col_offset=51), lineno=65, col_offset=41, end_lineno=65, end_col_offset=51)], defaults=[Constant(value=1, lineno=65, col_offset=54, end_lineno=65, end_col_offset=55)]), body=[Expr(value=Constant(value='Return related concept identifiers up to the requested depth.\n\n        Parameters\n        ----------\n        concept_id : str\n            Concept identifier to find neighbors for.\n        depth : int, optional\n            Maximum depth to traverse. Defaults to 1.\n\n        Returns\n        -------\n        set[str]\n            Set of related concept identifiers.\n        ', lineno=66, col_offset=8, end_lineno=79, end_col_offset=11), lineno=66, col_offset=8, end_lineno=79, end_col_offset=11), If(test=Compare(left=Name(id='depth', ctx=Load(), lineno=80, col_offset=11, end_lineno=80, end_col_offset=16), ops=[Lt()], comparators=[Constant(value=1, lineno=80, col_offset=19, end_lineno=80, end_col_offset=20)], lineno=80, col_offset=11, end_lineno=80, end_col_offset=20), body=[Return(value=Call(func=Name(id='set', ctx=Load(), lineno=81, col_offset=19, end_lineno=81, end_col_offset=22), lineno=81, col_offset=19, end_lineno=81, end_col_offset=24), lineno=81, col_offset=12, end_lineno=81, end_col_offset=24)], lineno=80, col_offset=8, end_lineno=81, end_col_offset=24), Assign(targets=[Name(id='concept', ctx=Store(), lineno=82, col_offset=8, end_lineno=82, end_col_offset=15)], value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=82, col_offset=18, end_lineno=82, end_col_offset=22), attr='by_id', ctx=Load(), lineno=82, col_offset=18, end_lineno=82, end_col_offset=28), attr='get', ctx=Load(), lineno=82, col_offset=18, end_lineno=82, end_col_offset=32), args=[Name(id='concept_id', ctx=Load(), lineno=82, col_offset=33, end_lineno=82, end_col_offset=43)], lineno=82, col_offset=18, end_lineno=82, end_col_offset=44), lineno=82, col_offset=8, end_lineno=82, end_col_offset=44), If(test=Compare(left=Name(id='concept', ctx=Load(), lineno=83, col_offset=11, end_lineno=83, end_col_offset=18), ops=[Is()], comparators=[Constant(value=None, lineno=83, col_offset=22, end_lineno=83, end_col_offset=26)], lineno=83, col_offset=11, end_lineno=83, end_col_offset=26), body=[Return(value=Call(func=Name(id='set', ctx=Load(), lineno=84, col_offset=19, end_lineno=84, end_col_offset=22), lineno=84, col_offset=19, end_lineno=84, end_col_offset=24), lineno=84, col_offset=12, end_lineno=84, end_col_offset=24)], lineno=83, col_offset=8, end_lineno=84, end_col_offset=24), Return(value=Set(elts=[Attribute(value=Name(id='concept', ctx=Load(), lineno=87, col_offset=16, end_lineno=87, end_col_offset=23), attr='id', ctx=Load(), lineno=87, col_offset=16, end_lineno=87, end_col_offset=26)], lineno=87, col_offset=15, end_lineno=87, end_col_offset=27), lineno=87, col_offset=8, end_lineno=87, end_col_offset=27)], returns=Subscript(value=Name(id='set', ctx=Load(), lineno=65, col_offset=60, end_lineno=65, end_col_offset=63), slice=Name(id='str', ctx=Load(), lineno=65, col_offset=64, end_lineno=65, end_col_offset=67), ctx=Load(), lineno=65, col_offset=60, end_lineno=65, end_col_offset=68), lineno=65, col_offset=4, end_lineno=87, end_col_offset=27), FunctionDef(name='hydrate', args=arguments(args=[arg(arg='self', lineno=89, col_offset=16, end_lineno=89, end_col_offset=20), arg(arg='concept_id', annotation=Name(id='str', ctx=Load(), lineno=89, col_offset=34, end_lineno=89, end_col_offset=37), lineno=89, col_offset=22, end_lineno=89, end_col_offset=37)]), body=[Expr(value=Constant(value='Return a JSON-serialisable view of the concept metadata.\n\n        Parameters\n        ----------\n        concept_id : str\n            Concept identifier to hydrate.\n\n        Returns\n        -------\n        dict[str, JsonValue]\n            JSON-serializable dictionary of concept metadata.\n        ', lineno=90, col_offset=8, end_lineno=101, end_col_offset=11), lineno=90, col_offset=8, end_lineno=101, end_col_offset=11), Assign(targets=[Name(id='concept', ctx=Store(), lineno=102, col_offset=8, end_lineno=102, end_col_offset=15)], value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=102, col_offset=18, end_lineno=102, end_col_offset=22), attr='by_id', ctx=Load(), lineno=102, col_offset=18, end_lineno=102, end_col_offset=28), attr='get', ctx=Load(), lineno=102, col_offset=18, end_lineno=102, end_col_offset=32), args=[Name(id='concept_id', ctx=Load(), lineno=102, col_offset=33, end_lineno=102, end_col_offset=43)], lineno=102, col_offset=18, end_lineno=102, end_col_offset=44), lineno=102, col_offset=8, end_lineno=102, end_col_offset=44), If(test=Compare(left=Name(id='concept', ctx=Load(), lineno=103, col_offset=11, end_lineno=103, end_col_offset=18), ops=[Is()], comparators=[Constant(value=None, lineno=103, col_offset=22, end_lineno=103, end_col_offset=26)], lineno=103, col_offset=11, end_lineno=103, end_col_offset=26), body=[Return(value=Dict(lineno=104, col_offset=19, end_lineno=104, end_col_offset=21), lineno=104, col_offset=12, end_lineno=104, end_col_offset=21)], lineno=103, col_offset=8, end_lineno=104, end_col_offset=21), AnnAssign(target=Name(id='payload', ctx=Store(), lineno=105, col_offset=8, end_lineno=105, end_col_offset=15), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=105, col_offset=17, end_lineno=105, end_col_offset=21), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=105, col_offset=22, end_lineno=105, end_col_offset=25), Name(id='JsonValue', ctx=Load(), lineno=105, col_offset=27, end_lineno=105, end_col_offset=36)], ctx=Load(), lineno=105, col_offset=22, end_lineno=105, end_col_offset=36), ctx=Load(), lineno=105, col_offset=17, end_lineno=105, end_col_offset=37), value=Dict(keys=[Constant(value='id', lineno=105, col_offset=41, end_lineno=105, end_col_offset=45)], values=[Attribute(value=Name(id='concept', ctx=Load(), lineno=105, col_offset=47, end_lineno=105, end_col_offset=54), attr='id', ctx=Load(), lineno=105, col_offset=47, end_lineno=105, end_col_offset=57)], lineno=105, col_offset=40, end_lineno=105, end_col_offset=58), simple=1, lineno=105, col_offset=8, end_lineno=105, end_col_offset=58), If(test=Compare(left=Attribute(value=Name(id='concept', ctx=Load(), lineno=106, col_offset=11, end_lineno=106, end_col_offset=18), attr='label', ctx=Load(), lineno=106, col_offset=11, end_lineno=106, end_col_offset=24), ops=[IsNot()], comparators=[Constant(value=None, lineno=106, col_offset=32, end_lineno=106, end_col_offset=36)], lineno=106, col_offset=11, end_lineno=106, end_col_offset=36), body=[Assign(targets=[Subscript(value=Name(id='payload', ctx=Load(), lineno=107, col_offset=12, end_lineno=107, end_col_offset=19), slice=Constant(value='label', lineno=107, col_offset=20, end_lineno=107, end_col_offset=27), ctx=Store(), lineno=107, col_offset=12, end_lineno=107, end_col_offset=28)], value=Attribute(value=Name(id='concept', ctx=Load(), lineno=107, col_offset=31, end_lineno=107, end_col_offset=38), attr='label', ctx=Load(), lineno=107, col_offset=31, end_lineno=107, end_col_offset=44), lineno=107, col_offset=12, end_lineno=107, end_col_offset=44)], lineno=106, col_offset=8, end_lineno=107, end_col_offset=44), Return(value=Name(id='payload', ctx=Load(), lineno=108, col_offset=15, end_lineno=108, end_col_offset=22), lineno=108, col_offset=8, end_lineno=108, end_col_offset=22)], returns=Subscript(value=Name(id='dict', ctx=Load(), lineno=89, col_offset=42, end_lineno=89, end_col_offset=46), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=89, col_offset=47, end_lineno=89, end_col_offset=50), Name(id='JsonValue', ctx=Load(), lineno=89, col_offset=52, end_lineno=89, end_col_offset=61)], ctx=Load(), lineno=89, col_offset=47, end_lineno=89, end_col_offset=61), ctx=Load(), lineno=89, col_offset=42, end_lineno=89, end_col_offset=62), lineno=89, col_offset=4, end_lineno=108, end_col_offset=22)], lineno=47, col_offset=0, end_lineno=108, end_col_offset=22)])