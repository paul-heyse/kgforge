Module(body=[Expr(value=Constant(value='Domain orchestration for the docstring builder pipeline.\n\nThis module orchestrates the docstring builder pipeline, coordinating file selection,\nprocessing, and result aggregation. It provides two public APIs:\n\n1. **New Typed API** (recommended): Use :func:`run_build` with :class:`DocstringBuildConfig`\n2. **Legacy API**: Use :func:`run_docstring_builder` or :func:`run_legacy` (deprecated)\n\nExamples\n--------\n**New Typed API (Recommended)**\n\nUse the new API with typed configuration for safer, more maintainable code:\n\n>>> from tools.docstring_builder.orchestrator import run_build\n>>> from tools.docstring_builder.config_models import DocstringBuildConfig\n>>> from tools.docstring_builder.cache import BuilderCache\n>>> from pathlib import Path\n>>> import tempfile\n>>>\n>>> config = DocstringBuildConfig(\n...     enable_plugins=True,\n...     emit_diff=False,\n...     timeout_seconds=600,\n... )\n>>> with tempfile.TemporaryDirectory() as tmpdir:\n...     cache = BuilderCache(Path(tmpdir) / "cache.json")\n...     # result = run_build(config=config, cache=cache)  # doctest: +SKIP\n...     # print(result.exit_status)  # doctest: +SKIP\n\n**Legacy API (Deprecated)**\n\nThe legacy API still works but emits a deprecation warning:\n\n>>> from tools.docstring_builder.orchestrator import run_legacy\n>>> import warnings\n>>> with warnings.catch_warnings(record=True) as w:  # doctest: +SKIP\n...     warnings.simplefilter("always")\n...     # result = run_legacy()  # doctest: +SKIP\n...     # assert len(w) == 1  # doctest: +SKIP\n...     # assert issubclass(w[0].category, DeprecationWarning)  # doctest: +SKIP\n', lineno=1, col_offset=0, end_lineno=42, end_col_offset=3), lineno=1, col_offset=0, end_lineno=42, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=44, col_offset=23, end_lineno=44, end_col_offset=34)], level=0, lineno=44, col_offset=0, end_lineno=44, end_col_offset=34), Import(names=[alias(name='datetime', lineno=46, col_offset=7, end_lineno=46, end_col_offset=15)], lineno=46, col_offset=0, end_lineno=46, end_col_offset=15), Import(names=[alias(name='json', lineno=47, col_offset=7, end_lineno=47, end_col_offset=11)], lineno=47, col_offset=0, end_lineno=47, end_col_offset=11), Import(names=[alias(name='os', lineno=48, col_offset=7, end_lineno=48, end_col_offset=9)], lineno=48, col_offset=0, end_lineno=48, end_col_offset=9), Import(names=[alias(name='warnings', lineno=49, col_offset=7, end_lineno=49, end_col_offset=15)], lineno=49, col_offset=0, end_lineno=49, end_col_offset=15), ImportFrom(module='collections.abc', names=[alias(name='Iterable', lineno=50, col_offset=28, end_lineno=50, end_col_offset=36), alias(name='Mapping', lineno=50, col_offset=38, end_lineno=50, end_col_offset=45), alias(name='Sequence', lineno=50, col_offset=47, end_lineno=50, end_col_offset=55)], level=0, lineno=50, col_offset=0, end_lineno=50, end_col_offset=55), ImportFrom(module='concurrent.futures', names=[alias(name='ThreadPoolExecutor', lineno=51, col_offset=31, end_lineno=51, end_col_offset=49)], level=0, lineno=51, col_offset=0, end_lineno=51, end_col_offset=49), ImportFrom(module='concurrent.futures', names=[alias(name='TimeoutError', asname='_FuturesTimeoutError', lineno=52, col_offset=31, end_lineno=52, end_col_offset=67)], level=0, lineno=52, col_offset=0, end_lineno=52, end_col_offset=67), ImportFrom(module='dataclasses', names=[alias(name='dataclass', lineno=53, col_offset=24, end_lineno=53, end_col_offset=33), alias(name='replace', lineno=53, col_offset=35, end_lineno=53, end_col_offset=42)], level=0, lineno=53, col_offset=0, end_lineno=53, end_col_offset=42), ImportFrom(module='importlib', names=[alias(name='import_module', lineno=54, col_offset=22, end_lineno=54, end_col_offset=35)], level=0, lineno=54, col_offset=0, end_lineno=54, end_col_offset=35), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=55, col_offset=19, end_lineno=55, end_col_offset=32), alias(name='NoReturn', lineno=55, col_offset=34, end_lineno=55, end_col_offset=42), alias(name='Protocol', lineno=55, col_offset=44, end_lineno=55, end_col_offset=52), alias(name='cast', lineno=55, col_offset=54, end_lineno=55, end_col_offset=58)], level=0, lineno=55, col_offset=0, end_lineno=55, end_col_offset=58), ImportFrom(module='tools._shared.logging', names=[alias(name='get_logger', lineno=57, col_offset=34, end_lineno=57, end_col_offset=44), alias(name='with_fields', lineno=57, col_offset=46, end_lineno=57, end_col_offset=57)], level=0, lineno=57, col_offset=0, end_lineno=57, end_col_offset=57), ImportFrom(module='tools._shared.proc', names=[alias(name='ToolExecutionError', lineno=58, col_offset=31, end_lineno=58, end_col_offset=49), alias(name='run_tool', lineno=58, col_offset=51, end_lineno=58, end_col_offset=59)], level=0, lineno=58, col_offset=0, end_lineno=58, end_col_offset=59), ImportFrom(module='tools.docstring_builder.builder_types', names=[alias(name='STATUS_LABELS', lineno=60, col_offset=4, end_lineno=60, end_col_offset=17), alias(name='DocstringBuildRequest', lineno=61, col_offset=4, end_lineno=61, end_col_offset=25), alias(name='DocstringBuildResult', lineno=62, col_offset=4, end_lineno=62, end_col_offset=24), alias(name='ExitStatus', lineno=63, col_offset=4, end_lineno=63, end_col_offset=14), alias(name='build_problem_details', lineno=64, col_offset=4, end_lineno=64, end_col_offset=25), alias(name='status_from_exit', lineno=65, col_offset=4, end_lineno=65, end_col_offset=20)], level=0, lineno=59, col_offset=0, end_lineno=66, end_col_offset=1), ImportFrom(module='tools.docstring_builder.cache', names=[alias(name='BuilderCache', lineno=67, col_offset=42, end_lineno=67, end_col_offset=54), alias(name='DocstringBuilderCache', lineno=67, col_offset=56, end_lineno=67, end_col_offset=77)], level=0, lineno=67, col_offset=0, end_lineno=67, end_col_offset=77), ImportFrom(module='tools.docstring_builder.config', names=[alias(name='load_config_with_selection', lineno=68, col_offset=43, end_lineno=68, end_col_offset=69)], level=0, lineno=68, col_offset=0, end_lineno=68, end_col_offset=69), ImportFrom(module='tools.docstring_builder.config_models', names=[alias(name='CachePolicy', lineno=69, col_offset=50, end_lineno=69, end_col_offset=61), alias(name='DocstringBuildConfig', lineno=69, col_offset=63, end_lineno=69, end_col_offset=83)], level=0, lineno=69, col_offset=0, end_lineno=69, end_col_offset=83), ImportFrom(module='tools.docstring_builder.diff_manager', names=[alias(name='DiffManager', lineno=70, col_offset=49, end_lineno=70, end_col_offset=60)], level=0, lineno=70, col_offset=0, end_lineno=70, end_col_offset=60), ImportFrom(module='tools.docstring_builder.docfacts', names=[alias(name='DocFact', lineno=72, col_offset=4, end_lineno=72, end_col_offset=11), alias(name='DocfactsProvenance', lineno=73, col_offset=4, end_lineno=73, end_col_offset=22)], level=0, lineno=71, col_offset=0, end_lineno=74, end_col_offset=1), ImportFrom(module='tools.docstring_builder.docfacts_coordinator', names=[alias(name='DocfactsCoordinator', lineno=75, col_offset=57, end_lineno=75, end_col_offset=76)], level=0, lineno=75, col_offset=0, end_lineno=75, end_col_offset=76), ImportFrom(module='tools.docstring_builder.file_processor', names=[alias(name='FileProcessor', lineno=76, col_offset=51, end_lineno=76, end_col_offset=64)], level=0, lineno=76, col_offset=0, end_lineno=76, end_col_offset=64), ImportFrom(module='tools.docstring_builder.io', names=[alias(name='InvalidPathError', lineno=78, col_offset=4, end_lineno=78, end_col_offset=20), alias(name='SelectionCriteria', lineno=79, col_offset=4, end_lineno=79, end_col_offset=21), alias(name='module_to_path', lineno=80, col_offset=4, end_lineno=80, end_col_offset=18), alias(name='select_files', lineno=81, col_offset=4, end_lineno=81, end_col_offset=16), alias(name='should_ignore', lineno=82, col_offset=4, end_lineno=82, end_col_offset=17)], level=0, lineno=77, col_offset=0, end_lineno=83, end_col_offset=1), ImportFrom(module='tools.docstring_builder.ir', names=[alias(name='build_ir', lineno=84, col_offset=39, end_lineno=84, end_col_offset=47), alias(name='validate_ir', lineno=84, col_offset=49, end_lineno=84, end_col_offset=60)], level=0, lineno=84, col_offset=0, end_lineno=84, end_col_offset=60), ImportFrom(module='tools.docstring_builder.metrics', names=[alias(name='MetricsRecorder', lineno=85, col_offset=44, end_lineno=85, end_col_offset=59)], level=0, lineno=85, col_offset=0, end_lineno=85, end_col_offset=59), ImportFrom(module='tools.docstring_builder.models', names=[alias(name='DocfactsProvenancePayload', lineno=87, col_offset=4, end_lineno=87, end_col_offset=29)], level=0, lineno=86, col_offset=0, end_lineno=88, end_col_offset=1), ImportFrom(module='tools.docstring_builder.normalizer', names=[alias(name='normalize_docstring', lineno=89, col_offset=47, end_lineno=89, end_col_offset=66)], level=0, lineno=89, col_offset=0, end_lineno=89, end_col_offset=66), ImportFrom(module='tools.docstring_builder.observability', names=[alias(name='get_metrics_registry', lineno=90, col_offset=50, end_lineno=90, end_col_offset=70)], level=0, lineno=90, col_offset=0, end_lineno=90, end_col_offset=70), ImportFrom(module='tools.docstring_builder.paths', names=[alias(name='CACHE_PATH', lineno=92, col_offset=4, end_lineno=92, end_col_offset=14), alias(name='DOCFACTS_DIFF_PATH', lineno=93, col_offset=4, end_lineno=93, end_col_offset=22), alias(name='DOCFACTS_PATH', lineno=94, col_offset=4, end_lineno=94, end_col_offset=17), alias(name='DOCSTRINGS_DIFF_PATH', lineno=95, col_offset=4, end_lineno=95, end_col_offset=24), alias(name='OBSERVABILITY_PATH', lineno=96, col_offset=4, end_lineno=96, end_col_offset=22), alias(name='REPO_ROOT', lineno=97, col_offset=4, end_lineno=97, end_col_offset=13)], level=0, lineno=91, col_offset=0, end_lineno=98, end_col_offset=1), ImportFrom(module='tools.docstring_builder.pipeline', names=[alias(name='PipelineConfig', lineno=99, col_offset=45, end_lineno=99, end_col_offset=59), alias(name='PipelineRunner', lineno=99, col_offset=61, end_lineno=99, end_col_offset=75)], level=0, lineno=99, col_offset=0, end_lineno=99, end_col_offset=75), ImportFrom(module='tools.docstring_builder.render', names=[alias(name='render_docstring', lineno=100, col_offset=43, end_lineno=100, end_col_offset=59)], level=0, lineno=100, col_offset=0, end_lineno=100, end_col_offset=59), ImportFrom(module='tools.docstring_builder.schema', names=[alias(name='DocstringEdit', lineno=101, col_offset=43, end_lineno=101, end_col_offset=56)], level=0, lineno=101, col_offset=0, end_lineno=101, end_col_offset=56), ImportFrom(module='tools.docstring_builder.semantics', names=[alias(name='build_semantic_schemas', lineno=102, col_offset=46, end_lineno=102, end_col_offset=68)], level=0, lineno=102, col_offset=0, end_lineno=102, end_col_offset=68), ImportFrom(module='tools.docstring_builder.utils', names=[alias(name='optional_str', lineno=103, col_offset=42, end_lineno=103, end_col_offset=54), alias(name='optional_str_list', lineno=103, col_offset=56, end_lineno=103, end_col_offset=73)], level=0, lineno=103, col_offset=0, end_lineno=103, end_col_offset=73), ImportFrom(module='tools.docstring_builder.version', names=[alias(name='BUILDER_VERSION', lineno=104, col_offset=44, end_lineno=104, end_col_offset=59)], level=0, lineno=104, col_offset=0, end_lineno=104, end_col_offset=59), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=106, col_offset=3, end_lineno=106, end_col_offset=16), body=[ImportFrom(module='collections.abc', names=[alias(name='Iterable', lineno=107, col_offset=32, end_lineno=107, end_col_offset=40)], level=0, lineno=107, col_offset=4, end_lineno=107, end_col_offset=40), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=108, col_offset=24, end_lineno=108, end_col_offset=28)], level=0, lineno=108, col_offset=4, end_lineno=108, end_col_offset=28), ImportFrom(module='tools.docstring_builder.builder_types', names=[alias(name='LoggerLike', lineno=111, col_offset=8, end_lineno=111, end_col_offset=18), alias(name='StatusCounts', lineno=112, col_offset=8, end_lineno=112, end_col_offset=20)], level=0, lineno=110, col_offset=4, end_lineno=113, end_col_offset=5), ImportFrom(module='tools.docstring_builder.config', names=[alias(name='BuilderConfig', lineno=115, col_offset=8, end_lineno=115, end_col_offset=21), alias(name='ConfigSelection', lineno=116, col_offset=8, end_lineno=116, end_col_offset=23)], level=0, lineno=114, col_offset=4, end_lineno=117, end_col_offset=5), ImportFrom(module='tools.docstring_builder.config_models', names=[alias(name='DocstringBuildConfig', lineno=118, col_offset=54, end_lineno=118, end_col_offset=74)], level=0, lineno=118, col_offset=4, end_lineno=118, end_col_offset=74), ImportFrom(module='tools.docstring_builder.harvest', names=[alias(name='HarvestResult', lineno=119, col_offset=48, end_lineno=119, end_col_offset=61)], level=0, lineno=119, col_offset=4, end_lineno=119, end_col_offset=61), ImportFrom(module='tools.docstring_builder.ir', names=[alias(name='IRDocstring', lineno=120, col_offset=43, end_lineno=120, end_col_offset=54)], level=0, lineno=120, col_offset=4, end_lineno=120, end_col_offset=54), ImportFrom(module='tools.docstring_builder.models', names=[alias(name='CliResult', lineno=122, col_offset=8, end_lineno=122, end_col_offset=17), alias(name='ErrorReport', lineno=123, col_offset=8, end_lineno=123, end_col_offset=19), alias(name='RunSummary', lineno=124, col_offset=8, end_lineno=124, end_col_offset=18), alias(name='SchemaViolationError', lineno=125, col_offset=8, end_lineno=125, end_col_offset=28)], level=0, lineno=121, col_offset=4, end_lineno=126, end_col_offset=5), ImportFrom(module='tools.docstring_builder.models', names=[alias(name='ProblemDetails', asname='ModelProblemDetails', lineno=128, col_offset=8, end_lineno=128, end_col_offset=45)], level=0, lineno=127, col_offset=4, end_lineno=129, end_col_offset=5), ImportFrom(module='tools.docstring_builder.orchestration.context_builder', names=[alias(name='PipelineContextBuilder', asname='PipelineContextBuilderType', lineno=131, col_offset=8, end_lineno=131, end_col_offset=60)], level=0, lineno=130, col_offset=4, end_lineno=132, end_col_offset=5), ImportFrom(module='tools.docstring_builder.pipeline_types', names=[alias(name='ProcessingOptions', lineno=133, col_offset=55, end_lineno=133, end_col_offset=72)], level=0, lineno=133, col_offset=4, end_lineno=133, end_col_offset=72), ImportFrom(module='tools.docstring_builder.plugins', names=[alias(name='PluginManager', lineno=134, col_offset=48, end_lineno=134, end_col_offset=61)], level=0, lineno=134, col_offset=4, end_lineno=134, end_col_offset=61), ImportFrom(module='tools.docstring_builder.semantics', names=[alias(name='SemanticResult', lineno=135, col_offset=50, end_lineno=135, end_col_offset=64)], level=0, lineno=135, col_offset=4, end_lineno=135, end_col_offset=64), ClassDef(name='LegacyBuilderSignature', bases=[Name(id='Protocol', ctx=Load(), lineno=137, col_offset=33, end_lineno=137, end_col_offset=41)], body=[Expr(value=Constant(value='Protocol describing the deprecated legacy docstring builder callback signature.\n\n        This protocol documents the variadic argument pattern that the legacy API accepted. The\n        actual implementation is deprecated and raises NotImplementedError.\n        ', lineno=138, col_offset=8, end_lineno=142, end_col_offset=11), lineno=138, col_offset=8, end_lineno=142, end_col_offset=11), FunctionDef(name='__call__', args=arguments(args=[arg(arg='self', lineno=145, col_offset=12, end_lineno=145, end_col_offset=16)], vararg=arg(arg='args', annotation=Name(id='object', ctx=Load(), lineno=146, col_offset=19, end_lineno=146, end_col_offset=25), lineno=146, col_offset=13, end_lineno=146, end_col_offset=25), kwarg=arg(arg='kwargs', annotation=Name(id='object', ctx=Load(), lineno=147, col_offset=22, end_lineno=147, end_col_offset=28), lineno=147, col_offset=14, end_lineno=147, end_col_offset=28)), body=[Expr(value=Constant(value='Legacy callback signature accepting variadic arguments.', lineno=149, col_offset=12, end_lineno=149, end_col_offset=73), lineno=149, col_offset=12, end_lineno=149, end_col_offset=73), Expr(value=Constant(value=Ellipsis, lineno=150, col_offset=12, end_lineno=150, end_col_offset=15), lineno=150, col_offset=12, end_lineno=150, end_col_offset=15)], returns=Name(id='DocstringBuildResult', ctx=Load(), lineno=148, col_offset=13, end_lineno=148, end_col_offset=33), lineno=144, col_offset=8, end_lineno=150, end_col_offset=15)], lineno=137, col_offset=4, end_lineno=150, end_col_offset=15)], orelse=[Assign(targets=[Name(id='PipelineContextBuilderType', ctx=Store(), lineno=153, col_offset=4, end_lineno=153, end_col_offset=30)], value=Subscript(value=Name(id='type', ctx=Load(), lineno=153, col_offset=33, end_lineno=153, end_col_offset=37), slice=Name(id='object', ctx=Load(), lineno=153, col_offset=38, end_lineno=153, end_col_offset=44), ctx=Load(), lineno=153, col_offset=33, end_lineno=153, end_col_offset=45), lineno=153, col_offset=4, end_lineno=153, end_col_offset=45), Assign(targets=[Name(id='LegacyBuilderSignature', ctx=Store(), lineno=154, col_offset=4, end_lineno=154, end_col_offset=26)], value=Subscript(value=Name(id='type', ctx=Load(), lineno=154, col_offset=29, end_lineno=154, end_col_offset=33), slice=Name(id='object', ctx=Load(), lineno=154, col_offset=34, end_lineno=154, end_col_offset=40), ctx=Load(), lineno=154, col_offset=29, end_lineno=154, end_col_offset=41), lineno=154, col_offset=4, end_lineno=154, end_col_offset=41)], lineno=106, col_offset=0, end_lineno=154, end_col_offset=41), FunctionDef(name='_load_pipeline_context_builder', args=arguments(), body=[Assign(targets=[Name(id='module', ctx=Store(), lineno=158, col_offset=4, end_lineno=158, end_col_offset=10)], value=Call(func=Name(id='import_module', ctx=Load(), lineno=158, col_offset=13, end_lineno=158, end_col_offset=26), args=[Constant(value='tools.docstring_builder.orchestration.context_builder', lineno=158, col_offset=27, end_lineno=158, end_col_offset=82)], lineno=158, col_offset=13, end_lineno=158, end_col_offset=83), lineno=158, col_offset=4, end_lineno=158, end_col_offset=83), Return(value=Call(func=Name(id='cast', ctx=Load(), lineno=159, col_offset=11, end_lineno=159, end_col_offset=15), args=[Constant(value='type[PipelineContextBuilderType]', lineno=159, col_offset=16, end_lineno=159, end_col_offset=50), Attribute(value=Name(id='module', ctx=Load(), lineno=159, col_offset=52, end_lineno=159, end_col_offset=58), attr='PipelineContextBuilder', ctx=Load(), lineno=159, col_offset=52, end_lineno=159, end_col_offset=81)], lineno=159, col_offset=11, end_lineno=159, end_col_offset=82), lineno=159, col_offset=4, end_lineno=159, end_col_offset=82)], returns=Subscript(value=Name(id='type', ctx=Load(), lineno=157, col_offset=40, end_lineno=157, end_col_offset=44), slice=Name(id='PipelineContextBuilderType', ctx=Load(), lineno=157, col_offset=45, end_lineno=157, end_col_offset=71), ctx=Load(), lineno=157, col_offset=40, end_lineno=157, end_col_offset=72), lineno=157, col_offset=0, end_lineno=159, end_col_offset=82), Assign(targets=[Name(id='_LOGGER', ctx=Store(), lineno=162, col_offset=0, end_lineno=162, end_col_offset=7)], value=Call(func=Name(id='get_logger', ctx=Load(), lineno=162, col_offset=10, end_lineno=162, end_col_offset=20), args=[Name(id='__name__', ctx=Load(), lineno=162, col_offset=21, end_lineno=162, end_col_offset=29)], lineno=162, col_offset=10, end_lineno=162, end_col_offset=30), lineno=162, col_offset=0, end_lineno=162, end_col_offset=30), Assign(targets=[Name(id='METRICS', ctx=Store(), lineno=163, col_offset=0, end_lineno=163, end_col_offset=7)], value=Call(func=Name(id='get_metrics_registry', ctx=Load(), lineno=163, col_offset=10, end_lineno=163, end_col_offset=30), lineno=163, col_offset=10, end_lineno=163, end_col_offset=32), lineno=163, col_offset=0, end_lineno=163, end_col_offset=32), Assign(targets=[Name(id='MISSING_MODULE_PATTERNS', ctx=Store(), lineno=165, col_offset=0, end_lineno=165, end_col_offset=23)], value=Tuple(elts=[Constant(value='docs/_build/**', lineno=165, col_offset=27, end_lineno=165, end_col_offset=43)], ctx=Load(), lineno=165, col_offset=26, end_lineno=165, end_col_offset=45), lineno=165, col_offset=0, end_lineno=165, end_col_offset=45), FunctionDef(name='_coerce_provenance_payload', args=arguments(args=[arg(arg='data', annotation=Name(id='object', ctx=Load(), lineno=168, col_offset=37, end_lineno=168, end_col_offset=43), lineno=168, col_offset=31, end_lineno=168, end_col_offset=43)]), body=[Expr(value=Constant(value='Return a typed DocFacts provenance payload when ``data`` is valid.\n\n    Parameters\n    ----------\n    data : object\n        Object to coerce to provenance payload.\n\n    Returns\n    -------\n    DocfactsProvenancePayload | None\n        Provenance payload if data is valid, None otherwise.\n    ', lineno=169, col_offset=4, end_lineno=180, end_col_offset=7), lineno=169, col_offset=4, end_lineno=180, end_col_offset=7), If(test=UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=181, col_offset=11, end_lineno=181, end_col_offset=21), args=[Name(id='data', ctx=Load(), lineno=181, col_offset=22, end_lineno=181, end_col_offset=26), Name(id='dict', ctx=Load(), lineno=181, col_offset=28, end_lineno=181, end_col_offset=32)], lineno=181, col_offset=11, end_lineno=181, end_col_offset=33), lineno=181, col_offset=7, end_lineno=181, end_col_offset=33), body=[Return(value=Constant(value=None, lineno=182, col_offset=15, end_lineno=182, end_col_offset=19), lineno=182, col_offset=8, end_lineno=182, end_col_offset=19)], lineno=181, col_offset=4, end_lineno=182, end_col_offset=19), Assign(targets=[Name(id='builder_version', ctx=Store(), lineno=183, col_offset=4, end_lineno=183, end_col_offset=19)], value=Call(func=Attribute(value=Name(id='data', ctx=Load(), lineno=183, col_offset=22, end_lineno=183, end_col_offset=26), attr='get', ctx=Load(), lineno=183, col_offset=22, end_lineno=183, end_col_offset=30), args=[Constant(value='builderVersion', lineno=183, col_offset=31, end_lineno=183, end_col_offset=47)], lineno=183, col_offset=22, end_lineno=183, end_col_offset=48), lineno=183, col_offset=4, end_lineno=183, end_col_offset=48), If(test=UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=184, col_offset=11, end_lineno=184, end_col_offset=21), args=[Name(id='builder_version', ctx=Load(), lineno=184, col_offset=22, end_lineno=184, end_col_offset=37), Name(id='str', ctx=Load(), lineno=184, col_offset=39, end_lineno=184, end_col_offset=42)], lineno=184, col_offset=11, end_lineno=184, end_col_offset=43), lineno=184, col_offset=7, end_lineno=184, end_col_offset=43), body=[Return(value=Constant(value=None, lineno=185, col_offset=15, end_lineno=185, end_col_offset=19), lineno=185, col_offset=8, end_lineno=185, end_col_offset=19)], lineno=184, col_offset=4, end_lineno=185, end_col_offset=19), Assign(targets=[Name(id='config_hash', ctx=Store(), lineno=186, col_offset=4, end_lineno=186, end_col_offset=15)], value=Call(func=Attribute(value=Name(id='data', ctx=Load(), lineno=186, col_offset=18, end_lineno=186, end_col_offset=22), attr='get', ctx=Load(), lineno=186, col_offset=18, end_lineno=186, end_col_offset=26), args=[Constant(value='configHash', lineno=186, col_offset=27, end_lineno=186, end_col_offset=39)], lineno=186, col_offset=18, end_lineno=186, end_col_offset=40), lineno=186, col_offset=4, end_lineno=186, end_col_offset=40), If(test=UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=187, col_offset=11, end_lineno=187, end_col_offset=21), args=[Name(id='config_hash', ctx=Load(), lineno=187, col_offset=22, end_lineno=187, end_col_offset=33), Name(id='str', ctx=Load(), lineno=187, col_offset=35, end_lineno=187, end_col_offset=38)], lineno=187, col_offset=11, end_lineno=187, end_col_offset=39), lineno=187, col_offset=7, end_lineno=187, end_col_offset=39), body=[Return(value=Constant(value=None, lineno=188, col_offset=15, end_lineno=188, end_col_offset=19), lineno=188, col_offset=8, end_lineno=188, end_col_offset=19)], lineno=187, col_offset=4, end_lineno=188, end_col_offset=19), Assign(targets=[Name(id='commit_hash', ctx=Store(), lineno=189, col_offset=4, end_lineno=189, end_col_offset=15)], value=Call(func=Attribute(value=Name(id='data', ctx=Load(), lineno=189, col_offset=18, end_lineno=189, end_col_offset=22), attr='get', ctx=Load(), lineno=189, col_offset=18, end_lineno=189, end_col_offset=26), args=[Constant(value='commitHash', lineno=189, col_offset=27, end_lineno=189, end_col_offset=39)], lineno=189, col_offset=18, end_lineno=189, end_col_offset=40), lineno=189, col_offset=4, end_lineno=189, end_col_offset=40), If(test=UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=190, col_offset=11, end_lineno=190, end_col_offset=21), args=[Name(id='commit_hash', ctx=Load(), lineno=190, col_offset=22, end_lineno=190, end_col_offset=33), Name(id='str', ctx=Load(), lineno=190, col_offset=35, end_lineno=190, end_col_offset=38)], lineno=190, col_offset=11, end_lineno=190, end_col_offset=39), lineno=190, col_offset=7, end_lineno=190, end_col_offset=39), body=[Return(value=Constant(value=None, lineno=191, col_offset=15, end_lineno=191, end_col_offset=19), lineno=191, col_offset=8, end_lineno=191, end_col_offset=19)], lineno=190, col_offset=4, end_lineno=191, end_col_offset=19), Assign(targets=[Name(id='generated_at', ctx=Store(), lineno=192, col_offset=4, end_lineno=192, end_col_offset=16)], value=Call(func=Attribute(value=Name(id='data', ctx=Load(), lineno=192, col_offset=19, end_lineno=192, end_col_offset=23), attr='get', ctx=Load(), lineno=192, col_offset=19, end_lineno=192, end_col_offset=27), args=[Constant(value='generatedAt', lineno=192, col_offset=28, end_lineno=192, end_col_offset=41)], lineno=192, col_offset=19, end_lineno=192, end_col_offset=42), lineno=192, col_offset=4, end_lineno=192, end_col_offset=42), If(test=UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=193, col_offset=11, end_lineno=193, end_col_offset=21), args=[Name(id='generated_at', ctx=Load(), lineno=193, col_offset=22, end_lineno=193, end_col_offset=34), Name(id='str', ctx=Load(), lineno=193, col_offset=36, end_lineno=193, end_col_offset=39)], lineno=193, col_offset=11, end_lineno=193, end_col_offset=40), lineno=193, col_offset=7, end_lineno=193, end_col_offset=40), body=[Return(value=Constant(value=None, lineno=194, col_offset=15, end_lineno=194, end_col_offset=19), lineno=194, col_offset=8, end_lineno=194, end_col_offset=19)], lineno=193, col_offset=4, end_lineno=194, end_col_offset=19), Return(value=Call(func=Name(id='DocfactsProvenancePayload', ctx=Load(), lineno=195, col_offset=11, end_lineno=195, end_col_offset=36), keywords=[keyword(arg='builderVersion', value=Name(id='builder_version', ctx=Load(), lineno=196, col_offset=23, end_lineno=196, end_col_offset=38), lineno=196, col_offset=8, end_lineno=196, end_col_offset=38), keyword(arg='configHash', value=Name(id='config_hash', ctx=Load(), lineno=197, col_offset=19, end_lineno=197, end_col_offset=30), lineno=197, col_offset=8, end_lineno=197, end_col_offset=30), keyword(arg='commitHash', value=Name(id='commit_hash', ctx=Load(), lineno=198, col_offset=19, end_lineno=198, end_col_offset=30), lineno=198, col_offset=8, end_lineno=198, end_col_offset=30), keyword(arg='generatedAt', value=Name(id='generated_at', ctx=Load(), lineno=199, col_offset=20, end_lineno=199, end_col_offset=32), lineno=199, col_offset=8, end_lineno=199, end_col_offset=32)], lineno=195, col_offset=11, end_lineno=200, end_col_offset=5), lineno=195, col_offset=4, end_lineno=200, end_col_offset=5)], returns=BinOp(left=Name(id='DocfactsProvenancePayload', ctx=Load(), lineno=168, col_offset=48, end_lineno=168, end_col_offset=73), op=BitOr(), right=Constant(value=None, lineno=168, col_offset=76, end_lineno=168, end_col_offset=80), lineno=168, col_offset=48, end_lineno=168, end_col_offset=80), lineno=168, col_offset=0, end_lineno=200, end_col_offset=5), FunctionDef(name='_typed_pipeline_enabled', args=arguments(), body=[Assign(targets=[Name(id='value', ctx=Store(), lineno=204, col_offset=4, end_lineno=204, end_col_offset=9)], value=Call(func=Attribute(value=Call(func=Attribute(value=Call(func=Attribute(value=Attribute(value=Name(id='os', ctx=Load(), lineno=204, col_offset=12, end_lineno=204, end_col_offset=14), attr='environ', ctx=Load(), lineno=204, col_offset=12, end_lineno=204, end_col_offset=22), attr='get', ctx=Load(), lineno=204, col_offset=12, end_lineno=204, end_col_offset=26), args=[Constant(value='DOCSTRINGS_TYPED_IR', lineno=204, col_offset=27, end_lineno=204, end_col_offset=48), Constant(value='1', lineno=204, col_offset=50, end_lineno=204, end_col_offset=53)], lineno=204, col_offset=12, end_lineno=204, end_col_offset=54), attr='strip', ctx=Load(), lineno=204, col_offset=12, end_lineno=204, end_col_offset=60), lineno=204, col_offset=12, end_lineno=204, end_col_offset=62), attr='lower', ctx=Load(), lineno=204, col_offset=12, end_lineno=204, end_col_offset=68), lineno=204, col_offset=12, end_lineno=204, end_col_offset=70), lineno=204, col_offset=4, end_lineno=204, end_col_offset=70), Return(value=Compare(left=Name(id='value', ctx=Load(), lineno=205, col_offset=11, end_lineno=205, end_col_offset=16), ops=[NotIn()], comparators=[Set(elts=[Constant(value='', lineno=205, col_offset=25, end_lineno=205, end_col_offset=27), Constant(value='0', lineno=205, col_offset=29, end_lineno=205, end_col_offset=32), Constant(value='false', lineno=205, col_offset=34, end_lineno=205, end_col_offset=41), Constant(value='no', lineno=205, col_offset=43, end_lineno=205, end_col_offset=47), Constant(value='off', lineno=205, col_offset=49, end_lineno=205, end_col_offset=54)], lineno=205, col_offset=24, end_lineno=205, end_col_offset=55)], lineno=205, col_offset=11, end_lineno=205, end_col_offset=55), lineno=205, col_offset=4, end_lineno=205, end_col_offset=55)], returns=Name(id='bool', ctx=Load(), lineno=203, col_offset=33, end_lineno=203, end_col_offset=37), lineno=203, col_offset=0, end_lineno=205, end_col_offset=55), Assign(targets=[Name(id='TYPED_PIPELINE_ENABLED', ctx=Store(), lineno=208, col_offset=0, end_lineno=208, end_col_offset=22)], value=Call(func=Name(id='_typed_pipeline_enabled', ctx=Load(), lineno=208, col_offset=25, end_lineno=208, end_col_offset=48), lineno=208, col_offset=25, end_lineno=208, end_col_offset=50), lineno=208, col_offset=0, end_lineno=208, end_col_offset=50), FunctionDef(name='_handle_schema_violation', args=arguments(args=[arg(arg='context', annotation=Name(id='str', ctx=Load(), lineno=211, col_offset=38, end_lineno=211, end_col_offset=41), lineno=211, col_offset=29, end_lineno=211, end_col_offset=41), arg(arg='exc', annotation=Name(id='SchemaViolationError', ctx=Load(), lineno=211, col_offset=48, end_lineno=211, end_col_offset=68), lineno=211, col_offset=43, end_lineno=211, end_col_offset=68)]), body=[If(test=Name(id='TYPED_PIPELINE_ENABLED', ctx=Load(), lineno=212, col_offset=7, end_lineno=212, end_col_offset=29), body=[Raise(exc=Name(id='exc', ctx=Load(), lineno=213, col_offset=14, end_lineno=213, end_col_offset=17), lineno=213, col_offset=8, end_lineno=213, end_col_offset=17)], lineno=212, col_offset=4, end_lineno=213, end_col_offset=17), Assign(targets=[Name(id='log_extra', ctx=Store(), lineno=214, col_offset=4, end_lineno=214, end_col_offset=13)], value=IfExp(test=Attribute(value=Name(id='exc', ctx=Load(), lineno=214, col_offset=44, end_lineno=214, end_col_offset=47), attr='problem', ctx=Load(), lineno=214, col_offset=44, end_lineno=214, end_col_offset=55), body=Dict(keys=[Constant(value='problem', lineno=214, col_offset=17, end_lineno=214, end_col_offset=26)], values=[Attribute(value=Name(id='exc', ctx=Load(), lineno=214, col_offset=28, end_lineno=214, end_col_offset=31), attr='problem', ctx=Load(), lineno=214, col_offset=28, end_lineno=214, end_col_offset=39)], lineno=214, col_offset=16, end_lineno=214, end_col_offset=40), orelse=Constant(value=None, lineno=214, col_offset=61, end_lineno=214, end_col_offset=65), lineno=214, col_offset=16, end_lineno=214, end_col_offset=65), lineno=214, col_offset=4, end_lineno=214, end_col_offset=65), Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=215, col_offset=4, end_lineno=215, end_col_offset=11), attr='warning', ctx=Load(), lineno=215, col_offset=4, end_lineno=215, end_col_offset=19), args=[Constant(value='%s validation failed: %s', lineno=215, col_offset=20, end_lineno=215, end_col_offset=46), Name(id='context', ctx=Load(), lineno=215, col_offset=48, end_lineno=215, end_col_offset=55), Name(id='exc', ctx=Load(), lineno=215, col_offset=57, end_lineno=215, end_col_offset=60)], keywords=[keyword(arg='extra', value=Name(id='log_extra', ctx=Load(), lineno=215, col_offset=68, end_lineno=215, end_col_offset=77), lineno=215, col_offset=62, end_lineno=215, end_col_offset=77)], lineno=215, col_offset=4, end_lineno=215, end_col_offset=78), lineno=215, col_offset=4, end_lineno=215, end_col_offset=78)], returns=Constant(value=None, lineno=211, col_offset=73, end_lineno=211, end_col_offset=77), lineno=211, col_offset=0, end_lineno=215, end_col_offset=78), FunctionDef(name='_git_output', args=arguments(args=[arg(arg='arguments', annotation=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=218, col_offset=27, end_lineno=218, end_col_offset=35), slice=Name(id='str', ctx=Load(), lineno=218, col_offset=36, end_lineno=218, end_col_offset=39), ctx=Load(), lineno=218, col_offset=27, end_lineno=218, end_col_offset=40), lineno=218, col_offset=16, end_lineno=218, end_col_offset=40)]), body=[Expr(value=Constant(value='Return stripped stdout for a git command or ``None`` on failure.\n\n    Parameters\n    ----------\n    arguments : Sequence[str]\n        Git command arguments.\n\n    Returns\n    -------\n    str | None\n        Stripped stdout if command succeeds, None otherwise.\n    ', lineno=219, col_offset=4, end_lineno=230, end_col_offset=7), lineno=219, col_offset=4, end_lineno=230, end_col_offset=7), AnnAssign(target=Name(id='command_args', ctx=Store(), lineno=231, col_offset=4, end_lineno=231, end_col_offset=16), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=231, col_offset=18, end_lineno=231, end_col_offset=22), slice=Name(id='str', ctx=Load(), lineno=231, col_offset=23, end_lineno=231, end_col_offset=26), ctx=Load(), lineno=231, col_offset=18, end_lineno=231, end_col_offset=27), value=Call(func=Name(id='list', ctx=Load(), lineno=231, col_offset=30, end_lineno=231, end_col_offset=34), args=[Name(id='arguments', ctx=Load(), lineno=231, col_offset=35, end_lineno=231, end_col_offset=44)], lineno=231, col_offset=30, end_lineno=231, end_col_offset=45), simple=1, lineno=231, col_offset=4, end_lineno=231, end_col_offset=45), Assign(targets=[Name(id='adapter', ctx=Store(), lineno=232, col_offset=4, end_lineno=232, end_col_offset=11)], value=Call(func=Name(id='with_fields', ctx=Load(), lineno=232, col_offset=14, end_lineno=232, end_col_offset=25), args=[Name(id='_LOGGER', ctx=Load(), lineno=232, col_offset=26, end_lineno=232, end_col_offset=33)], keywords=[keyword(arg='command', value=Name(id='command_args', ctx=Load(), lineno=232, col_offset=43, end_lineno=232, end_col_offset=55), lineno=232, col_offset=35, end_lineno=232, end_col_offset=55)], lineno=232, col_offset=14, end_lineno=232, end_col_offset=56), lineno=232, col_offset=4, end_lineno=232, end_col_offset=56), Try(body=[Assign(targets=[Name(id='result', ctx=Store(), lineno=234, col_offset=8, end_lineno=234, end_col_offset=14)], value=Call(func=Name(id='run_tool', ctx=Load(), lineno=234, col_offset=17, end_lineno=234, end_col_offset=25), args=[Name(id='arguments', ctx=Load(), lineno=234, col_offset=26, end_lineno=234, end_col_offset=35)], keywords=[keyword(arg='timeout', value=Constant(value=10.0, lineno=234, col_offset=45, end_lineno=234, end_col_offset=49), lineno=234, col_offset=37, end_lineno=234, end_col_offset=49)], lineno=234, col_offset=17, end_lineno=234, end_col_offset=50), lineno=234, col_offset=8, end_lineno=234, end_col_offset=50)], handlers=[ExceptHandler(type=Name(id='ToolExecutionError', ctx=Load(), lineno=235, col_offset=11, end_lineno=235, end_col_offset=29), name='exc', body=[Expr(value=Call(func=Attribute(value=Name(id='adapter', ctx=Load(), lineno=236, col_offset=8, end_lineno=236, end_col_offset=15), attr='debug', ctx=Load(), lineno=236, col_offset=8, end_lineno=236, end_col_offset=21), args=[Constant(value='git invocation failed: %s', lineno=236, col_offset=22, end_lineno=236, end_col_offset=49), Name(id='exc', ctx=Load(), lineno=236, col_offset=51, end_lineno=236, end_col_offset=54)], lineno=236, col_offset=8, end_lineno=236, end_col_offset=55), lineno=236, col_offset=8, end_lineno=236, end_col_offset=55), Return(value=Constant(value=None, lineno=237, col_offset=15, end_lineno=237, end_col_offset=19), lineno=237, col_offset=8, end_lineno=237, end_col_offset=19)], lineno=235, col_offset=4, end_lineno=237, end_col_offset=19)], lineno=233, col_offset=4, end_lineno=237, end_col_offset=19), If(test=Compare(left=Attribute(value=Name(id='result', ctx=Load(), lineno=238, col_offset=7, end_lineno=238, end_col_offset=13), attr='returncode', ctx=Load(), lineno=238, col_offset=7, end_lineno=238, end_col_offset=24), ops=[NotEq()], comparators=[Constant(value=0, lineno=238, col_offset=28, end_lineno=238, end_col_offset=29)], lineno=238, col_offset=7, end_lineno=238, end_col_offset=29), body=[Expr(value=Call(func=Attribute(value=Name(id='adapter', ctx=Load(), lineno=239, col_offset=8, end_lineno=239, end_col_offset=15), attr='debug', ctx=Load(), lineno=239, col_offset=8, end_lineno=239, end_col_offset=21), args=[Constant(value='git returned non-zero exit code: %s', lineno=239, col_offset=22, end_lineno=239, end_col_offset=59), Attribute(value=Name(id='result', ctx=Load(), lineno=239, col_offset=61, end_lineno=239, end_col_offset=67), attr='returncode', ctx=Load(), lineno=239, col_offset=61, end_lineno=239, end_col_offset=78)], lineno=239, col_offset=8, end_lineno=239, end_col_offset=79), lineno=239, col_offset=8, end_lineno=239, end_col_offset=79), Return(value=Constant(value=None, lineno=240, col_offset=15, end_lineno=240, end_col_offset=19), lineno=240, col_offset=8, end_lineno=240, end_col_offset=19)], lineno=238, col_offset=4, end_lineno=240, end_col_offset=19), Assign(targets=[Name(id='output', ctx=Store(), lineno=241, col_offset=4, end_lineno=241, end_col_offset=10)], value=Call(func=Attribute(value=Attribute(value=Name(id='result', ctx=Load(), lineno=241, col_offset=13, end_lineno=241, end_col_offset=19), attr='stdout', ctx=Load(), lineno=241, col_offset=13, end_lineno=241, end_col_offset=26), attr='strip', ctx=Load(), lineno=241, col_offset=13, end_lineno=241, end_col_offset=32), lineno=241, col_offset=13, end_lineno=241, end_col_offset=34), lineno=241, col_offset=4, end_lineno=241, end_col_offset=34), Return(value=BoolOp(op=Or(), values=[Name(id='output', ctx=Load(), lineno=242, col_offset=11, end_lineno=242, end_col_offset=17), Constant(value=None, lineno=242, col_offset=21, end_lineno=242, end_col_offset=25)], lineno=242, col_offset=11, end_lineno=242, end_col_offset=25), lineno=242, col_offset=4, end_lineno=242, end_col_offset=25)], returns=BinOp(left=Name(id='str', ctx=Load(), lineno=218, col_offset=45, end_lineno=218, end_col_offset=48), op=BitOr(), right=Constant(value=None, lineno=218, col_offset=51, end_lineno=218, end_col_offset=55), lineno=218, col_offset=45, end_lineno=218, end_col_offset=55), lineno=218, col_offset=0, end_lineno=242, end_col_offset=25), FunctionDef(name='_resolve_commit_hash', args=arguments(), body=[Expr(value=Constant(value='Resolve the current git commit hash.\n\n    Returns\n    -------\n    str\n        Commit hash string, or "unknown" if git is unavailable.\n    ', lineno=246, col_offset=4, end_lineno=252, end_col_offset=7), lineno=246, col_offset=4, end_lineno=252, end_col_offset=7), Assign(targets=[Name(id='command', ctx=Store(), lineno=253, col_offset=4, end_lineno=253, end_col_offset=11)], value=List(elts=[Constant(value='git', lineno=253, col_offset=15, end_lineno=253, end_col_offset=20), Constant(value='-C', lineno=253, col_offset=22, end_lineno=253, end_col_offset=26), Call(func=Name(id='str', ctx=Load(), lineno=253, col_offset=28, end_lineno=253, end_col_offset=31), args=[Name(id='REPO_ROOT', ctx=Load(), lineno=253, col_offset=32, end_lineno=253, end_col_offset=41)], lineno=253, col_offset=28, end_lineno=253, end_col_offset=42), Constant(value='rev-parse', lineno=253, col_offset=44, end_lineno=253, end_col_offset=55), Constant(value='HEAD', lineno=253, col_offset=57, end_lineno=253, end_col_offset=63)], ctx=Load(), lineno=253, col_offset=14, end_lineno=253, end_col_offset=64), lineno=253, col_offset=4, end_lineno=253, end_col_offset=64), Return(value=BoolOp(op=Or(), values=[Call(func=Name(id='_git_output', ctx=Load(), lineno=254, col_offset=11, end_lineno=254, end_col_offset=22), args=[Name(id='command', ctx=Load(), lineno=254, col_offset=23, end_lineno=254, end_col_offset=30)], lineno=254, col_offset=11, end_lineno=254, end_col_offset=31), Constant(value='unknown', lineno=254, col_offset=35, end_lineno=254, end_col_offset=44)], lineno=254, col_offset=11, end_lineno=254, end_col_offset=44), lineno=254, col_offset=4, end_lineno=254, end_col_offset=44)], returns=Name(id='str', ctx=Load(), lineno=245, col_offset=30, end_lineno=245, end_col_offset=33), lineno=245, col_offset=0, end_lineno=254, end_col_offset=44), FunctionDef(name='_resolve_commit_timestamp', args=arguments(args=[arg(arg='commit_hash', annotation=Name(id='str', ctx=Load(), lineno=257, col_offset=43, end_lineno=257, end_col_offset=46), lineno=257, col_offset=30, end_lineno=257, end_col_offset=46)]), body=[Expr(value=Constant(value='Resolve the commit timestamp for a given hash.\n\n    Parameters\n    ----------\n    commit_hash : str\n        Git commit hash.\n\n    Returns\n    -------\n    str\n        ISO-8601 timestamp string, or default timestamp if unavailable.\n    ', lineno=258, col_offset=4, end_lineno=269, end_col_offset=7), lineno=258, col_offset=4, end_lineno=269, end_col_offset=7), If(test=BoolOp(op=Or(), values=[UnaryOp(op=Not(), operand=Name(id='commit_hash', ctx=Load(), lineno=270, col_offset=11, end_lineno=270, end_col_offset=22), lineno=270, col_offset=7, end_lineno=270, end_col_offset=22), Compare(left=Name(id='commit_hash', ctx=Load(), lineno=270, col_offset=26, end_lineno=270, end_col_offset=37), ops=[Eq()], comparators=[Constant(value='unknown', lineno=270, col_offset=41, end_lineno=270, end_col_offset=50)], lineno=270, col_offset=26, end_lineno=270, end_col_offset=50)], lineno=270, col_offset=7, end_lineno=270, end_col_offset=50), body=[Return(value=Constant(value='1970-01-01T00:00:00Z', lineno=271, col_offset=15, end_lineno=271, end_col_offset=37), lineno=271, col_offset=8, end_lineno=271, end_col_offset=37)], lineno=270, col_offset=4, end_lineno=271, end_col_offset=37), Assign(targets=[Name(id='command', ctx=Store(), lineno=272, col_offset=4, end_lineno=272, end_col_offset=11)], value=List(elts=[Constant(value='git', lineno=272, col_offset=15, end_lineno=272, end_col_offset=20), Constant(value='-C', lineno=272, col_offset=22, end_lineno=272, end_col_offset=26), Call(func=Name(id='str', ctx=Load(), lineno=272, col_offset=28, end_lineno=272, end_col_offset=31), args=[Name(id='REPO_ROOT', ctx=Load(), lineno=272, col_offset=32, end_lineno=272, end_col_offset=41)], lineno=272, col_offset=28, end_lineno=272, end_col_offset=42), Constant(value='show', lineno=272, col_offset=44, end_lineno=272, end_col_offset=50), Constant(value='-s', lineno=272, col_offset=52, end_lineno=272, end_col_offset=56), Constant(value='--format=%cI', lineno=272, col_offset=58, end_lineno=272, end_col_offset=72), Name(id='commit_hash', ctx=Load(), lineno=272, col_offset=74, end_lineno=272, end_col_offset=85)], ctx=Load(), lineno=272, col_offset=14, end_lineno=272, end_col_offset=86), lineno=272, col_offset=4, end_lineno=272, end_col_offset=86), Return(value=BoolOp(op=Or(), values=[Call(func=Name(id='_git_output', ctx=Load(), lineno=273, col_offset=11, end_lineno=273, end_col_offset=22), args=[Name(id='command', ctx=Load(), lineno=273, col_offset=23, end_lineno=273, end_col_offset=30)], lineno=273, col_offset=11, end_lineno=273, end_col_offset=31), Constant(value='1970-01-01T00:00:00Z', lineno=273, col_offset=35, end_lineno=273, end_col_offset=57)], lineno=273, col_offset=11, end_lineno=273, end_col_offset=57), lineno=273, col_offset=4, end_lineno=273, end_col_offset=57)], returns=Name(id='str', ctx=Load(), lineno=257, col_offset=51, end_lineno=257, end_col_offset=54), lineno=257, col_offset=0, end_lineno=273, end_col_offset=57), FunctionDef(name='_build_docfacts_provenance', args=arguments(args=[arg(arg='config', annotation=Name(id='BuilderConfig', ctx=Load(), lineno=276, col_offset=39, end_lineno=276, end_col_offset=52), lineno=276, col_offset=31, end_lineno=276, end_col_offset=52)]), body=[Expr(value=Constant(value='Build provenance metadata for DocFacts.\n\n    Parameters\n    ----------\n    config : BuilderConfig\n        Builder configuration.\n\n    Returns\n    -------\n    DocfactsProvenance\n        Provenance metadata instance.\n    ', lineno=277, col_offset=4, end_lineno=288, end_col_offset=7), lineno=277, col_offset=4, end_lineno=288, end_col_offset=7), Assign(targets=[Name(id='commit_hash', ctx=Store(), lineno=289, col_offset=4, end_lineno=289, end_col_offset=15)], value=Call(func=Name(id='_resolve_commit_hash', ctx=Load(), lineno=289, col_offset=18, end_lineno=289, end_col_offset=38), lineno=289, col_offset=18, end_lineno=289, end_col_offset=40), lineno=289, col_offset=4, end_lineno=289, end_col_offset=40), Assign(targets=[Name(id='generated_at', ctx=Store(), lineno=290, col_offset=4, end_lineno=290, end_col_offset=16)], value=Call(func=Name(id='_resolve_commit_timestamp', ctx=Load(), lineno=290, col_offset=19, end_lineno=290, end_col_offset=44), args=[Name(id='commit_hash', ctx=Load(), lineno=290, col_offset=45, end_lineno=290, end_col_offset=56)], lineno=290, col_offset=19, end_lineno=290, end_col_offset=57), lineno=290, col_offset=4, end_lineno=290, end_col_offset=57), Return(value=Call(func=Name(id='DocfactsProvenance', ctx=Load(), lineno=291, col_offset=11, end_lineno=291, end_col_offset=29), keywords=[keyword(arg='builder_version', value=Name(id='BUILDER_VERSION', ctx=Load(), lineno=292, col_offset=24, end_lineno=292, end_col_offset=39), lineno=292, col_offset=8, end_lineno=292, end_col_offset=39), keyword(arg='config_hash', value=Attribute(value=Name(id='config', ctx=Load(), lineno=293, col_offset=20, end_lineno=293, end_col_offset=26), attr='config_hash', ctx=Load(), lineno=293, col_offset=20, end_lineno=293, end_col_offset=38), lineno=293, col_offset=8, end_lineno=293, end_col_offset=38), keyword(arg='commit_hash', value=Name(id='commit_hash', ctx=Load(), lineno=294, col_offset=20, end_lineno=294, end_col_offset=31), lineno=294, col_offset=8, end_lineno=294, end_col_offset=31), keyword(arg='generated_at', value=Name(id='generated_at', ctx=Load(), lineno=295, col_offset=21, end_lineno=295, end_col_offset=33), lineno=295, col_offset=8, end_lineno=295, end_col_offset=33)], lineno=291, col_offset=11, end_lineno=296, end_col_offset=5), lineno=291, col_offset=4, end_lineno=296, end_col_offset=5)], returns=Name(id='DocfactsProvenance', ctx=Load(), lineno=276, col_offset=57, end_lineno=276, end_col_offset=75), lineno=276, col_offset=0, end_lineno=296, end_col_offset=5), FunctionDef(name='_collect_edits', args=arguments(args=[arg(arg='result', annotation=Name(id='HarvestResult', ctx=Load(), lineno=300, col_offset=12, end_lineno=300, end_col_offset=25), lineno=300, col_offset=4, end_lineno=300, end_col_offset=25), arg(arg='config', annotation=Name(id='BuilderConfig', ctx=Load(), lineno=301, col_offset=12, end_lineno=301, end_col_offset=25), lineno=301, col_offset=4, end_lineno=301, end_col_offset=25), arg(arg='plugin_manager', annotation=BinOp(left=Name(id='PluginManager', ctx=Load(), lineno=302, col_offset=20, end_lineno=302, end_col_offset=33), op=BitOr(), right=Constant(value=None, lineno=302, col_offset=36, end_lineno=302, end_col_offset=40), lineno=302, col_offset=20, end_lineno=302, end_col_offset=40), lineno=302, col_offset=4, end_lineno=302, end_col_offset=40)], kwonlyargs=[arg(arg='format_only', annotation=Name(id='bool', ctx=Load(), lineno=304, col_offset=17, end_lineno=304, end_col_offset=21), lineno=304, col_offset=4, end_lineno=304, end_col_offset=21)], kw_defaults=[Constant(value=False, lineno=304, col_offset=24, end_lineno=304, end_col_offset=29)]), body=[Assign(targets=[Name(id='semantics', ctx=Store(), lineno=306, col_offset=4, end_lineno=306, end_col_offset=13)], value=Call(func=Name(id='build_semantic_schemas', ctx=Load(), lineno=306, col_offset=16, end_lineno=306, end_col_offset=38), args=[Name(id='result', ctx=Load(), lineno=306, col_offset=39, end_lineno=306, end_col_offset=45), Name(id='config', ctx=Load(), lineno=306, col_offset=47, end_lineno=306, end_col_offset=53)], lineno=306, col_offset=16, end_lineno=306, end_col_offset=54), lineno=306, col_offset=4, end_lineno=306, end_col_offset=54), If(test=Compare(left=Name(id='plugin_manager', ctx=Load(), lineno=307, col_offset=7, end_lineno=307, end_col_offset=21), ops=[IsNot()], comparators=[Constant(value=None, lineno=307, col_offset=29, end_lineno=307, end_col_offset=33)], lineno=307, col_offset=7, end_lineno=307, end_col_offset=33), body=[Assign(targets=[Name(id='semantics', ctx=Store(), lineno=308, col_offset=8, end_lineno=308, end_col_offset=17)], value=Call(func=Attribute(value=Name(id='plugin_manager', ctx=Load(), lineno=308, col_offset=20, end_lineno=308, end_col_offset=34), attr='apply_transformers', ctx=Load(), lineno=308, col_offset=20, end_lineno=308, end_col_offset=53), args=[Attribute(value=Name(id='result', ctx=Load(), lineno=308, col_offset=54, end_lineno=308, end_col_offset=60), attr='filepath', ctx=Load(), lineno=308, col_offset=54, end_lineno=308, end_col_offset=69), Name(id='semantics', ctx=Load(), lineno=308, col_offset=71, end_lineno=308, end_col_offset=80)], lineno=308, col_offset=20, end_lineno=308, end_col_offset=81), lineno=308, col_offset=8, end_lineno=308, end_col_offset=81)], lineno=307, col_offset=4, end_lineno=308, end_col_offset=81), AnnAssign(target=Name(id='edits', ctx=Store(), lineno=309, col_offset=4, end_lineno=309, end_col_offset=9), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=309, col_offset=11, end_lineno=309, end_col_offset=15), slice=Name(id='DocstringEdit', ctx=Load(), lineno=309, col_offset=16, end_lineno=309, end_col_offset=29), ctx=Load(), lineno=309, col_offset=11, end_lineno=309, end_col_offset=30), value=List(ctx=Load(), lineno=309, col_offset=33, end_lineno=309, end_col_offset=35), simple=1, lineno=309, col_offset=4, end_lineno=309, end_col_offset=35), AnnAssign(target=Name(id='ir_entries', ctx=Store(), lineno=310, col_offset=4, end_lineno=310, end_col_offset=14), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=310, col_offset=16, end_lineno=310, end_col_offset=20), slice=Name(id='IRDocstring', ctx=Load(), lineno=310, col_offset=21, end_lineno=310, end_col_offset=32), ctx=Load(), lineno=310, col_offset=16, end_lineno=310, end_col_offset=33), value=List(ctx=Load(), lineno=310, col_offset=36, end_lineno=310, end_col_offset=38), simple=1, lineno=310, col_offset=4, end_lineno=310, end_col_offset=38), For(target=Name(id='entry', ctx=Store(), lineno=311, col_offset=8, end_lineno=311, end_col_offset=13), iter=Name(id='semantics', ctx=Load(), lineno=311, col_offset=17, end_lineno=311, end_col_offset=26), body=[Assign(targets=[Name(id='ir_entry', ctx=Store(), lineno=312, col_offset=8, end_lineno=312, end_col_offset=16)], value=Call(func=Name(id='build_ir', ctx=Load(), lineno=312, col_offset=19, end_lineno=312, end_col_offset=27), args=[Name(id='entry', ctx=Load(), lineno=312, col_offset=28, end_lineno=312, end_col_offset=33)], lineno=312, col_offset=19, end_lineno=312, end_col_offset=34), lineno=312, col_offset=8, end_lineno=312, end_col_offset=34), Expr(value=Call(func=Name(id='validate_ir', ctx=Load(), lineno=313, col_offset=8, end_lineno=313, end_col_offset=19), args=[Name(id='ir_entry', ctx=Load(), lineno=313, col_offset=20, end_lineno=313, end_col_offset=28)], lineno=313, col_offset=8, end_lineno=313, end_col_offset=29), lineno=313, col_offset=8, end_lineno=313, end_col_offset=29), Expr(value=Call(func=Attribute(value=Name(id='ir_entries', ctx=Load(), lineno=314, col_offset=8, end_lineno=314, end_col_offset=18), attr='append', ctx=Load(), lineno=314, col_offset=8, end_lineno=314, end_col_offset=25), args=[Name(id='ir_entry', ctx=Load(), lineno=314, col_offset=26, end_lineno=314, end_col_offset=34)], lineno=314, col_offset=8, end_lineno=314, end_col_offset=35), lineno=314, col_offset=8, end_lineno=314, end_col_offset=35), AnnAssign(target=Name(id='text', ctx=Store(), lineno=315, col_offset=8, end_lineno=315, end_col_offset=12), annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=315, col_offset=14, end_lineno=315, end_col_offset=17), op=BitOr(), right=Constant(value=None, lineno=315, col_offset=20, end_lineno=315, end_col_offset=24), lineno=315, col_offset=14, end_lineno=315, end_col_offset=24), simple=1, lineno=315, col_offset=8, end_lineno=315, end_col_offset=24), If(test=Attribute(value=Name(id='config', ctx=Load(), lineno=316, col_offset=11, end_lineno=316, end_col_offset=17), attr='normalize_sections', ctx=Load(), lineno=316, col_offset=11, end_lineno=316, end_col_offset=36), body=[Assign(targets=[Name(id='normalized', ctx=Store(), lineno=317, col_offset=12, end_lineno=317, end_col_offset=22)], value=Call(func=Name(id='normalize_docstring', ctx=Load(), lineno=317, col_offset=25, end_lineno=317, end_col_offset=44), args=[Attribute(value=Name(id='entry', ctx=Load(), lineno=317, col_offset=45, end_lineno=317, end_col_offset=50), attr='symbol', ctx=Load(), lineno=317, col_offset=45, end_lineno=317, end_col_offset=57), Attribute(value=Name(id='config', ctx=Load(), lineno=317, col_offset=59, end_lineno=317, end_col_offset=65), attr='ownership_marker', ctx=Load(), lineno=317, col_offset=59, end_lineno=317, end_col_offset=82)], lineno=317, col_offset=25, end_lineno=317, end_col_offset=83), lineno=317, col_offset=12, end_lineno=317, end_col_offset=83), If(test=Compare(left=Name(id='normalized', ctx=Load(), lineno=318, col_offset=15, end_lineno=318, end_col_offset=25), ops=[IsNot()], comparators=[Constant(value=None, lineno=318, col_offset=33, end_lineno=318, end_col_offset=37)], lineno=318, col_offset=15, end_lineno=318, end_col_offset=37), body=[Assign(targets=[Name(id='text', ctx=Store(), lineno=319, col_offset=16, end_lineno=319, end_col_offset=20)], value=Name(id='normalized', ctx=Load(), lineno=319, col_offset=23, end_lineno=319, end_col_offset=33), lineno=319, col_offset=16, end_lineno=319, end_col_offset=33)], orelse=[If(test=Name(id='format_only', ctx=Load(), lineno=320, col_offset=17, end_lineno=320, end_col_offset=28), body=[Continue(lineno=321, col_offset=16, end_lineno=321, end_col_offset=24)], orelse=[Assign(targets=[Name(id='text', ctx=Store(), lineno=323, col_offset=16, end_lineno=323, end_col_offset=20)], value=Call(func=Name(id='render_docstring', ctx=Load(), lineno=323, col_offset=23, end_lineno=323, end_col_offset=39), args=[Attribute(value=Name(id='entry', ctx=Load(), lineno=324, col_offset=20, end_lineno=324, end_col_offset=25), attr='schema', ctx=Load(), lineno=324, col_offset=20, end_lineno=324, end_col_offset=32), Attribute(value=Name(id='config', ctx=Load(), lineno=325, col_offset=20, end_lineno=325, end_col_offset=26), attr='ownership_marker', ctx=Load(), lineno=325, col_offset=20, end_lineno=325, end_col_offset=43)], keywords=[keyword(arg='include_signature', value=Attribute(value=Name(id='config', ctx=Load(), lineno=326, col_offset=38, end_lineno=326, end_col_offset=44), attr='render_signature', ctx=Load(), lineno=326, col_offset=38, end_lineno=326, end_col_offset=61), lineno=326, col_offset=20, end_lineno=326, end_col_offset=61)], lineno=323, col_offset=23, end_lineno=327, end_col_offset=17), lineno=323, col_offset=16, end_lineno=327, end_col_offset=17)], lineno=320, col_offset=12, end_lineno=327, end_col_offset=17)], lineno=318, col_offset=12, end_lineno=327, end_col_offset=17)], orelse=[Assign(targets=[Name(id='text', ctx=Store(), lineno=329, col_offset=12, end_lineno=329, end_col_offset=16)], value=Call(func=Name(id='render_docstring', ctx=Load(), lineno=329, col_offset=19, end_lineno=329, end_col_offset=35), args=[Attribute(value=Name(id='entry', ctx=Load(), lineno=330, col_offset=16, end_lineno=330, end_col_offset=21), attr='schema', ctx=Load(), lineno=330, col_offset=16, end_lineno=330, end_col_offset=28), Attribute(value=Name(id='config', ctx=Load(), lineno=331, col_offset=16, end_lineno=331, end_col_offset=22), attr='ownership_marker', ctx=Load(), lineno=331, col_offset=16, end_lineno=331, end_col_offset=39)], keywords=[keyword(arg='include_signature', value=Attribute(value=Name(id='config', ctx=Load(), lineno=332, col_offset=34, end_lineno=332, end_col_offset=40), attr='render_signature', ctx=Load(), lineno=332, col_offset=34, end_lineno=332, end_col_offset=57), lineno=332, col_offset=16, end_lineno=332, end_col_offset=57)], lineno=329, col_offset=19, end_lineno=333, end_col_offset=13), lineno=329, col_offset=12, end_lineno=333, end_col_offset=13)], lineno=316, col_offset=8, end_lineno=333, end_col_offset=13), Expr(value=Call(func=Attribute(value=Name(id='edits', ctx=Load(), lineno=334, col_offset=8, end_lineno=334, end_col_offset=13), attr='append', ctx=Load(), lineno=334, col_offset=8, end_lineno=334, end_col_offset=20), args=[Call(func=Name(id='DocstringEdit', ctx=Load(), lineno=334, col_offset=21, end_lineno=334, end_col_offset=34), keywords=[keyword(arg='qname', value=Attribute(value=Attribute(value=Name(id='entry', ctx=Load(), lineno=334, col_offset=41, end_lineno=334, end_col_offset=46), attr='symbol', ctx=Load(), lineno=334, col_offset=41, end_lineno=334, end_col_offset=53), attr='qname', ctx=Load(), lineno=334, col_offset=41, end_lineno=334, end_col_offset=59), lineno=334, col_offset=35, end_lineno=334, end_col_offset=59), keyword(arg='text', value=Name(id='text', ctx=Load(), lineno=334, col_offset=66, end_lineno=334, end_col_offset=70), lineno=334, col_offset=61, end_lineno=334, end_col_offset=70)], lineno=334, col_offset=21, end_lineno=334, end_col_offset=71)], lineno=334, col_offset=8, end_lineno=334, end_col_offset=72), lineno=334, col_offset=8, end_lineno=334, end_col_offset=72)], lineno=311, col_offset=4, end_lineno=334, end_col_offset=72), If(test=Compare(left=Name(id='plugin_manager', ctx=Load(), lineno=335, col_offset=7, end_lineno=335, end_col_offset=21), ops=[IsNot()], comparators=[Constant(value=None, lineno=335, col_offset=29, end_lineno=335, end_col_offset=33)], lineno=335, col_offset=7, end_lineno=335, end_col_offset=33), body=[Assign(targets=[Name(id='edits', ctx=Store(), lineno=336, col_offset=8, end_lineno=336, end_col_offset=13)], value=Call(func=Attribute(value=Name(id='plugin_manager', ctx=Load(), lineno=336, col_offset=16, end_lineno=336, end_col_offset=30), attr='apply_formatters', ctx=Load(), lineno=336, col_offset=16, end_lineno=336, end_col_offset=47), args=[Attribute(value=Name(id='result', ctx=Load(), lineno=336, col_offset=48, end_lineno=336, end_col_offset=54), attr='filepath', ctx=Load(), lineno=336, col_offset=48, end_lineno=336, end_col_offset=63), Name(id='edits', ctx=Load(), lineno=336, col_offset=65, end_lineno=336, end_col_offset=70)], lineno=336, col_offset=16, end_lineno=336, end_col_offset=71), lineno=336, col_offset=8, end_lineno=336, end_col_offset=71)], lineno=335, col_offset=4, end_lineno=336, end_col_offset=71), Return(value=Tuple(elts=[Name(id='edits', ctx=Load(), lineno=337, col_offset=11, end_lineno=337, end_col_offset=16), Name(id='semantics', ctx=Load(), lineno=337, col_offset=18, end_lineno=337, end_col_offset=27), Name(id='ir_entries', ctx=Load(), lineno=337, col_offset=29, end_lineno=337, end_col_offset=39)], ctx=Load(), lineno=337, col_offset=11, end_lineno=337, end_col_offset=39), lineno=337, col_offset=4, end_lineno=337, end_col_offset=39)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=305, col_offset=5, end_lineno=305, end_col_offset=10), slice=Tuple(elts=[Subscript(value=Name(id='list', ctx=Load(), lineno=305, col_offset=11, end_lineno=305, end_col_offset=15), slice=Name(id='DocstringEdit', ctx=Load(), lineno=305, col_offset=16, end_lineno=305, end_col_offset=29), ctx=Load(), lineno=305, col_offset=11, end_lineno=305, end_col_offset=30), Subscript(value=Name(id='list', ctx=Load(), lineno=305, col_offset=32, end_lineno=305, end_col_offset=36), slice=Name(id='SemanticResult', ctx=Load(), lineno=305, col_offset=37, end_lineno=305, end_col_offset=51), ctx=Load(), lineno=305, col_offset=32, end_lineno=305, end_col_offset=52), Subscript(value=Name(id='list', ctx=Load(), lineno=305, col_offset=54, end_lineno=305, end_col_offset=58), slice=Name(id='IRDocstring', ctx=Load(), lineno=305, col_offset=59, end_lineno=305, end_col_offset=70), ctx=Load(), lineno=305, col_offset=54, end_lineno=305, end_col_offset=71)], ctx=Load(), lineno=305, col_offset=11, end_lineno=305, end_col_offset=71), ctx=Load(), lineno=305, col_offset=5, end_lineno=305, end_col_offset=72), lineno=299, col_offset=0, end_lineno=337, end_col_offset=39), FunctionDef(name='_load_docfacts_from_disk', args=arguments(), body=[Expr(value=Constant(value='Load previously generated DocFacts entries keyed by qualified name.\n\n    Returns\n    -------\n    dict[str, DocFact]\n        Dictionary mapping qualified names to DocFact instances.\n    ', lineno=341, col_offset=4, end_lineno=347, end_col_offset=7), lineno=341, col_offset=4, end_lineno=347, end_col_offset=7), If(test=UnaryOp(op=Not(), operand=Call(func=Attribute(value=Name(id='DOCFACTS_PATH', ctx=Load(), lineno=348, col_offset=11, end_lineno=348, end_col_offset=24), attr='exists', ctx=Load(), lineno=348, col_offset=11, end_lineno=348, end_col_offset=31), lineno=348, col_offset=11, end_lineno=348, end_col_offset=33), lineno=348, col_offset=7, end_lineno=348, end_col_offset=33), body=[Return(value=Dict(lineno=349, col_offset=15, end_lineno=349, end_col_offset=17), lineno=349, col_offset=8, end_lineno=349, end_col_offset=17)], lineno=348, col_offset=4, end_lineno=349, end_col_offset=17), Try(body=[Assign(targets=[Name(id='raw_text', ctx=Store(), lineno=351, col_offset=8, end_lineno=351, end_col_offset=16)], value=Call(func=Attribute(value=Name(id='DOCFACTS_PATH', ctx=Load(), lineno=351, col_offset=19, end_lineno=351, end_col_offset=32), attr='read_text', ctx=Load(), lineno=351, col_offset=19, end_lineno=351, end_col_offset=42), keywords=[keyword(arg='encoding', value=Constant(value='utf-8', lineno=351, col_offset=52, end_lineno=351, end_col_offset=59), lineno=351, col_offset=43, end_lineno=351, end_col_offset=59)], lineno=351, col_offset=19, end_lineno=351, end_col_offset=60), lineno=351, col_offset=8, end_lineno=351, end_col_offset=60), AnnAssign(target=Name(id='raw', ctx=Store(), lineno=352, col_offset=8, end_lineno=352, end_col_offset=11), annotation=Name(id='object', ctx=Load(), lineno=352, col_offset=13, end_lineno=352, end_col_offset=19), value=Call(func=Attribute(value=Name(id='json', ctx=Load(), lineno=352, col_offset=22, end_lineno=352, end_col_offset=26), attr='loads', ctx=Load(), lineno=352, col_offset=22, end_lineno=352, end_col_offset=32), args=[Name(id='raw_text', ctx=Load(), lineno=352, col_offset=33, end_lineno=352, end_col_offset=41)], lineno=352, col_offset=22, end_lineno=352, end_col_offset=42), simple=1, lineno=352, col_offset=8, end_lineno=352, end_col_offset=42)], handlers=[ExceptHandler(type=Attribute(value=Name(id='json', ctx=Load(), lineno=353, col_offset=11, end_lineno=353, end_col_offset=15), attr='JSONDecodeError', ctx=Load(), lineno=353, col_offset=11, end_lineno=353, end_col_offset=31), body=[Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=354, col_offset=8, end_lineno=354, end_col_offset=15), attr='warning', ctx=Load(), lineno=354, col_offset=8, end_lineno=354, end_col_offset=23), args=[Constant(value='DocFacts cache is not valid JSON; ignoring existing data.', lineno=354, col_offset=24, end_lineno=354, end_col_offset=83)], lineno=354, col_offset=8, end_lineno=354, end_col_offset=84), lineno=354, col_offset=8, end_lineno=354, end_col_offset=84), Return(value=Dict(lineno=355, col_offset=15, end_lineno=355, end_col_offset=17), lineno=355, col_offset=8, end_lineno=355, end_col_offset=17)], lineno=353, col_offset=4, end_lineno=355, end_col_offset=17)], lineno=350, col_offset=4, end_lineno=355, end_col_offset=17), AnnAssign(target=Name(id='entries', ctx=Store(), lineno=356, col_offset=4, end_lineno=356, end_col_offset=11), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=356, col_offset=13, end_lineno=356, end_col_offset=17), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=356, col_offset=18, end_lineno=356, end_col_offset=21), Name(id='DocFact', ctx=Load(), lineno=356, col_offset=23, end_lineno=356, end_col_offset=30)], ctx=Load(), lineno=356, col_offset=18, end_lineno=356, end_col_offset=30), ctx=Load(), lineno=356, col_offset=13, end_lineno=356, end_col_offset=31), value=Dict(lineno=356, col_offset=34, end_lineno=356, end_col_offset=36), simple=1, lineno=356, col_offset=4, end_lineno=356, end_col_offset=36), AnnAssign(target=Name(id='payload_items', ctx=Store(), lineno=357, col_offset=4, end_lineno=357, end_col_offset=17), annotation=Subscript(value=Name(id='Iterable', ctx=Load(), lineno=357, col_offset=19, end_lineno=357, end_col_offset=27), slice=Subscript(value=Name(id='Mapping', ctx=Load(), lineno=357, col_offset=28, end_lineno=357, end_col_offset=35), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=357, col_offset=36, end_lineno=357, end_col_offset=39), Name(id='object', ctx=Load(), lineno=357, col_offset=41, end_lineno=357, end_col_offset=47)], ctx=Load(), lineno=357, col_offset=36, end_lineno=357, end_col_offset=47), ctx=Load(), lineno=357, col_offset=28, end_lineno=357, end_col_offset=48), ctx=Load(), lineno=357, col_offset=19, end_lineno=357, end_col_offset=49), simple=1, lineno=357, col_offset=4, end_lineno=357, end_col_offset=49), If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=358, col_offset=7, end_lineno=358, end_col_offset=17), args=[Name(id='raw', ctx=Load(), lineno=358, col_offset=18, end_lineno=358, end_col_offset=21), Name(id='Mapping', ctx=Load(), lineno=358, col_offset=23, end_lineno=358, end_col_offset=30)], lineno=358, col_offset=7, end_lineno=358, end_col_offset=31), body=[AnnAssign(target=Name(id='entries_field', ctx=Store(), lineno=359, col_offset=8, end_lineno=359, end_col_offset=21), annotation=Name(id='object', ctx=Load(), lineno=359, col_offset=23, end_lineno=359, end_col_offset=29), value=Call(func=Attribute(value=Name(id='raw', ctx=Load(), lineno=359, col_offset=32, end_lineno=359, end_col_offset=35), attr='get', ctx=Load(), lineno=359, col_offset=32, end_lineno=359, end_col_offset=39), args=[Constant(value='entries', lineno=359, col_offset=40, end_lineno=359, end_col_offset=49), List(ctx=Load(), lineno=359, col_offset=51, end_lineno=359, end_col_offset=53)], lineno=359, col_offset=32, end_lineno=359, end_col_offset=54), simple=1, lineno=359, col_offset=8, end_lineno=359, end_col_offset=54), If(test=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=360, col_offset=11, end_lineno=360, end_col_offset=21), args=[Name(id='entries_field', ctx=Load(), lineno=360, col_offset=22, end_lineno=360, end_col_offset=35), Name(id='Sequence', ctx=Load(), lineno=360, col_offset=37, end_lineno=360, end_col_offset=45)], lineno=360, col_offset=11, end_lineno=360, end_col_offset=46), UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=360, col_offset=55, end_lineno=360, end_col_offset=65), args=[Name(id='entries_field', ctx=Load(), lineno=360, col_offset=66, end_lineno=360, end_col_offset=79), Tuple(elts=[Name(id='str', ctx=Load(), lineno=360, col_offset=82, end_lineno=360, end_col_offset=85), Name(id='bytes', ctx=Load(), lineno=360, col_offset=87, end_lineno=360, end_col_offset=92)], ctx=Load(), lineno=360, col_offset=81, end_lineno=360, end_col_offset=93)], lineno=360, col_offset=55, end_lineno=360, end_col_offset=94), lineno=360, col_offset=51, end_lineno=360, end_col_offset=94)], lineno=360, col_offset=11, end_lineno=360, end_col_offset=94), body=[Assign(targets=[Name(id='payload_items', ctx=Store(), lineno=361, col_offset=12, end_lineno=361, end_col_offset=25)], value=ListComp(elt=Name(id='item', ctx=Load(), lineno=361, col_offset=29, end_lineno=361, end_col_offset=33), generators=[comprehension(target=Name(id='item', ctx=Store(), lineno=361, col_offset=38, end_lineno=361, end_col_offset=42), iter=Name(id='entries_field', ctx=Load(), lineno=361, col_offset=46, end_lineno=361, end_col_offset=59), ifs=[Call(func=Name(id='isinstance', ctx=Load(), lineno=361, col_offset=63, end_lineno=361, end_col_offset=73), args=[Name(id='item', ctx=Load(), lineno=361, col_offset=74, end_lineno=361, end_col_offset=78), Name(id='Mapping', ctx=Load(), lineno=361, col_offset=80, end_lineno=361, end_col_offset=87)], lineno=361, col_offset=63, end_lineno=361, end_col_offset=88)], is_async=0)], lineno=361, col_offset=28, end_lineno=361, end_col_offset=89), lineno=361, col_offset=12, end_lineno=361, end_col_offset=89)], orelse=[Assign(targets=[Name(id='payload_items', ctx=Store(), lineno=363, col_offset=12, end_lineno=363, end_col_offset=25)], value=List(ctx=Load(), lineno=363, col_offset=28, end_lineno=363, end_col_offset=30), lineno=363, col_offset=12, end_lineno=363, end_col_offset=30)], lineno=360, col_offset=8, end_lineno=363, end_col_offset=30)], orelse=[If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=364, col_offset=9, end_lineno=364, end_col_offset=19), args=[Name(id='raw', ctx=Load(), lineno=364, col_offset=20, end_lineno=364, end_col_offset=23), Name(id='list', ctx=Load(), lineno=364, col_offset=25, end_lineno=364, end_col_offset=29)], lineno=364, col_offset=9, end_lineno=364, end_col_offset=30), body=[Assign(targets=[Name(id='payload_items', ctx=Store(), lineno=365, col_offset=8, end_lineno=365, end_col_offset=21)], value=ListComp(elt=Name(id='item', ctx=Load(), lineno=365, col_offset=25, end_lineno=365, end_col_offset=29), generators=[comprehension(target=Name(id='item', ctx=Store(), lineno=365, col_offset=34, end_lineno=365, end_col_offset=38), iter=Name(id='raw', ctx=Load(), lineno=365, col_offset=42, end_lineno=365, end_col_offset=45), ifs=[Call(func=Name(id='isinstance', ctx=Load(), lineno=365, col_offset=49, end_lineno=365, end_col_offset=59), args=[Name(id='item', ctx=Load(), lineno=365, col_offset=60, end_lineno=365, end_col_offset=64), Name(id='Mapping', ctx=Load(), lineno=365, col_offset=66, end_lineno=365, end_col_offset=73)], lineno=365, col_offset=49, end_lineno=365, end_col_offset=74)], is_async=0)], lineno=365, col_offset=24, end_lineno=365, end_col_offset=75), lineno=365, col_offset=8, end_lineno=365, end_col_offset=75)], orelse=[Return(value=Dict(lineno=367, col_offset=15, end_lineno=367, end_col_offset=17), lineno=367, col_offset=8, end_lineno=367, end_col_offset=17)], lineno=364, col_offset=4, end_lineno=367, end_col_offset=17)], lineno=358, col_offset=4, end_lineno=367, end_col_offset=17), For(target=Name(id='item', ctx=Store(), lineno=368, col_offset=8, end_lineno=368, end_col_offset=12), iter=Name(id='payload_items', ctx=Load(), lineno=368, col_offset=16, end_lineno=368, end_col_offset=29), body=[Assign(targets=[Name(id='fact', ctx=Store(), lineno=369, col_offset=8, end_lineno=369, end_col_offset=12)], value=Call(func=Attribute(value=Name(id='DocFact', ctx=Load(), lineno=369, col_offset=15, end_lineno=369, end_col_offset=22), attr='from_mapping', ctx=Load(), lineno=369, col_offset=15, end_lineno=369, end_col_offset=35), args=[Name(id='item', ctx=Load(), lineno=369, col_offset=36, end_lineno=369, end_col_offset=40)], lineno=369, col_offset=15, end_lineno=369, end_col_offset=41), lineno=369, col_offset=8, end_lineno=369, end_col_offset=41), If(test=Compare(left=Name(id='fact', ctx=Load(), lineno=370, col_offset=11, end_lineno=370, end_col_offset=15), ops=[Is()], comparators=[Constant(value=None, lineno=370, col_offset=19, end_lineno=370, end_col_offset=23)], lineno=370, col_offset=11, end_lineno=370, end_col_offset=23), body=[Continue(lineno=371, col_offset=12, end_lineno=371, end_col_offset=20)], lineno=370, col_offset=8, end_lineno=371, end_col_offset=20), Assign(targets=[Subscript(value=Name(id='entries', ctx=Load(), lineno=372, col_offset=8, end_lineno=372, end_col_offset=15), slice=Attribute(value=Name(id='fact', ctx=Load(), lineno=372, col_offset=16, end_lineno=372, end_col_offset=20), attr='qname', ctx=Load(), lineno=372, col_offset=16, end_lineno=372, end_col_offset=26), ctx=Store(), lineno=372, col_offset=8, end_lineno=372, end_col_offset=27)], value=Name(id='fact', ctx=Load(), lineno=372, col_offset=30, end_lineno=372, end_col_offset=34), lineno=372, col_offset=8, end_lineno=372, end_col_offset=34)], lineno=368, col_offset=4, end_lineno=372, end_col_offset=34), Return(value=Name(id='entries', ctx=Load(), lineno=373, col_offset=11, end_lineno=373, end_col_offset=18), lineno=373, col_offset=4, end_lineno=373, end_col_offset=18)], returns=Subscript(value=Name(id='dict', ctx=Load(), lineno=340, col_offset=34, end_lineno=340, end_col_offset=38), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=340, col_offset=39, end_lineno=340, end_col_offset=42), Name(id='DocFact', ctx=Load(), lineno=340, col_offset=44, end_lineno=340, end_col_offset=51)], ctx=Load(), lineno=340, col_offset=39, end_lineno=340, end_col_offset=51), ctx=Load(), lineno=340, col_offset=34, end_lineno=340, end_col_offset=52), lineno=340, col_offset=0, end_lineno=373, end_col_offset=18), FunctionDef(name='_load_docfact_state', args=arguments(), body=[Expr(value=Constant(value='Load docfact entries along with best-effort source mapping.\n\n    Returns\n    -------\n    tuple[dict[str, DocFact], dict[str, Path]]\n        Tuple of (entries dictionary, sources dictionary) mapping qualified names\n        to DocFact instances and source file paths.\n    ', lineno=377, col_offset=4, end_lineno=384, end_col_offset=7), lineno=377, col_offset=4, end_lineno=384, end_col_offset=7), Assign(targets=[Name(id='entries', ctx=Store(), lineno=385, col_offset=4, end_lineno=385, end_col_offset=11)], value=Call(func=Name(id='_load_docfacts_from_disk', ctx=Load(), lineno=385, col_offset=14, end_lineno=385, end_col_offset=38), lineno=385, col_offset=14, end_lineno=385, end_col_offset=40), lineno=385, col_offset=4, end_lineno=385, end_col_offset=40), AnnAssign(target=Name(id='sources', ctx=Store(), lineno=386, col_offset=4, end_lineno=386, end_col_offset=11), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=386, col_offset=13, end_lineno=386, end_col_offset=17), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=386, col_offset=18, end_lineno=386, end_col_offset=21), Name(id='Path', ctx=Load(), lineno=386, col_offset=23, end_lineno=386, end_col_offset=27)], ctx=Load(), lineno=386, col_offset=18, end_lineno=386, end_col_offset=27), ctx=Load(), lineno=386, col_offset=13, end_lineno=386, end_col_offset=28), value=Dict(lineno=386, col_offset=31, end_lineno=386, end_col_offset=33), simple=1, lineno=386, col_offset=4, end_lineno=386, end_col_offset=33), For(target=Tuple(elts=[Name(id='qname', ctx=Store(), lineno=387, col_offset=8, end_lineno=387, end_col_offset=13), Name(id='fact', ctx=Store(), lineno=387, col_offset=15, end_lineno=387, end_col_offset=19)], ctx=Store(), lineno=387, col_offset=8, end_lineno=387, end_col_offset=19), iter=Call(func=Attribute(value=Name(id='entries', ctx=Load(), lineno=387, col_offset=23, end_lineno=387, end_col_offset=30), attr='items', ctx=Load(), lineno=387, col_offset=23, end_lineno=387, end_col_offset=36), lineno=387, col_offset=23, end_lineno=387, end_col_offset=38), body=[AnnAssign(target=Name(id='candidate', ctx=Store(), lineno=388, col_offset=8, end_lineno=388, end_col_offset=17), annotation=BinOp(left=Name(id='Path', ctx=Load(), lineno=388, col_offset=19, end_lineno=388, end_col_offset=23), op=BitOr(), right=Constant(value=None, lineno=388, col_offset=26, end_lineno=388, end_col_offset=30), lineno=388, col_offset=19, end_lineno=388, end_col_offset=30), value=Constant(value=None, lineno=388, col_offset=33, end_lineno=388, end_col_offset=37), simple=1, lineno=388, col_offset=8, end_lineno=388, end_col_offset=37), If(test=Attribute(value=Name(id='fact', ctx=Load(), lineno=389, col_offset=11, end_lineno=389, end_col_offset=15), attr='filepath', ctx=Load(), lineno=389, col_offset=11, end_lineno=389, end_col_offset=24), body=[Assign(targets=[Name(id='candidate_path', ctx=Store(), lineno=390, col_offset=12, end_lineno=390, end_col_offset=26)], value=Call(func=Attribute(value=BinOp(left=Name(id='REPO_ROOT', ctx=Load(), lineno=390, col_offset=30, end_lineno=390, end_col_offset=39), op=Div(), right=Attribute(value=Name(id='fact', ctx=Load(), lineno=390, col_offset=42, end_lineno=390, end_col_offset=46), attr='filepath', ctx=Load(), lineno=390, col_offset=42, end_lineno=390, end_col_offset=55), lineno=390, col_offset=30, end_lineno=390, end_col_offset=55), attr='resolve', ctx=Load(), lineno=390, col_offset=29, end_lineno=390, end_col_offset=64), lineno=390, col_offset=29, end_lineno=390, end_col_offset=66), lineno=390, col_offset=12, end_lineno=390, end_col_offset=66), If(test=Call(func=Attribute(value=Name(id='candidate_path', ctx=Load(), lineno=391, col_offset=15, end_lineno=391, end_col_offset=29), attr='exists', ctx=Load(), lineno=391, col_offset=15, end_lineno=391, end_col_offset=36), lineno=391, col_offset=15, end_lineno=391, end_col_offset=38), body=[Assign(targets=[Name(id='candidate', ctx=Store(), lineno=392, col_offset=16, end_lineno=392, end_col_offset=25)], value=Name(id='candidate_path', ctx=Load(), lineno=392, col_offset=28, end_lineno=392, end_col_offset=42), lineno=392, col_offset=16, end_lineno=392, end_col_offset=42)], lineno=391, col_offset=12, end_lineno=392, end_col_offset=42)], lineno=389, col_offset=8, end_lineno=392, end_col_offset=42), If(test=Compare(left=Name(id='candidate', ctx=Load(), lineno=393, col_offset=11, end_lineno=393, end_col_offset=20), ops=[Is()], comparators=[Constant(value=None, lineno=393, col_offset=24, end_lineno=393, end_col_offset=28)], lineno=393, col_offset=11, end_lineno=393, end_col_offset=28), body=[Assign(targets=[Name(id='candidate', ctx=Store(), lineno=394, col_offset=12, end_lineno=394, end_col_offset=21)], value=Call(func=Name(id='module_to_path', ctx=Load(), lineno=394, col_offset=24, end_lineno=394, end_col_offset=38), args=[Attribute(value=Name(id='fact', ctx=Load(), lineno=394, col_offset=39, end_lineno=394, end_col_offset=43), attr='module', ctx=Load(), lineno=394, col_offset=39, end_lineno=394, end_col_offset=50)], lineno=394, col_offset=24, end_lineno=394, end_col_offset=51), lineno=394, col_offset=12, end_lineno=394, end_col_offset=51)], lineno=393, col_offset=8, end_lineno=394, end_col_offset=51), If(test=Compare(left=Name(id='candidate', ctx=Load(), lineno=395, col_offset=11, end_lineno=395, end_col_offset=20), ops=[IsNot()], comparators=[Constant(value=None, lineno=395, col_offset=28, end_lineno=395, end_col_offset=32)], lineno=395, col_offset=11, end_lineno=395, end_col_offset=32), body=[Assign(targets=[Subscript(value=Name(id='sources', ctx=Load(), lineno=396, col_offset=12, end_lineno=396, end_col_offset=19), slice=Name(id='qname', ctx=Load(), lineno=396, col_offset=20, end_lineno=396, end_col_offset=25), ctx=Store(), lineno=396, col_offset=12, end_lineno=396, end_col_offset=26)], value=Name(id='candidate', ctx=Load(), lineno=396, col_offset=29, end_lineno=396, end_col_offset=38), lineno=396, col_offset=12, end_lineno=396, end_col_offset=38)], lineno=395, col_offset=8, end_lineno=396, end_col_offset=38)], lineno=387, col_offset=4, end_lineno=396, end_col_offset=38), Return(value=Tuple(elts=[Name(id='entries', ctx=Load(), lineno=397, col_offset=11, end_lineno=397, end_col_offset=18), Name(id='sources', ctx=Load(), lineno=397, col_offset=20, end_lineno=397, end_col_offset=27)], ctx=Load(), lineno=397, col_offset=11, end_lineno=397, end_col_offset=27), lineno=397, col_offset=4, end_lineno=397, end_col_offset=27)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=376, col_offset=29, end_lineno=376, end_col_offset=34), slice=Tuple(elts=[Subscript(value=Name(id='dict', ctx=Load(), lineno=376, col_offset=35, end_lineno=376, end_col_offset=39), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=376, col_offset=40, end_lineno=376, end_col_offset=43), Name(id='DocFact', ctx=Load(), lineno=376, col_offset=45, end_lineno=376, end_col_offset=52)], ctx=Load(), lineno=376, col_offset=40, end_lineno=376, end_col_offset=52), ctx=Load(), lineno=376, col_offset=35, end_lineno=376, end_col_offset=53), Subscript(value=Name(id='dict', ctx=Load(), lineno=376, col_offset=55, end_lineno=376, end_col_offset=59), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=376, col_offset=60, end_lineno=376, end_col_offset=63), Name(id='Path', ctx=Load(), lineno=376, col_offset=65, end_lineno=376, end_col_offset=69)], ctx=Load(), lineno=376, col_offset=60, end_lineno=376, end_col_offset=69), ctx=Load(), lineno=376, col_offset=55, end_lineno=376, end_col_offset=70)], ctx=Load(), lineno=376, col_offset=35, end_lineno=376, end_col_offset=70), ctx=Load(), lineno=376, col_offset=29, end_lineno=376, end_col_offset=71), lineno=376, col_offset=0, end_lineno=397, end_col_offset=27), FunctionDef(name='_record_docfacts', args=arguments(args=[arg(arg='facts', annotation=Subscript(value=Name(id='Iterable', ctx=Load(), lineno=401, col_offset=11, end_lineno=401, end_col_offset=19), slice=Name(id='DocFact', ctx=Load(), lineno=401, col_offset=20, end_lineno=401, end_col_offset=27), ctx=Load(), lineno=401, col_offset=11, end_lineno=401, end_col_offset=28), lineno=401, col_offset=4, end_lineno=401, end_col_offset=28), arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=402, col_offset=15, end_lineno=402, end_col_offset=19), lineno=402, col_offset=4, end_lineno=402, end_col_offset=19), arg(arg='entries', annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=403, col_offset=13, end_lineno=403, end_col_offset=17), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=403, col_offset=18, end_lineno=403, end_col_offset=21), Name(id='DocFact', ctx=Load(), lineno=403, col_offset=23, end_lineno=403, end_col_offset=30)], ctx=Load(), lineno=403, col_offset=18, end_lineno=403, end_col_offset=30), ctx=Load(), lineno=403, col_offset=13, end_lineno=403, end_col_offset=31), lineno=403, col_offset=4, end_lineno=403, end_col_offset=31), arg(arg='sources', annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=404, col_offset=13, end_lineno=404, end_col_offset=17), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=404, col_offset=18, end_lineno=404, end_col_offset=21), Name(id='Path', ctx=Load(), lineno=404, col_offset=23, end_lineno=404, end_col_offset=27)], ctx=Load(), lineno=404, col_offset=18, end_lineno=404, end_col_offset=27), ctx=Load(), lineno=404, col_offset=13, end_lineno=404, end_col_offset=28), lineno=404, col_offset=4, end_lineno=404, end_col_offset=28)]), body=[For(target=Name(id='fact', ctx=Store(), lineno=406, col_offset=8, end_lineno=406, end_col_offset=12), iter=Name(id='facts', ctx=Load(), lineno=406, col_offset=16, end_lineno=406, end_col_offset=21), body=[Assign(targets=[Subscript(value=Name(id='entries', ctx=Load(), lineno=407, col_offset=8, end_lineno=407, end_col_offset=15), slice=Attribute(value=Name(id='fact', ctx=Load(), lineno=407, col_offset=16, end_lineno=407, end_col_offset=20), attr='qname', ctx=Load(), lineno=407, col_offset=16, end_lineno=407, end_col_offset=26), ctx=Store(), lineno=407, col_offset=8, end_lineno=407, end_col_offset=27)], value=Name(id='fact', ctx=Load(), lineno=407, col_offset=30, end_lineno=407, end_col_offset=34), lineno=407, col_offset=8, end_lineno=407, end_col_offset=34), Assign(targets=[Subscript(value=Name(id='sources', ctx=Load(), lineno=408, col_offset=8, end_lineno=408, end_col_offset=15), slice=Attribute(value=Name(id='fact', ctx=Load(), lineno=408, col_offset=16, end_lineno=408, end_col_offset=20), attr='qname', ctx=Load(), lineno=408, col_offset=16, end_lineno=408, end_col_offset=26), ctx=Store(), lineno=408, col_offset=8, end_lineno=408, end_col_offset=27)], value=Name(id='file_path', ctx=Load(), lineno=408, col_offset=30, end_lineno=408, end_col_offset=39), lineno=408, col_offset=8, end_lineno=408, end_col_offset=39)], lineno=406, col_offset=4, end_lineno=408, end_col_offset=39)], returns=Constant(value=None, lineno=405, col_offset=5, end_lineno=405, end_col_offset=9), lineno=400, col_offset=0, end_lineno=408, end_col_offset=39), FunctionDef(name='_filter_docfacts_for_output', args=arguments(args=[arg(arg='entries', annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=412, col_offset=13, end_lineno=412, end_col_offset=17), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=412, col_offset=18, end_lineno=412, end_col_offset=21), Name(id='DocFact', ctx=Load(), lineno=412, col_offset=23, end_lineno=412, end_col_offset=30)], ctx=Load(), lineno=412, col_offset=18, end_lineno=412, end_col_offset=30), ctx=Load(), lineno=412, col_offset=13, end_lineno=412, end_col_offset=31), lineno=412, col_offset=4, end_lineno=412, end_col_offset=31), arg(arg='sources', annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=413, col_offset=13, end_lineno=413, end_col_offset=17), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=413, col_offset=18, end_lineno=413, end_col_offset=21), Name(id='Path', ctx=Load(), lineno=413, col_offset=23, end_lineno=413, end_col_offset=27)], ctx=Load(), lineno=413, col_offset=18, end_lineno=413, end_col_offset=27), ctx=Load(), lineno=413, col_offset=13, end_lineno=413, end_col_offset=28), lineno=413, col_offset=4, end_lineno=413, end_col_offset=28), arg(arg='config', annotation=Name(id='BuilderConfig', ctx=Load(), lineno=414, col_offset=12, end_lineno=414, end_col_offset=25), lineno=414, col_offset=4, end_lineno=414, end_col_offset=25)]), body=[AnnAssign(target=Name(id='filtered', ctx=Store(), lineno=416, col_offset=4, end_lineno=416, end_col_offset=12), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=416, col_offset=14, end_lineno=416, end_col_offset=18), slice=Name(id='DocFact', ctx=Load(), lineno=416, col_offset=19, end_lineno=416, end_col_offset=26), ctx=Load(), lineno=416, col_offset=14, end_lineno=416, end_col_offset=27), value=List(ctx=Load(), lineno=416, col_offset=30, end_lineno=416, end_col_offset=32), simple=1, lineno=416, col_offset=4, end_lineno=416, end_col_offset=32), For(target=Tuple(elts=[Name(id='qname', ctx=Store(), lineno=417, col_offset=8, end_lineno=417, end_col_offset=13), Name(id='fact', ctx=Store(), lineno=417, col_offset=15, end_lineno=417, end_col_offset=19)], ctx=Store(), lineno=417, col_offset=8, end_lineno=417, end_col_offset=19), iter=Call(func=Attribute(value=Name(id='entries', ctx=Load(), lineno=417, col_offset=23, end_lineno=417, end_col_offset=30), attr='items', ctx=Load(), lineno=417, col_offset=23, end_lineno=417, end_col_offset=36), lineno=417, col_offset=23, end_lineno=417, end_col_offset=38), body=[Assign(targets=[Name(id='source', ctx=Store(), lineno=418, col_offset=8, end_lineno=418, end_col_offset=14)], value=Call(func=Attribute(value=Name(id='sources', ctx=Load(), lineno=418, col_offset=17, end_lineno=418, end_col_offset=24), attr='get', ctx=Load(), lineno=418, col_offset=17, end_lineno=418, end_col_offset=28), args=[Name(id='qname', ctx=Load(), lineno=418, col_offset=29, end_lineno=418, end_col_offset=34)], lineno=418, col_offset=17, end_lineno=418, end_col_offset=35), lineno=418, col_offset=8, end_lineno=418, end_col_offset=35), If(test=BoolOp(op=And(), values=[Compare(left=Name(id='source', ctx=Load(), lineno=419, col_offset=11, end_lineno=419, end_col_offset=17), ops=[Is()], comparators=[Constant(value=None, lineno=419, col_offset=21, end_lineno=419, end_col_offset=25)], lineno=419, col_offset=11, end_lineno=419, end_col_offset=25), Attribute(value=Name(id='fact', ctx=Load(), lineno=419, col_offset=30, end_lineno=419, end_col_offset=34), attr='filepath', ctx=Load(), lineno=419, col_offset=30, end_lineno=419, end_col_offset=43)], lineno=419, col_offset=11, end_lineno=419, end_col_offset=43), body=[Assign(targets=[Name(id='candidate', ctx=Store(), lineno=420, col_offset=12, end_lineno=420, end_col_offset=21)], value=Call(func=Attribute(value=BinOp(left=Name(id='REPO_ROOT', ctx=Load(), lineno=420, col_offset=25, end_lineno=420, end_col_offset=34), op=Div(), right=Attribute(value=Name(id='fact', ctx=Load(), lineno=420, col_offset=37, end_lineno=420, end_col_offset=41), attr='filepath', ctx=Load(), lineno=420, col_offset=37, end_lineno=420, end_col_offset=50), lineno=420, col_offset=25, end_lineno=420, end_col_offset=50), attr='resolve', ctx=Load(), lineno=420, col_offset=24, end_lineno=420, end_col_offset=59), lineno=420, col_offset=24, end_lineno=420, end_col_offset=61), lineno=420, col_offset=12, end_lineno=420, end_col_offset=61), If(test=Call(func=Attribute(value=Name(id='candidate', ctx=Load(), lineno=421, col_offset=15, end_lineno=421, end_col_offset=24), attr='exists', ctx=Load(), lineno=421, col_offset=15, end_lineno=421, end_col_offset=31), lineno=421, col_offset=15, end_lineno=421, end_col_offset=33), body=[Assign(targets=[Name(id='source', ctx=Store(), lineno=422, col_offset=16, end_lineno=422, end_col_offset=22)], value=Name(id='candidate', ctx=Load(), lineno=422, col_offset=25, end_lineno=422, end_col_offset=34), lineno=422, col_offset=16, end_lineno=422, end_col_offset=34)], lineno=421, col_offset=12, end_lineno=422, end_col_offset=34)], lineno=419, col_offset=8, end_lineno=422, end_col_offset=34), If(test=Compare(left=Name(id='source', ctx=Load(), lineno=423, col_offset=11, end_lineno=423, end_col_offset=17), ops=[Is()], comparators=[Constant(value=None, lineno=423, col_offset=21, end_lineno=423, end_col_offset=25)], lineno=423, col_offset=11, end_lineno=423, end_col_offset=25), body=[Assign(targets=[Name(id='source', ctx=Store(), lineno=424, col_offset=12, end_lineno=424, end_col_offset=18)], value=Call(func=Name(id='module_to_path', ctx=Load(), lineno=424, col_offset=21, end_lineno=424, end_col_offset=35), args=[Attribute(value=Name(id='fact', ctx=Load(), lineno=424, col_offset=36, end_lineno=424, end_col_offset=40), attr='module', ctx=Load(), lineno=424, col_offset=36, end_lineno=424, end_col_offset=47)], lineno=424, col_offset=21, end_lineno=424, end_col_offset=48), lineno=424, col_offset=12, end_lineno=424, end_col_offset=48)], lineno=423, col_offset=8, end_lineno=424, end_col_offset=48), If(test=BoolOp(op=And(), values=[Compare(left=Name(id='source', ctx=Load(), lineno=425, col_offset=11, end_lineno=425, end_col_offset=17), ops=[IsNot()], comparators=[Constant(value=None, lineno=425, col_offset=25, end_lineno=425, end_col_offset=29)], lineno=425, col_offset=11, end_lineno=425, end_col_offset=29), Call(func=Name(id='should_ignore', ctx=Load(), lineno=425, col_offset=34, end_lineno=425, end_col_offset=47), args=[Name(id='source', ctx=Load(), lineno=425, col_offset=48, end_lineno=425, end_col_offset=54), Name(id='config', ctx=Load(), lineno=425, col_offset=56, end_lineno=425, end_col_offset=62)], lineno=425, col_offset=34, end_lineno=425, end_col_offset=63)], lineno=425, col_offset=11, end_lineno=425, end_col_offset=63), body=[Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=426, col_offset=12, end_lineno=426, end_col_offset=19), attr='debug', ctx=Load(), lineno=426, col_offset=12, end_lineno=426, end_col_offset=25), args=[Constant(value='Dropping docfact %s due to ignore rules', lineno=426, col_offset=26, end_lineno=426, end_col_offset=67), Name(id='qname', ctx=Load(), lineno=426, col_offset=69, end_lineno=426, end_col_offset=74)], lineno=426, col_offset=12, end_lineno=426, end_col_offset=75), lineno=426, col_offset=12, end_lineno=426, end_col_offset=75), Continue(lineno=427, col_offset=12, end_lineno=427, end_col_offset=20)], lineno=425, col_offset=8, end_lineno=427, end_col_offset=20), Expr(value=Call(func=Attribute(value=Name(id='filtered', ctx=Load(), lineno=428, col_offset=8, end_lineno=428, end_col_offset=16), attr='append', ctx=Load(), lineno=428, col_offset=8, end_lineno=428, end_col_offset=23), args=[Name(id='fact', ctx=Load(), lineno=428, col_offset=24, end_lineno=428, end_col_offset=28)], lineno=428, col_offset=8, end_lineno=428, end_col_offset=29), lineno=428, col_offset=8, end_lineno=428, end_col_offset=29)], lineno=417, col_offset=4, end_lineno=428, end_col_offset=29), Return(value=Name(id='filtered', ctx=Load(), lineno=429, col_offset=11, end_lineno=429, end_col_offset=19), lineno=429, col_offset=4, end_lineno=429, end_col_offset=19)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=415, col_offset=5, end_lineno=415, end_col_offset=9), slice=Name(id='DocFact', ctx=Load(), lineno=415, col_offset=10, end_lineno=415, end_col_offset=17), ctx=Load(), lineno=415, col_offset=5, end_lineno=415, end_col_offset=18), lineno=411, col_offset=0, end_lineno=429, end_col_offset=19), ClassDef(name='_DocfactState', body=[AnnAssign(target=Name(id='config', ctx=Store(), lineno=434, col_offset=4, end_lineno=434, end_col_offset=10), annotation=Name(id='BuilderConfig', ctx=Load(), lineno=434, col_offset=12, end_lineno=434, end_col_offset=25), simple=1, lineno=434, col_offset=4, end_lineno=434, end_col_offset=25), AnnAssign(target=Name(id='entries', ctx=Store(), lineno=435, col_offset=4, end_lineno=435, end_col_offset=11), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=435, col_offset=13, end_lineno=435, end_col_offset=17), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=435, col_offset=18, end_lineno=435, end_col_offset=21), Name(id='DocFact', ctx=Load(), lineno=435, col_offset=23, end_lineno=435, end_col_offset=30)], ctx=Load(), lineno=435, col_offset=18, end_lineno=435, end_col_offset=30), ctx=Load(), lineno=435, col_offset=13, end_lineno=435, end_col_offset=31), simple=1, lineno=435, col_offset=4, end_lineno=435, end_col_offset=31), AnnAssign(target=Name(id='sources', ctx=Store(), lineno=436, col_offset=4, end_lineno=436, end_col_offset=11), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=436, col_offset=13, end_lineno=436, end_col_offset=17), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=436, col_offset=18, end_lineno=436, end_col_offset=21), Name(id='Path', ctx=Load(), lineno=436, col_offset=23, end_lineno=436, end_col_offset=27)], ctx=Load(), lineno=436, col_offset=18, end_lineno=436, end_col_offset=27), ctx=Load(), lineno=436, col_offset=13, end_lineno=436, end_col_offset=28), simple=1, lineno=436, col_offset=4, end_lineno=436, end_col_offset=28), FunctionDef(name='record', args=arguments(args=[arg(arg='self', lineno=438, col_offset=15, end_lineno=438, end_col_offset=19), arg(arg='facts', annotation=Subscript(value=Name(id='Iterable', ctx=Load(), lineno=438, col_offset=28, end_lineno=438, end_col_offset=36), slice=Name(id='DocFact', ctx=Load(), lineno=438, col_offset=37, end_lineno=438, end_col_offset=44), ctx=Load(), lineno=438, col_offset=28, end_lineno=438, end_col_offset=45), lineno=438, col_offset=21, end_lineno=438, end_col_offset=45), arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=438, col_offset=58, end_lineno=438, end_col_offset=62), lineno=438, col_offset=47, end_lineno=438, end_col_offset=62)]), body=[Expr(value=Constant(value='Record docfacts for a file.\n\n        Parameters\n        ----------\n        facts : Iterable[DocFact]\n            Docfacts to record.\n        file_path : Path\n            Source file path.\n        ', lineno=439, col_offset=8, end_lineno=447, end_col_offset=11), lineno=439, col_offset=8, end_lineno=447, end_col_offset=11), Expr(value=Call(func=Name(id='_record_docfacts', ctx=Load(), lineno=448, col_offset=8, end_lineno=448, end_col_offset=24), args=[Name(id='facts', ctx=Load(), lineno=448, col_offset=25, end_lineno=448, end_col_offset=30), Name(id='file_path', ctx=Load(), lineno=448, col_offset=32, end_lineno=448, end_col_offset=41), Attribute(value=Name(id='self', ctx=Load(), lineno=448, col_offset=43, end_lineno=448, end_col_offset=47), attr='entries', ctx=Load(), lineno=448, col_offset=43, end_lineno=448, end_col_offset=55), Attribute(value=Name(id='self', ctx=Load(), lineno=448, col_offset=57, end_lineno=448, end_col_offset=61), attr='sources', ctx=Load(), lineno=448, col_offset=57, end_lineno=448, end_col_offset=69)], lineno=448, col_offset=8, end_lineno=448, end_col_offset=70), lineno=448, col_offset=8, end_lineno=448, end_col_offset=70)], returns=Constant(value=None, lineno=438, col_offset=67, end_lineno=438, end_col_offset=71), lineno=438, col_offset=4, end_lineno=448, end_col_offset=70), FunctionDef(name='filtered', args=arguments(args=[arg(arg='self', lineno=450, col_offset=17, end_lineno=450, end_col_offset=21)]), body=[Expr(value=Constant(value='Return filtered docfacts for output.\n\n        Returns\n        -------\n        list[DocFact]\n            Filtered docfacts list.\n        ', lineno=451, col_offset=8, end_lineno=457, end_col_offset=11), lineno=451, col_offset=8, end_lineno=457, end_col_offset=11), Return(value=Call(func=Name(id='_filter_docfacts_for_output', ctx=Load(), lineno=458, col_offset=15, end_lineno=458, end_col_offset=42), args=[Attribute(value=Name(id='self', ctx=Load(), lineno=458, col_offset=43, end_lineno=458, end_col_offset=47), attr='entries', ctx=Load(), lineno=458, col_offset=43, end_lineno=458, end_col_offset=55), Attribute(value=Name(id='self', ctx=Load(), lineno=458, col_offset=57, end_lineno=458, end_col_offset=61), attr='sources', ctx=Load(), lineno=458, col_offset=57, end_lineno=458, end_col_offset=69), Attribute(value=Name(id='self', ctx=Load(), lineno=458, col_offset=71, end_lineno=458, end_col_offset=75), attr='config', ctx=Load(), lineno=458, col_offset=71, end_lineno=458, end_col_offset=82)], lineno=458, col_offset=15, end_lineno=458, end_col_offset=83), lineno=458, col_offset=8, end_lineno=458, end_col_offset=83)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=450, col_offset=26, end_lineno=450, end_col_offset=30), slice=Name(id='DocFact', ctx=Load(), lineno=450, col_offset=31, end_lineno=450, end_col_offset=38), ctx=Load(), lineno=450, col_offset=26, end_lineno=450, end_col_offset=39), lineno=450, col_offset=4, end_lineno=458, end_col_offset=83)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=432, col_offset=1, end_lineno=432, end_col_offset=10), keywords=[keyword(arg='slots', value=Constant(value=True, lineno=432, col_offset=17, end_lineno=432, end_col_offset=21), lineno=432, col_offset=11, end_lineno=432, end_col_offset=21), keyword(arg='frozen', value=Constant(value=True, lineno=432, col_offset=30, end_lineno=432, end_col_offset=34), lineno=432, col_offset=23, end_lineno=432, end_col_offset=34)], lineno=432, col_offset=1, end_lineno=432, end_col_offset=35)], lineno=433, col_offset=0, end_lineno=458, end_col_offset=83), ClassDef(name='_PipelineDependencies', body=[AnnAssign(target=Name(id='config', ctx=Store(), lineno=463, col_offset=4, end_lineno=463, end_col_offset=10), annotation=Name(id='BuilderConfig', ctx=Load(), lineno=463, col_offset=12, end_lineno=463, end_col_offset=25), simple=1, lineno=463, col_offset=4, end_lineno=463, end_col_offset=25), AnnAssign(target=Name(id='logger', ctx=Store(), lineno=464, col_offset=4, end_lineno=464, end_col_offset=10), annotation=Name(id='LoggerLike', ctx=Load(), lineno=464, col_offset=12, end_lineno=464, end_col_offset=22), simple=1, lineno=464, col_offset=4, end_lineno=464, end_col_offset=22), AnnAssign(target=Name(id='cache', ctx=Store(), lineno=465, col_offset=4, end_lineno=465, end_col_offset=9), annotation=Name(id='DocstringBuilderCache', ctx=Load(), lineno=465, col_offset=11, end_lineno=465, end_col_offset=32), simple=1, lineno=465, col_offset=4, end_lineno=465, end_col_offset=32), AnnAssign(target=Name(id='diff_manager', ctx=Store(), lineno=466, col_offset=4, end_lineno=466, end_col_offset=16), annotation=Name(id='DiffManager', ctx=Load(), lineno=466, col_offset=18, end_lineno=466, end_col_offset=29), simple=1, lineno=466, col_offset=4, end_lineno=466, end_col_offset=29), AnnAssign(target=Name(id='metrics', ctx=Store(), lineno=467, col_offset=4, end_lineno=467, end_col_offset=11), annotation=Name(id='MetricsRecorder', ctx=Load(), lineno=467, col_offset=13, end_lineno=467, end_col_offset=28), simple=1, lineno=467, col_offset=4, end_lineno=467, end_col_offset=28), AnnAssign(target=Name(id='file_processor', ctx=Store(), lineno=468, col_offset=4, end_lineno=468, end_col_offset=18), annotation=Name(id='FileProcessor', ctx=Load(), lineno=468, col_offset=20, end_lineno=468, end_col_offset=33), simple=1, lineno=468, col_offset=4, end_lineno=468, end_col_offset=33), AnnAssign(target=Name(id='docfact_state', ctx=Store(), lineno=469, col_offset=4, end_lineno=469, end_col_offset=17), annotation=Name(id='_DocfactState', ctx=Load(), lineno=469, col_offset=19, end_lineno=469, end_col_offset=32), simple=1, lineno=469, col_offset=4, end_lineno=469, end_col_offset=32), FunctionDef(name='record_docfacts', args=arguments(args=[arg(arg='self', lineno=471, col_offset=24, end_lineno=471, end_col_offset=28), arg(arg='facts', annotation=Subscript(value=Name(id='Iterable', ctx=Load(), lineno=471, col_offset=37, end_lineno=471, end_col_offset=45), slice=Name(id='DocFact', ctx=Load(), lineno=471, col_offset=46, end_lineno=471, end_col_offset=53), ctx=Load(), lineno=471, col_offset=37, end_lineno=471, end_col_offset=54), lineno=471, col_offset=30, end_lineno=471, end_col_offset=54), arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=471, col_offset=67, end_lineno=471, end_col_offset=71), lineno=471, col_offset=56, end_lineno=471, end_col_offset=71)]), body=[Expr(value=Constant(value='Record docfacts for a file.\n\n        Parameters\n        ----------\n        facts : Iterable[DocFact]\n            Docfacts to record.\n        file_path : Path\n            Source file path.\n        ', lineno=472, col_offset=8, end_lineno=480, end_col_offset=11), lineno=472, col_offset=8, end_lineno=480, end_col_offset=11), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=481, col_offset=8, end_lineno=481, end_col_offset=12), attr='docfact_state', ctx=Load(), lineno=481, col_offset=8, end_lineno=481, end_col_offset=26), attr='record', ctx=Load(), lineno=481, col_offset=8, end_lineno=481, end_col_offset=33), args=[Name(id='facts', ctx=Load(), lineno=481, col_offset=34, end_lineno=481, end_col_offset=39), Name(id='file_path', ctx=Load(), lineno=481, col_offset=41, end_lineno=481, end_col_offset=50)], lineno=481, col_offset=8, end_lineno=481, end_col_offset=51), lineno=481, col_offset=8, end_lineno=481, end_col_offset=51)], returns=Constant(value=None, lineno=471, col_offset=76, end_lineno=471, end_col_offset=80), lineno=471, col_offset=4, end_lineno=481, end_col_offset=51), FunctionDef(name='filter_docfacts', args=arguments(args=[arg(arg='self', lineno=483, col_offset=24, end_lineno=483, end_col_offset=28)]), body=[Expr(value=Constant(value='Return filtered docfacts for output.\n\n        Returns\n        -------\n        list[DocFact]\n            Filtered docfacts list.\n        ', lineno=484, col_offset=8, end_lineno=490, end_col_offset=11), lineno=484, col_offset=8, end_lineno=490, end_col_offset=11), Return(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=491, col_offset=15, end_lineno=491, end_col_offset=19), attr='docfact_state', ctx=Load(), lineno=491, col_offset=15, end_lineno=491, end_col_offset=33), attr='filtered', ctx=Load(), lineno=491, col_offset=15, end_lineno=491, end_col_offset=42), lineno=491, col_offset=15, end_lineno=491, end_col_offset=44), lineno=491, col_offset=8, end_lineno=491, end_col_offset=44)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=483, col_offset=33, end_lineno=483, end_col_offset=37), slice=Name(id='DocFact', ctx=Load(), lineno=483, col_offset=38, end_lineno=483, end_col_offset=45), ctx=Load(), lineno=483, col_offset=33, end_lineno=483, end_col_offset=46), lineno=483, col_offset=4, end_lineno=491, end_col_offset=44), FunctionDef(name='docfacts_coordinator_factory', args=arguments(args=[arg(arg='self', lineno=493, col_offset=37, end_lineno=493, end_col_offset=41)], kwonlyargs=[arg(arg='check_mode', annotation=Name(id='bool', ctx=Load(), lineno=493, col_offset=58, end_lineno=493, end_col_offset=62), lineno=493, col_offset=46, end_lineno=493, end_col_offset=62)], kw_defaults=[None]), body=[Expr(value=Constant(value='Create docfacts coordinator factory.\n\n        Parameters\n        ----------\n        check_mode : bool\n            Whether to run in check mode.\n\n        Returns\n        -------\n        DocfactsCoordinator\n            Coordinator instance.\n        ', lineno=494, col_offset=8, end_lineno=505, end_col_offset=11), lineno=494, col_offset=8, end_lineno=505, end_col_offset=11), Return(value=Call(func=Name(id='DocfactsCoordinator', ctx=Load(), lineno=506, col_offset=15, end_lineno=506, end_col_offset=34), keywords=[keyword(arg='config', value=Attribute(value=Name(id='self', ctx=Load(), lineno=507, col_offset=19, end_lineno=507, end_col_offset=23), attr='config', ctx=Load(), lineno=507, col_offset=19, end_lineno=507, end_col_offset=30), lineno=507, col_offset=12, end_lineno=507, end_col_offset=30), keyword(arg='build_provenance', value=Name(id='_build_docfacts_provenance', ctx=Load(), lineno=508, col_offset=29, end_lineno=508, end_col_offset=55), lineno=508, col_offset=12, end_lineno=508, end_col_offset=55), keyword(arg='handle_schema_violation', value=Name(id='_handle_schema_violation', ctx=Load(), lineno=509, col_offset=36, end_lineno=509, end_col_offset=60), lineno=509, col_offset=12, end_lineno=509, end_col_offset=60), keyword(arg='typed_pipeline_enabled', value=Name(id='TYPED_PIPELINE_ENABLED', ctx=Load(), lineno=510, col_offset=35, end_lineno=510, end_col_offset=57), lineno=510, col_offset=12, end_lineno=510, end_col_offset=57), keyword(arg='check_mode', value=Name(id='check_mode', ctx=Load(), lineno=511, col_offset=23, end_lineno=511, end_col_offset=33), lineno=511, col_offset=12, end_lineno=511, end_col_offset=33), keyword(arg='logger', value=Attribute(value=Name(id='self', ctx=Load(), lineno=512, col_offset=19, end_lineno=512, end_col_offset=23), attr='logger', ctx=Load(), lineno=512, col_offset=19, end_lineno=512, end_col_offset=30), lineno=512, col_offset=12, end_lineno=512, end_col_offset=30)], lineno=506, col_offset=15, end_lineno=513, end_col_offset=9), lineno=506, col_offset=8, end_lineno=513, end_col_offset=9)], returns=Name(id='DocfactsCoordinator', ctx=Load(), lineno=493, col_offset=67, end_lineno=493, end_col_offset=86), lineno=493, col_offset=4, end_lineno=513, end_col_offset=9)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=461, col_offset=1, end_lineno=461, end_col_offset=10), keywords=[keyword(arg='slots', value=Constant(value=True, lineno=461, col_offset=17, end_lineno=461, end_col_offset=21), lineno=461, col_offset=11, end_lineno=461, end_col_offset=21), keyword(arg='frozen', value=Constant(value=True, lineno=461, col_offset=30, end_lineno=461, end_col_offset=34), lineno=461, col_offset=23, end_lineno=461, end_col_offset=34)], lineno=461, col_offset=1, end_lineno=461, end_col_offset=35)], lineno=462, col_offset=0, end_lineno=513, end_col_offset=9), FunctionDef(name='_build_pipeline_dependencies', args=arguments(args=[arg(arg='config', annotation=Name(id='BuilderConfig', ctx=Load(), lineno=517, col_offset=12, end_lineno=517, end_col_offset=25), lineno=517, col_offset=4, end_lineno=517, end_col_offset=25), arg(arg='options', annotation=Name(id='ProcessingOptions', ctx=Load(), lineno=518, col_offset=13, end_lineno=518, end_col_offset=30), lineno=518, col_offset=4, end_lineno=518, end_col_offset=30), arg(arg='plugin_manager', annotation=BinOp(left=Name(id='PluginManager', ctx=Load(), lineno=519, col_offset=20, end_lineno=519, end_col_offset=33), op=BitOr(), right=Constant(value=None, lineno=519, col_offset=36, end_lineno=519, end_col_offset=40), lineno=519, col_offset=20, end_lineno=519, end_col_offset=40), lineno=519, col_offset=4, end_lineno=519, end_col_offset=40), arg(arg='logger', annotation=Name(id='LoggerLike', ctx=Load(), lineno=520, col_offset=12, end_lineno=520, end_col_offset=22), lineno=520, col_offset=4, end_lineno=520, end_col_offset=22)], kwonlyargs=[arg(arg='cache', annotation=BinOp(left=Name(id='DocstringBuilderCache', ctx=Load(), lineno=522, col_offset=11, end_lineno=522, end_col_offset=32), op=BitOr(), right=Constant(value=None, lineno=522, col_offset=35, end_lineno=522, end_col_offset=39), lineno=522, col_offset=11, end_lineno=522, end_col_offset=39), lineno=522, col_offset=4, end_lineno=522, end_col_offset=39)], kw_defaults=[Constant(value=None, lineno=522, col_offset=42, end_lineno=522, end_col_offset=46)]), body=[AnnAssign(target=Name(id='cache_instance', ctx=Store(), lineno=524, col_offset=4, end_lineno=524, end_col_offset=18), annotation=Name(id='DocstringBuilderCache', ctx=Load(), lineno=524, col_offset=20, end_lineno=524, end_col_offset=41), value=BoolOp(op=Or(), values=[Name(id='cache', ctx=Load(), lineno=524, col_offset=44, end_lineno=524, end_col_offset=49), Call(func=Name(id='BuilderCache', ctx=Load(), lineno=524, col_offset=53, end_lineno=524, end_col_offset=65), args=[Name(id='CACHE_PATH', ctx=Load(), lineno=524, col_offset=66, end_lineno=524, end_col_offset=76)], lineno=524, col_offset=53, end_lineno=524, end_col_offset=77)], lineno=524, col_offset=44, end_lineno=524, end_col_offset=77), simple=1, lineno=524, col_offset=4, end_lineno=524, end_col_offset=77), Assign(targets=[Tuple(elts=[Name(id='docfact_entries', ctx=Store(), lineno=525, col_offset=4, end_lineno=525, end_col_offset=19), Name(id='docfact_sources', ctx=Store(), lineno=525, col_offset=21, end_lineno=525, end_col_offset=36)], ctx=Store(), lineno=525, col_offset=4, end_lineno=525, end_col_offset=36)], value=Call(func=Name(id='_load_docfact_state', ctx=Load(), lineno=525, col_offset=39, end_lineno=525, end_col_offset=58), lineno=525, col_offset=39, end_lineno=525, end_col_offset=60), lineno=525, col_offset=4, end_lineno=525, end_col_offset=60), Assign(targets=[Name(id='diff_manager', ctx=Store(), lineno=526, col_offset=4, end_lineno=526, end_col_offset=16)], value=Call(func=Name(id='DiffManager', ctx=Load(), lineno=526, col_offset=19, end_lineno=526, end_col_offset=30), args=[Name(id='options', ctx=Load(), lineno=526, col_offset=31, end_lineno=526, end_col_offset=38)], lineno=526, col_offset=19, end_lineno=526, end_col_offset=39), lineno=526, col_offset=4, end_lineno=526, end_col_offset=39), Assign(targets=[Name(id='metrics', ctx=Store(), lineno=527, col_offset=4, end_lineno=527, end_col_offset=11)], value=Call(func=Name(id='MetricsRecorder', ctx=Load(), lineno=527, col_offset=14, end_lineno=527, end_col_offset=29), keywords=[keyword(arg='cli_duration_seconds', value=Attribute(value=Name(id='METRICS', ctx=Load(), lineno=528, col_offset=29, end_lineno=528, end_col_offset=36), attr='cli_duration_seconds', ctx=Load(), lineno=528, col_offset=29, end_lineno=528, end_col_offset=57), lineno=528, col_offset=8, end_lineno=528, end_col_offset=57), keyword(arg='runs_total', value=Attribute(value=Name(id='METRICS', ctx=Load(), lineno=529, col_offset=19, end_lineno=529, end_col_offset=26), attr='runs_total', ctx=Load(), lineno=529, col_offset=19, end_lineno=529, end_col_offset=37), lineno=529, col_offset=8, end_lineno=529, end_col_offset=37)], lineno=527, col_offset=14, end_lineno=530, end_col_offset=5), lineno=527, col_offset=4, end_lineno=530, end_col_offset=5), Assign(targets=[Name(id='file_processor', ctx=Store(), lineno=531, col_offset=4, end_lineno=531, end_col_offset=18)], value=Call(func=Name(id='FileProcessor', ctx=Load(), lineno=531, col_offset=21, end_lineno=531, end_col_offset=34), keywords=[keyword(arg='config', value=Name(id='config', ctx=Load(), lineno=532, col_offset=15, end_lineno=532, end_col_offset=21), lineno=532, col_offset=8, end_lineno=532, end_col_offset=21), keyword(arg='cache', value=Name(id='cache_instance', ctx=Load(), lineno=533, col_offset=14, end_lineno=533, end_col_offset=28), lineno=533, col_offset=8, end_lineno=533, end_col_offset=28), keyword(arg='options', value=Name(id='options', ctx=Load(), lineno=534, col_offset=16, end_lineno=534, end_col_offset=23), lineno=534, col_offset=8, end_lineno=534, end_col_offset=23), keyword(arg='collect_edits', value=Name(id='_collect_edits', ctx=Load(), lineno=535, col_offset=22, end_lineno=535, end_col_offset=36), lineno=535, col_offset=8, end_lineno=535, end_col_offset=36), keyword(arg='plugin_manager', value=Name(id='plugin_manager', ctx=Load(), lineno=536, col_offset=23, end_lineno=536, end_col_offset=37), lineno=536, col_offset=8, end_lineno=536, end_col_offset=37), keyword(arg='logger', value=Name(id='logger', ctx=Load(), lineno=537, col_offset=15, end_lineno=537, end_col_offset=21), lineno=537, col_offset=8, end_lineno=537, end_col_offset=21)], lineno=531, col_offset=21, end_lineno=538, end_col_offset=5), lineno=531, col_offset=4, end_lineno=538, end_col_offset=5), Assign(targets=[Name(id='docfact_state', ctx=Store(), lineno=539, col_offset=4, end_lineno=539, end_col_offset=17)], value=Call(func=Name(id='_DocfactState', ctx=Load(), lineno=539, col_offset=20, end_lineno=539, end_col_offset=33), keywords=[keyword(arg='config', value=Name(id='config', ctx=Load(), lineno=540, col_offset=15, end_lineno=540, end_col_offset=21), lineno=540, col_offset=8, end_lineno=540, end_col_offset=21), keyword(arg='entries', value=Name(id='docfact_entries', ctx=Load(), lineno=541, col_offset=16, end_lineno=541, end_col_offset=31), lineno=541, col_offset=8, end_lineno=541, end_col_offset=31), keyword(arg='sources', value=Name(id='docfact_sources', ctx=Load(), lineno=542, col_offset=16, end_lineno=542, end_col_offset=31), lineno=542, col_offset=8, end_lineno=542, end_col_offset=31)], lineno=539, col_offset=20, end_lineno=543, end_col_offset=5), lineno=539, col_offset=4, end_lineno=543, end_col_offset=5), Return(value=Call(func=Name(id='_PipelineDependencies', ctx=Load(), lineno=544, col_offset=11, end_lineno=544, end_col_offset=32), keywords=[keyword(arg='config', value=Name(id='config', ctx=Load(), lineno=545, col_offset=15, end_lineno=545, end_col_offset=21), lineno=545, col_offset=8, end_lineno=545, end_col_offset=21), keyword(arg='logger', value=Name(id='logger', ctx=Load(), lineno=546, col_offset=15, end_lineno=546, end_col_offset=21), lineno=546, col_offset=8, end_lineno=546, end_col_offset=21), keyword(arg='cache', value=Name(id='cache_instance', ctx=Load(), lineno=547, col_offset=14, end_lineno=547, end_col_offset=28), lineno=547, col_offset=8, end_lineno=547, end_col_offset=28), keyword(arg='diff_manager', value=Name(id='diff_manager', ctx=Load(), lineno=548, col_offset=21, end_lineno=548, end_col_offset=33), lineno=548, col_offset=8, end_lineno=548, end_col_offset=33), keyword(arg='metrics', value=Name(id='metrics', ctx=Load(), lineno=549, col_offset=16, end_lineno=549, end_col_offset=23), lineno=549, col_offset=8, end_lineno=549, end_col_offset=23), keyword(arg='file_processor', value=Name(id='file_processor', ctx=Load(), lineno=550, col_offset=23, end_lineno=550, end_col_offset=37), lineno=550, col_offset=8, end_lineno=550, end_col_offset=37), keyword(arg='docfact_state', value=Name(id='docfact_state', ctx=Load(), lineno=551, col_offset=22, end_lineno=551, end_col_offset=35), lineno=551, col_offset=8, end_lineno=551, end_col_offset=35)], lineno=544, col_offset=11, end_lineno=552, end_col_offset=5), lineno=544, col_offset=4, end_lineno=552, end_col_offset=5)], returns=Name(id='_PipelineDependencies', ctx=Load(), lineno=523, col_offset=5, end_lineno=523, end_col_offset=26), lineno=516, col_offset=0, end_lineno=552, end_col_offset=5), ClassDef(name='_CachePolicyAdapter', bases=[Name(id='DocstringBuilderCache', ctx=Load(), lineno=555, col_offset=26, end_lineno=555, end_col_offset=47)], body=[Expr(value=Constant(value='Apply cache policy semantics over a delegate cache implementation.', lineno=556, col_offset=4, end_lineno=556, end_col_offset=76), lineno=556, col_offset=4, end_lineno=556, end_col_offset=76), FunctionDef(name='__init__', args=arguments(args=[arg(arg='self', lineno=558, col_offset=17, end_lineno=558, end_col_offset=21), arg(arg='delegate', annotation=Name(id='DocstringBuilderCache', ctx=Load(), lineno=558, col_offset=33, end_lineno=558, end_col_offset=54), lineno=558, col_offset=23, end_lineno=558, end_col_offset=54), arg(arg='policy', annotation=Name(id='CachePolicy', ctx=Load(), lineno=558, col_offset=64, end_lineno=558, end_col_offset=75), lineno=558, col_offset=56, end_lineno=558, end_col_offset=75)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=559, col_offset=8, end_lineno=559, end_col_offset=12), attr='_delegate', ctx=Store(), lineno=559, col_offset=8, end_lineno=559, end_col_offset=22)], value=Name(id='delegate', ctx=Load(), lineno=559, col_offset=25, end_lineno=559, end_col_offset=33), lineno=559, col_offset=8, end_lineno=559, end_col_offset=33), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=560, col_offset=8, end_lineno=560, end_col_offset=12), attr='_policy', ctx=Store(), lineno=560, col_offset=8, end_lineno=560, end_col_offset=20)], value=Name(id='policy', ctx=Load(), lineno=560, col_offset=23, end_lineno=560, end_col_offset=29), lineno=560, col_offset=8, end_lineno=560, end_col_offset=29)], returns=Constant(value=None, lineno=558, col_offset=80, end_lineno=558, end_col_offset=84), lineno=558, col_offset=4, end_lineno=560, end_col_offset=29), FunctionDef(name='path', args=arguments(args=[arg(arg='self', lineno=563, col_offset=13, end_lineno=563, end_col_offset=17)]), body=[Return(value=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=564, col_offset=15, end_lineno=564, end_col_offset=19), attr='_delegate', ctx=Load(), lineno=564, col_offset=15, end_lineno=564, end_col_offset=29), attr='path', ctx=Load(), lineno=564, col_offset=15, end_lineno=564, end_col_offset=34), lineno=564, col_offset=8, end_lineno=564, end_col_offset=34)], decorator_list=[Name(id='property', ctx=Load(), lineno=562, col_offset=5, end_lineno=562, end_col_offset=13)], returns=Name(id='Path', ctx=Load(), lineno=563, col_offset=22, end_lineno=563, end_col_offset=26), lineno=563, col_offset=4, end_lineno=564, end_col_offset=34), FunctionDef(name='needs_update', args=arguments(args=[arg(arg='self', lineno=566, col_offset=21, end_lineno=566, end_col_offset=25), arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=566, col_offset=38, end_lineno=566, end_col_offset=42), lineno=566, col_offset=27, end_lineno=566, end_col_offset=42), arg(arg='config_hash', annotation=Name(id='str', ctx=Load(), lineno=566, col_offset=57, end_lineno=566, end_col_offset=60), lineno=566, col_offset=44, end_lineno=566, end_col_offset=60)]), body=[If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load(), lineno=567, col_offset=11, end_lineno=567, end_col_offset=15), attr='_policy', ctx=Load(), lineno=567, col_offset=11, end_lineno=567, end_col_offset=23), ops=[Is()], comparators=[Attribute(value=Name(id='CachePolicy', ctx=Load(), lineno=567, col_offset=27, end_lineno=567, end_col_offset=38), attr='WRITE_ONLY', ctx=Load(), lineno=567, col_offset=27, end_lineno=567, end_col_offset=49)], lineno=567, col_offset=11, end_lineno=567, end_col_offset=49), body=[Return(value=Constant(value=True, lineno=568, col_offset=19, end_lineno=568, end_col_offset=23), lineno=568, col_offset=12, end_lineno=568, end_col_offset=23)], lineno=567, col_offset=8, end_lineno=568, end_col_offset=23), If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load(), lineno=569, col_offset=11, end_lineno=569, end_col_offset=15), attr='_policy', ctx=Load(), lineno=569, col_offset=11, end_lineno=569, end_col_offset=23), ops=[Is()], comparators=[Attribute(value=Name(id='CachePolicy', ctx=Load(), lineno=569, col_offset=27, end_lineno=569, end_col_offset=38), attr='DISABLED', ctx=Load(), lineno=569, col_offset=27, end_lineno=569, end_col_offset=47)], lineno=569, col_offset=11, end_lineno=569, end_col_offset=47), body=[Return(value=Constant(value=True, lineno=570, col_offset=19, end_lineno=570, end_col_offset=23), lineno=570, col_offset=12, end_lineno=570, end_col_offset=23)], lineno=569, col_offset=8, end_lineno=570, end_col_offset=23), Return(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=571, col_offset=15, end_lineno=571, end_col_offset=19), attr='_delegate', ctx=Load(), lineno=571, col_offset=15, end_lineno=571, end_col_offset=29), attr='needs_update', ctx=Load(), lineno=571, col_offset=15, end_lineno=571, end_col_offset=42), args=[Name(id='file_path', ctx=Load(), lineno=571, col_offset=43, end_lineno=571, end_col_offset=52), Name(id='config_hash', ctx=Load(), lineno=571, col_offset=54, end_lineno=571, end_col_offset=65)], lineno=571, col_offset=15, end_lineno=571, end_col_offset=66), lineno=571, col_offset=8, end_lineno=571, end_col_offset=66)], returns=Name(id='bool', ctx=Load(), lineno=566, col_offset=65, end_lineno=566, end_col_offset=69), lineno=566, col_offset=4, end_lineno=571, end_col_offset=66), FunctionDef(name='update', args=arguments(args=[arg(arg='self', lineno=573, col_offset=15, end_lineno=573, end_col_offset=19), arg(arg='file_path', annotation=Name(id='Path', ctx=Load(), lineno=573, col_offset=32, end_lineno=573, end_col_offset=36), lineno=573, col_offset=21, end_lineno=573, end_col_offset=36), arg(arg='config_hash', annotation=Name(id='str', ctx=Load(), lineno=573, col_offset=51, end_lineno=573, end_col_offset=54), lineno=573, col_offset=38, end_lineno=573, end_col_offset=54)]), body=[If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load(), lineno=574, col_offset=11, end_lineno=574, end_col_offset=15), attr='_policy', ctx=Load(), lineno=574, col_offset=11, end_lineno=574, end_col_offset=23), ops=[In()], comparators=[Set(elts=[Attribute(value=Name(id='CachePolicy', ctx=Load(), lineno=574, col_offset=28, end_lineno=574, end_col_offset=39), attr='DISABLED', ctx=Load(), lineno=574, col_offset=28, end_lineno=574, end_col_offset=48), Attribute(value=Name(id='CachePolicy', ctx=Load(), lineno=574, col_offset=50, end_lineno=574, end_col_offset=61), attr='READ_ONLY', ctx=Load(), lineno=574, col_offset=50, end_lineno=574, end_col_offset=71)], lineno=574, col_offset=27, end_lineno=574, end_col_offset=72)], lineno=574, col_offset=11, end_lineno=574, end_col_offset=72), body=[Return(lineno=575, col_offset=12, end_lineno=575, end_col_offset=18)], lineno=574, col_offset=8, end_lineno=575, end_col_offset=18), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=576, col_offset=8, end_lineno=576, end_col_offset=12), attr='_delegate', ctx=Load(), lineno=576, col_offset=8, end_lineno=576, end_col_offset=22), attr='update', ctx=Load(), lineno=576, col_offset=8, end_lineno=576, end_col_offset=29), args=[Name(id='file_path', ctx=Load(), lineno=576, col_offset=30, end_lineno=576, end_col_offset=39), Name(id='config_hash', ctx=Load(), lineno=576, col_offset=41, end_lineno=576, end_col_offset=52)], lineno=576, col_offset=8, end_lineno=576, end_col_offset=53), lineno=576, col_offset=8, end_lineno=576, end_col_offset=53)], returns=Constant(value=None, lineno=573, col_offset=59, end_lineno=573, end_col_offset=63), lineno=573, col_offset=4, end_lineno=576, end_col_offset=53), FunctionDef(name='write', args=arguments(args=[arg(arg='self', lineno=578, col_offset=14, end_lineno=578, end_col_offset=18)]), body=[If(test=Compare(left=Attribute(value=Name(id='self', ctx=Load(), lineno=579, col_offset=11, end_lineno=579, end_col_offset=15), attr='_policy', ctx=Load(), lineno=579, col_offset=11, end_lineno=579, end_col_offset=23), ops=[In()], comparators=[Set(elts=[Attribute(value=Name(id='CachePolicy', ctx=Load(), lineno=579, col_offset=28, end_lineno=579, end_col_offset=39), attr='DISABLED', ctx=Load(), lineno=579, col_offset=28, end_lineno=579, end_col_offset=48), Attribute(value=Name(id='CachePolicy', ctx=Load(), lineno=579, col_offset=50, end_lineno=579, end_col_offset=61), attr='READ_ONLY', ctx=Load(), lineno=579, col_offset=50, end_lineno=579, end_col_offset=71)], lineno=579, col_offset=27, end_lineno=579, end_col_offset=72)], lineno=579, col_offset=11, end_lineno=579, end_col_offset=72), body=[Return(lineno=580, col_offset=12, end_lineno=580, end_col_offset=18)], lineno=579, col_offset=8, end_lineno=580, end_col_offset=18), Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='self', ctx=Load(), lineno=581, col_offset=8, end_lineno=581, end_col_offset=12), attr='_delegate', ctx=Load(), lineno=581, col_offset=8, end_lineno=581, end_col_offset=22), attr='write', ctx=Load(), lineno=581, col_offset=8, end_lineno=581, end_col_offset=28), lineno=581, col_offset=8, end_lineno=581, end_col_offset=30), lineno=581, col_offset=8, end_lineno=581, end_col_offset=30)], returns=Constant(value=None, lineno=578, col_offset=23, end_lineno=578, end_col_offset=27), lineno=578, col_offset=4, end_lineno=581, end_col_offset=30), FunctionDef(name='__getattr__', args=arguments(args=[arg(arg='self', lineno=583, col_offset=20, end_lineno=583, end_col_offset=24), arg(arg='name', annotation=Name(id='str', ctx=Load(), lineno=583, col_offset=32, end_lineno=583, end_col_offset=35), lineno=583, col_offset=26, end_lineno=583, end_col_offset=35)]), body=[Return(value=Call(func=Name(id='getattr', ctx=Load(), lineno=584, col_offset=15, end_lineno=584, end_col_offset=22), args=[Attribute(value=Name(id='self', ctx=Load(), lineno=584, col_offset=23, end_lineno=584, end_col_offset=27), attr='_delegate', ctx=Load(), lineno=584, col_offset=23, end_lineno=584, end_col_offset=37), Name(id='name', ctx=Load(), lineno=584, col_offset=39, end_lineno=584, end_col_offset=43)], lineno=584, col_offset=15, end_lineno=584, end_col_offset=44), lineno=584, col_offset=8, end_lineno=584, end_col_offset=44)], returns=Name(id='object', ctx=Load(), lineno=583, col_offset=40, end_lineno=583, end_col_offset=46), lineno=583, col_offset=4, end_lineno=584, end_col_offset=44)], lineno=555, col_offset=0, end_lineno=584, end_col_offset=44), FunctionDef(name='_adapt_cache_policy', args=arguments(args=[arg(arg='cache', annotation=Name(id='DocstringBuilderCache', ctx=Load(), lineno=588, col_offset=11, end_lineno=588, end_col_offset=32), lineno=588, col_offset=4, end_lineno=588, end_col_offset=32), arg(arg='policy', annotation=Name(id='CachePolicy', ctx=Load(), lineno=589, col_offset=12, end_lineno=589, end_col_offset=23), lineno=589, col_offset=4, end_lineno=589, end_col_offset=23)]), body=[If(test=Compare(left=Name(id='policy', ctx=Load(), lineno=591, col_offset=7, end_lineno=591, end_col_offset=13), ops=[Is()], comparators=[Attribute(value=Name(id='CachePolicy', ctx=Load(), lineno=591, col_offset=17, end_lineno=591, end_col_offset=28), attr='READ_WRITE', ctx=Load(), lineno=591, col_offset=17, end_lineno=591, end_col_offset=39)], lineno=591, col_offset=7, end_lineno=591, end_col_offset=39), body=[Return(value=Name(id='cache', ctx=Load(), lineno=592, col_offset=15, end_lineno=592, end_col_offset=20), lineno=592, col_offset=8, end_lineno=592, end_col_offset=20)], lineno=591, col_offset=4, end_lineno=592, end_col_offset=20), Return(value=Call(func=Name(id='_CachePolicyAdapter', ctx=Load(), lineno=593, col_offset=11, end_lineno=593, end_col_offset=30), args=[Name(id='cache', ctx=Load(), lineno=593, col_offset=31, end_lineno=593, end_col_offset=36), Name(id='policy', ctx=Load(), lineno=593, col_offset=38, end_lineno=593, end_col_offset=44)], lineno=593, col_offset=11, end_lineno=593, end_col_offset=45), lineno=593, col_offset=4, end_lineno=593, end_col_offset=45)], returns=Name(id='DocstringBuilderCache', ctx=Load(), lineno=590, col_offset=5, end_lineno=590, end_col_offset=26), lineno=587, col_offset=0, end_lineno=593, end_col_offset=45), FunctionDef(name='render_cli_result', args=arguments(args=[arg(arg='result', annotation=Name(id='DocstringBuildResult', ctx=Load(), lineno=596, col_offset=30, end_lineno=596, end_col_offset=50), lineno=596, col_offset=22, end_lineno=596, end_col_offset=50)]), body=[Expr(value=Constant(value='Return the CLI payload for JSON output when available.\n\n    Parameters\n    ----------\n    result : DocstringBuildResult\n        Build result containing CLI payload.\n\n    Returns\n    -------\n    CliResult | None\n        CLI result dictionary if available, None otherwise.\n    ', lineno=597, col_offset=4, end_lineno=608, end_col_offset=7), lineno=597, col_offset=4, end_lineno=608, end_col_offset=7), Return(value=Attribute(value=Name(id='result', ctx=Load(), lineno=609, col_offset=11, end_lineno=609, end_col_offset=17), attr='cli_payload', ctx=Load(), lineno=609, col_offset=11, end_lineno=609, end_col_offset=29), lineno=609, col_offset=4, end_lineno=609, end_col_offset=29)], returns=BinOp(left=Name(id='CliResult', ctx=Load(), lineno=596, col_offset=55, end_lineno=596, end_col_offset=64), op=BitOr(), right=Constant(value=None, lineno=596, col_offset=67, end_lineno=596, end_col_offset=71), lineno=596, col_offset=55, end_lineno=596, end_col_offset=71), lineno=596, col_offset=0, end_lineno=609, end_col_offset=29), FunctionDef(name='render_failure_summary', args=arguments(args=[arg(arg='result', annotation=Name(id='DocstringBuildResult', ctx=Load(), lineno=612, col_offset=35, end_lineno=612, end_col_offset=55), lineno=612, col_offset=27, end_lineno=612, end_col_offset=55)]), body=[Expr(value=Constant(value='Log a structured failure summary for non-successful runs.', lineno=613, col_offset=4, end_lineno=613, end_col_offset=67), lineno=613, col_offset=4, end_lineno=613, end_col_offset=67), If(test=Compare(left=Attribute(value=Name(id='result', ctx=Load(), lineno=614, col_offset=7, end_lineno=614, end_col_offset=13), attr='exit_status', ctx=Load(), lineno=614, col_offset=7, end_lineno=614, end_col_offset=25), ops=[Is()], comparators=[Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=614, col_offset=29, end_lineno=614, end_col_offset=39), attr='SUCCESS', ctx=Load(), lineno=614, col_offset=29, end_lineno=614, end_col_offset=47)], lineno=614, col_offset=7, end_lineno=614, end_col_offset=47), body=[Return(lineno=615, col_offset=8, end_lineno=615, end_col_offset=14)], lineno=614, col_offset=4, end_lineno=615, end_col_offset=14), Assign(targets=[Name(id='summary_obj', ctx=Store(), lineno=617, col_offset=4, end_lineno=617, end_col_offset=15)], value=Call(func=Attribute(value=Attribute(value=Name(id='result', ctx=Load(), lineno=617, col_offset=18, end_lineno=617, end_col_offset=24), attr='observability_payload', ctx=Load(), lineno=617, col_offset=18, end_lineno=617, end_col_offset=46), attr='get', ctx=Load(), lineno=617, col_offset=18, end_lineno=617, end_col_offset=50), args=[Constant(value='summary', lineno=617, col_offset=51, end_lineno=617, end_col_offset=60), Dict(lineno=617, col_offset=62, end_lineno=617, end_col_offset=64)], lineno=617, col_offset=18, end_lineno=617, end_col_offset=65), lineno=617, col_offset=4, end_lineno=617, end_col_offset=65), If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=618, col_offset=7, end_lineno=618, end_col_offset=17), args=[Name(id='summary_obj', ctx=Load(), lineno=618, col_offset=18, end_lineno=618, end_col_offset=29), Name(id='Mapping', ctx=Load(), lineno=618, col_offset=31, end_lineno=618, end_col_offset=38)], lineno=618, col_offset=7, end_lineno=618, end_col_offset=39), body=[Assign(targets=[Name(id='considered', ctx=Store(), lineno=619, col_offset=8, end_lineno=619, end_col_offset=18)], value=Call(func=Name(id='int', ctx=Load(), lineno=619, col_offset=21, end_lineno=619, end_col_offset=24), args=[Call(func=Attribute(value=Name(id='summary_obj', ctx=Load(), lineno=619, col_offset=25, end_lineno=619, end_col_offset=36), attr='get', ctx=Load(), lineno=619, col_offset=25, end_lineno=619, end_col_offset=40), args=[Constant(value='considered', lineno=619, col_offset=41, end_lineno=619, end_col_offset=53), Constant(value=0, lineno=619, col_offset=55, end_lineno=619, end_col_offset=56)], lineno=619, col_offset=25, end_lineno=619, end_col_offset=57)], lineno=619, col_offset=21, end_lineno=619, end_col_offset=58), lineno=619, col_offset=8, end_lineno=619, end_col_offset=58), Assign(targets=[Name(id='processed', ctx=Store(), lineno=620, col_offset=8, end_lineno=620, end_col_offset=17)], value=Call(func=Name(id='int', ctx=Load(), lineno=620, col_offset=20, end_lineno=620, end_col_offset=23), args=[Call(func=Attribute(value=Name(id='summary_obj', ctx=Load(), lineno=620, col_offset=24, end_lineno=620, end_col_offset=35), attr='get', ctx=Load(), lineno=620, col_offset=24, end_lineno=620, end_col_offset=39), args=[Constant(value='processed', lineno=620, col_offset=40, end_lineno=620, end_col_offset=51), Constant(value=0, lineno=620, col_offset=53, end_lineno=620, end_col_offset=54)], lineno=620, col_offset=24, end_lineno=620, end_col_offset=55)], lineno=620, col_offset=20, end_lineno=620, end_col_offset=56), lineno=620, col_offset=8, end_lineno=620, end_col_offset=56), Assign(targets=[Name(id='changed', ctx=Store(), lineno=621, col_offset=8, end_lineno=621, end_col_offset=15)], value=Call(func=Name(id='int', ctx=Load(), lineno=621, col_offset=18, end_lineno=621, end_col_offset=21), args=[Call(func=Attribute(value=Name(id='summary_obj', ctx=Load(), lineno=621, col_offset=22, end_lineno=621, end_col_offset=33), attr='get', ctx=Load(), lineno=621, col_offset=22, end_lineno=621, end_col_offset=37), args=[Constant(value='changed', lineno=621, col_offset=38, end_lineno=621, end_col_offset=47), Constant(value=0, lineno=621, col_offset=49, end_lineno=621, end_col_offset=50)], lineno=621, col_offset=22, end_lineno=621, end_col_offset=51)], lineno=621, col_offset=18, end_lineno=621, end_col_offset=52), lineno=621, col_offset=8, end_lineno=621, end_col_offset=52), AnnAssign(target=Name(id='status_counts', ctx=Store(), lineno=622, col_offset=8, end_lineno=622, end_col_offset=21), annotation=Name(id='object', ctx=Load(), lineno=622, col_offset=23, end_lineno=622, end_col_offset=29), value=Call(func=Attribute(value=Name(id='summary_obj', ctx=Load(), lineno=622, col_offset=32, end_lineno=622, end_col_offset=43), attr='get', ctx=Load(), lineno=622, col_offset=32, end_lineno=622, end_col_offset=47), args=[Constant(value='status_counts', lineno=622, col_offset=48, end_lineno=622, end_col_offset=63), Dict(lineno=622, col_offset=65, end_lineno=622, end_col_offset=67)], lineno=622, col_offset=32, end_lineno=622, end_col_offset=68), simple=1, lineno=622, col_offset=8, end_lineno=622, end_col_offset=68)], orelse=[Assign(targets=[Name(id='considered', ctx=Store(), lineno=624, col_offset=8, end_lineno=624, end_col_offset=18), Name(id='processed', ctx=Store(), lineno=624, col_offset=21, end_lineno=624, end_col_offset=30), Name(id='changed', ctx=Store(), lineno=624, col_offset=33, end_lineno=624, end_col_offset=40)], value=Constant(value=0, lineno=624, col_offset=43, end_lineno=624, end_col_offset=44), lineno=624, col_offset=8, end_lineno=624, end_col_offset=44), Assign(targets=[Name(id='status_counts', ctx=Store(), lineno=625, col_offset=8, end_lineno=625, end_col_offset=21)], value=Dict(lineno=625, col_offset=24, end_lineno=625, end_col_offset=26), lineno=625, col_offset=8, end_lineno=625, end_col_offset=26)], lineno=618, col_offset=4, end_lineno=625, end_col_offset=26), Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=627, col_offset=4, end_lineno=627, end_col_offset=11), attr='error', ctx=Load(), lineno=627, col_offset=4, end_lineno=627, end_col_offset=17), args=[Constant(value='[SUMMARY] Docstring builder reported issues.', lineno=627, col_offset=18, end_lineno=627, end_col_offset=64)], lineno=627, col_offset=4, end_lineno=627, end_col_offset=65), lineno=627, col_offset=4, end_lineno=627, end_col_offset=65), Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=628, col_offset=4, end_lineno=628, end_col_offset=11), attr='error', ctx=Load(), lineno=628, col_offset=4, end_lineno=628, end_col_offset=17), args=[Constant(value='  Considered files: %s', lineno=628, col_offset=18, end_lineno=628, end_col_offset=42), Name(id='considered', ctx=Load(), lineno=628, col_offset=44, end_lineno=628, end_col_offset=54)], lineno=628, col_offset=4, end_lineno=628, end_col_offset=55), lineno=628, col_offset=4, end_lineno=628, end_col_offset=55), Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=629, col_offset=4, end_lineno=629, end_col_offset=11), attr='error', ctx=Load(), lineno=629, col_offset=4, end_lineno=629, end_col_offset=17), args=[Constant(value='  Processed files: %s', lineno=629, col_offset=18, end_lineno=629, end_col_offset=41), Name(id='processed', ctx=Load(), lineno=629, col_offset=43, end_lineno=629, end_col_offset=52)], lineno=629, col_offset=4, end_lineno=629, end_col_offset=53), lineno=629, col_offset=4, end_lineno=629, end_col_offset=53), Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=630, col_offset=4, end_lineno=630, end_col_offset=11), attr='error', ctx=Load(), lineno=630, col_offset=4, end_lineno=630, end_col_offset=17), args=[Constant(value='  Changed files: %s', lineno=630, col_offset=18, end_lineno=630, end_col_offset=39), Name(id='changed', ctx=Load(), lineno=630, col_offset=41, end_lineno=630, end_col_offset=48)], lineno=630, col_offset=4, end_lineno=630, end_col_offset=49), lineno=630, col_offset=4, end_lineno=630, end_col_offset=49), Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=631, col_offset=4, end_lineno=631, end_col_offset=11), attr='error', ctx=Load(), lineno=631, col_offset=4, end_lineno=631, end_col_offset=17), args=[Constant(value='  Status counts: %s', lineno=631, col_offset=18, end_lineno=631, end_col_offset=39), Name(id='status_counts', ctx=Load(), lineno=631, col_offset=41, end_lineno=631, end_col_offset=54)], lineno=631, col_offset=4, end_lineno=631, end_col_offset=55), lineno=631, col_offset=4, end_lineno=631, end_col_offset=55), Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=632, col_offset=4, end_lineno=632, end_col_offset=11), attr='error', ctx=Load(), lineno=632, col_offset=4, end_lineno=632, end_col_offset=17), args=[Constant(value='  Observability log: %s', lineno=632, col_offset=18, end_lineno=632, end_col_offset=43), Name(id='OBSERVABILITY_PATH', ctx=Load(), lineno=632, col_offset=45, end_lineno=632, end_col_offset=63)], lineno=632, col_offset=4, end_lineno=632, end_col_offset=64), lineno=632, col_offset=4, end_lineno=632, end_col_offset=64), If(test=Attribute(value=Name(id='result', ctx=Load(), lineno=634, col_offset=7, end_lineno=634, end_col_offset=13), attr='errors', ctx=Load(), lineno=634, col_offset=7, end_lineno=634, end_col_offset=20), body=[Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=635, col_offset=8, end_lineno=635, end_col_offset=15), attr='error', ctx=Load(), lineno=635, col_offset=8, end_lineno=635, end_col_offset=21), args=[Constant(value='  Top errors:', lineno=635, col_offset=22, end_lineno=635, end_col_offset=37)], lineno=635, col_offset=8, end_lineno=635, end_col_offset=38), lineno=635, col_offset=8, end_lineno=635, end_col_offset=38), For(target=Name(id='entry', ctx=Store(), lineno=636, col_offset=12, end_lineno=636, end_col_offset=17), iter=Subscript(value=Attribute(value=Name(id='result', ctx=Load(), lineno=636, col_offset=21, end_lineno=636, end_col_offset=27), attr='errors', ctx=Load(), lineno=636, col_offset=21, end_lineno=636, end_col_offset=34), slice=Slice(upper=Constant(value=5, lineno=636, col_offset=36, end_lineno=636, end_col_offset=37), lineno=636, col_offset=35, end_lineno=636, end_col_offset=37), ctx=Load(), lineno=636, col_offset=21, end_lineno=636, end_col_offset=38), body=[Assign(targets=[Name(id='file_name', ctx=Store(), lineno=637, col_offset=12, end_lineno=637, end_col_offset=21)], value=Call(func=Attribute(value=Name(id='entry', ctx=Load(), lineno=637, col_offset=24, end_lineno=637, end_col_offset=29), attr='get', ctx=Load(), lineno=637, col_offset=24, end_lineno=637, end_col_offset=33), args=[Constant(value='file', lineno=637, col_offset=34, end_lineno=637, end_col_offset=40), Constant(value='<unknown>', lineno=637, col_offset=42, end_lineno=637, end_col_offset=53)], lineno=637, col_offset=24, end_lineno=637, end_col_offset=54), lineno=637, col_offset=12, end_lineno=637, end_col_offset=54), Assign(targets=[Name(id='status_label', ctx=Store(), lineno=638, col_offset=12, end_lineno=638, end_col_offset=24)], value=Call(func=Attribute(value=Name(id='entry', ctx=Load(), lineno=638, col_offset=27, end_lineno=638, end_col_offset=32), attr='get', ctx=Load(), lineno=638, col_offset=27, end_lineno=638, end_col_offset=36), args=[Constant(value='status', lineno=638, col_offset=37, end_lineno=638, end_col_offset=45), Constant(value='unknown', lineno=638, col_offset=47, end_lineno=638, end_col_offset=56)], lineno=638, col_offset=27, end_lineno=638, end_col_offset=57), lineno=638, col_offset=12, end_lineno=638, end_col_offset=57), Assign(targets=[Name(id='message', ctx=Store(), lineno=639, col_offset=12, end_lineno=639, end_col_offset=19)], value=Call(func=Attribute(value=Name(id='entry', ctx=Load(), lineno=639, col_offset=22, end_lineno=639, end_col_offset=27), attr='get', ctx=Load(), lineno=639, col_offset=22, end_lineno=639, end_col_offset=31), args=[Constant(value='message', lineno=639, col_offset=32, end_lineno=639, end_col_offset=41), Constant(value='no additional details', lineno=639, col_offset=43, end_lineno=639, end_col_offset=66)], lineno=639, col_offset=22, end_lineno=639, end_col_offset=67), lineno=639, col_offset=12, end_lineno=639, end_col_offset=67), Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=640, col_offset=12, end_lineno=640, end_col_offset=19), attr='error', ctx=Load(), lineno=640, col_offset=12, end_lineno=640, end_col_offset=25), args=[Constant(value='    - %s: %s (%s)', lineno=640, col_offset=26, end_lineno=640, end_col_offset=45), Name(id='file_name', ctx=Load(), lineno=640, col_offset=47, end_lineno=640, end_col_offset=56), Name(id='status_label', ctx=Load(), lineno=640, col_offset=58, end_lineno=640, end_col_offset=70), Name(id='message', ctx=Load(), lineno=640, col_offset=72, end_lineno=640, end_col_offset=79)], lineno=640, col_offset=12, end_lineno=640, end_col_offset=80), lineno=640, col_offset=12, end_lineno=640, end_col_offset=80)], lineno=636, col_offset=8, end_lineno=640, end_col_offset=80)], lineno=634, col_offset=4, end_lineno=640, end_col_offset=80)], returns=Constant(value=None, lineno=612, col_offset=60, end_lineno=612, end_col_offset=64), lineno=612, col_offset=0, end_lineno=640, end_col_offset=80), FunctionDef(name='load_builder_config', args=arguments(args=[arg(arg='override', annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=644, col_offset=14, end_lineno=644, end_col_offset=17), op=BitOr(), right=Constant(value=None, lineno=644, col_offset=20, end_lineno=644, end_col_offset=24), lineno=644, col_offset=14, end_lineno=644, end_col_offset=24), lineno=644, col_offset=4, end_lineno=644, end_col_offset=24)], defaults=[Constant(value=None, lineno=644, col_offset=27, end_lineno=644, end_col_offset=31)]), body=[Expr(value=Constant(value='Load builder configuration honouring CLI/environment precedence.\n\n    Parameters\n    ----------\n    override : str | None, optional\n        Explicit config path override.\n\n    Returns\n    -------\n    tuple[BuilderConfig, ConfigSelection]\n        Loaded configuration and selection metadata.\n    ', lineno=646, col_offset=4, end_lineno=657, end_col_offset=7), lineno=646, col_offset=4, end_lineno=657, end_col_offset=7), Assign(targets=[Tuple(elts=[Name(id='config', ctx=Store(), lineno=658, col_offset=4, end_lineno=658, end_col_offset=10), Name(id='selection', ctx=Store(), lineno=658, col_offset=12, end_lineno=658, end_col_offset=21)], ctx=Store(), lineno=658, col_offset=4, end_lineno=658, end_col_offset=21)], value=Call(func=Name(id='load_config_with_selection', ctx=Load(), lineno=658, col_offset=24, end_lineno=658, end_col_offset=50), args=[Name(id='override', ctx=Load(), lineno=658, col_offset=51, end_lineno=658, end_col_offset=59)], lineno=658, col_offset=24, end_lineno=658, end_col_offset=60), lineno=658, col_offset=4, end_lineno=658, end_col_offset=60), Return(value=Tuple(elts=[Name(id='config', ctx=Load(), lineno=659, col_offset=11, end_lineno=659, end_col_offset=17), Name(id='selection', ctx=Load(), lineno=659, col_offset=19, end_lineno=659, end_col_offset=28)], ctx=Load(), lineno=659, col_offset=11, end_lineno=659, end_col_offset=28), lineno=659, col_offset=4, end_lineno=659, end_col_offset=28)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=645, col_offset=5, end_lineno=645, end_col_offset=10), slice=Tuple(elts=[Name(id='BuilderConfig', ctx=Load(), lineno=645, col_offset=11, end_lineno=645, end_col_offset=24), Name(id='ConfigSelection', ctx=Load(), lineno=645, col_offset=26, end_lineno=645, end_col_offset=41)], ctx=Load(), lineno=645, col_offset=11, end_lineno=645, end_col_offset=41), ctx=Load(), lineno=645, col_offset=5, end_lineno=645, end_col_offset=42), lineno=643, col_offset=0, end_lineno=659, end_col_offset=28), FunctionDef(name='_build_error_result', args=arguments(args=[arg(arg='status', annotation=Name(id='ExitStatus', ctx=Load(), lineno=663, col_offset=12, end_lineno=663, end_col_offset=22), lineno=663, col_offset=4, end_lineno=663, end_col_offset=22), arg(arg='request', annotation=Name(id='DocstringBuildRequest', ctx=Load(), lineno=664, col_offset=13, end_lineno=664, end_col_offset=34), lineno=664, col_offset=4, end_lineno=664, end_col_offset=34), arg(arg='detail', annotation=Name(id='str', ctx=Load(), lineno=665, col_offset=12, end_lineno=665, end_col_offset=15), lineno=665, col_offset=4, end_lineno=665, end_col_offset=15)], kwonlyargs=[arg(arg='selection', annotation=BinOp(left=Name(id='ConfigSelection', ctx=Load(), lineno=667, col_offset=15, end_lineno=667, end_col_offset=30), op=BitOr(), right=Constant(value=None, lineno=667, col_offset=33, end_lineno=667, end_col_offset=37), lineno=667, col_offset=15, end_lineno=667, end_col_offset=37), lineno=667, col_offset=4, end_lineno=667, end_col_offset=37)], kw_defaults=[None]), body=[Assign(targets=[Name(id='command', ctx=Store(), lineno=669, col_offset=4, end_lineno=669, end_col_offset=11)], value=BoolOp(op=Or(), values=[Attribute(value=Name(id='request', ctx=Load(), lineno=669, col_offset=14, end_lineno=669, end_col_offset=21), attr='command', ctx=Load(), lineno=669, col_offset=14, end_lineno=669, end_col_offset=29), Constant(value='unknown', lineno=669, col_offset=33, end_lineno=669, end_col_offset=42)], lineno=669, col_offset=14, end_lineno=669, end_col_offset=42), lineno=669, col_offset=4, end_lineno=669, end_col_offset=42), Assign(targets=[Name(id='subcommand', ctx=Store(), lineno=670, col_offset=4, end_lineno=670, end_col_offset=14)], value=BoolOp(op=Or(), values=[Attribute(value=Name(id='request', ctx=Load(), lineno=670, col_offset=17, end_lineno=670, end_col_offset=24), attr='invoked_subcommand', ctx=Load(), lineno=670, col_offset=17, end_lineno=670, end_col_offset=43), Attribute(value=Name(id='request', ctx=Load(), lineno=670, col_offset=47, end_lineno=670, end_col_offset=54), attr='subcommand', ctx=Load(), lineno=670, col_offset=47, end_lineno=670, end_col_offset=65), Name(id='command', ctx=Load(), lineno=670, col_offset=69, end_lineno=670, end_col_offset=76)], lineno=670, col_offset=17, end_lineno=670, end_col_offset=76), lineno=670, col_offset=4, end_lineno=670, end_col_offset=76), AnnAssign(target=Name(id='errors', ctx=Store(), lineno=671, col_offset=4, end_lineno=671, end_col_offset=10), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=671, col_offset=12, end_lineno=671, end_col_offset=16), slice=Name(id='ErrorReport', ctx=Load(), lineno=671, col_offset=17, end_lineno=671, end_col_offset=28), ctx=Load(), lineno=671, col_offset=12, end_lineno=671, end_col_offset=29), value=List(elts=[Dict(keys=[Constant(value='file', lineno=672, col_offset=9, end_lineno=672, end_col_offset=15), Constant(value='status', lineno=672, col_offset=30, end_lineno=672, end_col_offset=38), Constant(value='message', lineno=672, col_offset=66, end_lineno=672, end_col_offset=75)], values=[Constant(value='<command>', lineno=672, col_offset=17, end_lineno=672, end_col_offset=28), Call(func=Name(id='status_from_exit', ctx=Load(), lineno=672, col_offset=40, end_lineno=672, end_col_offset=56), args=[Name(id='status', ctx=Load(), lineno=672, col_offset=57, end_lineno=672, end_col_offset=63)], lineno=672, col_offset=40, end_lineno=672, end_col_offset=64), Name(id='detail', ctx=Load(), lineno=672, col_offset=77, end_lineno=672, end_col_offset=83)], lineno=672, col_offset=8, end_lineno=672, end_col_offset=84)], ctx=Load(), lineno=671, col_offset=32, end_lineno=673, end_col_offset=5), simple=1, lineno=671, col_offset=4, end_lineno=673, end_col_offset=5), AnnAssign(target=Name(id='status_counts_dict', ctx=Store(), lineno=674, col_offset=4, end_lineno=674, end_col_offset=22), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=674, col_offset=24, end_lineno=674, end_col_offset=28), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=674, col_offset=29, end_lineno=674, end_col_offset=32), Name(id='int', ctx=Load(), lineno=674, col_offset=34, end_lineno=674, end_col_offset=37)], ctx=Load(), lineno=674, col_offset=29, end_lineno=674, end_col_offset=37), ctx=Load(), lineno=674, col_offset=24, end_lineno=674, end_col_offset=38), value=Dict(keys=[Constant(value='success', lineno=675, col_offset=8, end_lineno=675, end_col_offset=17), Constant(value='violation', lineno=676, col_offset=8, end_lineno=676, end_col_offset=19), Constant(value='config', lineno=677, col_offset=8, end_lineno=677, end_col_offset=16), Constant(value='error', lineno=678, col_offset=8, end_lineno=678, end_col_offset=15)], values=[Constant(value=0, lineno=675, col_offset=19, end_lineno=675, end_col_offset=20), Constant(value=0, lineno=676, col_offset=21, end_lineno=676, end_col_offset=22), Constant(value=0, lineno=677, col_offset=18, end_lineno=677, end_col_offset=19), Constant(value=0, lineno=678, col_offset=17, end_lineno=678, end_col_offset=18)], lineno=674, col_offset=41, end_lineno=679, end_col_offset=5), simple=1, lineno=674, col_offset=4, end_lineno=679, end_col_offset=5), AugAssign(target=Subscript(value=Name(id='status_counts_dict', ctx=Load(), lineno=680, col_offset=4, end_lineno=680, end_col_offset=22), slice=Subscript(value=Name(id='STATUS_LABELS', ctx=Load(), lineno=680, col_offset=23, end_lineno=680, end_col_offset=36), slice=Name(id='status', ctx=Load(), lineno=680, col_offset=37, end_lineno=680, end_col_offset=43), ctx=Load(), lineno=680, col_offset=23, end_lineno=680, end_col_offset=44), ctx=Store(), lineno=680, col_offset=4, end_lineno=680, end_col_offset=45), op=Add(), value=Constant(value=1, lineno=680, col_offset=49, end_lineno=680, end_col_offset=50), lineno=680, col_offset=4, end_lineno=680, end_col_offset=50), AnnAssign(target=Name(id='summary', ctx=Store(), lineno=681, col_offset=4, end_lineno=681, end_col_offset=11), annotation=Name(id='RunSummary', ctx=Load(), lineno=681, col_offset=13, end_lineno=681, end_col_offset=23), value=Dict(keys=[Constant(value='considered', lineno=682, col_offset=8, end_lineno=682, end_col_offset=20), Constant(value='processed', lineno=683, col_offset=8, end_lineno=683, end_col_offset=19), Constant(value='skipped', lineno=684, col_offset=8, end_lineno=684, end_col_offset=17), Constant(value='changed', lineno=685, col_offset=8, end_lineno=685, end_col_offset=17), Constant(value='duration_seconds', lineno=686, col_offset=8, end_lineno=686, end_col_offset=26), Constant(value='status_counts', lineno=687, col_offset=8, end_lineno=687, end_col_offset=23), Constant(value='cache_hits', lineno=688, col_offset=8, end_lineno=688, end_col_offset=20), Constant(value='cache_misses', lineno=689, col_offset=8, end_lineno=689, end_col_offset=22), Constant(value='subcommand', lineno=690, col_offset=8, end_lineno=690, end_col_offset=20), Constant(value='docfacts_checked', lineno=691, col_offset=8, end_lineno=691, end_col_offset=26)], values=[Constant(value=0, lineno=682, col_offset=22, end_lineno=682, end_col_offset=23), Constant(value=0, lineno=683, col_offset=21, end_lineno=683, end_col_offset=22), Constant(value=0, lineno=684, col_offset=19, end_lineno=684, end_col_offset=20), Constant(value=0, lineno=685, col_offset=19, end_lineno=685, end_col_offset=20), Constant(value=0.0, lineno=686, col_offset=28, end_lineno=686, end_col_offset=31), Call(func=Name(id='cast', ctx=Load(), lineno=687, col_offset=25, end_lineno=687, end_col_offset=29), args=[Constant(value='StatusCounts', lineno=687, col_offset=30, end_lineno=687, end_col_offset=44), Name(id='status_counts_dict', ctx=Load(), lineno=687, col_offset=46, end_lineno=687, end_col_offset=64)], lineno=687, col_offset=25, end_lineno=687, end_col_offset=65), Constant(value=0, lineno=688, col_offset=22, end_lineno=688, end_col_offset=23), Constant(value=0, lineno=689, col_offset=24, end_lineno=689, end_col_offset=25), Name(id='subcommand', ctx=Load(), lineno=690, col_offset=22, end_lineno=690, end_col_offset=32), Constant(value=False, lineno=691, col_offset=28, end_lineno=691, end_col_offset=33)], lineno=681, col_offset=26, end_lineno=692, end_col_offset=5), simple=1, lineno=681, col_offset=4, end_lineno=692, end_col_offset=5), AnnAssign(target=Name(id='observability_payload', ctx=Store(), lineno=694, col_offset=4, end_lineno=694, end_col_offset=25), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=694, col_offset=27, end_lineno=694, end_col_offset=31), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=694, col_offset=32, end_lineno=694, end_col_offset=35), Name(id='object', ctx=Load(), lineno=694, col_offset=37, end_lineno=694, end_col_offset=43)], ctx=Load(), lineno=694, col_offset=32, end_lineno=694, end_col_offset=43), ctx=Load(), lineno=694, col_offset=27, end_lineno=694, end_col_offset=44), value=Dict(keys=[Constant(value='generated_at', lineno=695, col_offset=8, end_lineno=695, end_col_offset=22), Constant(value='status', lineno=696, col_offset=8, end_lineno=696, end_col_offset=16), Constant(value='summary', lineno=697, col_offset=8, end_lineno=697, end_col_offset=17), Constant(value='errors', lineno=698, col_offset=8, end_lineno=698, end_col_offset=16), Constant(value='cache', lineno=699, col_offset=8, end_lineno=699, end_col_offset=15)], values=[Call(func=Attribute(value=Call(func=Attribute(value=Attribute(value=Name(id='datetime', ctx=Load(), lineno=695, col_offset=24, end_lineno=695, end_col_offset=32), attr='datetime', ctx=Load(), lineno=695, col_offset=24, end_lineno=695, end_col_offset=41), attr='now', ctx=Load(), lineno=695, col_offset=24, end_lineno=695, end_col_offset=45), args=[Attribute(value=Name(id='datetime', ctx=Load(), lineno=695, col_offset=46, end_lineno=695, end_col_offset=54), attr='UTC', ctx=Load(), lineno=695, col_offset=46, end_lineno=695, end_col_offset=58)], lineno=695, col_offset=24, end_lineno=695, end_col_offset=59), attr='isoformat', ctx=Load(), lineno=695, col_offset=24, end_lineno=695, end_col_offset=69), lineno=695, col_offset=24, end_lineno=695, end_col_offset=71), Subscript(value=Name(id='STATUS_LABELS', ctx=Load(), lineno=696, col_offset=18, end_lineno=696, end_col_offset=31), slice=Name(id='status', ctx=Load(), lineno=696, col_offset=32, end_lineno=696, end_col_offset=38), ctx=Load(), lineno=696, col_offset=18, end_lineno=696, end_col_offset=39), Name(id='summary', ctx=Load(), lineno=697, col_offset=19, end_lineno=697, end_col_offset=26), Name(id='errors', ctx=Load(), lineno=698, col_offset=18, end_lineno=698, end_col_offset=24), Dict(keys=[Constant(value='path', lineno=700, col_offset=12, end_lineno=700, end_col_offset=18), Constant(value='exists', lineno=701, col_offset=12, end_lineno=701, end_col_offset=20), Constant(value='hits', lineno=702, col_offset=12, end_lineno=702, end_col_offset=18), Constant(value='misses', lineno=703, col_offset=12, end_lineno=703, end_col_offset=20)], values=[Call(func=Name(id='str', ctx=Load(), lineno=700, col_offset=20, end_lineno=700, end_col_offset=23), args=[Name(id='CACHE_PATH', ctx=Load(), lineno=700, col_offset=24, end_lineno=700, end_col_offset=34)], lineno=700, col_offset=20, end_lineno=700, end_col_offset=35), Call(func=Attribute(value=Name(id='CACHE_PATH', ctx=Load(), lineno=701, col_offset=22, end_lineno=701, end_col_offset=32), attr='exists', ctx=Load(), lineno=701, col_offset=22, end_lineno=701, end_col_offset=39), lineno=701, col_offset=22, end_lineno=701, end_col_offset=41), Constant(value=0, lineno=702, col_offset=20, end_lineno=702, end_col_offset=21), Constant(value=0, lineno=703, col_offset=22, end_lineno=703, end_col_offset=23)], lineno=699, col_offset=17, end_lineno=704, end_col_offset=9)], lineno=694, col_offset=47, end_lineno=705, end_col_offset=5), simple=1, lineno=694, col_offset=4, end_lineno=705, end_col_offset=5), If(test=Compare(left=Name(id='selection', ctx=Load(), lineno=706, col_offset=7, end_lineno=706, end_col_offset=16), ops=[IsNot()], comparators=[Constant(value=None, lineno=706, col_offset=24, end_lineno=706, end_col_offset=28)], lineno=706, col_offset=7, end_lineno=706, end_col_offset=28), body=[Assign(targets=[Subscript(value=Name(id='observability_payload', ctx=Load(), lineno=707, col_offset=8, end_lineno=707, end_col_offset=29), slice=Constant(value='config', lineno=707, col_offset=30, end_lineno=707, end_col_offset=38), ctx=Store(), lineno=707, col_offset=8, end_lineno=707, end_col_offset=39)], value=Dict(keys=[Constant(value='path', lineno=708, col_offset=12, end_lineno=708, end_col_offset=18), Constant(value='source', lineno=709, col_offset=12, end_lineno=709, end_col_offset=20)], values=[Call(func=Name(id='str', ctx=Load(), lineno=708, col_offset=20, end_lineno=708, end_col_offset=23), args=[Attribute(value=Name(id='selection', ctx=Load(), lineno=708, col_offset=24, end_lineno=708, end_col_offset=33), attr='path', ctx=Load(), lineno=708, col_offset=24, end_lineno=708, end_col_offset=38)], lineno=708, col_offset=20, end_lineno=708, end_col_offset=39), Attribute(value=Name(id='selection', ctx=Load(), lineno=709, col_offset=22, end_lineno=709, end_col_offset=31), attr='source', ctx=Load(), lineno=709, col_offset=22, end_lineno=709, end_col_offset=38)], lineno=707, col_offset=42, end_lineno=710, end_col_offset=9), lineno=707, col_offset=8, end_lineno=710, end_col_offset=9)], lineno=706, col_offset=4, end_lineno=710, end_col_offset=9), Assign(targets=[Name(id='problem', ctx=Store(), lineno=712, col_offset=4, end_lineno=712, end_col_offset=11)], value=Call(func=Name(id='build_problem_details', ctx=Load(), lineno=712, col_offset=14, end_lineno=712, end_col_offset=35), args=[Name(id='status', ctx=Load(), lineno=712, col_offset=36, end_lineno=712, end_col_offset=42), Name(id='request', ctx=Load(), lineno=712, col_offset=44, end_lineno=712, end_col_offset=51), Name(id='detail', ctx=Load(), lineno=712, col_offset=53, end_lineno=712, end_col_offset=59)], keywords=[keyword(arg='errors', value=Name(id='errors', ctx=Load(), lineno=712, col_offset=68, end_lineno=712, end_col_offset=74), lineno=712, col_offset=61, end_lineno=712, end_col_offset=74)], lineno=712, col_offset=14, end_lineno=712, end_col_offset=75), lineno=712, col_offset=4, end_lineno=712, end_col_offset=75), Return(value=Call(func=Name(id='DocstringBuildResult', ctx=Load(), lineno=714, col_offset=11, end_lineno=714, end_col_offset=31), keywords=[keyword(arg='exit_status', value=Name(id='status', ctx=Load(), lineno=715, col_offset=20, end_lineno=715, end_col_offset=26), lineno=715, col_offset=8, end_lineno=715, end_col_offset=26), keyword(arg='errors', value=Name(id='errors', ctx=Load(), lineno=716, col_offset=15, end_lineno=716, end_col_offset=21), lineno=716, col_offset=8, end_lineno=716, end_col_offset=21), keyword(arg='file_reports', value=List(ctx=Load(), lineno=717, col_offset=21, end_lineno=717, end_col_offset=23), lineno=717, col_offset=8, end_lineno=717, end_col_offset=23), keyword(arg='observability_payload', value=Name(id='observability_payload', ctx=Load(), lineno=718, col_offset=30, end_lineno=718, end_col_offset=51), lineno=718, col_offset=8, end_lineno=718, end_col_offset=51), keyword(arg='cli_payload', value=Constant(value=None, lineno=719, col_offset=20, end_lineno=719, end_col_offset=24), lineno=719, col_offset=8, end_lineno=719, end_col_offset=24), keyword(arg='manifest_path', value=Constant(value=None, lineno=720, col_offset=22, end_lineno=720, end_col_offset=26), lineno=720, col_offset=8, end_lineno=720, end_col_offset=26), keyword(arg='problem_details', value=Name(id='problem', ctx=Load(), lineno=721, col_offset=24, end_lineno=721, end_col_offset=31), lineno=721, col_offset=8, end_lineno=721, end_col_offset=31), keyword(arg='config_selection', value=Name(id='selection', ctx=Load(), lineno=722, col_offset=25, end_lineno=722, end_col_offset=34), lineno=722, col_offset=8, end_lineno=722, end_col_offset=34)], lineno=714, col_offset=11, end_lineno=723, end_col_offset=5), lineno=714, col_offset=4, end_lineno=723, end_col_offset=5)], returns=Name(id='DocstringBuildResult', ctx=Load(), lineno=668, col_offset=5, end_lineno=668, end_col_offset=25), lineno=662, col_offset=0, end_lineno=723, end_col_offset=5), ClassDef(name='_PipelineInvocation', body=[Expr(value=Constant(value='Aggregate inputs required to execute the docstring builder pipeline.', lineno=728, col_offset=4, end_lineno=728, end_col_offset=78), lineno=728, col_offset=4, end_lineno=728, end_col_offset=78), AnnAssign(target=Name(id='files', ctx=Store(), lineno=730, col_offset=4, end_lineno=730, end_col_offset=9), annotation=Subscript(value=Name(id='Iterable', ctx=Load(), lineno=730, col_offset=11, end_lineno=730, end_col_offset=19), slice=Name(id='Path', ctx=Load(), lineno=730, col_offset=20, end_lineno=730, end_col_offset=24), ctx=Load(), lineno=730, col_offset=11, end_lineno=730, end_col_offset=25), simple=1, lineno=730, col_offset=4, end_lineno=730, end_col_offset=25), AnnAssign(target=Name(id='request', ctx=Store(), lineno=731, col_offset=4, end_lineno=731, end_col_offset=11), annotation=Name(id='DocstringBuildRequest', ctx=Load(), lineno=731, col_offset=13, end_lineno=731, end_col_offset=34), simple=1, lineno=731, col_offset=4, end_lineno=731, end_col_offset=34), AnnAssign(target=Name(id='config', ctx=Store(), lineno=732, col_offset=4, end_lineno=732, end_col_offset=10), annotation=Name(id='BuilderConfig', ctx=Load(), lineno=732, col_offset=12, end_lineno=732, end_col_offset=25), simple=1, lineno=732, col_offset=4, end_lineno=732, end_col_offset=25), AnnAssign(target=Name(id='selection', ctx=Store(), lineno=733, col_offset=4, end_lineno=733, end_col_offset=13), annotation=BinOp(left=Name(id='ConfigSelection', ctx=Load(), lineno=733, col_offset=15, end_lineno=733, end_col_offset=30), op=BitOr(), right=Constant(value=None, lineno=733, col_offset=33, end_lineno=733, end_col_offset=37), lineno=733, col_offset=15, end_lineno=733, end_col_offset=37), simple=1, lineno=733, col_offset=4, end_lineno=733, end_col_offset=37), AnnAssign(target=Name(id='cache', ctx=Store(), lineno=734, col_offset=4, end_lineno=734, end_col_offset=9), annotation=BinOp(left=Name(id='DocstringBuilderCache', ctx=Load(), lineno=734, col_offset=11, end_lineno=734, end_col_offset=32), op=BitOr(), right=Constant(value=None, lineno=734, col_offset=35, end_lineno=734, end_col_offset=39), lineno=734, col_offset=11, end_lineno=734, end_col_offset=39), value=Constant(value=None, lineno=734, col_offset=42, end_lineno=734, end_col_offset=46), simple=1, lineno=734, col_offset=4, end_lineno=734, end_col_offset=46), AnnAssign(target=Name(id='plugins_enabled', ctx=Store(), lineno=735, col_offset=4, end_lineno=735, end_col_offset=19), annotation=Name(id='bool', ctx=Load(), lineno=735, col_offset=21, end_lineno=735, end_col_offset=25), value=Constant(value=True, lineno=735, col_offset=28, end_lineno=735, end_col_offset=32), simple=1, lineno=735, col_offset=4, end_lineno=735, end_col_offset=32)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=726, col_offset=1, end_lineno=726, end_col_offset=10), keywords=[keyword(arg='slots', value=Constant(value=True, lineno=726, col_offset=17, end_lineno=726, end_col_offset=21), lineno=726, col_offset=11, end_lineno=726, end_col_offset=21), keyword(arg='frozen', value=Constant(value=True, lineno=726, col_offset=30, end_lineno=726, end_col_offset=34), lineno=726, col_offset=23, end_lineno=726, end_col_offset=34)], lineno=726, col_offset=1, end_lineno=726, end_col_offset=35)], lineno=727, col_offset=0, end_lineno=735, end_col_offset=32), FunctionDef(name='_run_pipeline', args=arguments(args=[arg(arg='invocation', annotation=Name(id='_PipelineInvocation', ctx=Load(), lineno=738, col_offset=30, end_lineno=738, end_col_offset=49), lineno=738, col_offset=18, end_lineno=738, end_col_offset=49)]), body=[Assign(targets=[Name(id='files_list', ctx=Store(), lineno=739, col_offset=4, end_lineno=739, end_col_offset=14)], value=Call(func=Name(id='list', ctx=Load(), lineno=739, col_offset=17, end_lineno=739, end_col_offset=21), args=[Attribute(value=Name(id='invocation', ctx=Load(), lineno=739, col_offset=22, end_lineno=739, end_col_offset=32), attr='files', ctx=Load(), lineno=739, col_offset=22, end_lineno=739, end_col_offset=38)], lineno=739, col_offset=17, end_lineno=739, end_col_offset=39), lineno=739, col_offset=4, end_lineno=739, end_col_offset=39), Assign(targets=[Name(id='context_builder_cls', ctx=Store(), lineno=741, col_offset=4, end_lineno=741, end_col_offset=23)], value=Call(func=Name(id='_load_pipeline_context_builder', ctx=Load(), lineno=741, col_offset=26, end_lineno=741, end_col_offset=56), lineno=741, col_offset=26, end_lineno=741, end_col_offset=58), lineno=741, col_offset=4, end_lineno=741, end_col_offset=58), Assign(targets=[Name(id='context_builder', ctx=Store(), lineno=742, col_offset=4, end_lineno=742, end_col_offset=19)], value=Call(func=Name(id='context_builder_cls', ctx=Load(), lineno=742, col_offset=22, end_lineno=742, end_col_offset=41), args=[Attribute(value=Name(id='invocation', ctx=Load(), lineno=743, col_offset=8, end_lineno=743, end_col_offset=18), attr='request', ctx=Load(), lineno=743, col_offset=8, end_lineno=743, end_col_offset=26), Attribute(value=Name(id='invocation', ctx=Load(), lineno=744, col_offset=8, end_lineno=744, end_col_offset=18), attr='config', ctx=Load(), lineno=744, col_offset=8, end_lineno=744, end_col_offset=25), Attribute(value=Name(id='invocation', ctx=Load(), lineno=745, col_offset=8, end_lineno=745, end_col_offset=18), attr='selection', ctx=Load(), lineno=745, col_offset=8, end_lineno=745, end_col_offset=28), Name(id='files_list', ctx=Load(), lineno=746, col_offset=8, end_lineno=746, end_col_offset=18)], lineno=742, col_offset=22, end_lineno=747, end_col_offset=5), lineno=742, col_offset=4, end_lineno=747, end_col_offset=5), Assign(targets=[Name(id='build_result', ctx=Store(), lineno=748, col_offset=4, end_lineno=748, end_col_offset=16)], value=Call(func=Attribute(value=Name(id='context_builder', ctx=Load(), lineno=748, col_offset=19, end_lineno=748, end_col_offset=34), attr='build', ctx=Load(), lineno=748, col_offset=19, end_lineno=748, end_col_offset=40), lineno=748, col_offset=19, end_lineno=748, end_col_offset=42), lineno=748, col_offset=4, end_lineno=748, end_col_offset=42), If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=749, col_offset=7, end_lineno=749, end_col_offset=17), args=[Name(id='build_result', ctx=Load(), lineno=749, col_offset=18, end_lineno=749, end_col_offset=30), Name(id='DocstringBuildResult', ctx=Load(), lineno=749, col_offset=32, end_lineno=749, end_col_offset=52)], lineno=749, col_offset=7, end_lineno=749, end_col_offset=53), body=[Return(value=Name(id='build_result', ctx=Load(), lineno=750, col_offset=15, end_lineno=750, end_col_offset=27), lineno=750, col_offset=8, end_lineno=750, end_col_offset=27)], lineno=749, col_offset=4, end_lineno=750, end_col_offset=27), Assign(targets=[Tuple(elts=[Name(id='logger', ctx=Store(), lineno=751, col_offset=4, end_lineno=751, end_col_offset=10), Name(id='plugin_manager', ctx=Store(), lineno=751, col_offset=12, end_lineno=751, end_col_offset=26), Name(id='policy_engine', ctx=Store(), lineno=751, col_offset=28, end_lineno=751, end_col_offset=41), Name(id='options', ctx=Store(), lineno=751, col_offset=43, end_lineno=751, end_col_offset=50)], ctx=Store(), lineno=751, col_offset=4, end_lineno=751, end_col_offset=50)], value=Name(id='build_result', ctx=Load(), lineno=751, col_offset=53, end_lineno=751, end_col_offset=65), lineno=751, col_offset=4, end_lineno=751, end_col_offset=65), If(test=UnaryOp(op=Not(), operand=Attribute(value=Name(id='invocation', ctx=Load(), lineno=752, col_offset=11, end_lineno=752, end_col_offset=21), attr='plugins_enabled', ctx=Load(), lineno=752, col_offset=11, end_lineno=752, end_col_offset=37), lineno=752, col_offset=7, end_lineno=752, end_col_offset=37), body=[Assign(targets=[Name(id='plugin_manager', ctx=Store(), lineno=753, col_offset=8, end_lineno=753, end_col_offset=22)], value=Constant(value=None, lineno=753, col_offset=25, end_lineno=753, end_col_offset=29), lineno=753, col_offset=8, end_lineno=753, end_col_offset=29)], lineno=752, col_offset=4, end_lineno=753, end_col_offset=29), Assign(targets=[Name(id='dependencies', ctx=Store(), lineno=755, col_offset=4, end_lineno=755, end_col_offset=16)], value=Call(func=Name(id='_build_pipeline_dependencies', ctx=Load(), lineno=755, col_offset=19, end_lineno=755, end_col_offset=47), args=[Attribute(value=Name(id='invocation', ctx=Load(), lineno=756, col_offset=8, end_lineno=756, end_col_offset=18), attr='config', ctx=Load(), lineno=756, col_offset=8, end_lineno=756, end_col_offset=25), Name(id='options', ctx=Load(), lineno=757, col_offset=8, end_lineno=757, end_col_offset=15), Name(id='plugin_manager', ctx=Load(), lineno=758, col_offset=8, end_lineno=758, end_col_offset=22), Name(id='logger', ctx=Load(), lineno=759, col_offset=8, end_lineno=759, end_col_offset=14)], keywords=[keyword(arg='cache', value=Attribute(value=Name(id='invocation', ctx=Load(), lineno=760, col_offset=14, end_lineno=760, end_col_offset=24), attr='cache', ctx=Load(), lineno=760, col_offset=14, end_lineno=760, end_col_offset=30), lineno=760, col_offset=8, end_lineno=760, end_col_offset=30)], lineno=755, col_offset=19, end_lineno=761, end_col_offset=5), lineno=755, col_offset=4, end_lineno=761, end_col_offset=5), FunctionDef(name='build_problem_details_wrapper', args=arguments(args=[arg(arg='status', annotation=Name(id='ExitStatus', ctx=Load(), lineno=764, col_offset=16, end_lineno=764, end_col_offset=26), lineno=764, col_offset=8, end_lineno=764, end_col_offset=26), arg(arg='request', annotation=Name(id='DocstringBuildRequest', ctx=Load(), lineno=765, col_offset=17, end_lineno=765, end_col_offset=38), lineno=765, col_offset=8, end_lineno=765, end_col_offset=38), arg(arg='detail', annotation=Name(id='str', ctx=Load(), lineno=766, col_offset=16, end_lineno=766, end_col_offset=19), lineno=766, col_offset=8, end_lineno=766, end_col_offset=19)], kwonlyargs=[arg(arg='instance', annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=768, col_offset=18, end_lineno=768, end_col_offset=21), op=BitOr(), right=Constant(value=None, lineno=768, col_offset=24, end_lineno=768, end_col_offset=28), lineno=768, col_offset=18, end_lineno=768, end_col_offset=28), lineno=768, col_offset=8, end_lineno=768, end_col_offset=28), arg(arg='errors', annotation=BinOp(left=Subscript(value=Name(id='Sequence', ctx=Load(), lineno=769, col_offset=16, end_lineno=769, end_col_offset=24), slice=Name(id='ErrorReport', ctx=Load(), lineno=769, col_offset=25, end_lineno=769, end_col_offset=36), ctx=Load(), lineno=769, col_offset=16, end_lineno=769, end_col_offset=37), op=BitOr(), right=Constant(value=None, lineno=769, col_offset=40, end_lineno=769, end_col_offset=44), lineno=769, col_offset=16, end_lineno=769, end_col_offset=44), lineno=769, col_offset=8, end_lineno=769, end_col_offset=44)], kw_defaults=[Constant(value=None, lineno=768, col_offset=31, end_lineno=768, end_col_offset=35), Constant(value=None, lineno=769, col_offset=47, end_lineno=769, end_col_offset=51)]), body=[Expr(value=Constant(value='Build problem details wrapper for pipeline errors.\n\n        Parameters\n        ----------\n        status : ExitStatus\n            Exit status code.\n        request : DocstringBuildRequest\n            Build request.\n        detail : str\n            Error detail message.\n        instance : str | None, optional\n            Problem instance URI.\n        errors : Sequence[ErrorReport] | None, optional\n            Error reports.\n\n        Returns\n        -------\n        ModelProblemDetails\n            Problem details model.\n        ', lineno=771, col_offset=8, end_lineno=790, end_col_offset=11), lineno=771, col_offset=8, end_lineno=790, end_col_offset=11), Return(value=Call(func=Name(id='build_problem_details', ctx=Load(), lineno=791, col_offset=15, end_lineno=791, end_col_offset=36), args=[Name(id='status', ctx=Load(), lineno=792, col_offset=12, end_lineno=792, end_col_offset=18), Name(id='request', ctx=Load(), lineno=793, col_offset=12, end_lineno=793, end_col_offset=19), Name(id='detail', ctx=Load(), lineno=794, col_offset=12, end_lineno=794, end_col_offset=18)], keywords=[keyword(arg='instance', value=Name(id='instance', ctx=Load(), lineno=795, col_offset=21, end_lineno=795, end_col_offset=29), lineno=795, col_offset=12, end_lineno=795, end_col_offset=29), keyword(arg='errors', value=Name(id='errors', ctx=Load(), lineno=796, col_offset=19, end_lineno=796, end_col_offset=25), lineno=796, col_offset=12, end_lineno=796, end_col_offset=25)], lineno=791, col_offset=15, end_lineno=797, end_col_offset=9), lineno=791, col_offset=8, end_lineno=797, end_col_offset=9)], returns=Name(id='ModelProblemDetails', ctx=Load(), lineno=770, col_offset=9, end_lineno=770, end_col_offset=28), lineno=763, col_offset=4, end_lineno=797, end_col_offset=9), Assign(targets=[Name(id='pipeline_config', ctx=Store(), lineno=799, col_offset=4, end_lineno=799, end_col_offset=19)], value=Call(func=Name(id='PipelineConfig', ctx=Load(), lineno=799, col_offset=22, end_lineno=799, end_col_offset=36), keywords=[keyword(arg='request', value=Attribute(value=Name(id='invocation', ctx=Load(), lineno=800, col_offset=16, end_lineno=800, end_col_offset=26), attr='request', ctx=Load(), lineno=800, col_offset=16, end_lineno=800, end_col_offset=34), lineno=800, col_offset=8, end_lineno=800, end_col_offset=34), keyword(arg='config', value=Attribute(value=Name(id='invocation', ctx=Load(), lineno=801, col_offset=15, end_lineno=801, end_col_offset=25), attr='config', ctx=Load(), lineno=801, col_offset=15, end_lineno=801, end_col_offset=32), lineno=801, col_offset=8, end_lineno=801, end_col_offset=32), keyword(arg='selection', value=Attribute(value=Name(id='invocation', ctx=Load(), lineno=802, col_offset=18, end_lineno=802, end_col_offset=28), attr='selection', ctx=Load(), lineno=802, col_offset=18, end_lineno=802, end_col_offset=38), lineno=802, col_offset=8, end_lineno=802, end_col_offset=38), keyword(arg='options', value=Name(id='options', ctx=Load(), lineno=803, col_offset=16, end_lineno=803, end_col_offset=23), lineno=803, col_offset=8, end_lineno=803, end_col_offset=23), keyword(arg='cache', value=Attribute(value=Name(id='dependencies', ctx=Load(), lineno=804, col_offset=14, end_lineno=804, end_col_offset=26), attr='cache', ctx=Load(), lineno=804, col_offset=14, end_lineno=804, end_col_offset=32), lineno=804, col_offset=8, end_lineno=804, end_col_offset=32), keyword(arg='file_processor', value=Attribute(value=Name(id='dependencies', ctx=Load(), lineno=805, col_offset=23, end_lineno=805, end_col_offset=35), attr='file_processor', ctx=Load(), lineno=805, col_offset=23, end_lineno=805, end_col_offset=50), lineno=805, col_offset=8, end_lineno=805, end_col_offset=50), keyword(arg='record_docfacts', value=Attribute(value=Name(id='dependencies', ctx=Load(), lineno=806, col_offset=24, end_lineno=806, end_col_offset=36), attr='record_docfacts', ctx=Load(), lineno=806, col_offset=24, end_lineno=806, end_col_offset=52), lineno=806, col_offset=8, end_lineno=806, end_col_offset=52), keyword(arg='filter_docfacts', value=Attribute(value=Name(id='dependencies', ctx=Load(), lineno=807, col_offset=24, end_lineno=807, end_col_offset=36), attr='filter_docfacts', ctx=Load(), lineno=807, col_offset=24, end_lineno=807, end_col_offset=52), lineno=807, col_offset=8, end_lineno=807, end_col_offset=52), keyword(arg='docfacts_coordinator_factory', value=Attribute(value=Name(id='dependencies', ctx=Load(), lineno=808, col_offset=37, end_lineno=808, end_col_offset=49), attr='docfacts_coordinator_factory', ctx=Load(), lineno=808, col_offset=37, end_lineno=808, end_col_offset=78), lineno=808, col_offset=8, end_lineno=808, end_col_offset=78), keyword(arg='plugin_manager', value=Name(id='plugin_manager', ctx=Load(), lineno=809, col_offset=23, end_lineno=809, end_col_offset=37), lineno=809, col_offset=8, end_lineno=809, end_col_offset=37), keyword(arg='policy_engine', value=Name(id='policy_engine', ctx=Load(), lineno=810, col_offset=22, end_lineno=810, end_col_offset=35), lineno=810, col_offset=8, end_lineno=810, end_col_offset=35), keyword(arg='metrics', value=Attribute(value=Name(id='dependencies', ctx=Load(), lineno=811, col_offset=16, end_lineno=811, end_col_offset=28), attr='metrics', ctx=Load(), lineno=811, col_offset=16, end_lineno=811, end_col_offset=36), lineno=811, col_offset=8, end_lineno=811, end_col_offset=36), keyword(arg='diff_manager', value=Attribute(value=Name(id='dependencies', ctx=Load(), lineno=812, col_offset=21, end_lineno=812, end_col_offset=33), attr='diff_manager', ctx=Load(), lineno=812, col_offset=21, end_lineno=812, end_col_offset=46), lineno=812, col_offset=8, end_lineno=812, end_col_offset=46), keyword(arg='logger', value=Name(id='logger', ctx=Load(), lineno=813, col_offset=15, end_lineno=813, end_col_offset=21), lineno=813, col_offset=8, end_lineno=813, end_col_offset=21), keyword(arg='status_from_exit', value=Name(id='status_from_exit', ctx=Load(), lineno=814, col_offset=25, end_lineno=814, end_col_offset=41), lineno=814, col_offset=8, end_lineno=814, end_col_offset=41), keyword(arg='status_labels', value=Name(id='STATUS_LABELS', ctx=Load(), lineno=815, col_offset=22, end_lineno=815, end_col_offset=35), lineno=815, col_offset=8, end_lineno=815, end_col_offset=35), keyword(arg='build_problem_details', value=Name(id='build_problem_details_wrapper', ctx=Load(), lineno=816, col_offset=30, end_lineno=816, end_col_offset=59), lineno=816, col_offset=8, end_lineno=816, end_col_offset=59), keyword(arg='success_status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=817, col_offset=23, end_lineno=817, end_col_offset=33), attr='SUCCESS', ctx=Load(), lineno=817, col_offset=23, end_lineno=817, end_col_offset=41), lineno=817, col_offset=8, end_lineno=817, end_col_offset=41), keyword(arg='violation_status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=818, col_offset=25, end_lineno=818, end_col_offset=35), attr='VIOLATION', ctx=Load(), lineno=818, col_offset=25, end_lineno=818, end_col_offset=45), lineno=818, col_offset=8, end_lineno=818, end_col_offset=45), keyword(arg='config_status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=819, col_offset=22, end_lineno=819, end_col_offset=32), attr='CONFIG', ctx=Load(), lineno=819, col_offset=22, end_lineno=819, end_col_offset=39), lineno=819, col_offset=8, end_lineno=819, end_col_offset=39), keyword(arg='error_status', value=Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=820, col_offset=21, end_lineno=820, end_col_offset=31), attr='ERROR', ctx=Load(), lineno=820, col_offset=21, end_lineno=820, end_col_offset=37), lineno=820, col_offset=8, end_lineno=820, end_col_offset=37)], lineno=799, col_offset=22, end_lineno=821, end_col_offset=5), lineno=799, col_offset=4, end_lineno=821, end_col_offset=5), Assign(targets=[Name(id='runner', ctx=Store(), lineno=823, col_offset=4, end_lineno=823, end_col_offset=10)], value=Call(func=Name(id='PipelineRunner', ctx=Load(), lineno=823, col_offset=13, end_lineno=823, end_col_offset=27), args=[Name(id='pipeline_config', ctx=Load(), lineno=823, col_offset=28, end_lineno=823, end_col_offset=43)], lineno=823, col_offset=13, end_lineno=823, end_col_offset=44), lineno=823, col_offset=4, end_lineno=823, end_col_offset=44), Assign(targets=[Name(id='result', ctx=Store(), lineno=824, col_offset=4, end_lineno=824, end_col_offset=10)], value=Call(func=Attribute(value=Name(id='runner', ctx=Load(), lineno=824, col_offset=13, end_lineno=824, end_col_offset=19), attr='run', ctx=Load(), lineno=824, col_offset=13, end_lineno=824, end_col_offset=23), args=[Name(id='files_list', ctx=Load(), lineno=824, col_offset=24, end_lineno=824, end_col_offset=34)], lineno=824, col_offset=13, end_lineno=824, end_col_offset=35), lineno=824, col_offset=4, end_lineno=824, end_col_offset=35), If(test=Compare(left=Attribute(value=Attribute(value=Name(id='invocation', ctx=Load(), lineno=826, col_offset=7, end_lineno=826, end_col_offset=17), attr='request', ctx=Load(), lineno=826, col_offset=7, end_lineno=826, end_col_offset=25), attr='command', ctx=Load(), lineno=826, col_offset=7, end_lineno=826, end_col_offset=33), ops=[Eq()], comparators=[Constant(value='update', lineno=826, col_offset=37, end_lineno=826, end_col_offset=45)], lineno=826, col_offset=7, end_lineno=826, end_col_offset=45), body=[Expr(value=Call(func=Attribute(value=Attribute(value=Name(id='dependencies', ctx=Load(), lineno=827, col_offset=8, end_lineno=827, end_col_offset=20), attr='cache', ctx=Load(), lineno=827, col_offset=8, end_lineno=827, end_col_offset=26), attr='write', ctx=Load(), lineno=827, col_offset=8, end_lineno=827, end_col_offset=32), lineno=827, col_offset=8, end_lineno=827, end_col_offset=34), lineno=827, col_offset=8, end_lineno=827, end_col_offset=34)], lineno=826, col_offset=4, end_lineno=827, end_col_offset=34), If(test=BoolOp(op=And(), values=[UnaryOp(op=Not(), operand=Name(id='files_list', ctx=Load(), lineno=829, col_offset=11, end_lineno=829, end_col_offset=21), lineno=829, col_offset=7, end_lineno=829, end_col_offset=21), Compare(left=Attribute(value=Attribute(value=Name(id='invocation', ctx=Load(), lineno=829, col_offset=26, end_lineno=829, end_col_offset=36), attr='request', ctx=Load(), lineno=829, col_offset=26, end_lineno=829, end_col_offset=44), attr='command', ctx=Load(), lineno=829, col_offset=26, end_lineno=829, end_col_offset=52), ops=[Eq()], comparators=[Constant(value='check', lineno=829, col_offset=56, end_lineno=829, end_col_offset=63)], lineno=829, col_offset=26, end_lineno=829, end_col_offset=63), Attribute(value=Attribute(value=Name(id='invocation', ctx=Load(), lineno=829, col_offset=68, end_lineno=829, end_col_offset=78), attr='request', ctx=Load(), lineno=829, col_offset=68, end_lineno=829, end_col_offset=86), attr='diff', ctx=Load(), lineno=829, col_offset=68, end_lineno=829, end_col_offset=91)], lineno=829, col_offset=7, end_lineno=829, end_col_offset=91), body=[Expr(value=Call(func=Attribute(value=Name(id='DOCSTRINGS_DIFF_PATH', ctx=Load(), lineno=830, col_offset=8, end_lineno=830, end_col_offset=28), attr='unlink', ctx=Load(), lineno=830, col_offset=8, end_lineno=830, end_col_offset=35), keywords=[keyword(arg='missing_ok', value=Constant(value=True, lineno=830, col_offset=47, end_lineno=830, end_col_offset=51), lineno=830, col_offset=36, end_lineno=830, end_col_offset=51)], lineno=830, col_offset=8, end_lineno=830, end_col_offset=52), lineno=830, col_offset=8, end_lineno=830, end_col_offset=52), Expr(value=Call(func=Attribute(value=Name(id='DOCFACTS_DIFF_PATH', ctx=Load(), lineno=831, col_offset=8, end_lineno=831, end_col_offset=26), attr='unlink', ctx=Load(), lineno=831, col_offset=8, end_lineno=831, end_col_offset=33), keywords=[keyword(arg='missing_ok', value=Constant(value=True, lineno=831, col_offset=45, end_lineno=831, end_col_offset=49), lineno=831, col_offset=34, end_lineno=831, end_col_offset=49)], lineno=831, col_offset=8, end_lineno=831, end_col_offset=50), lineno=831, col_offset=8, end_lineno=831, end_col_offset=50)], lineno=829, col_offset=4, end_lineno=831, end_col_offset=50), Return(value=Name(id='result', ctx=Load(), lineno=833, col_offset=11, end_lineno=833, end_col_offset=17), lineno=833, col_offset=4, end_lineno=833, end_col_offset=17)], returns=Name(id='DocstringBuildResult', ctx=Load(), lineno=738, col_offset=54, end_lineno=738, end_col_offset=74), lineno=738, col_offset=0, end_lineno=833, end_col_offset=17), FunctionDef(name='run_docstring_builder', args=arguments(args=[arg(arg='request', annotation=Name(id='DocstringBuildRequest', ctx=Load(), lineno=837, col_offset=13, end_lineno=837, end_col_offset=34), lineno=837, col_offset=4, end_lineno=837, end_col_offset=34)], kwonlyargs=[arg(arg='config_override', annotation=BinOp(left=Name(id='str', ctx=Load(), lineno=839, col_offset=21, end_lineno=839, end_col_offset=24), op=BitOr(), right=Constant(value=None, lineno=839, col_offset=27, end_lineno=839, end_col_offset=31), lineno=839, col_offset=21, end_lineno=839, end_col_offset=31), lineno=839, col_offset=4, end_lineno=839, end_col_offset=31)], kw_defaults=[Constant(value=None, lineno=839, col_offset=34, end_lineno=839, end_col_offset=38)]), body=[Expr(value=Constant(value='Execute the docstring builder for ``request`` and return a structured result.\n\n    Parameters\n    ----------\n    request : DocstringBuildRequest\n        Build request containing command, options, and selection criteria.\n    config_override : str | None, optional\n        Explicit configuration file path override.\n\n    Returns\n    -------\n    DocstringBuildResult\n        Build result containing exit status, metrics, and CLI payload.\n    ', lineno=841, col_offset=4, end_lineno=854, end_col_offset=7), lineno=841, col_offset=4, end_lineno=854, end_col_offset=7), Assign(targets=[Tuple(elts=[Name(id='config', ctx=Store(), lineno=855, col_offset=4, end_lineno=855, end_col_offset=10), Name(id='config_selection', ctx=Store(), lineno=855, col_offset=12, end_lineno=855, end_col_offset=28)], ctx=Store(), lineno=855, col_offset=4, end_lineno=855, end_col_offset=28)], value=Call(func=Name(id='load_builder_config', ctx=Load(), lineno=855, col_offset=31, end_lineno=855, end_col_offset=50), args=[Name(id='config_override', ctx=Load(), lineno=855, col_offset=51, end_lineno=855, end_col_offset=66)], lineno=855, col_offset=31, end_lineno=855, end_col_offset=67), lineno=855, col_offset=4, end_lineno=855, end_col_offset=67), If(test=Attribute(value=Name(id='request', ctx=Load(), lineno=856, col_offset=7, end_lineno=856, end_col_offset=14), attr='llm_summary', ctx=Load(), lineno=856, col_offset=7, end_lineno=856, end_col_offset=26), body=[Assign(targets=[Name(id='config', ctx=Store(), lineno=857, col_offset=8, end_lineno=857, end_col_offset=14)], value=Call(func=Name(id='replace', ctx=Load(), lineno=857, col_offset=17, end_lineno=857, end_col_offset=24), args=[Name(id='config', ctx=Load(), lineno=857, col_offset=25, end_lineno=857, end_col_offset=31)], keywords=[keyword(arg='llm_summary_mode', value=Constant(value='apply', lineno=857, col_offset=50, end_lineno=857, end_col_offset=57), lineno=857, col_offset=33, end_lineno=857, end_col_offset=57)], lineno=857, col_offset=17, end_lineno=857, end_col_offset=58), lineno=857, col_offset=8, end_lineno=857, end_col_offset=58)], orelse=[If(test=Attribute(value=Name(id='request', ctx=Load(), lineno=858, col_offset=9, end_lineno=858, end_col_offset=16), attr='llm_dry_run', ctx=Load(), lineno=858, col_offset=9, end_lineno=858, end_col_offset=28), body=[Assign(targets=[Name(id='config', ctx=Store(), lineno=859, col_offset=8, end_lineno=859, end_col_offset=14)], value=Call(func=Name(id='replace', ctx=Load(), lineno=859, col_offset=17, end_lineno=859, end_col_offset=24), args=[Name(id='config', ctx=Load(), lineno=859, col_offset=25, end_lineno=859, end_col_offset=31)], keywords=[keyword(arg='llm_summary_mode', value=Constant(value='dry-run', lineno=859, col_offset=50, end_lineno=859, end_col_offset=59), lineno=859, col_offset=33, end_lineno=859, end_col_offset=59)], lineno=859, col_offset=17, end_lineno=859, end_col_offset=60), lineno=859, col_offset=8, end_lineno=859, end_col_offset=60)], lineno=858, col_offset=4, end_lineno=859, end_col_offset=60)], lineno=856, col_offset=4, end_lineno=859, end_col_offset=60), If(test=Attribute(value=Name(id='request', ctx=Load(), lineno=860, col_offset=7, end_lineno=860, end_col_offset=14), attr='normalize_sections', ctx=Load(), lineno=860, col_offset=7, end_lineno=860, end_col_offset=33), body=[Assign(targets=[Name(id='config', ctx=Store(), lineno=861, col_offset=8, end_lineno=861, end_col_offset=14)], value=Call(func=Name(id='replace', ctx=Load(), lineno=861, col_offset=17, end_lineno=861, end_col_offset=24), args=[Name(id='config', ctx=Load(), lineno=861, col_offset=25, end_lineno=861, end_col_offset=31)], keywords=[keyword(arg='normalize_sections', value=Constant(value=True, lineno=861, col_offset=52, end_lineno=861, end_col_offset=56), lineno=861, col_offset=33, end_lineno=861, end_col_offset=56)], lineno=861, col_offset=17, end_lineno=861, end_col_offset=57), lineno=861, col_offset=8, end_lineno=861, end_col_offset=57)], lineno=860, col_offset=4, end_lineno=861, end_col_offset=57), Try(body=[Assign(targets=[Name(id='selection', ctx=Store(), lineno=863, col_offset=8, end_lineno=863, end_col_offset=17)], value=Call(func=Name(id='SelectionCriteria', ctx=Load(), lineno=863, col_offset=20, end_lineno=863, end_col_offset=37), keywords=[keyword(arg='module', value=Call(func=Name(id='optional_str', ctx=Load(), lineno=864, col_offset=19, end_lineno=864, end_col_offset=31), args=[Attribute(value=Name(id='request', ctx=Load(), lineno=864, col_offset=32, end_lineno=864, end_col_offset=39), attr='module', ctx=Load(), lineno=864, col_offset=32, end_lineno=864, end_col_offset=46)], lineno=864, col_offset=19, end_lineno=864, end_col_offset=47), lineno=864, col_offset=12, end_lineno=864, end_col_offset=47), keyword(arg='since', value=Call(func=Name(id='optional_str', ctx=Load(), lineno=865, col_offset=18, end_lineno=865, end_col_offset=30), args=[Attribute(value=Name(id='request', ctx=Load(), lineno=865, col_offset=31, end_lineno=865, end_col_offset=38), attr='since', ctx=Load(), lineno=865, col_offset=31, end_lineno=865, end_col_offset=44)], lineno=865, col_offset=18, end_lineno=865, end_col_offset=45), lineno=865, col_offset=12, end_lineno=865, end_col_offset=45), keyword(arg='changed_only', value=Attribute(value=Name(id='request', ctx=Load(), lineno=866, col_offset=25, end_lineno=866, end_col_offset=32), attr='changed_only', ctx=Load(), lineno=866, col_offset=25, end_lineno=866, end_col_offset=45), lineno=866, col_offset=12, end_lineno=866, end_col_offset=45), keyword(arg='explicit_paths', value=Call(func=Name(id='optional_str_list', ctx=Load(), lineno=867, col_offset=27, end_lineno=867, end_col_offset=44), args=[BoolOp(op=Or(), values=[Attribute(value=Name(id='request', ctx=Load(), lineno=867, col_offset=45, end_lineno=867, end_col_offset=52), attr='explicit_paths', ctx=Load(), lineno=867, col_offset=45, end_lineno=867, end_col_offset=67), Constant(value=None, lineno=867, col_offset=71, end_lineno=867, end_col_offset=75)], lineno=867, col_offset=45, end_lineno=867, end_col_offset=75)], lineno=867, col_offset=27, end_lineno=867, end_col_offset=76), lineno=867, col_offset=12, end_lineno=867, end_col_offset=76)], lineno=863, col_offset=20, end_lineno=868, end_col_offset=9), lineno=863, col_offset=8, end_lineno=868, end_col_offset=9), Assign(targets=[Name(id='files', ctx=Store(), lineno=869, col_offset=8, end_lineno=869, end_col_offset=13)], value=Call(func=Name(id='select_files', ctx=Load(), lineno=869, col_offset=16, end_lineno=869, end_col_offset=28), args=[Name(id='config', ctx=Load(), lineno=869, col_offset=29, end_lineno=869, end_col_offset=35), Name(id='selection', ctx=Load(), lineno=869, col_offset=37, end_lineno=869, end_col_offset=46)], lineno=869, col_offset=16, end_lineno=869, end_col_offset=47), lineno=869, col_offset=8, end_lineno=869, end_col_offset=47)], handlers=[ExceptHandler(type=Name(id='InvalidPathError', ctx=Load(), lineno=870, col_offset=11, end_lineno=870, end_col_offset=27), body=[Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=871, col_offset=8, end_lineno=871, end_col_offset=15), attr='exception', ctx=Load(), lineno=871, col_offset=8, end_lineno=871, end_col_offset=25), args=[Constant(value='Invalid path supplied to docstring builder', lineno=871, col_offset=26, end_lineno=871, end_col_offset=70)], lineno=871, col_offset=8, end_lineno=871, end_col_offset=71), lineno=871, col_offset=8, end_lineno=871, end_col_offset=71), Return(value=Call(func=Name(id='_build_error_result', ctx=Load(), lineno=872, col_offset=15, end_lineno=872, end_col_offset=34), args=[Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=873, col_offset=12, end_lineno=873, end_col_offset=22), attr='CONFIG', ctx=Load(), lineno=873, col_offset=12, end_lineno=873, end_col_offset=29), Name(id='request', ctx=Load(), lineno=874, col_offset=12, end_lineno=874, end_col_offset=19), Constant(value='Invalid path supplied to docstring builder', lineno=875, col_offset=12, end_lineno=875, end_col_offset=56)], keywords=[keyword(arg='selection', value=Name(id='config_selection', ctx=Load(), lineno=876, col_offset=22, end_lineno=876, end_col_offset=38), lineno=876, col_offset=12, end_lineno=876, end_col_offset=38)], lineno=872, col_offset=15, end_lineno=877, end_col_offset=9), lineno=872, col_offset=8, end_lineno=877, end_col_offset=9)], lineno=870, col_offset=4, end_lineno=877, end_col_offset=9)], lineno=862, col_offset=4, end_lineno=877, end_col_offset=9), Assign(targets=[Name(id='invocation', ctx=Store(), lineno=878, col_offset=4, end_lineno=878, end_col_offset=14)], value=Call(func=Name(id='_PipelineInvocation', ctx=Load(), lineno=878, col_offset=17, end_lineno=878, end_col_offset=36), keywords=[keyword(arg='files', value=Name(id='files', ctx=Load(), lineno=879, col_offset=14, end_lineno=879, end_col_offset=19), lineno=879, col_offset=8, end_lineno=879, end_col_offset=19), keyword(arg='request', value=Name(id='request', ctx=Load(), lineno=880, col_offset=16, end_lineno=880, end_col_offset=23), lineno=880, col_offset=8, end_lineno=880, end_col_offset=23), keyword(arg='config', value=Name(id='config', ctx=Load(), lineno=881, col_offset=15, end_lineno=881, end_col_offset=21), lineno=881, col_offset=8, end_lineno=881, end_col_offset=21), keyword(arg='selection', value=Name(id='config_selection', ctx=Load(), lineno=882, col_offset=18, end_lineno=882, end_col_offset=34), lineno=882, col_offset=8, end_lineno=882, end_col_offset=34)], lineno=878, col_offset=17, end_lineno=883, end_col_offset=5), lineno=878, col_offset=4, end_lineno=883, end_col_offset=5), Return(value=Call(func=Name(id='_run_pipeline', ctx=Load(), lineno=884, col_offset=11, end_lineno=884, end_col_offset=24), args=[Name(id='invocation', ctx=Load(), lineno=884, col_offset=25, end_lineno=884, end_col_offset=35)], lineno=884, col_offset=11, end_lineno=884, end_col_offset=36), lineno=884, col_offset=4, end_lineno=884, end_col_offset=36)], returns=Name(id='DocstringBuildResult', ctx=Load(), lineno=840, col_offset=5, end_lineno=840, end_col_offset=25), lineno=836, col_offset=0, end_lineno=884, end_col_offset=36), FunctionDef(name='run_build', args=arguments(kwonlyargs=[arg(arg='config', annotation=Name(id='DocstringBuildConfig', ctx=Load(), lineno=889, col_offset=12, end_lineno=889, end_col_offset=32), lineno=889, col_offset=4, end_lineno=889, end_col_offset=32), arg(arg='cache', annotation=Name(id='DocstringBuilderCache', ctx=Load(), lineno=890, col_offset=11, end_lineno=890, end_col_offset=32), lineno=890, col_offset=4, end_lineno=890, end_col_offset=32)], kw_defaults=[None, None]), body=[Expr(value=Constant(value='Execute docstring builder pipeline using typed configuration.\n\n    Parameters\n    ----------\n    config : DocstringBuildConfig\n        Typed configuration controlling plugin usage, diff emission, cache policy,\n        and execution timeout.\n    cache : DocstringBuilderCache\n        Cache interface used to determine stale files and persist run metadata.\n\n    Returns\n    -------\n    DocstringBuildResult\n        Build result containing exit status, metrics, and generated artifacts.\n\n    Raises\n    ------\n    TimeoutError\n        Raised when the build exceeds ``config.timeout_seconds``.\n    ', lineno=892, col_offset=4, end_lineno=911, end_col_offset=7), lineno=892, col_offset=4, end_lineno=911, end_col_offset=7), Assign(targets=[Tuple(elts=[Name(id='builder_config', ctx=Store(), lineno=912, col_offset=4, end_lineno=912, end_col_offset=18), Name(id='config_selection', ctx=Store(), lineno=912, col_offset=20, end_lineno=912, end_col_offset=36)], ctx=Store(), lineno=912, col_offset=4, end_lineno=912, end_col_offset=36)], value=Call(func=Name(id='load_builder_config', ctx=Load(), lineno=912, col_offset=39, end_lineno=912, end_col_offset=58), args=[Constant(value=None, lineno=912, col_offset=59, end_lineno=912, end_col_offset=63)], lineno=912, col_offset=39, end_lineno=912, end_col_offset=64), lineno=912, col_offset=4, end_lineno=912, end_col_offset=64), Assign(targets=[Name(id='builder_config', ctx=Store(), lineno=913, col_offset=4, end_lineno=913, end_col_offset=18)], value=Call(func=Name(id='replace', ctx=Load(), lineno=913, col_offset=21, end_lineno=913, end_col_offset=28), args=[Name(id='builder_config', ctx=Load(), lineno=913, col_offset=29, end_lineno=913, end_col_offset=43)], keywords=[keyword(arg='dynamic_probes', value=Attribute(value=Name(id='config', ctx=Load(), lineno=913, col_offset=60, end_lineno=913, end_col_offset=66), attr='dynamic_probes', ctx=Load(), lineno=913, col_offset=60, end_lineno=913, end_col_offset=81), lineno=913, col_offset=45, end_lineno=913, end_col_offset=81)], lineno=913, col_offset=21, end_lineno=913, end_col_offset=82), lineno=913, col_offset=4, end_lineno=913, end_col_offset=82), If(test=Attribute(value=Name(id='config', ctx=Load(), lineno=914, col_offset=7, end_lineno=914, end_col_offset=13), attr='normalize_sections', ctx=Load(), lineno=914, col_offset=7, end_lineno=914, end_col_offset=32), body=[Assign(targets=[Name(id='builder_config', ctx=Store(), lineno=915, col_offset=8, end_lineno=915, end_col_offset=22)], value=Call(func=Name(id='replace', ctx=Load(), lineno=915, col_offset=25, end_lineno=915, end_col_offset=32), args=[Name(id='builder_config', ctx=Load(), lineno=915, col_offset=33, end_lineno=915, end_col_offset=47)], keywords=[keyword(arg='normalize_sections', value=Constant(value=True, lineno=915, col_offset=68, end_lineno=915, end_col_offset=72), lineno=915, col_offset=49, end_lineno=915, end_col_offset=72)], lineno=915, col_offset=25, end_lineno=915, end_col_offset=73), lineno=915, col_offset=8, end_lineno=915, end_col_offset=73)], lineno=914, col_offset=4, end_lineno=915, end_col_offset=73), Assign(targets=[Name(id='command', ctx=Store(), lineno=917, col_offset=4, end_lineno=917, end_col_offset=11)], value=IfExp(test=Attribute(value=Name(id='config', ctx=Load(), lineno=917, col_offset=25, end_lineno=917, end_col_offset=31), attr='emit_diff', ctx=Load(), lineno=917, col_offset=25, end_lineno=917, end_col_offset=41), body=Constant(value='check', lineno=917, col_offset=14, end_lineno=917, end_col_offset=21), orelse=Constant(value='update', lineno=917, col_offset=47, end_lineno=917, end_col_offset=55), lineno=917, col_offset=14, end_lineno=917, end_col_offset=55), lineno=917, col_offset=4, end_lineno=917, end_col_offset=55), Assign(targets=[Name(id='request', ctx=Store(), lineno=918, col_offset=4, end_lineno=918, end_col_offset=11)], value=Call(func=Name(id='DocstringBuildRequest', ctx=Load(), lineno=918, col_offset=14, end_lineno=918, end_col_offset=35), keywords=[keyword(arg='command', value=Name(id='command', ctx=Load(), lineno=919, col_offset=16, end_lineno=919, end_col_offset=23), lineno=919, col_offset=8, end_lineno=919, end_col_offset=23), keyword(arg='subcommand', value=Name(id='command', ctx=Load(), lineno=920, col_offset=19, end_lineno=920, end_col_offset=26), lineno=920, col_offset=8, end_lineno=920, end_col_offset=26), keyword(arg='diff', value=Attribute(value=Name(id='config', ctx=Load(), lineno=921, col_offset=13, end_lineno=921, end_col_offset=19), attr='emit_diff', ctx=Load(), lineno=921, col_offset=13, end_lineno=921, end_col_offset=29), lineno=921, col_offset=8, end_lineno=921, end_col_offset=29), keyword(arg='normalize_sections', value=Attribute(value=Name(id='config', ctx=Load(), lineno=922, col_offset=27, end_lineno=922, end_col_offset=33), attr='normalize_sections', ctx=Load(), lineno=922, col_offset=27, end_lineno=922, end_col_offset=52), lineno=922, col_offset=8, end_lineno=922, end_col_offset=52), keyword(arg='invoked_subcommand', value=Name(id='command', ctx=Load(), lineno=923, col_offset=27, end_lineno=923, end_col_offset=34), lineno=923, col_offset=8, end_lineno=923, end_col_offset=34)], lineno=918, col_offset=14, end_lineno=924, end_col_offset=5), lineno=918, col_offset=4, end_lineno=924, end_col_offset=5), Assign(targets=[Name(id='selection', ctx=Store(), lineno=926, col_offset=4, end_lineno=926, end_col_offset=13)], value=Call(func=Name(id='SelectionCriteria', ctx=Load(), lineno=926, col_offset=16, end_lineno=926, end_col_offset=33), keywords=[keyword(arg='module', value=Constant(value=None, lineno=927, col_offset=15, end_lineno=927, end_col_offset=19), lineno=927, col_offset=8, end_lineno=927, end_col_offset=19), keyword(arg='since', value=Constant(value=None, lineno=928, col_offset=14, end_lineno=928, end_col_offset=18), lineno=928, col_offset=8, end_lineno=928, end_col_offset=18), keyword(arg='changed_only', value=Constant(value=False, lineno=929, col_offset=21, end_lineno=929, end_col_offset=26), lineno=929, col_offset=8, end_lineno=929, end_col_offset=26), keyword(arg='explicit_paths', value=Constant(value=None, lineno=930, col_offset=23, end_lineno=930, end_col_offset=27), lineno=930, col_offset=8, end_lineno=930, end_col_offset=27)], lineno=926, col_offset=16, end_lineno=931, end_col_offset=5), lineno=926, col_offset=4, end_lineno=931, end_col_offset=5), Try(body=[Assign(targets=[Name(id='files', ctx=Store(), lineno=934, col_offset=8, end_lineno=934, end_col_offset=13)], value=Call(func=Name(id='select_files', ctx=Load(), lineno=934, col_offset=16, end_lineno=934, end_col_offset=28), args=[Name(id='builder_config', ctx=Load(), lineno=934, col_offset=29, end_lineno=934, end_col_offset=43), Name(id='selection', ctx=Load(), lineno=934, col_offset=45, end_lineno=934, end_col_offset=54)], lineno=934, col_offset=16, end_lineno=934, end_col_offset=55), lineno=934, col_offset=8, end_lineno=934, end_col_offset=55)], handlers=[ExceptHandler(type=Name(id='InvalidPathError', ctx=Load(), lineno=935, col_offset=11, end_lineno=935, end_col_offset=27), body=[Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=936, col_offset=8, end_lineno=936, end_col_offset=15), attr='exception', ctx=Load(), lineno=936, col_offset=8, end_lineno=936, end_col_offset=25), args=[Constant(value='Invalid path supplied to docstring builder', lineno=936, col_offset=26, end_lineno=936, end_col_offset=70)], lineno=936, col_offset=8, end_lineno=936, end_col_offset=71), lineno=936, col_offset=8, end_lineno=936, end_col_offset=71), Return(value=Call(func=Name(id='_build_error_result', ctx=Load(), lineno=937, col_offset=15, end_lineno=937, end_col_offset=34), args=[Attribute(value=Name(id='ExitStatus', ctx=Load(), lineno=938, col_offset=12, end_lineno=938, end_col_offset=22), attr='CONFIG', ctx=Load(), lineno=938, col_offset=12, end_lineno=938, end_col_offset=29), Name(id='request', ctx=Load(), lineno=939, col_offset=12, end_lineno=939, end_col_offset=19), Constant(value='Invalid path supplied to docstring builder', lineno=940, col_offset=12, end_lineno=940, end_col_offset=56)], keywords=[keyword(arg='selection', value=Name(id='config_selection', ctx=Load(), lineno=941, col_offset=22, end_lineno=941, end_col_offset=38), lineno=941, col_offset=12, end_lineno=941, end_col_offset=38)], lineno=937, col_offset=15, end_lineno=942, end_col_offset=9), lineno=937, col_offset=8, end_lineno=942, end_col_offset=9)], lineno=935, col_offset=4, end_lineno=942, end_col_offset=9)], lineno=933, col_offset=4, end_lineno=942, end_col_offset=9), Assign(targets=[Name(id='adapted_cache', ctx=Store(), lineno=944, col_offset=4, end_lineno=944, end_col_offset=17)], value=Call(func=Name(id='_adapt_cache_policy', ctx=Load(), lineno=944, col_offset=20, end_lineno=944, end_col_offset=39), args=[Name(id='cache', ctx=Load(), lineno=944, col_offset=40, end_lineno=944, end_col_offset=45), Attribute(value=Name(id='config', ctx=Load(), lineno=944, col_offset=47, end_lineno=944, end_col_offset=53), attr='cache_policy', ctx=Load(), lineno=944, col_offset=47, end_lineno=944, end_col_offset=66)], lineno=944, col_offset=20, end_lineno=944, end_col_offset=67), lineno=944, col_offset=4, end_lineno=944, end_col_offset=67), FunctionDef(name='_execute', args=arguments(), body=[Assign(targets=[Name(id='invocation', ctx=Store(), lineno=947, col_offset=8, end_lineno=947, end_col_offset=18)], value=Call(func=Name(id='_PipelineInvocation', ctx=Load(), lineno=947, col_offset=21, end_lineno=947, end_col_offset=40), keywords=[keyword(arg='files', value=Name(id='files', ctx=Load(), lineno=948, col_offset=18, end_lineno=948, end_col_offset=23), lineno=948, col_offset=12, end_lineno=948, end_col_offset=23), keyword(arg='request', value=Name(id='request', ctx=Load(), lineno=949, col_offset=20, end_lineno=949, end_col_offset=27), lineno=949, col_offset=12, end_lineno=949, end_col_offset=27), keyword(arg='config', value=Name(id='builder_config', ctx=Load(), lineno=950, col_offset=19, end_lineno=950, end_col_offset=33), lineno=950, col_offset=12, end_lineno=950, end_col_offset=33), keyword(arg='selection', value=Name(id='config_selection', ctx=Load(), lineno=951, col_offset=22, end_lineno=951, end_col_offset=38), lineno=951, col_offset=12, end_lineno=951, end_col_offset=38), keyword(arg='cache', value=Name(id='adapted_cache', ctx=Load(), lineno=952, col_offset=18, end_lineno=952, end_col_offset=31), lineno=952, col_offset=12, end_lineno=952, end_col_offset=31), keyword(arg='plugins_enabled', value=Attribute(value=Name(id='config', ctx=Load(), lineno=953, col_offset=28, end_lineno=953, end_col_offset=34), attr='enable_plugins', ctx=Load(), lineno=953, col_offset=28, end_lineno=953, end_col_offset=49), lineno=953, col_offset=12, end_lineno=953, end_col_offset=49)], lineno=947, col_offset=21, end_lineno=954, end_col_offset=9), lineno=947, col_offset=8, end_lineno=954, end_col_offset=9), Return(value=Call(func=Name(id='_run_pipeline', ctx=Load(), lineno=955, col_offset=15, end_lineno=955, end_col_offset=28), args=[Name(id='invocation', ctx=Load(), lineno=955, col_offset=29, end_lineno=955, end_col_offset=39)], lineno=955, col_offset=15, end_lineno=955, end_col_offset=40), lineno=955, col_offset=8, end_lineno=955, end_col_offset=40)], returns=Name(id='DocstringBuildResult', ctx=Load(), lineno=946, col_offset=22, end_lineno=946, end_col_offset=42), lineno=946, col_offset=4, end_lineno=955, end_col_offset=40), Assign(targets=[Name(id='timeout_seconds', ctx=Store(), lineno=957, col_offset=4, end_lineno=957, end_col_offset=19)], value=Call(func=Name(id='float', ctx=Load(), lineno=957, col_offset=22, end_lineno=957, end_col_offset=27), args=[Attribute(value=Name(id='config', ctx=Load(), lineno=957, col_offset=28, end_lineno=957, end_col_offset=34), attr='timeout_seconds', ctx=Load(), lineno=957, col_offset=28, end_lineno=957, end_col_offset=50)], lineno=957, col_offset=22, end_lineno=957, end_col_offset=51), lineno=957, col_offset=4, end_lineno=957, end_col_offset=51), If(test=Compare(left=Name(id='timeout_seconds', ctx=Load(), lineno=958, col_offset=7, end_lineno=958, end_col_offset=22), ops=[Gt()], comparators=[Constant(value=0, lineno=958, col_offset=25, end_lineno=958, end_col_offset=26)], lineno=958, col_offset=7, end_lineno=958, end_col_offset=26), body=[With(items=[withitem(context_expr=Call(func=Name(id='ThreadPoolExecutor', ctx=Load(), lineno=959, col_offset=13, end_lineno=959, end_col_offset=31), keywords=[keyword(arg='max_workers', value=Constant(value=1, lineno=959, col_offset=44, end_lineno=959, end_col_offset=45), lineno=959, col_offset=32, end_lineno=959, end_col_offset=45)], lineno=959, col_offset=13, end_lineno=959, end_col_offset=46), optional_vars=Name(id='executor', ctx=Store(), lineno=959, col_offset=50, end_lineno=959, end_col_offset=58))], body=[Assign(targets=[Name(id='future', ctx=Store(), lineno=960, col_offset=12, end_lineno=960, end_col_offset=18)], value=Call(func=Attribute(value=Name(id='executor', ctx=Load(), lineno=960, col_offset=21, end_lineno=960, end_col_offset=29), attr='submit', ctx=Load(), lineno=960, col_offset=21, end_lineno=960, end_col_offset=36), args=[Name(id='_execute', ctx=Load(), lineno=960, col_offset=37, end_lineno=960, end_col_offset=45)], lineno=960, col_offset=21, end_lineno=960, end_col_offset=46), lineno=960, col_offset=12, end_lineno=960, end_col_offset=46), Try(body=[Return(value=Call(func=Attribute(value=Name(id='future', ctx=Load(), lineno=962, col_offset=23, end_lineno=962, end_col_offset=29), attr='result', ctx=Load(), lineno=962, col_offset=23, end_lineno=962, end_col_offset=36), keywords=[keyword(arg='timeout', value=Name(id='timeout_seconds', ctx=Load(), lineno=962, col_offset=45, end_lineno=962, end_col_offset=60), lineno=962, col_offset=37, end_lineno=962, end_col_offset=60)], lineno=962, col_offset=23, end_lineno=962, end_col_offset=61), lineno=962, col_offset=16, end_lineno=962, end_col_offset=61)], handlers=[ExceptHandler(type=Name(id='_FuturesTimeoutError', ctx=Load(), lineno=963, col_offset=19, end_lineno=963, end_col_offset=39), name='exc', body=[Expr(value=Call(func=Attribute(value=Name(id='future', ctx=Load(), lineno=964, col_offset=16, end_lineno=964, end_col_offset=22), attr='cancel', ctx=Load(), lineno=964, col_offset=16, end_lineno=964, end_col_offset=29), lineno=964, col_offset=16, end_lineno=964, end_col_offset=31), lineno=964, col_offset=16, end_lineno=964, end_col_offset=31), Assign(targets=[Name(id='message', ctx=Store(), lineno=965, col_offset=16, end_lineno=965, end_col_offset=23)], value=JoinedStr(values=[Constant(value='Docstring build exceeded timeout of ', lineno=965, col_offset=28, end_lineno=965, end_col_offset=64), FormattedValue(value=Attribute(value=Name(id='config', ctx=Load(), lineno=965, col_offset=65, end_lineno=965, end_col_offset=71), attr='timeout_seconds', ctx=Load(), lineno=965, col_offset=65, end_lineno=965, end_col_offset=87), conversion=-1, lineno=965, col_offset=64, end_lineno=965, end_col_offset=88), Constant(value=' seconds', lineno=965, col_offset=88, end_lineno=965, end_col_offset=96)], lineno=965, col_offset=26, end_lineno=965, end_col_offset=97), lineno=965, col_offset=16, end_lineno=965, end_col_offset=97), Raise(exc=Call(func=Name(id='TimeoutError', ctx=Load(), lineno=966, col_offset=22, end_lineno=966, end_col_offset=34), args=[Name(id='message', ctx=Load(), lineno=966, col_offset=35, end_lineno=966, end_col_offset=42)], lineno=966, col_offset=22, end_lineno=966, end_col_offset=43), cause=Name(id='exc', ctx=Load(), lineno=966, col_offset=49, end_lineno=966, end_col_offset=52), lineno=966, col_offset=16, end_lineno=966, end_col_offset=52)], lineno=963, col_offset=12, end_lineno=966, end_col_offset=52)], lineno=961, col_offset=12, end_lineno=966, end_col_offset=52)], lineno=959, col_offset=8, end_lineno=966, end_col_offset=52)], lineno=958, col_offset=4, end_lineno=966, end_col_offset=52), Return(value=Call(func=Name(id='_execute', ctx=Load(), lineno=967, col_offset=11, end_lineno=967, end_col_offset=19), lineno=967, col_offset=11, end_lineno=967, end_col_offset=21), lineno=967, col_offset=4, end_lineno=967, end_col_offset=21)], returns=Name(id='DocstringBuildResult', ctx=Load(), lineno=891, col_offset=5, end_lineno=891, end_col_offset=25), lineno=887, col_offset=0, end_lineno=967, end_col_offset=21), FunctionDef(name='run_legacy', args=arguments(vararg=arg(arg='args', annotation=Name(id='object', ctx=Load(), lineno=971, col_offset=11, end_lineno=971, end_col_offset=17), lineno=971, col_offset=5, end_lineno=971, end_col_offset=17), kwarg=arg(arg='kwargs', annotation=Name(id='object', ctx=Load(), lineno=972, col_offset=14, end_lineno=972, end_col_offset=20), lineno=972, col_offset=6, end_lineno=972, end_col_offset=20)), body=[Expr(value=Constant(value='Deprecate legacy API for docstring builder in favor of typed config.\n\n    .. deprecated::\n        Use :func:`run_build` instead with typed configuration objects.\n\n    This function accepts the old positional argument style and emits a\n    deprecation warning. It will be removed in a future release.\n\n    Parameters\n    ----------\n    *args : object\n        Positional arguments (deprecated, accepted for backward compatibility only).\n    **kwargs : object\n        Keyword arguments (deprecated, accepted for backward compatibility only).\n\n    Raises\n    ------\n    NotImplementedError\n        Always raised as this function is a placeholder and not yet implemented.\n\n    Notes\n    -----\n    This function never returns normally; it always raises :exc:`NotImplementedError`.\n    The return type annotation ``NoReturn`` indicates that this function never\n    returns a value.\n    ', lineno=974, col_offset=4, end_lineno=999, end_col_offset=7), lineno=974, col_offset=4, end_lineno=999, end_col_offset=7), Assign(targets=[Name(id='msg', ctx=Store(), lineno=1000, col_offset=4, end_lineno=1000, end_col_offset=7)], value=Constant(value='run_legacy() is deprecated and will be removed in a future release. Use run_build(config=..., cache=...) instead with typed DocstringBuildConfig objects.', lineno=1001, col_offset=8, end_lineno=1003, end_col_offset=39), lineno=1000, col_offset=4, end_lineno=1004, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='warnings', ctx=Load(), lineno=1005, col_offset=4, end_lineno=1005, end_col_offset=12), attr='warn', ctx=Load(), lineno=1005, col_offset=4, end_lineno=1005, end_col_offset=17), args=[Name(id='msg', ctx=Load(), lineno=1005, col_offset=18, end_lineno=1005, end_col_offset=21), Name(id='DeprecationWarning', ctx=Load(), lineno=1005, col_offset=23, end_lineno=1005, end_col_offset=41)], keywords=[keyword(arg='stacklevel', value=Constant(value=2, lineno=1005, col_offset=54, end_lineno=1005, end_col_offset=55), lineno=1005, col_offset=43, end_lineno=1005, end_col_offset=55)], lineno=1005, col_offset=4, end_lineno=1005, end_col_offset=56), lineno=1005, col_offset=4, end_lineno=1005, end_col_offset=56), If(test=Name(id='args', ctx=Load(), lineno=1008, col_offset=7, end_lineno=1008, end_col_offset=11), body=[Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=1009, col_offset=8, end_lineno=1009, end_col_offset=15), attr='debug', ctx=Load(), lineno=1009, col_offset=8, end_lineno=1009, end_col_offset=21), args=[Constant(value='Legacy API called with %d positional argument(s)', lineno=1010, col_offset=12, end_lineno=1010, end_col_offset=62), Call(func=Name(id='len', ctx=Load(), lineno=1011, col_offset=12, end_lineno=1011, end_col_offset=15), args=[Name(id='args', ctx=Load(), lineno=1011, col_offset=16, end_lineno=1011, end_col_offset=20)], lineno=1011, col_offset=12, end_lineno=1011, end_col_offset=21)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='legacy_args_count', lineno=1012, col_offset=19, end_lineno=1012, end_col_offset=38)], values=[Call(func=Name(id='len', ctx=Load(), lineno=1012, col_offset=40, end_lineno=1012, end_col_offset=43), args=[Name(id='args', ctx=Load(), lineno=1012, col_offset=44, end_lineno=1012, end_col_offset=48)], lineno=1012, col_offset=40, end_lineno=1012, end_col_offset=49)], lineno=1012, col_offset=18, end_lineno=1012, end_col_offset=50), lineno=1012, col_offset=12, end_lineno=1012, end_col_offset=50)], lineno=1009, col_offset=8, end_lineno=1013, end_col_offset=9), lineno=1009, col_offset=8, end_lineno=1013, end_col_offset=9)], lineno=1008, col_offset=4, end_lineno=1013, end_col_offset=9), If(test=Name(id='kwargs', ctx=Load(), lineno=1014, col_offset=7, end_lineno=1014, end_col_offset=13), body=[Expr(value=Call(func=Attribute(value=Name(id='_LOGGER', ctx=Load(), lineno=1015, col_offset=8, end_lineno=1015, end_col_offset=15), attr='debug', ctx=Load(), lineno=1015, col_offset=8, end_lineno=1015, end_col_offset=21), args=[Constant(value='Legacy API called with %d keyword argument(s)', lineno=1016, col_offset=12, end_lineno=1016, end_col_offset=59), Call(func=Name(id='len', ctx=Load(), lineno=1017, col_offset=12, end_lineno=1017, end_col_offset=15), args=[Name(id='kwargs', ctx=Load(), lineno=1017, col_offset=16, end_lineno=1017, end_col_offset=22)], lineno=1017, col_offset=12, end_lineno=1017, end_col_offset=23)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='legacy_kwargs_count', lineno=1019, col_offset=16, end_lineno=1019, end_col_offset=37), Constant(value='legacy_kwargs_keys', lineno=1020, col_offset=16, end_lineno=1020, end_col_offset=36)], values=[Call(func=Name(id='len', ctx=Load(), lineno=1019, col_offset=39, end_lineno=1019, end_col_offset=42), args=[Name(id='kwargs', ctx=Load(), lineno=1019, col_offset=43, end_lineno=1019, end_col_offset=49)], lineno=1019, col_offset=39, end_lineno=1019, end_col_offset=50), Call(func=Name(id='list', ctx=Load(), lineno=1020, col_offset=38, end_lineno=1020, end_col_offset=42), args=[Call(func=Attribute(value=Name(id='kwargs', ctx=Load(), lineno=1020, col_offset=43, end_lineno=1020, end_col_offset=49), attr='keys', ctx=Load(), lineno=1020, col_offset=43, end_lineno=1020, end_col_offset=54), lineno=1020, col_offset=43, end_lineno=1020, end_col_offset=56)], lineno=1020, col_offset=38, end_lineno=1020, end_col_offset=57)], lineno=1018, col_offset=18, end_lineno=1021, end_col_offset=13), lineno=1018, col_offset=12, end_lineno=1021, end_col_offset=13)], lineno=1015, col_offset=8, end_lineno=1022, end_col_offset=9), lineno=1015, col_offset=8, end_lineno=1022, end_col_offset=9)], lineno=1014, col_offset=4, end_lineno=1022, end_col_offset=9), Assign(targets=[Name(id='msg_impl', ctx=Store(), lineno=1026, col_offset=4, end_lineno=1026, end_col_offset=12)], value=Constant(value='run_legacy is not yet fully implemented', lineno=1026, col_offset=15, end_lineno=1026, end_col_offset=56), lineno=1026, col_offset=4, end_lineno=1026, end_col_offset=56), Raise(exc=Call(func=Name(id='NotImplementedError', ctx=Load(), lineno=1027, col_offset=10, end_lineno=1027, end_col_offset=29), args=[Name(id='msg_impl', ctx=Load(), lineno=1027, col_offset=30, end_lineno=1027, end_col_offset=38)], lineno=1027, col_offset=10, end_lineno=1027, end_col_offset=39), lineno=1027, col_offset=4, end_lineno=1027, end_col_offset=39)], returns=Name(id='NoReturn', ctx=Load(), lineno=973, col_offset=5, end_lineno=973, end_col_offset=13), lineno=970, col_offset=0, end_lineno=1027, end_col_offset=39), Assign(targets=[Name(id='__all__', ctx=Store(), lineno=1030, col_offset=0, end_lineno=1030, end_col_offset=7)], value=List(elts=[Constant(value='DocstringBuildRequest', lineno=1031, col_offset=4, end_lineno=1031, end_col_offset=27), Constant(value='DocstringBuildResult', lineno=1032, col_offset=4, end_lineno=1032, end_col_offset=26), Constant(value='ExitStatus', lineno=1033, col_offset=4, end_lineno=1033, end_col_offset=16), Constant(value='InvalidPathError', lineno=1034, col_offset=4, end_lineno=1034, end_col_offset=22), Constant(value='build_problem_details', lineno=1035, col_offset=4, end_lineno=1035, end_col_offset=27), Constant(value='load_builder_config', lineno=1036, col_offset=4, end_lineno=1036, end_col_offset=25), Constant(value='render_cli_result', lineno=1037, col_offset=4, end_lineno=1037, end_col_offset=23), Constant(value='render_failure_summary', lineno=1038, col_offset=4, end_lineno=1038, end_col_offset=28), Constant(value='run_build', lineno=1039, col_offset=4, end_lineno=1039, end_col_offset=15), Constant(value='run_docstring_builder', lineno=1040, col_offset=4, end_lineno=1040, end_col_offset=27), Constant(value='run_legacy', lineno=1041, col_offset=4, end_lineno=1041, end_col_offset=16)], ctx=Load(), lineno=1030, col_offset=10, end_lineno=1042, end_col_offset=1), lineno=1030, col_offset=0, end_lineno=1042, end_col_offset=1)])