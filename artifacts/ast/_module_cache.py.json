Module(body=[Expr(value=Constant(value='Shared helpers for lazily importing documentation script modules.\n\nThe docs tooling exposes thin wrappers that import heavy implementation\nmodules lazily.  This module centralises the caching logic so each wrapper\ncan depend on a single, typed implementation without repeating cache\nmanagement boilerplate or leaking ``Any`` through ``functools.cache``.\n', lineno=1, col_offset=0, end_lineno=7, end_col_offset=3), lineno=1, col_offset=0, end_lineno=7, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=9, col_offset=23, end_lineno=9, end_col_offset=34)], level=0, lineno=9, col_offset=0, end_lineno=9, end_col_offset=34), ImportFrom(module='collections.abc', names=[alias(name='Iterable', lineno=11, col_offset=28, end_lineno=11, end_col_offset=36)], level=0, lineno=11, col_offset=0, end_lineno=11, end_col_offset=36), ImportFrom(module='importlib', names=[alias(name='import_module', lineno=12, col_offset=22, end_lineno=12, end_col_offset=35)], level=0, lineno=12, col_offset=0, end_lineno=12, end_col_offset=35), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=13, col_offset=19, end_lineno=13, end_col_offset=32), alias(name='cast', lineno=13, col_offset=34, end_lineno=13, end_col_offset=38)], level=0, lineno=13, col_offset=0, end_lineno=13, end_col_offset=38), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=15, col_offset=3, end_lineno=15, end_col_offset=16), body=[ImportFrom(module='types', names=[alias(name='ModuleType', lineno=16, col_offset=22, end_lineno=16, end_col_offset=32)], level=0, lineno=16, col_offset=4, end_lineno=16, end_col_offset=32)], orelse=[Assign(targets=[Name(id='ModuleType', ctx=Store(), lineno=18, col_offset=4, end_lineno=18, end_col_offset=14)], value=Call(func=Name(id='type', ctx=Load(), lineno=18, col_offset=17, end_lineno=18, end_col_offset=21), args=[Call(func=Name(id='import_module', ctx=Load(), lineno=18, col_offset=22, end_lineno=18, end_col_offset=35), args=[Constant(value='types', lineno=18, col_offset=36, end_lineno=18, end_col_offset=43)], lineno=18, col_offset=22, end_lineno=18, end_col_offset=44)], lineno=18, col_offset=17, end_lineno=18, end_col_offset=45), lineno=18, col_offset=4, end_lineno=18, end_col_offset=45)], lineno=15, col_offset=0, end_lineno=18, end_col_offset=45), Assign(targets=[Name(id='__all__', ctx=Store(), lineno=20, col_offset=0, end_lineno=20, end_col_offset=7)], value=List(elts=[Constant(value='ModuleExportsCache', lineno=20, col_offset=11, end_lineno=20, end_col_offset=31)], ctx=Load(), lineno=20, col_offset=10, end_lineno=20, end_col_offset=32), lineno=20, col_offset=0, end_lineno=20, end_col_offset=32), ClassDef(name='ModuleExportsCache', body=[Expr(value=Constant(value='Cache for lazily imported modules and their exported names.\n\n    This cache provides lazy loading of Python modules and their exported names,\n    storing both the module object and its __all__ attribute (if present) for\n    efficient repeated access. The cache is initialized with a module path and\n    loads the module only when first accessed.\n\n    Parameters\n    ----------\n    module_path : str\n        Fully qualified module path to cache (e.g., "package.module").\n    ', lineno=24, col_offset=4, end_lineno=35, end_col_offset=7), lineno=24, col_offset=4, end_lineno=35, end_col_offset=7), Assign(targets=[Name(id='__slots__', ctx=Store(), lineno=37, col_offset=4, end_lineno=37, end_col_offset=13)], value=Tuple(elts=[Constant(value='_exports', lineno=37, col_offset=17, end_lineno=37, end_col_offset=27), Constant(value='_module', lineno=37, col_offset=29, end_lineno=37, end_col_offset=38), Constant(value='_module_path', lineno=37, col_offset=40, end_lineno=37, end_col_offset=54)], ctx=Load(), lineno=37, col_offset=16, end_lineno=37, end_col_offset=55), lineno=37, col_offset=4, end_lineno=37, end_col_offset=55), FunctionDef(name='__init__', args=arguments(args=[arg(arg='self', lineno=39, col_offset=17, end_lineno=39, end_col_offset=21), arg(arg='module_path', annotation=Name(id='str', ctx=Load(), lineno=39, col_offset=36, end_lineno=39, end_col_offset=39), lineno=39, col_offset=23, end_lineno=39, end_col_offset=39)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=40, col_offset=8, end_lineno=40, end_col_offset=12), attr='_module_path', ctx=Store(), lineno=40, col_offset=8, end_lineno=40, end_col_offset=25)], value=Name(id='module_path', ctx=Load(), lineno=40, col_offset=28, end_lineno=40, end_col_offset=39), lineno=40, col_offset=8, end_lineno=40, end_col_offset=39), AnnAssign(target=Attribute(value=Name(id='self', ctx=Load(), lineno=41, col_offset=8, end_lineno=41, end_col_offset=12), attr='_module', ctx=Store(), lineno=41, col_offset=8, end_lineno=41, end_col_offset=20), annotation=BinOp(left=Name(id='ModuleType', ctx=Load(), lineno=41, col_offset=22, end_lineno=41, end_col_offset=32), op=BitOr(), right=Constant(value=None, lineno=41, col_offset=35, end_lineno=41, end_col_offset=39), lineno=41, col_offset=22, end_lineno=41, end_col_offset=39), value=Constant(value=None, lineno=41, col_offset=42, end_lineno=41, end_col_offset=46), simple=0, lineno=41, col_offset=8, end_lineno=41, end_col_offset=46), AnnAssign(target=Attribute(value=Name(id='self', ctx=Load(), lineno=42, col_offset=8, end_lineno=42, end_col_offset=12), attr='_exports', ctx=Store(), lineno=42, col_offset=8, end_lineno=42, end_col_offset=21), annotation=BinOp(left=Subscript(value=Name(id='tuple', ctx=Load(), lineno=42, col_offset=23, end_lineno=42, end_col_offset=28), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=42, col_offset=29, end_lineno=42, end_col_offset=32), Constant(value=Ellipsis, lineno=42, col_offset=34, end_lineno=42, end_col_offset=37)], ctx=Load(), lineno=42, col_offset=29, end_lineno=42, end_col_offset=37), ctx=Load(), lineno=42, col_offset=23, end_lineno=42, end_col_offset=38), op=BitOr(), right=Constant(value=None, lineno=42, col_offset=41, end_lineno=42, end_col_offset=45), lineno=42, col_offset=23, end_lineno=42, end_col_offset=45), value=Constant(value=None, lineno=42, col_offset=48, end_lineno=42, end_col_offset=52), simple=0, lineno=42, col_offset=8, end_lineno=42, end_col_offset=52)], returns=Constant(value=None, lineno=39, col_offset=44, end_lineno=39, end_col_offset=48), lineno=39, col_offset=4, end_lineno=42, end_col_offset=52), FunctionDef(name='load_module', args=arguments(args=[arg(arg='self', lineno=44, col_offset=20, end_lineno=44, end_col_offset=24)]), body=[Expr(value=Constant(value='Import and cache the target module.\n\n        Returns\n        -------\n        ModuleType\n            Imported module.\n        ', lineno=45, col_offset=8, end_lineno=51, end_col_offset=11), lineno=45, col_offset=8, end_lineno=51, end_col_offset=11), Assign(targets=[Name(id='module', ctx=Store(), lineno=52, col_offset=8, end_lineno=52, end_col_offset=14)], value=Attribute(value=Name(id='self', ctx=Load(), lineno=52, col_offset=17, end_lineno=52, end_col_offset=21), attr='_module', ctx=Load(), lineno=52, col_offset=17, end_lineno=52, end_col_offset=29), lineno=52, col_offset=8, end_lineno=52, end_col_offset=29), If(test=Compare(left=Name(id='module', ctx=Load(), lineno=53, col_offset=11, end_lineno=53, end_col_offset=17), ops=[Is()], comparators=[Constant(value=None, lineno=53, col_offset=21, end_lineno=53, end_col_offset=25)], lineno=53, col_offset=11, end_lineno=53, end_col_offset=25), body=[Assign(targets=[Name(id='module', ctx=Store(), lineno=54, col_offset=12, end_lineno=54, end_col_offset=18)], value=Call(func=Name(id='import_module', ctx=Load(), lineno=54, col_offset=21, end_lineno=54, end_col_offset=34), args=[Attribute(value=Name(id='self', ctx=Load(), lineno=54, col_offset=35, end_lineno=54, end_col_offset=39), attr='_module_path', ctx=Load(), lineno=54, col_offset=35, end_lineno=54, end_col_offset=52)], lineno=54, col_offset=21, end_lineno=54, end_col_offset=53), lineno=54, col_offset=12, end_lineno=54, end_col_offset=53), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=55, col_offset=12, end_lineno=55, end_col_offset=16), attr='_module', ctx=Store(), lineno=55, col_offset=12, end_lineno=55, end_col_offset=24)], value=Name(id='module', ctx=Load(), lineno=55, col_offset=27, end_lineno=55, end_col_offset=33), lineno=55, col_offset=12, end_lineno=55, end_col_offset=33)], lineno=53, col_offset=8, end_lineno=55, end_col_offset=33), Return(value=Name(id='module', ctx=Load(), lineno=56, col_offset=15, end_lineno=56, end_col_offset=21), lineno=56, col_offset=8, end_lineno=56, end_col_offset=21)], returns=Name(id='ModuleType', ctx=Load(), lineno=44, col_offset=29, end_lineno=44, end_col_offset=39), lineno=44, col_offset=4, end_lineno=56, end_col_offset=21), FunctionDef(name='export_names', args=arguments(args=[arg(arg='self', lineno=58, col_offset=21, end_lineno=58, end_col_offset=25)]), body=[Expr(value=Constant(value='Return exported attribute names from the cached module.\n\n        Returns\n        -------\n        tuple[str, ...]\n            Tuple of exported attribute names.\n        ', lineno=59, col_offset=8, end_lineno=65, end_col_offset=11), lineno=59, col_offset=8, end_lineno=65, end_col_offset=11), Assign(targets=[Name(id='exports', ctx=Store(), lineno=66, col_offset=8, end_lineno=66, end_col_offset=15)], value=Attribute(value=Name(id='self', ctx=Load(), lineno=66, col_offset=18, end_lineno=66, end_col_offset=22), attr='_exports', ctx=Load(), lineno=66, col_offset=18, end_lineno=66, end_col_offset=31), lineno=66, col_offset=8, end_lineno=66, end_col_offset=31), If(test=Compare(left=Name(id='exports', ctx=Load(), lineno=67, col_offset=11, end_lineno=67, end_col_offset=18), ops=[IsNot()], comparators=[Constant(value=None, lineno=67, col_offset=26, end_lineno=67, end_col_offset=30)], lineno=67, col_offset=11, end_lineno=67, end_col_offset=30), body=[Return(value=Name(id='exports', ctx=Load(), lineno=68, col_offset=19, end_lineno=68, end_col_offset=26), lineno=68, col_offset=12, end_lineno=68, end_col_offset=26)], lineno=67, col_offset=8, end_lineno=68, end_col_offset=26), Assign(targets=[Name(id='module', ctx=Store(), lineno=70, col_offset=8, end_lineno=70, end_col_offset=14)], value=Call(func=Attribute(value=Name(id='self', ctx=Load(), lineno=70, col_offset=17, end_lineno=70, end_col_offset=21), attr='load_module', ctx=Load(), lineno=70, col_offset=17, end_lineno=70, end_col_offset=33), lineno=70, col_offset=17, end_lineno=70, end_col_offset=35), lineno=70, col_offset=8, end_lineno=70, end_col_offset=35), AnnAssign(target=Name(id='exports_obj', ctx=Store(), lineno=71, col_offset=8, end_lineno=71, end_col_offset=19), annotation=BinOp(left=Name(id='object', ctx=Load(), lineno=71, col_offset=21, end_lineno=71, end_col_offset=27), op=BitOr(), right=Constant(value=None, lineno=71, col_offset=30, end_lineno=71, end_col_offset=34), lineno=71, col_offset=21, end_lineno=71, end_col_offset=34), value=Call(func=Name(id='getattr', ctx=Load(), lineno=71, col_offset=37, end_lineno=71, end_col_offset=44), args=[Name(id='module', ctx=Load(), lineno=71, col_offset=45, end_lineno=71, end_col_offset=51), Constant(value='__all__', lineno=71, col_offset=53, end_lineno=71, end_col_offset=62), Constant(value=None, lineno=71, col_offset=64, end_lineno=71, end_col_offset=68)], lineno=71, col_offset=37, end_lineno=71, end_col_offset=69), simple=1, lineno=71, col_offset=8, end_lineno=71, end_col_offset=69), If(test=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=72, col_offset=11, end_lineno=72, end_col_offset=21), args=[Name(id='exports_obj', ctx=Load(), lineno=72, col_offset=22, end_lineno=72, end_col_offset=33), Name(id='Iterable', ctx=Load(), lineno=72, col_offset=35, end_lineno=72, end_col_offset=43)], lineno=72, col_offset=11, end_lineno=72, end_col_offset=44), UnaryOp(op=Not(), operand=Call(func=Name(id='isinstance', ctx=Load(), lineno=72, col_offset=53, end_lineno=72, end_col_offset=63), args=[Name(id='exports_obj', ctx=Load(), lineno=72, col_offset=64, end_lineno=72, end_col_offset=75), Tuple(elts=[Name(id='str', ctx=Load(), lineno=72, col_offset=78, end_lineno=72, end_col_offset=81), Name(id='bytes', ctx=Load(), lineno=72, col_offset=83, end_lineno=72, end_col_offset=88)], ctx=Load(), lineno=72, col_offset=77, end_lineno=72, end_col_offset=89)], lineno=72, col_offset=53, end_lineno=72, end_col_offset=90), lineno=72, col_offset=49, end_lineno=72, end_col_offset=90)], lineno=72, col_offset=11, end_lineno=72, end_col_offset=90), body=[Assign(targets=[Name(id='candidates', ctx=Store(), lineno=73, col_offset=12, end_lineno=73, end_col_offset=22)], value=Call(func=Name(id='cast', ctx=Load(), lineno=73, col_offset=25, end_lineno=73, end_col_offset=29), args=[Constant(value='Iterable[object]', lineno=73, col_offset=30, end_lineno=73, end_col_offset=48), Name(id='exports_obj', ctx=Load(), lineno=73, col_offset=50, end_lineno=73, end_col_offset=61)], lineno=73, col_offset=25, end_lineno=73, end_col_offset=62), lineno=73, col_offset=12, end_lineno=73, end_col_offset=62), Assign(targets=[Name(id='exports', ctx=Store(), lineno=74, col_offset=12, end_lineno=74, end_col_offset=19)], value=Call(func=Name(id='tuple', ctx=Load(), lineno=74, col_offset=22, end_lineno=74, end_col_offset=27), args=[GeneratorExp(elt=Call(func=Name(id='str', ctx=Load(), lineno=74, col_offset=28, end_lineno=74, end_col_offset=31), args=[Name(id='name', ctx=Load(), lineno=74, col_offset=32, end_lineno=74, end_col_offset=36)], lineno=74, col_offset=28, end_lineno=74, end_col_offset=37), generators=[comprehension(target=Name(id='name', ctx=Store(), lineno=74, col_offset=42, end_lineno=74, end_col_offset=46), iter=Name(id='candidates', ctx=Load(), lineno=74, col_offset=50, end_lineno=74, end_col_offset=60), is_async=0)], lineno=74, col_offset=27, end_lineno=74, end_col_offset=61)], lineno=74, col_offset=22, end_lineno=74, end_col_offset=61), lineno=74, col_offset=12, end_lineno=74, end_col_offset=61)], orelse=[Assign(targets=[Name(id='exports', ctx=Store(), lineno=76, col_offset=12, end_lineno=76, end_col_offset=19)], value=Call(func=Name(id='tuple', ctx=Load(), lineno=76, col_offset=22, end_lineno=76, end_col_offset=27), args=[GeneratorExp(elt=Name(id='name', ctx=Load(), lineno=76, col_offset=28, end_lineno=76, end_col_offset=32), generators=[comprehension(target=Name(id='name', ctx=Store(), lineno=76, col_offset=37, end_lineno=76, end_col_offset=41), iter=Call(func=Name(id='dir', ctx=Load(), lineno=76, col_offset=45, end_lineno=76, end_col_offset=48), args=[Name(id='module', ctx=Load(), lineno=76, col_offset=49, end_lineno=76, end_col_offset=55)], lineno=76, col_offset=45, end_lineno=76, end_col_offset=56), ifs=[UnaryOp(op=Not(), operand=Call(func=Attribute(value=Name(id='name', ctx=Load(), lineno=76, col_offset=64, end_lineno=76, end_col_offset=68), attr='startswith', ctx=Load(), lineno=76, col_offset=64, end_lineno=76, end_col_offset=79), args=[Constant(value='_', lineno=76, col_offset=80, end_lineno=76, end_col_offset=83)], lineno=76, col_offset=64, end_lineno=76, end_col_offset=84), lineno=76, col_offset=60, end_lineno=76, end_col_offset=84)], is_async=0)], lineno=76, col_offset=27, end_lineno=76, end_col_offset=85)], lineno=76, col_offset=22, end_lineno=76, end_col_offset=85), lineno=76, col_offset=12, end_lineno=76, end_col_offset=85)], lineno=72, col_offset=8, end_lineno=76, end_col_offset=85), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=78, col_offset=8, end_lineno=78, end_col_offset=12), attr='_exports', ctx=Store(), lineno=78, col_offset=8, end_lineno=78, end_col_offset=21)], value=Name(id='exports', ctx=Load(), lineno=78, col_offset=24, end_lineno=78, end_col_offset=31), lineno=78, col_offset=8, end_lineno=78, end_col_offset=31), Return(value=Name(id='exports', ctx=Load(), lineno=79, col_offset=15, end_lineno=79, end_col_offset=22), lineno=79, col_offset=8, end_lineno=79, end_col_offset=22)], returns=Subscript(value=Name(id='tuple', ctx=Load(), lineno=58, col_offset=30, end_lineno=58, end_col_offset=35), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=58, col_offset=36, end_lineno=58, end_col_offset=39), Constant(value=Ellipsis, lineno=58, col_offset=41, end_lineno=58, end_col_offset=44)], ctx=Load(), lineno=58, col_offset=36, end_lineno=58, end_col_offset=44), ctx=Load(), lineno=58, col_offset=30, end_lineno=58, end_col_offset=45), lineno=58, col_offset=4, end_lineno=79, end_col_offset=22), FunctionDef(name='reset', args=arguments(args=[arg(arg='self', lineno=81, col_offset=14, end_lineno=81, end_col_offset=18)]), body=[Expr(value=Constant(value='Clear cached module and export state.', lineno=82, col_offset=8, end_lineno=82, end_col_offset=51), lineno=82, col_offset=8, end_lineno=82, end_col_offset=51), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=83, col_offset=8, end_lineno=83, end_col_offset=12), attr='_module', ctx=Store(), lineno=83, col_offset=8, end_lineno=83, end_col_offset=20)], value=Constant(value=None, lineno=83, col_offset=23, end_lineno=83, end_col_offset=27), lineno=83, col_offset=8, end_lineno=83, end_col_offset=27), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=84, col_offset=8, end_lineno=84, end_col_offset=12), attr='_exports', ctx=Store(), lineno=84, col_offset=8, end_lineno=84, end_col_offset=21)], value=Constant(value=None, lineno=84, col_offset=24, end_lineno=84, end_col_offset=28), lineno=84, col_offset=8, end_lineno=84, end_col_offset=28)], returns=Constant(value=None, lineno=81, col_offset=23, end_lineno=81, end_col_offset=27), lineno=81, col_offset=4, end_lineno=84, end_col_offset=28)], lineno=23, col_offset=0, end_lineno=84, end_col_offset=28)])