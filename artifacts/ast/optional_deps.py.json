Module(body=[Expr(value=Constant(value='Guarded optional dependency imports with Problem Details and observability.\n\nThis module provides typed helpers for safely importing optional dependencies\n(Griffe, AutoAPI, Sphinx) with structured error handling, logging, and metrics.\n\nAll import failures raise ArtifactDependencyError carrying RFC 9457 Problem Details\nwith correlation IDs and remediation guidance.\n\nExamples\n--------\n>>> from kgfoundry_common.optional_deps import safe_import_griffe\n>>> try:\n...     griffe = safe_import_griffe()\n...     loader = griffe.GriffeLoader()\n... except ArtifactDependencyError as e:\n...     print(f"Griffe unavailable: {e.problem_details()}")\n', lineno=1, col_offset=0, end_lineno=17, end_col_offset=3), lineno=1, col_offset=0, end_lineno=17, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=21, col_offset=23, end_lineno=21, end_col_offset=34)], level=0, lineno=21, col_offset=0, end_lineno=21, end_col_offset=34), Import(names=[alias(name='importlib', lineno=23, col_offset=7, end_lineno=23, end_col_offset=16)], lineno=23, col_offset=0, end_lineno=23, end_col_offset=16), Import(names=[alias(name='logging', lineno=24, col_offset=7, end_lineno=24, end_col_offset=14)], lineno=24, col_offset=0, end_lineno=24, end_col_offset=14), Import(names=[alias(name='uuid', lineno=25, col_offset=7, end_lineno=25, end_col_offset=11)], lineno=25, col_offset=0, end_lineno=25, end_col_offset=11), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=26, col_offset=19, end_lineno=26, end_col_offset=32), alias(name='TypeVar', lineno=26, col_offset=34, end_lineno=26, end_col_offset=41), alias(name='cast', lineno=26, col_offset=43, end_lineno=26, end_col_offset=47)], level=0, lineno=26, col_offset=0, end_lineno=26, end_col_offset=47), ImportFrom(module='kgfoundry_common.errors', names=[alias(name='ArtifactDependencyError', lineno=28, col_offset=36, end_lineno=28, end_col_offset=59)], level=0, lineno=28, col_offset=0, end_lineno=28, end_col_offset=59), ImportFrom(module='kgfoundry_common.navmap_loader', names=[alias(name='load_nav_metadata', lineno=29, col_offset=43, end_lineno=29, end_col_offset=60)], level=0, lineno=29, col_offset=0, end_lineno=29, end_col_offset=60), ImportFrom(module='kgfoundry_common.problem_details', names=[alias(name='build_problem_details', lineno=30, col_offset=45, end_lineno=30, end_col_offset=66)], level=0, lineno=30, col_offset=0, end_lineno=30, end_col_offset=66), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=32, col_offset=3, end_lineno=32, end_col_offset=16), body=[ImportFrom(module='collections.abc', names=[alias(name='Mapping', lineno=33, col_offset=32, end_lineno=33, end_col_offset=39)], level=0, lineno=33, col_offset=4, end_lineno=33, end_col_offset=39), ImportFrom(module='kgfoundry_common.types', names=[alias(name='JsonValue', lineno=35, col_offset=39, end_lineno=35, end_col_offset=48)], level=0, lineno=35, col_offset=4, end_lineno=35, end_col_offset=48)], lineno=32, col_offset=0, end_lineno=35, end_col_offset=48), Assign(targets=[Name(id='__all__', ctx=Store(), lineno=37, col_offset=0, end_lineno=37, end_col_offset=7)], value=List(elts=[Constant(value='OptionalDependencyError', lineno=38, col_offset=4, end_lineno=38, end_col_offset=29), Constant(value='safe_import_autoapi', lineno=39, col_offset=4, end_lineno=39, end_col_offset=25), Constant(value='safe_import_griffe', lineno=40, col_offset=4, end_lineno=40, end_col_offset=24), Constant(value='safe_import_sphinx', lineno=41, col_offset=4, end_lineno=41, end_col_offset=24)], ctx=Load(), lineno=37, col_offset=10, end_lineno=42, end_col_offset=1), lineno=37, col_offset=0, end_lineno=42, end_col_offset=1), Assign(targets=[Name(id='__navmap__', ctx=Store(), lineno=43, col_offset=0, end_lineno=43, end_col_offset=10)], value=Call(func=Name(id='load_nav_metadata', ctx=Load(), lineno=43, col_offset=13, end_lineno=43, end_col_offset=30), args=[Name(id='__name__', ctx=Load(), lineno=43, col_offset=31, end_lineno=43, end_col_offset=39), Call(func=Name(id='tuple', ctx=Load(), lineno=43, col_offset=41, end_lineno=43, end_col_offset=46), args=[Name(id='__all__', ctx=Load(), lineno=43, col_offset=47, end_lineno=43, end_col_offset=54)], lineno=43, col_offset=41, end_lineno=43, end_col_offset=55)], lineno=43, col_offset=13, end_lineno=43, end_col_offset=56), lineno=43, col_offset=0, end_lineno=43, end_col_offset=56), Assign(targets=[Name(id='logger', ctx=Store(), lineno=46, col_offset=0, end_lineno=46, end_col_offset=6)], value=Call(func=Attribute(value=Name(id='logging', ctx=Load(), lineno=46, col_offset=9, end_lineno=46, end_col_offset=16), attr='getLogger', ctx=Load(), lineno=46, col_offset=9, end_lineno=46, end_col_offset=26), args=[Name(id='__name__', ctx=Load(), lineno=46, col_offset=27, end_lineno=46, end_col_offset=35)], lineno=46, col_offset=9, end_lineno=46, end_col_offset=36), lineno=46, col_offset=0, end_lineno=46, end_col_offset=36), Assign(targets=[Name(id='T', ctx=Store(), lineno=48, col_offset=0, end_lineno=48, end_col_offset=1)], value=Call(func=Name(id='TypeVar', ctx=Load(), lineno=48, col_offset=4, end_lineno=48, end_col_offset=11), args=[Constant(value='T', lineno=48, col_offset=12, end_lineno=48, end_col_offset=15)], lineno=48, col_offset=4, end_lineno=48, end_col_offset=16), lineno=48, col_offset=0, end_lineno=48, end_col_offset=16), ClassDef(name='OptionalDependencyError', bases=[Name(id='ArtifactDependencyError', ctx=Load(), lineno=52, col_offset=30, end_lineno=52, end_col_offset=53)], body=[Expr(value=Constant(value='Raised when an optional dependency cannot be imported.\n\n    This error includes RFC 9457 Problem Details, remediation guidance,\n    and correlation IDs for observability.\n\n    Initializes optional dependency error with message, module name, and optional context.\n\n    Parameters\n    ----------\n    message : str\n        Human-readable error message describing the missing dependency.\n    module_name : str, optional\n        Name of the missing module (e.g., "griffe", "autoapi"). Defaults to "".\n    extra : Mapping[str, object] | None, optional\n        Additional context fields for Problem Details. Defaults to None.\n    cause : Exception | None, optional\n        Underlying exception that caused the import failure. Defaults to None.\n\n    Examples\n    --------\n    >>> from kgfoundry_common.optional_deps import OptionalDependencyError\n    >>> try:\n    ...     raise OptionalDependencyError(\n    ...         "Module griffe not found",\n    ...         module_name="griffe",\n    ...         extra={"install_command": "pip install kgfoundry[docs]"},\n    ...     )\n    ... except OptionalDependencyError as e:\n    ...     print(f"Error: {e}")\n    ...     assert e.context is not None\n    ...     assert e.context.get("module_name") == "griffe"\n    Error: OptionalDependencyError[artifact-dependency-error]: Module griffe not found\n    ', lineno=53, col_offset=4, end_lineno=85, end_col_offset=7), lineno=53, col_offset=4, end_lineno=85, end_col_offset=7), FunctionDef(name='__init__', args=arguments(args=[arg(arg='self', lineno=88, col_offset=8, end_lineno=88, end_col_offset=12), arg(arg='message', annotation=Name(id='str', ctx=Load(), lineno=89, col_offset=17, end_lineno=89, end_col_offset=20), lineno=89, col_offset=8, end_lineno=89, end_col_offset=20), arg(arg='module_name', annotation=Name(id='str', ctx=Load(), lineno=90, col_offset=21, end_lineno=90, end_col_offset=24), lineno=90, col_offset=8, end_lineno=90, end_col_offset=24), arg(arg='extra', annotation=BinOp(left=Subscript(value=Name(id='Mapping', ctx=Load(), lineno=91, col_offset=15, end_lineno=91, end_col_offset=22), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=91, col_offset=23, end_lineno=91, end_col_offset=26), Name(id='object', ctx=Load(), lineno=91, col_offset=28, end_lineno=91, end_col_offset=34)], ctx=Load(), lineno=91, col_offset=23, end_lineno=91, end_col_offset=34), ctx=Load(), lineno=91, col_offset=15, end_lineno=91, end_col_offset=35), op=BitOr(), right=Constant(value=None, lineno=91, col_offset=38, end_lineno=91, end_col_offset=42), lineno=91, col_offset=15, end_lineno=91, end_col_offset=42), lineno=91, col_offset=8, end_lineno=91, end_col_offset=42), arg(arg='cause', annotation=BinOp(left=Name(id='Exception', ctx=Load(), lineno=92, col_offset=15, end_lineno=92, end_col_offset=24), op=BitOr(), right=Constant(value=None, lineno=92, col_offset=27, end_lineno=92, end_col_offset=31), lineno=92, col_offset=15, end_lineno=92, end_col_offset=31), lineno=92, col_offset=8, end_lineno=92, end_col_offset=31)], defaults=[Constant(value='', lineno=90, col_offset=27, end_lineno=90, end_col_offset=29), Constant(value=None, lineno=91, col_offset=45, end_lineno=91, end_col_offset=49), Constant(value=None, lineno=92, col_offset=34, end_lineno=92, end_col_offset=38)]), body=[Assign(targets=[Name(id='context', ctx=Store(), lineno=94, col_offset=8, end_lineno=94, end_col_offset=15)], value=Call(func=Name(id='dict', ctx=Load(), lineno=94, col_offset=18, end_lineno=94, end_col_offset=22), args=[BoolOp(op=Or(), values=[Name(id='extra', ctx=Load(), lineno=94, col_offset=23, end_lineno=94, end_col_offset=28), Dict(lineno=94, col_offset=32, end_lineno=94, end_col_offset=34)], lineno=94, col_offset=23, end_lineno=94, end_col_offset=34)], lineno=94, col_offset=18, end_lineno=94, end_col_offset=35), lineno=94, col_offset=8, end_lineno=94, end_col_offset=35), Assign(targets=[Subscript(value=Name(id='context', ctx=Load(), lineno=95, col_offset=8, end_lineno=95, end_col_offset=15), slice=Constant(value='module_name', lineno=95, col_offset=16, end_lineno=95, end_col_offset=29), ctx=Store(), lineno=95, col_offset=8, end_lineno=95, end_col_offset=30)], value=Name(id='module_name', ctx=Load(), lineno=95, col_offset=33, end_lineno=95, end_col_offset=44), lineno=95, col_offset=8, end_lineno=95, end_col_offset=44), Assign(targets=[Subscript(value=Name(id='context', ctx=Load(), lineno=96, col_offset=8, end_lineno=96, end_col_offset=15), slice=Constant(value='correlation_id', lineno=96, col_offset=16, end_lineno=96, end_col_offset=32), ctx=Store(), lineno=96, col_offset=8, end_lineno=96, end_col_offset=33)], value=Call(func=Name(id='str', ctx=Load(), lineno=96, col_offset=36, end_lineno=96, end_col_offset=39), args=[Call(func=Attribute(value=Name(id='uuid', ctx=Load(), lineno=96, col_offset=40, end_lineno=96, end_col_offset=44), attr='uuid4', ctx=Load(), lineno=96, col_offset=40, end_lineno=96, end_col_offset=50), lineno=96, col_offset=40, end_lineno=96, end_col_offset=52)], lineno=96, col_offset=36, end_lineno=96, end_col_offset=53), lineno=96, col_offset=8, end_lineno=96, end_col_offset=53), Expr(value=Call(func=Attribute(value=Call(func=Name(id='super', ctx=Load(), lineno=97, col_offset=8, end_lineno=97, end_col_offset=13), lineno=97, col_offset=8, end_lineno=97, end_col_offset=15), attr='__init__', ctx=Load(), lineno=97, col_offset=8, end_lineno=97, end_col_offset=24), args=[Name(id='message', ctx=Load(), lineno=97, col_offset=25, end_lineno=97, end_col_offset=32)], keywords=[keyword(arg='cause', value=Name(id='cause', ctx=Load(), lineno=97, col_offset=40, end_lineno=97, end_col_offset=45), lineno=97, col_offset=34, end_lineno=97, end_col_offset=45), keyword(arg='context', value=Name(id='context', ctx=Load(), lineno=97, col_offset=55, end_lineno=97, end_col_offset=62), lineno=97, col_offset=47, end_lineno=97, end_col_offset=62)], lineno=97, col_offset=8, end_lineno=97, end_col_offset=63), lineno=97, col_offset=8, end_lineno=97, end_col_offset=63)], returns=Constant(value=None, lineno=93, col_offset=9, end_lineno=93, end_col_offset=13), lineno=87, col_offset=4, end_lineno=97, end_col_offset=63)], lineno=52, col_offset=0, end_lineno=97, end_col_offset=63), FunctionDef(name='_make_remediation_guidance', args=arguments(args=[arg(arg='module_name', annotation=Name(id='str', ctx=Load(), lineno=100, col_offset=44, end_lineno=100, end_col_offset=47), lineno=100, col_offset=31, end_lineno=100, end_col_offset=47)]), body=[Expr(value=Constant(value='Build remediation guidance for missing optional dependency.\n\n    Parameters\n    ----------\n    module_name : str\n        The name of the missing module.\n\n    Returns\n    -------\n    dict[str, str]\n        Guidance with install commands and documentation links.\n    ', lineno=101, col_offset=4, end_lineno=112, end_col_offset=7), lineno=101, col_offset=4, end_lineno=112, end_col_offset=7), Assign(targets=[Name(id='guidance_map', ctx=Store(), lineno=113, col_offset=4, end_lineno=113, end_col_offset=16)], value=Dict(keys=[Constant(value='griffe', lineno=114, col_offset=8, end_lineno=114, end_col_offset=16), Constant(value='autoapi', lineno=118, col_offset=8, end_lineno=118, end_col_offset=17), Constant(value='sphinx', lineno=122, col_offset=8, end_lineno=122, end_col_offset=16)], values=[Dict(keys=[Constant(value='install', lineno=115, col_offset=12, end_lineno=115, end_col_offset=21), Constant(value='docs', lineno=116, col_offset=12, end_lineno=116, end_col_offset=18)], values=[Constant(value='pip install kgfoundry[docs]', lineno=115, col_offset=23, end_lineno=115, end_col_offset=52), Constant(value='https://docs.kgfoundry.dev/getting-started', lineno=116, col_offset=20, end_lineno=116, end_col_offset=64)], lineno=114, col_offset=18, end_lineno=117, end_col_offset=9), Dict(keys=[Constant(value='install', lineno=119, col_offset=12, end_lineno=119, end_col_offset=21), Constant(value='docs', lineno=120, col_offset=12, end_lineno=120, end_col_offset=18)], values=[Constant(value='pip install kgfoundry[docs]', lineno=119, col_offset=23, end_lineno=119, end_col_offset=52), Constant(value='https://docs.kgfoundry.dev/docs-toolchain', lineno=120, col_offset=20, end_lineno=120, end_col_offset=63)], lineno=118, col_offset=19, end_lineno=121, end_col_offset=9), Dict(keys=[Constant(value='install', lineno=123, col_offset=12, end_lineno=123, end_col_offset=21), Constant(value='docs', lineno=124, col_offset=12, end_lineno=124, end_col_offset=18)], values=[Constant(value='pip install kgfoundry[docs]', lineno=123, col_offset=23, end_lineno=123, end_col_offset=52), Constant(value='https://docs.kgfoundry.dev/docs-toolchain', lineno=124, col_offset=20, end_lineno=124, end_col_offset=63)], lineno=122, col_offset=18, end_lineno=125, end_col_offset=9)], lineno=113, col_offset=19, end_lineno=126, end_col_offset=5), lineno=113, col_offset=4, end_lineno=126, end_col_offset=5), Return(value=Call(func=Attribute(value=Name(id='guidance_map', ctx=Load(), lineno=127, col_offset=11, end_lineno=127, end_col_offset=23), attr='get', ctx=Load(), lineno=127, col_offset=11, end_lineno=127, end_col_offset=27), args=[Name(id='module_name', ctx=Load(), lineno=127, col_offset=28, end_lineno=127, end_col_offset=39), Dict(keys=[Constant(value='install', lineno=127, col_offset=42, end_lineno=127, end_col_offset=51)], values=[JoinedStr(values=[Constant(value='pip install ', lineno=127, col_offset=55, end_lineno=127, end_col_offset=67), FormattedValue(value=Name(id='module_name', ctx=Load(), lineno=127, col_offset=68, end_lineno=127, end_col_offset=79), conversion=-1, lineno=127, col_offset=67, end_lineno=127, end_col_offset=80)], lineno=127, col_offset=53, end_lineno=127, end_col_offset=81)], lineno=127, col_offset=41, end_lineno=127, end_col_offset=82)], lineno=127, col_offset=11, end_lineno=127, end_col_offset=83), lineno=127, col_offset=4, end_lineno=127, end_col_offset=83)], returns=Subscript(value=Name(id='dict', ctx=Load(), lineno=100, col_offset=52, end_lineno=100, end_col_offset=56), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=100, col_offset=57, end_lineno=100, end_col_offset=60), Name(id='str', ctx=Load(), lineno=100, col_offset=62, end_lineno=100, end_col_offset=65)], ctx=Load(), lineno=100, col_offset=57, end_lineno=100, end_col_offset=65), ctx=Load(), lineno=100, col_offset=52, end_lineno=100, end_col_offset=66), lineno=100, col_offset=0, end_lineno=127, end_col_offset=83), FunctionDef(name='safe_import_griffe', args=arguments(), body=[Expr(value=Constant(value='Safely import Griffe with Problem Details on failure.\n\n    Returns\n    -------\n    object\n        The griffe module.\n\n    Raises\n    ------\n    OptionalDependencyError\n        If Griffe is not installed or cannot be imported.\n\n    Examples\n    --------\n    >>> from kgfoundry_common.optional_deps import safe_import_griffe\n    >>> try:\n    ...     griffe = safe_import_griffe()\n    ...     # Use griffe\n    ... except OptionalDependencyError as e:\n    ...     print(f"Griffe not available: {e}")\n    ', lineno=132, col_offset=4, end_lineno=152, end_col_offset=7), lineno=132, col_offset=4, end_lineno=152, end_col_offset=7), Assign(targets=[Name(id='correlation_id', ctx=Store(), lineno=153, col_offset=4, end_lineno=153, end_col_offset=18)], value=Call(func=Name(id='str', ctx=Load(), lineno=153, col_offset=21, end_lineno=153, end_col_offset=24), args=[Call(func=Attribute(value=Name(id='uuid', ctx=Load(), lineno=153, col_offset=25, end_lineno=153, end_col_offset=29), attr='uuid4', ctx=Load(), lineno=153, col_offset=25, end_lineno=153, end_col_offset=35), lineno=153, col_offset=25, end_lineno=153, end_col_offset=37)], lineno=153, col_offset=21, end_lineno=153, end_col_offset=38), lineno=153, col_offset=4, end_lineno=153, end_col_offset=38), Try(body=[Assign(targets=[Name(id='griffe', ctx=Store(), lineno=155, col_offset=8, end_lineno=155, end_col_offset=14)], value=Call(func=Attribute(value=Name(id='importlib', ctx=Load(), lineno=155, col_offset=17, end_lineno=155, end_col_offset=26), attr='import_module', ctx=Load(), lineno=155, col_offset=17, end_lineno=155, end_col_offset=40), args=[Constant(value='griffe', lineno=155, col_offset=41, end_lineno=155, end_col_offset=49)], lineno=155, col_offset=17, end_lineno=155, end_col_offset=50), lineno=155, col_offset=8, end_lineno=155, end_col_offset=50)], handlers=[ExceptHandler(type=Name(id='ImportError', ctx=Load(), lineno=156, col_offset=11, end_lineno=156, end_col_offset=22), name='exc', body=[Assign(targets=[Name(id='remediation', ctx=Store(), lineno=157, col_offset=8, end_lineno=157, end_col_offset=19)], value=Call(func=Name(id='_make_remediation_guidance', ctx=Load(), lineno=157, col_offset=22, end_lineno=157, end_col_offset=48), args=[Constant(value='griffe', lineno=157, col_offset=49, end_lineno=157, end_col_offset=57)], lineno=157, col_offset=22, end_lineno=157, end_col_offset=58), lineno=157, col_offset=8, end_lineno=157, end_col_offset=58), Assign(targets=[Name(id='message', ctx=Store(), lineno=158, col_offset=8, end_lineno=158, end_col_offset=15)], value=JoinedStr(values=[Constant(value='Griffe is not installed. Install it with: ', lineno=158, col_offset=20, end_lineno=158, end_col_offset=62), FormattedValue(value=Subscript(value=Name(id='remediation', ctx=Load(), lineno=158, col_offset=63, end_lineno=158, end_col_offset=74), slice=Constant(value='install', lineno=158, col_offset=75, end_lineno=158, end_col_offset=84), ctx=Load(), lineno=158, col_offset=63, end_lineno=158, end_col_offset=85), conversion=-1, lineno=158, col_offset=62, end_lineno=158, end_col_offset=86)], lineno=158, col_offset=18, end_lineno=158, end_col_offset=87), lineno=158, col_offset=8, end_lineno=158, end_col_offset=87), Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=159, col_offset=8, end_lineno=159, end_col_offset=14), attr='exception', ctx=Load(), lineno=159, col_offset=8, end_lineno=159, end_col_offset=24), args=[Constant(value='Griffe import failed', lineno=160, col_offset=12, end_lineno=160, end_col_offset=34)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='operation', lineno=162, col_offset=16, end_lineno=162, end_col_offset=27), Constant(value='dependency_module', lineno=163, col_offset=16, end_lineno=163, end_col_offset=35), Constant(value='status', lineno=164, col_offset=16, end_lineno=164, end_col_offset=24), Constant(value='correlation_id', lineno=165, col_offset=16, end_lineno=165, end_col_offset=32), Constant(value='reason', lineno=166, col_offset=16, end_lineno=166, end_col_offset=24)], values=[Constant(value='optional_dependency_import', lineno=162, col_offset=29, end_lineno=162, end_col_offset=57), Constant(value='griffe', lineno=163, col_offset=37, end_lineno=163, end_col_offset=45), Constant(value='error', lineno=164, col_offset=26, end_lineno=164, end_col_offset=33), Name(id='correlation_id', ctx=Load(), lineno=165, col_offset=34, end_lineno=165, end_col_offset=48), Call(func=Name(id='str', ctx=Load(), lineno=166, col_offset=26, end_lineno=166, end_col_offset=29), args=[Name(id='exc', ctx=Load(), lineno=166, col_offset=30, end_lineno=166, end_col_offset=33)], lineno=166, col_offset=26, end_lineno=166, end_col_offset=34)], lineno=161, col_offset=18, end_lineno=167, end_col_offset=13), lineno=161, col_offset=12, end_lineno=167, end_col_offset=13)], lineno=159, col_offset=8, end_lineno=168, end_col_offset=9), lineno=159, col_offset=8, end_lineno=168, end_col_offset=9), Assign(targets=[Name(id='problem', ctx=Store(), lineno=171, col_offset=8, end_lineno=171, end_col_offset=15)], value=Call(func=Name(id='build_problem_details', ctx=Load(), lineno=171, col_offset=18, end_lineno=171, end_col_offset=39), keywords=[keyword(arg='problem_type', value=Constant(value='https://docs.kgfoundry.dev/problems/optional-dependency-missing', lineno=172, col_offset=25, end_lineno=172, end_col_offset=90), lineno=172, col_offset=12, end_lineno=172, end_col_offset=90), keyword(arg='title', value=Constant(value='Optional dependency not installed', lineno=173, col_offset=18, end_lineno=173, end_col_offset=53), lineno=173, col_offset=12, end_lineno=173, end_col_offset=53), keyword(arg='status', value=Constant(value=400, lineno=174, col_offset=19, end_lineno=174, end_col_offset=22), lineno=174, col_offset=12, end_lineno=174, end_col_offset=22), keyword(arg='detail', value=Name(id='message', ctx=Load(), lineno=175, col_offset=19, end_lineno=175, end_col_offset=26), lineno=175, col_offset=12, end_lineno=175, end_col_offset=26), keyword(arg='instance', value=JoinedStr(values=[Constant(value='urn:kgfoundry:docs:griffe:', lineno=176, col_offset=23, end_lineno=176, end_col_offset=49), FormattedValue(value=Name(id='correlation_id', ctx=Load(), lineno=176, col_offset=50, end_lineno=176, end_col_offset=64), conversion=-1, lineno=176, col_offset=49, end_lineno=176, end_col_offset=65)], lineno=176, col_offset=21, end_lineno=176, end_col_offset=66), lineno=176, col_offset=12, end_lineno=176, end_col_offset=66), keyword(arg='extensions', value=Call(func=Name(id='cast', ctx=Load(), lineno=177, col_offset=23, end_lineno=177, end_col_offset=27), args=[Constant(value='Mapping[str, JsonValue]', lineno=178, col_offset=16, end_lineno=178, end_col_offset=41), Dict(keys=[Constant(value='module', lineno=180, col_offset=20, end_lineno=180, end_col_offset=28), Constant(value='correlation_id', lineno=181, col_offset=20, end_lineno=181, end_col_offset=36), Constant(value='remediation', lineno=182, col_offset=20, end_lineno=182, end_col_offset=33)], values=[Constant(value='griffe', lineno=180, col_offset=30, end_lineno=180, end_col_offset=38), Name(id='correlation_id', ctx=Load(), lineno=181, col_offset=38, end_lineno=181, end_col_offset=52), Name(id='remediation', ctx=Load(), lineno=182, col_offset=35, end_lineno=182, end_col_offset=46)], lineno=179, col_offset=16, end_lineno=183, end_col_offset=17)], lineno=177, col_offset=23, end_lineno=184, end_col_offset=13), lineno=177, col_offset=12, end_lineno=184, end_col_offset=13)], lineno=171, col_offset=18, end_lineno=185, end_col_offset=9), lineno=171, col_offset=8, end_lineno=185, end_col_offset=9), Raise(exc=Call(func=Name(id='OptionalDependencyError', ctx=Load(), lineno=187, col_offset=14, end_lineno=187, end_col_offset=37), args=[Name(id='message', ctx=Load(), lineno=188, col_offset=12, end_lineno=188, end_col_offset=19)], keywords=[keyword(arg='module_name', value=Constant(value='griffe', lineno=189, col_offset=24, end_lineno=189, end_col_offset=32), lineno=189, col_offset=12, end_lineno=189, end_col_offset=32), keyword(arg='extra', value=Dict(keys=[Constant(value='correlation_id', lineno=191, col_offset=16, end_lineno=191, end_col_offset=32), Constant(value='remediation', lineno=192, col_offset=16, end_lineno=192, end_col_offset=29), Constant(value='problem_details', lineno=193, col_offset=16, end_lineno=193, end_col_offset=33)], values=[Name(id='correlation_id', ctx=Load(), lineno=191, col_offset=34, end_lineno=191, end_col_offset=48), Name(id='remediation', ctx=Load(), lineno=192, col_offset=31, end_lineno=192, end_col_offset=42), Name(id='problem', ctx=Load(), lineno=193, col_offset=35, end_lineno=193, end_col_offset=42)], lineno=190, col_offset=18, end_lineno=194, end_col_offset=13), lineno=190, col_offset=12, end_lineno=194, end_col_offset=13), keyword(arg='cause', value=Name(id='exc', ctx=Load(), lineno=195, col_offset=18, end_lineno=195, end_col_offset=21), lineno=195, col_offset=12, end_lineno=195, end_col_offset=21)], lineno=187, col_offset=14, end_lineno=196, end_col_offset=9), cause=Name(id='exc', ctx=Load(), lineno=196, col_offset=15, end_lineno=196, end_col_offset=18), lineno=187, col_offset=8, end_lineno=196, end_col_offset=18)], lineno=156, col_offset=4, end_lineno=196, end_col_offset=18)], orelse=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=198, col_offset=8, end_lineno=198, end_col_offset=14), attr='info', ctx=Load(), lineno=198, col_offset=8, end_lineno=198, end_col_offset=19), args=[Constant(value='Griffe imported successfully', lineno=199, col_offset=12, end_lineno=199, end_col_offset=42)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='operation', lineno=201, col_offset=16, end_lineno=201, end_col_offset=27), Constant(value='dependency_module', lineno=202, col_offset=16, end_lineno=202, end_col_offset=35), Constant(value='status', lineno=203, col_offset=16, end_lineno=203, end_col_offset=24), Constant(value='correlation_id', lineno=204, col_offset=16, end_lineno=204, end_col_offset=32)], values=[Constant(value='optional_dependency_import', lineno=201, col_offset=29, end_lineno=201, end_col_offset=57), Constant(value='griffe', lineno=202, col_offset=37, end_lineno=202, end_col_offset=45), Constant(value='success', lineno=203, col_offset=26, end_lineno=203, end_col_offset=35), Name(id='correlation_id', ctx=Load(), lineno=204, col_offset=34, end_lineno=204, end_col_offset=48)], lineno=200, col_offset=18, end_lineno=205, end_col_offset=13), lineno=200, col_offset=12, end_lineno=205, end_col_offset=13)], lineno=198, col_offset=8, end_lineno=206, end_col_offset=9), lineno=198, col_offset=8, end_lineno=206, end_col_offset=9), Return(value=Name(id='griffe', ctx=Load(), lineno=207, col_offset=15, end_lineno=207, end_col_offset=21), lineno=207, col_offset=8, end_lineno=207, end_col_offset=21)], lineno=154, col_offset=4, end_lineno=207, end_col_offset=21)], returns=Name(id='object', ctx=Load(), lineno=131, col_offset=28, end_lineno=131, end_col_offset=34), lineno=131, col_offset=0, end_lineno=207, end_col_offset=21), FunctionDef(name='safe_import_autoapi', args=arguments(), body=[Expr(value=Constant(value='Safely import AutoAPI with Problem Details on failure.\n\n    Returns\n    -------\n    object\n        The autoapi module.\n\n    Raises\n    ------\n    OptionalDependencyError\n        If AutoAPI is not installed or cannot be imported.\n\n    Examples\n    --------\n    >>> from kgfoundry_common.optional_deps import safe_import_autoapi\n    >>> try:\n    ...     autoapi = safe_import_autoapi()\n    ...     # Use autoapi\n    ... except OptionalDependencyError as e:\n    ...     print(f"AutoAPI not available: {e}")\n    ', lineno=212, col_offset=4, end_lineno=232, end_col_offset=7), lineno=212, col_offset=4, end_lineno=232, end_col_offset=7), Assign(targets=[Name(id='correlation_id', ctx=Store(), lineno=233, col_offset=4, end_lineno=233, end_col_offset=18)], value=Call(func=Name(id='str', ctx=Load(), lineno=233, col_offset=21, end_lineno=233, end_col_offset=24), args=[Call(func=Attribute(value=Name(id='uuid', ctx=Load(), lineno=233, col_offset=25, end_lineno=233, end_col_offset=29), attr='uuid4', ctx=Load(), lineno=233, col_offset=25, end_lineno=233, end_col_offset=35), lineno=233, col_offset=25, end_lineno=233, end_col_offset=37)], lineno=233, col_offset=21, end_lineno=233, end_col_offset=38), lineno=233, col_offset=4, end_lineno=233, end_col_offset=38), Try(body=[Assign(targets=[Name(id='autoapi', ctx=Store(), lineno=235, col_offset=8, end_lineno=235, end_col_offset=15)], value=Call(func=Attribute(value=Name(id='importlib', ctx=Load(), lineno=235, col_offset=18, end_lineno=235, end_col_offset=27), attr='import_module', ctx=Load(), lineno=235, col_offset=18, end_lineno=235, end_col_offset=41), args=[Constant(value='autoapi', lineno=235, col_offset=42, end_lineno=235, end_col_offset=51)], lineno=235, col_offset=18, end_lineno=235, end_col_offset=52), lineno=235, col_offset=8, end_lineno=235, end_col_offset=52)], handlers=[ExceptHandler(type=Name(id='ImportError', ctx=Load(), lineno=236, col_offset=11, end_lineno=236, end_col_offset=22), name='exc', body=[Assign(targets=[Name(id='remediation', ctx=Store(), lineno=237, col_offset=8, end_lineno=237, end_col_offset=19)], value=Call(func=Name(id='_make_remediation_guidance', ctx=Load(), lineno=237, col_offset=22, end_lineno=237, end_col_offset=48), args=[Constant(value='autoapi', lineno=237, col_offset=49, end_lineno=237, end_col_offset=58)], lineno=237, col_offset=22, end_lineno=237, end_col_offset=59), lineno=237, col_offset=8, end_lineno=237, end_col_offset=59), Assign(targets=[Name(id='message', ctx=Store(), lineno=238, col_offset=8, end_lineno=238, end_col_offset=15)], value=JoinedStr(values=[Constant(value='AutoAPI is not installed. Install it with: ', lineno=238, col_offset=20, end_lineno=238, end_col_offset=63), FormattedValue(value=Subscript(value=Name(id='remediation', ctx=Load(), lineno=238, col_offset=64, end_lineno=238, end_col_offset=75), slice=Constant(value='install', lineno=238, col_offset=76, end_lineno=238, end_col_offset=85), ctx=Load(), lineno=238, col_offset=64, end_lineno=238, end_col_offset=86), conversion=-1, lineno=238, col_offset=63, end_lineno=238, end_col_offset=87)], lineno=238, col_offset=18, end_lineno=238, end_col_offset=88), lineno=238, col_offset=8, end_lineno=238, end_col_offset=88), Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=239, col_offset=8, end_lineno=239, end_col_offset=14), attr='exception', ctx=Load(), lineno=239, col_offset=8, end_lineno=239, end_col_offset=24), args=[Constant(value='AutoAPI import failed', lineno=240, col_offset=12, end_lineno=240, end_col_offset=35)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='operation', lineno=242, col_offset=16, end_lineno=242, end_col_offset=27), Constant(value='dependency_module', lineno=243, col_offset=16, end_lineno=243, end_col_offset=35), Constant(value='status', lineno=244, col_offset=16, end_lineno=244, end_col_offset=24), Constant(value='correlation_id', lineno=245, col_offset=16, end_lineno=245, end_col_offset=32), Constant(value='reason', lineno=246, col_offset=16, end_lineno=246, end_col_offset=24)], values=[Constant(value='optional_dependency_import', lineno=242, col_offset=29, end_lineno=242, end_col_offset=57), Constant(value='autoapi', lineno=243, col_offset=37, end_lineno=243, end_col_offset=46), Constant(value='error', lineno=244, col_offset=26, end_lineno=244, end_col_offset=33), Name(id='correlation_id', ctx=Load(), lineno=245, col_offset=34, end_lineno=245, end_col_offset=48), Call(func=Name(id='str', ctx=Load(), lineno=246, col_offset=26, end_lineno=246, end_col_offset=29), args=[Name(id='exc', ctx=Load(), lineno=246, col_offset=30, end_lineno=246, end_col_offset=33)], lineno=246, col_offset=26, end_lineno=246, end_col_offset=34)], lineno=241, col_offset=18, end_lineno=247, end_col_offset=13), lineno=241, col_offset=12, end_lineno=247, end_col_offset=13)], lineno=239, col_offset=8, end_lineno=248, end_col_offset=9), lineno=239, col_offset=8, end_lineno=248, end_col_offset=9), Assign(targets=[Name(id='problem', ctx=Store(), lineno=250, col_offset=8, end_lineno=250, end_col_offset=15)], value=Call(func=Name(id='build_problem_details', ctx=Load(), lineno=250, col_offset=18, end_lineno=250, end_col_offset=39), keywords=[keyword(arg='problem_type', value=Constant(value='https://docs.kgfoundry.dev/problems/optional-dependency-missing', lineno=251, col_offset=25, end_lineno=251, end_col_offset=90), lineno=251, col_offset=12, end_lineno=251, end_col_offset=90), keyword(arg='title', value=Constant(value='Optional dependency not installed', lineno=252, col_offset=18, end_lineno=252, end_col_offset=53), lineno=252, col_offset=12, end_lineno=252, end_col_offset=53), keyword(arg='status', value=Constant(value=400, lineno=253, col_offset=19, end_lineno=253, end_col_offset=22), lineno=253, col_offset=12, end_lineno=253, end_col_offset=22), keyword(arg='detail', value=Name(id='message', ctx=Load(), lineno=254, col_offset=19, end_lineno=254, end_col_offset=26), lineno=254, col_offset=12, end_lineno=254, end_col_offset=26), keyword(arg='instance', value=JoinedStr(values=[Constant(value='urn:kgfoundry:docs:autoapi:', lineno=255, col_offset=23, end_lineno=255, end_col_offset=50), FormattedValue(value=Name(id='correlation_id', ctx=Load(), lineno=255, col_offset=51, end_lineno=255, end_col_offset=65), conversion=-1, lineno=255, col_offset=50, end_lineno=255, end_col_offset=66)], lineno=255, col_offset=21, end_lineno=255, end_col_offset=67), lineno=255, col_offset=12, end_lineno=255, end_col_offset=67), keyword(arg='extensions', value=Call(func=Name(id='cast', ctx=Load(), lineno=256, col_offset=23, end_lineno=256, end_col_offset=27), args=[Constant(value='Mapping[str, JsonValue]', lineno=257, col_offset=16, end_lineno=257, end_col_offset=41), Dict(keys=[Constant(value='module', lineno=259, col_offset=20, end_lineno=259, end_col_offset=28), Constant(value='correlation_id', lineno=260, col_offset=20, end_lineno=260, end_col_offset=36), Constant(value='remediation', lineno=261, col_offset=20, end_lineno=261, end_col_offset=33)], values=[Constant(value='autoapi', lineno=259, col_offset=30, end_lineno=259, end_col_offset=39), Name(id='correlation_id', ctx=Load(), lineno=260, col_offset=38, end_lineno=260, end_col_offset=52), Name(id='remediation', ctx=Load(), lineno=261, col_offset=35, end_lineno=261, end_col_offset=46)], lineno=258, col_offset=16, end_lineno=262, end_col_offset=17)], lineno=256, col_offset=23, end_lineno=263, end_col_offset=13), lineno=256, col_offset=12, end_lineno=263, end_col_offset=13)], lineno=250, col_offset=18, end_lineno=264, end_col_offset=9), lineno=250, col_offset=8, end_lineno=264, end_col_offset=9), Raise(exc=Call(func=Name(id='OptionalDependencyError', ctx=Load(), lineno=266, col_offset=14, end_lineno=266, end_col_offset=37), args=[Name(id='message', ctx=Load(), lineno=267, col_offset=12, end_lineno=267, end_col_offset=19)], keywords=[keyword(arg='module_name', value=Constant(value='autoapi', lineno=268, col_offset=24, end_lineno=268, end_col_offset=33), lineno=268, col_offset=12, end_lineno=268, end_col_offset=33), keyword(arg='extra', value=Dict(keys=[Constant(value='correlation_id', lineno=270, col_offset=16, end_lineno=270, end_col_offset=32), Constant(value='remediation', lineno=271, col_offset=16, end_lineno=271, end_col_offset=29), Constant(value='problem_details', lineno=272, col_offset=16, end_lineno=272, end_col_offset=33)], values=[Name(id='correlation_id', ctx=Load(), lineno=270, col_offset=34, end_lineno=270, end_col_offset=48), Name(id='remediation', ctx=Load(), lineno=271, col_offset=31, end_lineno=271, end_col_offset=42), Name(id='problem', ctx=Load(), lineno=272, col_offset=35, end_lineno=272, end_col_offset=42)], lineno=269, col_offset=18, end_lineno=273, end_col_offset=13), lineno=269, col_offset=12, end_lineno=273, end_col_offset=13), keyword(arg='cause', value=Name(id='exc', ctx=Load(), lineno=274, col_offset=18, end_lineno=274, end_col_offset=21), lineno=274, col_offset=12, end_lineno=274, end_col_offset=21)], lineno=266, col_offset=14, end_lineno=275, end_col_offset=9), cause=Name(id='exc', ctx=Load(), lineno=275, col_offset=15, end_lineno=275, end_col_offset=18), lineno=266, col_offset=8, end_lineno=275, end_col_offset=18)], lineno=236, col_offset=4, end_lineno=275, end_col_offset=18)], orelse=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=277, col_offset=8, end_lineno=277, end_col_offset=14), attr='info', ctx=Load(), lineno=277, col_offset=8, end_lineno=277, end_col_offset=19), args=[Constant(value='AutoAPI imported successfully', lineno=278, col_offset=12, end_lineno=278, end_col_offset=43)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='operation', lineno=280, col_offset=16, end_lineno=280, end_col_offset=27), Constant(value='dependency_module', lineno=281, col_offset=16, end_lineno=281, end_col_offset=35), Constant(value='status', lineno=282, col_offset=16, end_lineno=282, end_col_offset=24), Constant(value='correlation_id', lineno=283, col_offset=16, end_lineno=283, end_col_offset=32)], values=[Constant(value='optional_dependency_import', lineno=280, col_offset=29, end_lineno=280, end_col_offset=57), Constant(value='autoapi', lineno=281, col_offset=37, end_lineno=281, end_col_offset=46), Constant(value='success', lineno=282, col_offset=26, end_lineno=282, end_col_offset=35), Name(id='correlation_id', ctx=Load(), lineno=283, col_offset=34, end_lineno=283, end_col_offset=48)], lineno=279, col_offset=18, end_lineno=284, end_col_offset=13), lineno=279, col_offset=12, end_lineno=284, end_col_offset=13)], lineno=277, col_offset=8, end_lineno=285, end_col_offset=9), lineno=277, col_offset=8, end_lineno=285, end_col_offset=9), Return(value=Name(id='autoapi', ctx=Load(), lineno=286, col_offset=15, end_lineno=286, end_col_offset=22), lineno=286, col_offset=8, end_lineno=286, end_col_offset=22)], lineno=234, col_offset=4, end_lineno=286, end_col_offset=22)], returns=Name(id='object', ctx=Load(), lineno=211, col_offset=29, end_lineno=211, end_col_offset=35), lineno=211, col_offset=0, end_lineno=286, end_col_offset=22), FunctionDef(name='safe_import_sphinx', args=arguments(), body=[Expr(value=Constant(value='Safely import Sphinx with Problem Details on failure.\n\n    Returns\n    -------\n    object\n        The sphinx module.\n\n    Raises\n    ------\n    OptionalDependencyError\n        If Sphinx is not installed or cannot be imported.\n\n    Examples\n    --------\n    >>> from kgfoundry_common.optional_deps import safe_import_sphinx\n    >>> try:\n    ...     sphinx = safe_import_sphinx()\n    ...     # Use sphinx\n    ... except OptionalDependencyError as e:\n    ...     print(f"Sphinx not available: {e}")\n    ', lineno=291, col_offset=4, end_lineno=311, end_col_offset=7), lineno=291, col_offset=4, end_lineno=311, end_col_offset=7), Assign(targets=[Name(id='correlation_id', ctx=Store(), lineno=312, col_offset=4, end_lineno=312, end_col_offset=18)], value=Call(func=Name(id='str', ctx=Load(), lineno=312, col_offset=21, end_lineno=312, end_col_offset=24), args=[Call(func=Attribute(value=Name(id='uuid', ctx=Load(), lineno=312, col_offset=25, end_lineno=312, end_col_offset=29), attr='uuid4', ctx=Load(), lineno=312, col_offset=25, end_lineno=312, end_col_offset=35), lineno=312, col_offset=25, end_lineno=312, end_col_offset=37)], lineno=312, col_offset=21, end_lineno=312, end_col_offset=38), lineno=312, col_offset=4, end_lineno=312, end_col_offset=38), Try(body=[Assign(targets=[Name(id='sphinx', ctx=Store(), lineno=314, col_offset=8, end_lineno=314, end_col_offset=14)], value=Call(func=Attribute(value=Name(id='importlib', ctx=Load(), lineno=314, col_offset=17, end_lineno=314, end_col_offset=26), attr='import_module', ctx=Load(), lineno=314, col_offset=17, end_lineno=314, end_col_offset=40), args=[Constant(value='sphinx', lineno=314, col_offset=41, end_lineno=314, end_col_offset=49)], lineno=314, col_offset=17, end_lineno=314, end_col_offset=50), lineno=314, col_offset=8, end_lineno=314, end_col_offset=50)], handlers=[ExceptHandler(type=Name(id='ImportError', ctx=Load(), lineno=315, col_offset=11, end_lineno=315, end_col_offset=22), name='exc', body=[Assign(targets=[Name(id='remediation', ctx=Store(), lineno=316, col_offset=8, end_lineno=316, end_col_offset=19)], value=Call(func=Name(id='_make_remediation_guidance', ctx=Load(), lineno=316, col_offset=22, end_lineno=316, end_col_offset=48), args=[Constant(value='sphinx', lineno=316, col_offset=49, end_lineno=316, end_col_offset=57)], lineno=316, col_offset=22, end_lineno=316, end_col_offset=58), lineno=316, col_offset=8, end_lineno=316, end_col_offset=58), Assign(targets=[Name(id='message', ctx=Store(), lineno=317, col_offset=8, end_lineno=317, end_col_offset=15)], value=JoinedStr(values=[Constant(value='Sphinx is not installed. Install it with: ', lineno=317, col_offset=20, end_lineno=317, end_col_offset=62), FormattedValue(value=Subscript(value=Name(id='remediation', ctx=Load(), lineno=317, col_offset=63, end_lineno=317, end_col_offset=74), slice=Constant(value='install', lineno=317, col_offset=75, end_lineno=317, end_col_offset=84), ctx=Load(), lineno=317, col_offset=63, end_lineno=317, end_col_offset=85), conversion=-1, lineno=317, col_offset=62, end_lineno=317, end_col_offset=86)], lineno=317, col_offset=18, end_lineno=317, end_col_offset=87), lineno=317, col_offset=8, end_lineno=317, end_col_offset=87), Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=318, col_offset=8, end_lineno=318, end_col_offset=14), attr='exception', ctx=Load(), lineno=318, col_offset=8, end_lineno=318, end_col_offset=24), args=[Constant(value='Sphinx import failed', lineno=319, col_offset=12, end_lineno=319, end_col_offset=34)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='operation', lineno=321, col_offset=16, end_lineno=321, end_col_offset=27), Constant(value='dependency_module', lineno=322, col_offset=16, end_lineno=322, end_col_offset=35), Constant(value='status', lineno=323, col_offset=16, end_lineno=323, end_col_offset=24), Constant(value='correlation_id', lineno=324, col_offset=16, end_lineno=324, end_col_offset=32), Constant(value='reason', lineno=325, col_offset=16, end_lineno=325, end_col_offset=24)], values=[Constant(value='optional_dependency_import', lineno=321, col_offset=29, end_lineno=321, end_col_offset=57), Constant(value='sphinx', lineno=322, col_offset=37, end_lineno=322, end_col_offset=45), Constant(value='error', lineno=323, col_offset=26, end_lineno=323, end_col_offset=33), Name(id='correlation_id', ctx=Load(), lineno=324, col_offset=34, end_lineno=324, end_col_offset=48), Call(func=Name(id='str', ctx=Load(), lineno=325, col_offset=26, end_lineno=325, end_col_offset=29), args=[Name(id='exc', ctx=Load(), lineno=325, col_offset=30, end_lineno=325, end_col_offset=33)], lineno=325, col_offset=26, end_lineno=325, end_col_offset=34)], lineno=320, col_offset=18, end_lineno=326, end_col_offset=13), lineno=320, col_offset=12, end_lineno=326, end_col_offset=13)], lineno=318, col_offset=8, end_lineno=327, end_col_offset=9), lineno=318, col_offset=8, end_lineno=327, end_col_offset=9), Assign(targets=[Name(id='problem', ctx=Store(), lineno=329, col_offset=8, end_lineno=329, end_col_offset=15)], value=Call(func=Name(id='build_problem_details', ctx=Load(), lineno=329, col_offset=18, end_lineno=329, end_col_offset=39), keywords=[keyword(arg='problem_type', value=Constant(value='https://docs.kgfoundry.dev/problems/optional-dependency-missing', lineno=330, col_offset=25, end_lineno=330, end_col_offset=90), lineno=330, col_offset=12, end_lineno=330, end_col_offset=90), keyword(arg='title', value=Constant(value='Optional dependency not installed', lineno=331, col_offset=18, end_lineno=331, end_col_offset=53), lineno=331, col_offset=12, end_lineno=331, end_col_offset=53), keyword(arg='status', value=Constant(value=400, lineno=332, col_offset=19, end_lineno=332, end_col_offset=22), lineno=332, col_offset=12, end_lineno=332, end_col_offset=22), keyword(arg='detail', value=Name(id='message', ctx=Load(), lineno=333, col_offset=19, end_lineno=333, end_col_offset=26), lineno=333, col_offset=12, end_lineno=333, end_col_offset=26), keyword(arg='instance', value=JoinedStr(values=[Constant(value='urn:kgfoundry:docs:sphinx:', lineno=334, col_offset=23, end_lineno=334, end_col_offset=49), FormattedValue(value=Name(id='correlation_id', ctx=Load(), lineno=334, col_offset=50, end_lineno=334, end_col_offset=64), conversion=-1, lineno=334, col_offset=49, end_lineno=334, end_col_offset=65)], lineno=334, col_offset=21, end_lineno=334, end_col_offset=66), lineno=334, col_offset=12, end_lineno=334, end_col_offset=66), keyword(arg='extensions', value=Call(func=Name(id='cast', ctx=Load(), lineno=335, col_offset=23, end_lineno=335, end_col_offset=27), args=[Constant(value='Mapping[str, JsonValue]', lineno=336, col_offset=16, end_lineno=336, end_col_offset=41), Dict(keys=[Constant(value='module', lineno=338, col_offset=20, end_lineno=338, end_col_offset=28), Constant(value='correlation_id', lineno=339, col_offset=20, end_lineno=339, end_col_offset=36), Constant(value='remediation', lineno=340, col_offset=20, end_lineno=340, end_col_offset=33)], values=[Constant(value='sphinx', lineno=338, col_offset=30, end_lineno=338, end_col_offset=38), Name(id='correlation_id', ctx=Load(), lineno=339, col_offset=38, end_lineno=339, end_col_offset=52), Name(id='remediation', ctx=Load(), lineno=340, col_offset=35, end_lineno=340, end_col_offset=46)], lineno=337, col_offset=16, end_lineno=341, end_col_offset=17)], lineno=335, col_offset=23, end_lineno=342, end_col_offset=13), lineno=335, col_offset=12, end_lineno=342, end_col_offset=13)], lineno=329, col_offset=18, end_lineno=343, end_col_offset=9), lineno=329, col_offset=8, end_lineno=343, end_col_offset=9), Raise(exc=Call(func=Name(id='OptionalDependencyError', ctx=Load(), lineno=345, col_offset=14, end_lineno=345, end_col_offset=37), args=[Name(id='message', ctx=Load(), lineno=346, col_offset=12, end_lineno=346, end_col_offset=19)], keywords=[keyword(arg='module_name', value=Constant(value='sphinx', lineno=347, col_offset=24, end_lineno=347, end_col_offset=32), lineno=347, col_offset=12, end_lineno=347, end_col_offset=32), keyword(arg='extra', value=Dict(keys=[Constant(value='correlation_id', lineno=349, col_offset=16, end_lineno=349, end_col_offset=32), Constant(value='remediation', lineno=350, col_offset=16, end_lineno=350, end_col_offset=29), Constant(value='problem_details', lineno=351, col_offset=16, end_lineno=351, end_col_offset=33)], values=[Name(id='correlation_id', ctx=Load(), lineno=349, col_offset=34, end_lineno=349, end_col_offset=48), Name(id='remediation', ctx=Load(), lineno=350, col_offset=31, end_lineno=350, end_col_offset=42), Name(id='problem', ctx=Load(), lineno=351, col_offset=35, end_lineno=351, end_col_offset=42)], lineno=348, col_offset=18, end_lineno=352, end_col_offset=13), lineno=348, col_offset=12, end_lineno=352, end_col_offset=13), keyword(arg='cause', value=Name(id='exc', ctx=Load(), lineno=353, col_offset=18, end_lineno=353, end_col_offset=21), lineno=353, col_offset=12, end_lineno=353, end_col_offset=21)], lineno=345, col_offset=14, end_lineno=354, end_col_offset=9), cause=Name(id='exc', ctx=Load(), lineno=354, col_offset=15, end_lineno=354, end_col_offset=18), lineno=345, col_offset=8, end_lineno=354, end_col_offset=18)], lineno=315, col_offset=4, end_lineno=354, end_col_offset=18)], orelse=[Expr(value=Call(func=Attribute(value=Name(id='logger', ctx=Load(), lineno=356, col_offset=8, end_lineno=356, end_col_offset=14), attr='info', ctx=Load(), lineno=356, col_offset=8, end_lineno=356, end_col_offset=19), args=[Constant(value='Sphinx imported successfully', lineno=357, col_offset=12, end_lineno=357, end_col_offset=42)], keywords=[keyword(arg='extra', value=Dict(keys=[Constant(value='operation', lineno=359, col_offset=16, end_lineno=359, end_col_offset=27), Constant(value='dependency_module', lineno=360, col_offset=16, end_lineno=360, end_col_offset=35), Constant(value='status', lineno=361, col_offset=16, end_lineno=361, end_col_offset=24), Constant(value='correlation_id', lineno=362, col_offset=16, end_lineno=362, end_col_offset=32)], values=[Constant(value='optional_dependency_import', lineno=359, col_offset=29, end_lineno=359, end_col_offset=57), Constant(value='sphinx', lineno=360, col_offset=37, end_lineno=360, end_col_offset=45), Constant(value='success', lineno=361, col_offset=26, end_lineno=361, end_col_offset=35), Name(id='correlation_id', ctx=Load(), lineno=362, col_offset=34, end_lineno=362, end_col_offset=48)], lineno=358, col_offset=18, end_lineno=363, end_col_offset=13), lineno=358, col_offset=12, end_lineno=363, end_col_offset=13)], lineno=356, col_offset=8, end_lineno=364, end_col_offset=9), lineno=356, col_offset=8, end_lineno=364, end_col_offset=9), Return(value=Name(id='sphinx', ctx=Load(), lineno=365, col_offset=15, end_lineno=365, end_col_offset=21), lineno=365, col_offset=8, end_lineno=365, end_col_offset=21)], lineno=313, col_offset=4, end_lineno=365, end_col_offset=21)], returns=Name(id='object', ctx=Load(), lineno=290, col_offset=28, end_lineno=290, end_col_offset=34), lineno=290, col_offset=0, end_lineno=365, end_col_offset=21)])