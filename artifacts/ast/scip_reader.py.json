Module(body=[Expr(value=Constant(value='SCIP index reader for extracting symbol definitions and ranges.\n\nParses index.scip (protobuf) or index.scip.json and extracts symbol definitions\nwith precise ranges for chunking and code intelligence.\n', lineno=1, col_offset=0, end_lineno=5, end_col_offset=3), lineno=1, col_offset=0, end_lineno=5, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=7, col_offset=23, end_lineno=7, end_col_offset=34)], level=0, lineno=7, col_offset=0, end_lineno=7, end_col_offset=34), Import(names=[alias(name='json', lineno=9, col_offset=7, end_lineno=9, end_col_offset=11)], lineno=9, col_offset=0, end_lineno=9, end_col_offset=11), ImportFrom(module='dataclasses', names=[alias(name='dataclass', lineno=10, col_offset=24, end_lineno=10, end_col_offset=33)], level=0, lineno=10, col_offset=0, end_lineno=10, end_col_offset=33), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=11, col_offset=20, end_lineno=11, end_col_offset=24)], level=0, lineno=11, col_offset=0, end_lineno=11, end_col_offset=24), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=12, col_offset=19, end_lineno=12, end_col_offset=32)], level=0, lineno=12, col_offset=0, end_lineno=12, end_col_offset=32), Import(names=[alias(name='msgspec', lineno=14, col_offset=7, end_lineno=14, end_col_offset=14)], lineno=14, col_offset=0, end_lineno=14, end_col_offset=14), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=16, col_offset=3, end_lineno=16, end_col_offset=16), body=[ImportFrom(module='collections.abc', names=[alias(name='Iterable', lineno=17, col_offset=32, end_lineno=17, end_col_offset=40)], level=0, lineno=17, col_offset=4, end_lineno=17, end_col_offset=40)], lineno=16, col_offset=0, end_lineno=17, end_col_offset=40), Assign(targets=[Name(id='RANGE_TUPLE_LENGTH', ctx=Store(), lineno=20, col_offset=0, end_lineno=20, end_col_offset=18)], value=Constant(value=4, lineno=20, col_offset=21, end_lineno=20, end_col_offset=22), lineno=20, col_offset=0, end_lineno=20, end_col_offset=22), ClassDef(name='Range', body=[Expr(value=Constant(value='Source code range with line and character positions.\n\n    Represents a contiguous region of source code using line and character\n    coordinates. This matches the SCIP/LSP range format, which uses 0-indexed\n    lines and characters (columns).\n\n    Ranges are used to precisely identify symbol definitions and occurrences\n    in source files. They can be converted to byte offsets for text extraction\n    using the line_starts() helper function.\n\n    Attributes\n    ----------\n    start_line : int\n        Starting line number (0-indexed). The first line of a file is line 0.\n        Used with start_character to identify the start position.\n    start_character : int\n        Starting character/column position (0-indexed) within start_line.\n        Character 0 is the first character on the line. Used for precise\n        positioning within a line.\n    end_line : int\n        Ending line number (0-indexed, inclusive). The range spans from\n        start_line to end_line (inclusive).\n    end_character : int\n        Ending character/column position (0-indexed, exclusive) within end_line.\n        The range includes characters from start_character up to (but not\n        including) end_character. This matches LSP/SCIP convention.\n    ', lineno=25, col_offset=4, end_lineno=51, end_col_offset=7), lineno=25, col_offset=4, end_lineno=51, end_col_offset=7), AnnAssign(target=Name(id='start_line', ctx=Store(), lineno=53, col_offset=4, end_lineno=53, end_col_offset=14), annotation=Name(id='int', ctx=Load(), lineno=53, col_offset=16, end_lineno=53, end_col_offset=19), simple=1, lineno=53, col_offset=4, end_lineno=53, end_col_offset=19), AnnAssign(target=Name(id='start_character', ctx=Store(), lineno=54, col_offset=4, end_lineno=54, end_col_offset=19), annotation=Name(id='int', ctx=Load(), lineno=54, col_offset=21, end_lineno=54, end_col_offset=24), simple=1, lineno=54, col_offset=4, end_lineno=54, end_col_offset=24), AnnAssign(target=Name(id='end_line', ctx=Store(), lineno=55, col_offset=4, end_lineno=55, end_col_offset=12), annotation=Name(id='int', ctx=Load(), lineno=55, col_offset=14, end_lineno=55, end_col_offset=17), simple=1, lineno=55, col_offset=4, end_lineno=55, end_col_offset=17), AnnAssign(target=Name(id='end_character', ctx=Store(), lineno=56, col_offset=4, end_lineno=56, end_col_offset=17), annotation=Name(id='int', ctx=Load(), lineno=56, col_offset=19, end_lineno=56, end_col_offset=22), simple=1, lineno=56, col_offset=4, end_lineno=56, end_col_offset=22)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=23, col_offset=1, end_lineno=23, end_col_offset=10), keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=23, col_offset=18, end_lineno=23, end_col_offset=22), lineno=23, col_offset=11, end_lineno=23, end_col_offset=22)], lineno=23, col_offset=1, end_lineno=23, end_col_offset=23)], lineno=24, col_offset=0, end_lineno=56, end_col_offset=22), ClassDef(name='Occurrence', bases=[Attribute(value=Name(id='msgspec', ctx=Load(), lineno=59, col_offset=17, end_lineno=59, end_col_offset=24), attr='Struct', ctx=Load(), lineno=59, col_offset=17, end_lineno=59, end_col_offset=31)], keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=59, col_offset=40, end_lineno=59, end_col_offset=44), lineno=59, col_offset=33, end_lineno=59, end_col_offset=44)], body=[Expr(value=Constant(value='Symbol occurrence in source code.\n\n    Represents a single occurrence of a symbol (definition, reference, etc.)\n    within a source file. Occurrences are extracted from SCIP indexes and\n    used to build symbol-to-location mappings.\n\n    The range is stored as a tuple for efficient serialization, matching the\n    SCIP JSON format. The roles field uses bit flags to indicate the type\n    of occurrence (definition, reference, etc.).\n\n    Attributes\n    ----------\n    symbol : str\n        SCIP symbol identifier string. Format depends on language (e.g.,\n        "python kgfoundry.core#Function.main" for Python). Used to link\n        occurrences to symbol definitions.\n    range : tuple[int, int, int, int]\n        Source code range as (start_line, start_character, end_line, end_character).\n        All values are 0-indexed. The range is inclusive at start, exclusive\n        at end (matching LSP convention). Stored as tuple for JSON compatibility.\n    roles : int\n        Role bitmask indicating the type of occurrence. Bit 0 (LSB) = Definition,\n        other bits indicate references, implementations, etc. Defaults to 0\n        (unknown/unspecified role). Use bitwise AND to check roles:\n        `(occ.roles & 1) != 0` checks for definition.\n    ', lineno=60, col_offset=4, end_lineno=85, end_col_offset=7), lineno=60, col_offset=4, end_lineno=85, end_col_offset=7), AnnAssign(target=Name(id='symbol', ctx=Store(), lineno=87, col_offset=4, end_lineno=87, end_col_offset=10), annotation=Name(id='str', ctx=Load(), lineno=87, col_offset=12, end_lineno=87, end_col_offset=15), simple=1, lineno=87, col_offset=4, end_lineno=87, end_col_offset=15), AnnAssign(target=Name(id='range', ctx=Store(), lineno=88, col_offset=4, end_lineno=88, end_col_offset=9), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=88, col_offset=11, end_lineno=88, end_col_offset=16), slice=Tuple(elts=[Name(id='int', ctx=Load(), lineno=88, col_offset=17, end_lineno=88, end_col_offset=20), Name(id='int', ctx=Load(), lineno=88, col_offset=22, end_lineno=88, end_col_offset=25), Name(id='int', ctx=Load(), lineno=88, col_offset=27, end_lineno=88, end_col_offset=30), Name(id='int', ctx=Load(), lineno=88, col_offset=32, end_lineno=88, end_col_offset=35)], ctx=Load(), lineno=88, col_offset=17, end_lineno=88, end_col_offset=35), ctx=Load(), lineno=88, col_offset=11, end_lineno=88, end_col_offset=36), simple=1, lineno=88, col_offset=4, end_lineno=88, end_col_offset=36), AnnAssign(target=Name(id='roles', ctx=Store(), lineno=89, col_offset=4, end_lineno=89, end_col_offset=9), annotation=Name(id='int', ctx=Load(), lineno=89, col_offset=11, end_lineno=89, end_col_offset=14), value=Constant(value=0, lineno=89, col_offset=17, end_lineno=89, end_col_offset=18), simple=1, lineno=89, col_offset=4, end_lineno=89, end_col_offset=18)], lineno=59, col_offset=0, end_lineno=89, end_col_offset=18), ClassDef(name='Document', bases=[Attribute(value=Name(id='msgspec', ctx=Load(), lineno=92, col_offset=15, end_lineno=92, end_col_offset=22), attr='Struct', ctx=Load(), lineno=92, col_offset=15, end_lineno=92, end_col_offset=29)], keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=92, col_offset=38, end_lineno=92, end_col_offset=42), lineno=92, col_offset=31, end_lineno=92, end_col_offset=42)], body=[Expr(value=Constant(value='SCIP document representing a source file.\n\n    A Document represents a single source file that has been indexed by SCIP.\n    It contains all symbol occurrences (definitions and references) found in\n    that file, along with metadata about the file\'s language and path.\n\n    Documents are immutable and designed for efficient serialization to/from\n    JSON. They are the building blocks of a SCIPIndex.\n\n    Attributes\n    ----------\n    relative_path : str\n        File path relative to the repository root. This matches the path format\n        used in SCIP indexes and is used to locate files during indexing and\n        search. Should use forward slashes even on Windows.\n    language : str\n        Programming language identifier (e.g., "python", "typescript", "go").\n        Used to filter files by language and apply language-specific processing.\n        Matches SCIP language identifiers.\n    occurrences : tuple[Occurrence, ...]\n        All symbol occurrences found in this document. Includes both definitions\n        (where symbols are defined) and references (where symbols are used).\n        Empty tuple if no symbols found. Stored as tuple for immutability and\n        efficient serialization.\n    ', lineno=93, col_offset=4, end_lineno=117, end_col_offset=7), lineno=93, col_offset=4, end_lineno=117, end_col_offset=7), AnnAssign(target=Name(id='relative_path', ctx=Store(), lineno=119, col_offset=4, end_lineno=119, end_col_offset=17), annotation=Name(id='str', ctx=Load(), lineno=119, col_offset=19, end_lineno=119, end_col_offset=22), simple=1, lineno=119, col_offset=4, end_lineno=119, end_col_offset=22), AnnAssign(target=Name(id='language', ctx=Store(), lineno=120, col_offset=4, end_lineno=120, end_col_offset=12), annotation=Name(id='str', ctx=Load(), lineno=120, col_offset=14, end_lineno=120, end_col_offset=17), simple=1, lineno=120, col_offset=4, end_lineno=120, end_col_offset=17), AnnAssign(target=Name(id='occurrences', ctx=Store(), lineno=121, col_offset=4, end_lineno=121, end_col_offset=15), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=121, col_offset=17, end_lineno=121, end_col_offset=22), slice=Tuple(elts=[Name(id='Occurrence', ctx=Load(), lineno=121, col_offset=23, end_lineno=121, end_col_offset=33), Constant(value=Ellipsis, lineno=121, col_offset=35, end_lineno=121, end_col_offset=38)], ctx=Load(), lineno=121, col_offset=23, end_lineno=121, end_col_offset=38), ctx=Load(), lineno=121, col_offset=17, end_lineno=121, end_col_offset=39), value=Tuple(ctx=Load(), lineno=121, col_offset=42, end_lineno=121, end_col_offset=44), simple=1, lineno=121, col_offset=4, end_lineno=121, end_col_offset=44)], lineno=92, col_offset=0, end_lineno=121, end_col_offset=44), ClassDef(name='SCIPIndex', bases=[Attribute(value=Name(id='msgspec', ctx=Load(), lineno=124, col_offset=16, end_lineno=124, end_col_offset=23), attr='Struct', ctx=Load(), lineno=124, col_offset=16, end_lineno=124, end_col_offset=30)], keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=124, col_offset=39, end_lineno=124, end_col_offset=43), lineno=124, col_offset=32, end_lineno=124, end_col_offset=43)], body=[Expr(value=Constant(value="SCIP index containing all indexed documents.\n\n    The root structure of a SCIP index, containing all documents (source files)\n    that have been indexed. This is the top-level object returned by parse_scip_json()\n    and is used to extract symbol definitions and build the code intelligence index.\n\n    The index is immutable and can be safely shared across threads. It's designed\n    for efficient serialization to/from JSON format.\n\n    Attributes\n    ----------\n    documents : tuple[Document, ...]\n        All indexed documents (source files) in the repository. Each document\n        contains symbol occurrences for one file. Empty tuple if no documents\n        indexed. Documents are typically sorted by relative_path for consistent\n        ordering.\n    ", lineno=125, col_offset=4, end_lineno=141, end_col_offset=7), lineno=125, col_offset=4, end_lineno=141, end_col_offset=7), AnnAssign(target=Name(id='documents', ctx=Store(), lineno=143, col_offset=4, end_lineno=143, end_col_offset=13), annotation=Subscript(value=Name(id='tuple', ctx=Load(), lineno=143, col_offset=15, end_lineno=143, end_col_offset=20), slice=Tuple(elts=[Name(id='Document', ctx=Load(), lineno=143, col_offset=21, end_lineno=143, end_col_offset=29), Constant(value=Ellipsis, lineno=143, col_offset=31, end_lineno=143, end_col_offset=34)], ctx=Load(), lineno=143, col_offset=21, end_lineno=143, end_col_offset=34), ctx=Load(), lineno=143, col_offset=15, end_lineno=143, end_col_offset=35), value=Tuple(ctx=Load(), lineno=143, col_offset=38, end_lineno=143, end_col_offset=40), simple=1, lineno=143, col_offset=4, end_lineno=143, end_col_offset=40)], lineno=124, col_offset=0, end_lineno=143, end_col_offset=40), ClassDef(name='SymbolDef', body=[Expr(value=Constant(value='Extracted symbol definition with location information.\n\n    Represents a single symbol definition extracted from a SCIP index. This is\n    the processed form of an Occurrence with role=Definition, converted to\n    a more convenient format for chunking and indexing.\n\n    SymbolDef objects are used by the cAST chunker to create structure-aware\n    chunks that respect symbol boundaries. They\'re also used for symbol search\n    and "go to definition" functionality.\n\n    Attributes\n    ----------\n    symbol : str\n        SCIP symbol identifier string (e.g., "python kgfoundry.core#Function.main").\n        Uniquely identifies the symbol across the entire codebase. Used for\n        cross-references and symbol search.\n    path : str\n        File path where this symbol is defined. Typically a relative path from\n        the repository root, matching the Document.relative_path format.\n    range : Range\n        Precise source code range where the symbol is defined. Includes start\n        and end line/character positions. Used for exact location navigation\n        and text extraction.\n    language : str\n        Programming language of the file containing this symbol (e.g., "python").\n        Used for language-specific processing and filtering. Matches the\n        Document.language value.\n    ', lineno=148, col_offset=4, end_lineno=175, end_col_offset=7), lineno=148, col_offset=4, end_lineno=175, end_col_offset=7), AnnAssign(target=Name(id='symbol', ctx=Store(), lineno=177, col_offset=4, end_lineno=177, end_col_offset=10), annotation=Name(id='str', ctx=Load(), lineno=177, col_offset=12, end_lineno=177, end_col_offset=15), simple=1, lineno=177, col_offset=4, end_lineno=177, end_col_offset=15), AnnAssign(target=Name(id='path', ctx=Store(), lineno=178, col_offset=4, end_lineno=178, end_col_offset=8), annotation=Name(id='str', ctx=Load(), lineno=178, col_offset=10, end_lineno=178, end_col_offset=13), simple=1, lineno=178, col_offset=4, end_lineno=178, end_col_offset=13), AnnAssign(target=Name(id='range', ctx=Store(), lineno=179, col_offset=4, end_lineno=179, end_col_offset=9), annotation=Name(id='Range', ctx=Load(), lineno=179, col_offset=11, end_lineno=179, end_col_offset=16), simple=1, lineno=179, col_offset=4, end_lineno=179, end_col_offset=16), AnnAssign(target=Name(id='language', ctx=Store(), lineno=180, col_offset=4, end_lineno=180, end_col_offset=12), annotation=Name(id='str', ctx=Load(), lineno=180, col_offset=14, end_lineno=180, end_col_offset=17), simple=1, lineno=180, col_offset=4, end_lineno=180, end_col_offset=17)], decorator_list=[Call(func=Name(id='dataclass', ctx=Load(), lineno=146, col_offset=1, end_lineno=146, end_col_offset=10), keywords=[keyword(arg='frozen', value=Constant(value=True, lineno=146, col_offset=18, end_lineno=146, end_col_offset=22), lineno=146, col_offset=11, end_lineno=146, end_col_offset=22)], lineno=146, col_offset=1, end_lineno=146, end_col_offset=23)], lineno=147, col_offset=0, end_lineno=180, end_col_offset=17), FunctionDef(name='parse_scip_json', args=arguments(args=[arg(arg='json_path', annotation=Name(id='Path', ctx=Load(), lineno=183, col_offset=31, end_lineno=183, end_col_offset=35), lineno=183, col_offset=20, end_lineno=183, end_col_offset=35)]), body=[Expr(value=Constant(value='Parse SCIP index from JSON export.\n\n    Reads and parses a SCIP index that has been exported to JSON format.\n    The JSON format is more convenient than the binary protobuf format for\n    Python processing and debugging.\n\n    The function handles various SCIP JSON formats (different versions may have\n    slightly different field names) and converts them to the canonical SCIPIndex\n    structure. It extracts documents and their occurrences, converting range\n    formats (array vs object) to the standard tuple format.\n\n    Parameters\n    ----------\n    json_path : Path\n        Path to the index.scip.json file. This is typically generated by\n        exporting a binary SCIP index using the SCIP CLI tool.\n\n    Returns\n    -------\n    SCIPIndex\n        Parsed SCIP index containing all documents and their symbol occurrences.\n        The index is ready for use with extract_definitions() and other processing\n        functions.\n\n    Notes\n    -----\n    The function gracefully handles missing or malformed data:\n    - Documents without relative_path are skipped\n    - Occurrences without symbols are skipped\n    - Invalid range formats are skipped\n    - Missing fields use empty defaults\n\n    The function does not raise exceptions for parsing errors - it silently\n    skips invalid entries to ensure robust processing of partial indexes.\n    ', lineno=184, col_offset=4, end_lineno=218, end_col_offset=7), lineno=184, col_offset=4, end_lineno=218, end_col_offset=7), With(items=[withitem(context_expr=Call(func=Attribute(value=Name(id='json_path', ctx=Load(), lineno=219, col_offset=9, end_lineno=219, end_col_offset=18), attr='open', ctx=Load(), lineno=219, col_offset=9, end_lineno=219, end_col_offset=23), args=[Constant(value='r', lineno=219, col_offset=24, end_lineno=219, end_col_offset=27)], keywords=[keyword(arg='encoding', value=Constant(value='utf-8', lineno=219, col_offset=38, end_lineno=219, end_col_offset=45), lineno=219, col_offset=29, end_lineno=219, end_col_offset=45)], lineno=219, col_offset=9, end_lineno=219, end_col_offset=46), optional_vars=Name(id='f', ctx=Store(), lineno=219, col_offset=50, end_lineno=219, end_col_offset=51))], body=[Assign(targets=[Name(id='data', ctx=Store(), lineno=220, col_offset=8, end_lineno=220, end_col_offset=12)], value=Call(func=Attribute(value=Name(id='json', ctx=Load(), lineno=220, col_offset=15, end_lineno=220, end_col_offset=19), attr='load', ctx=Load(), lineno=220, col_offset=15, end_lineno=220, end_col_offset=24), args=[Name(id='f', ctx=Load(), lineno=220, col_offset=25, end_lineno=220, end_col_offset=26)], lineno=220, col_offset=15, end_lineno=220, end_col_offset=27), lineno=220, col_offset=8, end_lineno=220, end_col_offset=27)], lineno=219, col_offset=4, end_lineno=220, end_col_offset=27), Assign(targets=[Name(id='documents', ctx=Store(), lineno=222, col_offset=4, end_lineno=222, end_col_offset=13)], value=List(ctx=Load(), lineno=222, col_offset=16, end_lineno=222, end_col_offset=18), lineno=222, col_offset=4, end_lineno=222, end_col_offset=18), For(target=Name(id='doc_data', ctx=Store(), lineno=223, col_offset=8, end_lineno=223, end_col_offset=16), iter=Call(func=Attribute(value=Name(id='data', ctx=Load(), lineno=223, col_offset=20, end_lineno=223, end_col_offset=24), attr='get', ctx=Load(), lineno=223, col_offset=20, end_lineno=223, end_col_offset=28), args=[Constant(value='documents', lineno=223, col_offset=29, end_lineno=223, end_col_offset=40), List(ctx=Load(), lineno=223, col_offset=42, end_lineno=223, end_col_offset=44)], lineno=223, col_offset=20, end_lineno=223, end_col_offset=45), body=[Assign(targets=[Name(id='relative_path', ctx=Store(), lineno=224, col_offset=8, end_lineno=224, end_col_offset=21)], value=BoolOp(op=Or(), values=[Call(func=Attribute(value=Name(id='doc_data', ctx=Load(), lineno=224, col_offset=24, end_lineno=224, end_col_offset=32), attr='get', ctx=Load(), lineno=224, col_offset=24, end_lineno=224, end_col_offset=36), args=[Constant(value='relativePath', lineno=224, col_offset=37, end_lineno=224, end_col_offset=51)], lineno=224, col_offset=24, end_lineno=224, end_col_offset=52), Call(func=Attribute(value=Name(id='doc_data', ctx=Load(), lineno=224, col_offset=56, end_lineno=224, end_col_offset=64), attr='get', ctx=Load(), lineno=224, col_offset=56, end_lineno=224, end_col_offset=68), args=[Constant(value='relative_path', lineno=224, col_offset=69, end_lineno=224, end_col_offset=84), Constant(value='', lineno=224, col_offset=86, end_lineno=224, end_col_offset=88)], lineno=224, col_offset=56, end_lineno=224, end_col_offset=89)], lineno=224, col_offset=24, end_lineno=224, end_col_offset=89), lineno=224, col_offset=8, end_lineno=224, end_col_offset=89), Assign(targets=[Name(id='language', ctx=Store(), lineno=225, col_offset=8, end_lineno=225, end_col_offset=16)], value=Call(func=Attribute(value=Name(id='doc_data', ctx=Load(), lineno=225, col_offset=19, end_lineno=225, end_col_offset=27), attr='get', ctx=Load(), lineno=225, col_offset=19, end_lineno=225, end_col_offset=31), args=[Constant(value='language', lineno=225, col_offset=32, end_lineno=225, end_col_offset=42), Constant(value='', lineno=225, col_offset=44, end_lineno=225, end_col_offset=46)], lineno=225, col_offset=19, end_lineno=225, end_col_offset=47), lineno=225, col_offset=8, end_lineno=225, end_col_offset=47), Assign(targets=[Name(id='occurrences', ctx=Store(), lineno=227, col_offset=8, end_lineno=227, end_col_offset=19)], value=List(ctx=Load(), lineno=227, col_offset=22, end_lineno=227, end_col_offset=24), lineno=227, col_offset=8, end_lineno=227, end_col_offset=24), For(target=Name(id='occ', ctx=Store(), lineno=228, col_offset=12, end_lineno=228, end_col_offset=15), iter=Call(func=Attribute(value=Name(id='doc_data', ctx=Load(), lineno=228, col_offset=19, end_lineno=228, end_col_offset=27), attr='get', ctx=Load(), lineno=228, col_offset=19, end_lineno=228, end_col_offset=31), args=[Constant(value='occurrences', lineno=228, col_offset=32, end_lineno=228, end_col_offset=45), List(ctx=Load(), lineno=228, col_offset=47, end_lineno=228, end_col_offset=49)], lineno=228, col_offset=19, end_lineno=228, end_col_offset=50), body=[Assign(targets=[Name(id='symbol', ctx=Store(), lineno=229, col_offset=12, end_lineno=229, end_col_offset=18)], value=Call(func=Attribute(value=Name(id='occ', ctx=Load(), lineno=229, col_offset=21, end_lineno=229, end_col_offset=24), attr='get', ctx=Load(), lineno=229, col_offset=21, end_lineno=229, end_col_offset=28), args=[Constant(value='symbol', lineno=229, col_offset=29, end_lineno=229, end_col_offset=37), Constant(value='', lineno=229, col_offset=39, end_lineno=229, end_col_offset=41)], lineno=229, col_offset=21, end_lineno=229, end_col_offset=42), lineno=229, col_offset=12, end_lineno=229, end_col_offset=42), If(test=UnaryOp(op=Not(), operand=Name(id='symbol', ctx=Load(), lineno=230, col_offset=19, end_lineno=230, end_col_offset=25), lineno=230, col_offset=15, end_lineno=230, end_col_offset=25), body=[Continue(lineno=231, col_offset=16, end_lineno=231, end_col_offset=24)], lineno=230, col_offset=12, end_lineno=231, end_col_offset=24), Assign(targets=[Name(id='rng', ctx=Store(), lineno=234, col_offset=12, end_lineno=234, end_col_offset=15)], value=BoolOp(op=Or(), values=[Call(func=Attribute(value=Name(id='occ', ctx=Load(), lineno=234, col_offset=18, end_lineno=234, end_col_offset=21), attr='get', ctx=Load(), lineno=234, col_offset=18, end_lineno=234, end_col_offset=25), args=[Constant(value='range', lineno=234, col_offset=26, end_lineno=234, end_col_offset=33)], lineno=234, col_offset=18, end_lineno=234, end_col_offset=34), Call(func=Attribute(value=Name(id='occ', ctx=Load(), lineno=234, col_offset=38, end_lineno=234, end_col_offset=41), attr='get', ctx=Load(), lineno=234, col_offset=38, end_lineno=234, end_col_offset=45), args=[Constant(value='enclosingRange', lineno=234, col_offset=46, end_lineno=234, end_col_offset=62)], lineno=234, col_offset=38, end_lineno=234, end_col_offset=63)], lineno=234, col_offset=18, end_lineno=234, end_col_offset=63), lineno=234, col_offset=12, end_lineno=234, end_col_offset=63), If(test=BoolOp(op=And(), values=[Call(func=Name(id='isinstance', ctx=Load(), lineno=235, col_offset=15, end_lineno=235, end_col_offset=25), args=[Name(id='rng', ctx=Load(), lineno=235, col_offset=26, end_lineno=235, end_col_offset=29), Name(id='list', ctx=Load(), lineno=235, col_offset=31, end_lineno=235, end_col_offset=35)], lineno=235, col_offset=15, end_lineno=235, end_col_offset=36), Compare(left=Call(func=Name(id='len', ctx=Load(), lineno=235, col_offset=41, end_lineno=235, end_col_offset=44), args=[Name(id='rng', ctx=Load(), lineno=235, col_offset=45, end_lineno=235, end_col_offset=48)], lineno=235, col_offset=41, end_lineno=235, end_col_offset=49), ops=[Eq()], comparators=[Name(id='RANGE_TUPLE_LENGTH', ctx=Load(), lineno=235, col_offset=53, end_lineno=235, end_col_offset=71)], lineno=235, col_offset=41, end_lineno=235, end_col_offset=71)], lineno=235, col_offset=15, end_lineno=235, end_col_offset=71), body=[Assign(targets=[Name(id='range_tuple', ctx=Store(), lineno=236, col_offset=16, end_lineno=236, end_col_offset=27)], value=Call(func=Name(id='tuple', ctx=Load(), lineno=236, col_offset=30, end_lineno=236, end_col_offset=35), args=[Name(id='rng', ctx=Load(), lineno=236, col_offset=36, end_lineno=236, end_col_offset=39)], lineno=236, col_offset=30, end_lineno=236, end_col_offset=40), lineno=236, col_offset=16, end_lineno=236, end_col_offset=40)], orelse=[If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=237, col_offset=17, end_lineno=237, end_col_offset=27), args=[Name(id='rng', ctx=Load(), lineno=237, col_offset=28, end_lineno=237, end_col_offset=31), Name(id='dict', ctx=Load(), lineno=237, col_offset=33, end_lineno=237, end_col_offset=37)], lineno=237, col_offset=17, end_lineno=237, end_col_offset=38), body=[Assign(targets=[Name(id='start', ctx=Store(), lineno=238, col_offset=16, end_lineno=238, end_col_offset=21)], value=Call(func=Attribute(value=Name(id='rng', ctx=Load(), lineno=238, col_offset=24, end_lineno=238, end_col_offset=27), attr='get', ctx=Load(), lineno=238, col_offset=24, end_lineno=238, end_col_offset=31), args=[Constant(value='start', lineno=238, col_offset=32, end_lineno=238, end_col_offset=39), Dict(lineno=238, col_offset=41, end_lineno=238, end_col_offset=43)], lineno=238, col_offset=24, end_lineno=238, end_col_offset=44), lineno=238, col_offset=16, end_lineno=238, end_col_offset=44), Assign(targets=[Name(id='end', ctx=Store(), lineno=239, col_offset=16, end_lineno=239, end_col_offset=19)], value=Call(func=Attribute(value=Name(id='rng', ctx=Load(), lineno=239, col_offset=22, end_lineno=239, end_col_offset=25), attr='get', ctx=Load(), lineno=239, col_offset=22, end_lineno=239, end_col_offset=29), args=[Constant(value='end', lineno=239, col_offset=30, end_lineno=239, end_col_offset=35), Dict(lineno=239, col_offset=37, end_lineno=239, end_col_offset=39)], lineno=239, col_offset=22, end_lineno=239, end_col_offset=40), lineno=239, col_offset=16, end_lineno=239, end_col_offset=40), Assign(targets=[Name(id='range_tuple', ctx=Store(), lineno=240, col_offset=16, end_lineno=240, end_col_offset=27)], value=Tuple(elts=[Call(func=Attribute(value=Name(id='start', ctx=Load(), lineno=241, col_offset=20, end_lineno=241, end_col_offset=25), attr='get', ctx=Load(), lineno=241, col_offset=20, end_lineno=241, end_col_offset=29), args=[Constant(value='line', lineno=241, col_offset=30, end_lineno=241, end_col_offset=36), Constant(value=0, lineno=241, col_offset=38, end_lineno=241, end_col_offset=39)], lineno=241, col_offset=20, end_lineno=241, end_col_offset=40), Call(func=Attribute(value=Name(id='start', ctx=Load(), lineno=242, col_offset=20, end_lineno=242, end_col_offset=25), attr='get', ctx=Load(), lineno=242, col_offset=20, end_lineno=242, end_col_offset=29), args=[Constant(value='character', lineno=242, col_offset=30, end_lineno=242, end_col_offset=41), Constant(value=0, lineno=242, col_offset=43, end_lineno=242, end_col_offset=44)], lineno=242, col_offset=20, end_lineno=242, end_col_offset=45), Call(func=Attribute(value=Name(id='end', ctx=Load(), lineno=243, col_offset=20, end_lineno=243, end_col_offset=23), attr='get', ctx=Load(), lineno=243, col_offset=20, end_lineno=243, end_col_offset=27), args=[Constant(value='line', lineno=243, col_offset=28, end_lineno=243, end_col_offset=34), Constant(value=0, lineno=243, col_offset=36, end_lineno=243, end_col_offset=37)], lineno=243, col_offset=20, end_lineno=243, end_col_offset=38), Call(func=Attribute(value=Name(id='end', ctx=Load(), lineno=244, col_offset=20, end_lineno=244, end_col_offset=23), attr='get', ctx=Load(), lineno=244, col_offset=20, end_lineno=244, end_col_offset=27), args=[Constant(value='character', lineno=244, col_offset=28, end_lineno=244, end_col_offset=39), Constant(value=0, lineno=244, col_offset=41, end_lineno=244, end_col_offset=42)], lineno=244, col_offset=20, end_lineno=244, end_col_offset=43)], ctx=Load(), lineno=240, col_offset=30, end_lineno=245, end_col_offset=17), lineno=240, col_offset=16, end_lineno=245, end_col_offset=17)], orelse=[Continue(lineno=247, col_offset=16, end_lineno=247, end_col_offset=24)], lineno=237, col_offset=12, end_lineno=247, end_col_offset=24)], lineno=235, col_offset=12, end_lineno=247, end_col_offset=24), Assign(targets=[Name(id='roles', ctx=Store(), lineno=249, col_offset=12, end_lineno=249, end_col_offset=17)], value=BoolOp(op=Or(), values=[Call(func=Attribute(value=Name(id='occ', ctx=Load(), lineno=249, col_offset=20, end_lineno=249, end_col_offset=23), attr='get', ctx=Load(), lineno=249, col_offset=20, end_lineno=249, end_col_offset=27), args=[Constant(value='symbolRoles', lineno=249, col_offset=28, end_lineno=249, end_col_offset=41)], lineno=249, col_offset=20, end_lineno=249, end_col_offset=42), Call(func=Attribute(value=Name(id='occ', ctx=Load(), lineno=249, col_offset=46, end_lineno=249, end_col_offset=49), attr='get', ctx=Load(), lineno=249, col_offset=46, end_lineno=249, end_col_offset=53), args=[Constant(value='symbol_roles', lineno=249, col_offset=54, end_lineno=249, end_col_offset=68)], lineno=249, col_offset=46, end_lineno=249, end_col_offset=69), Constant(value=0, lineno=249, col_offset=73, end_lineno=249, end_col_offset=74)], lineno=249, col_offset=20, end_lineno=249, end_col_offset=74), lineno=249, col_offset=12, end_lineno=249, end_col_offset=74), If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=250, col_offset=15, end_lineno=250, end_col_offset=25), args=[Name(id='roles', ctx=Load(), lineno=250, col_offset=26, end_lineno=250, end_col_offset=31), Name(id='list', ctx=Load(), lineno=250, col_offset=33, end_lineno=250, end_col_offset=37)], lineno=250, col_offset=15, end_lineno=250, end_col_offset=38), body=[Assign(targets=[Name(id='role_val', ctx=Store(), lineno=252, col_offset=16, end_lineno=252, end_col_offset=24)], value=Constant(value=0, lineno=252, col_offset=27, end_lineno=252, end_col_offset=28), lineno=252, col_offset=16, end_lineno=252, end_col_offset=28), For(target=Name(id='r', ctx=Store(), lineno=253, col_offset=20, end_lineno=253, end_col_offset=21), iter=Name(id='roles', ctx=Load(), lineno=253, col_offset=25, end_lineno=253, end_col_offset=30), body=[If(test=Compare(left=Name(id='r', ctx=Load(), lineno=254, col_offset=23, end_lineno=254, end_col_offset=24), ops=[In()], comparators=[Set(elts=[Constant(value=1, lineno=254, col_offset=29, end_lineno=254, end_col_offset=30), Constant(value='DEFINITION', lineno=254, col_offset=32, end_lineno=254, end_col_offset=44)], lineno=254, col_offset=28, end_lineno=254, end_col_offset=45)], lineno=254, col_offset=23, end_lineno=254, end_col_offset=45), body=[AugAssign(target=Name(id='role_val', ctx=Store(), lineno=255, col_offset=24, end_lineno=255, end_col_offset=32), op=BitOr(), value=Constant(value=1, lineno=255, col_offset=36, end_lineno=255, end_col_offset=37), lineno=255, col_offset=24, end_lineno=255, end_col_offset=37)], lineno=254, col_offset=20, end_lineno=255, end_col_offset=37)], lineno=253, col_offset=16, end_lineno=255, end_col_offset=37), Assign(targets=[Name(id='roles', ctx=Store(), lineno=256, col_offset=16, end_lineno=256, end_col_offset=21)], value=Name(id='role_val', ctx=Load(), lineno=256, col_offset=24, end_lineno=256, end_col_offset=32), lineno=256, col_offset=16, end_lineno=256, end_col_offset=32)], lineno=250, col_offset=12, end_lineno=256, end_col_offset=32), Expr(value=Call(func=Attribute(value=Name(id='occurrences', ctx=Load(), lineno=258, col_offset=12, end_lineno=258, end_col_offset=23), attr='append', ctx=Load(), lineno=258, col_offset=12, end_lineno=258, end_col_offset=30), args=[Call(func=Name(id='Occurrence', ctx=Load(), lineno=258, col_offset=31, end_lineno=258, end_col_offset=41), keywords=[keyword(arg='symbol', value=Name(id='symbol', ctx=Load(), lineno=258, col_offset=49, end_lineno=258, end_col_offset=55), lineno=258, col_offset=42, end_lineno=258, end_col_offset=55), keyword(arg='range', value=Name(id='range_tuple', ctx=Load(), lineno=258, col_offset=63, end_lineno=258, end_col_offset=74), lineno=258, col_offset=57, end_lineno=258, end_col_offset=74), keyword(arg='roles', value=Name(id='roles', ctx=Load(), lineno=258, col_offset=82, end_lineno=258, end_col_offset=87), lineno=258, col_offset=76, end_lineno=258, end_col_offset=87)], lineno=258, col_offset=31, end_lineno=258, end_col_offset=88)], lineno=258, col_offset=12, end_lineno=258, end_col_offset=89), lineno=258, col_offset=12, end_lineno=258, end_col_offset=89)], lineno=228, col_offset=8, end_lineno=258, end_col_offset=89), If(test=Name(id='relative_path', ctx=Load(), lineno=260, col_offset=11, end_lineno=260, end_col_offset=24), body=[Expr(value=Call(func=Attribute(value=Name(id='documents', ctx=Load(), lineno=261, col_offset=12, end_lineno=261, end_col_offset=21), attr='append', ctx=Load(), lineno=261, col_offset=12, end_lineno=261, end_col_offset=28), args=[Call(func=Name(id='Document', ctx=Load(), lineno=262, col_offset=16, end_lineno=262, end_col_offset=24), keywords=[keyword(arg='relative_path', value=Name(id='relative_path', ctx=Load(), lineno=263, col_offset=34, end_lineno=263, end_col_offset=47), lineno=263, col_offset=20, end_lineno=263, end_col_offset=47), keyword(arg='language', value=Name(id='language', ctx=Load(), lineno=264, col_offset=29, end_lineno=264, end_col_offset=37), lineno=264, col_offset=20, end_lineno=264, end_col_offset=37), keyword(arg='occurrences', value=Call(func=Name(id='tuple', ctx=Load(), lineno=265, col_offset=32, end_lineno=265, end_col_offset=37), args=[Name(id='occurrences', ctx=Load(), lineno=265, col_offset=38, end_lineno=265, end_col_offset=49)], lineno=265, col_offset=32, end_lineno=265, end_col_offset=50), lineno=265, col_offset=20, end_lineno=265, end_col_offset=50)], lineno=262, col_offset=16, end_lineno=266, end_col_offset=17)], lineno=261, col_offset=12, end_lineno=267, end_col_offset=13), lineno=261, col_offset=12, end_lineno=267, end_col_offset=13)], lineno=260, col_offset=8, end_lineno=267, end_col_offset=13)], lineno=223, col_offset=4, end_lineno=267, end_col_offset=13), Return(value=Call(func=Name(id='SCIPIndex', ctx=Load(), lineno=269, col_offset=11, end_lineno=269, end_col_offset=20), keywords=[keyword(arg='documents', value=Call(func=Name(id='tuple', ctx=Load(), lineno=269, col_offset=31, end_lineno=269, end_col_offset=36), args=[Name(id='documents', ctx=Load(), lineno=269, col_offset=37, end_lineno=269, end_col_offset=46)], lineno=269, col_offset=31, end_lineno=269, end_col_offset=47), lineno=269, col_offset=21, end_lineno=269, end_col_offset=47)], lineno=269, col_offset=11, end_lineno=269, end_col_offset=48), lineno=269, col_offset=4, end_lineno=269, end_col_offset=48)], returns=Name(id='SCIPIndex', ctx=Load(), lineno=183, col_offset=40, end_lineno=183, end_col_offset=49), lineno=183, col_offset=0, end_lineno=269, end_col_offset=48), FunctionDef(name='extract_definitions', args=arguments(args=[arg(arg='index', annotation=Name(id='SCIPIndex', ctx=Load(), lineno=272, col_offset=31, end_lineno=272, end_col_offset=40), lineno=272, col_offset=24, end_lineno=272, end_col_offset=40)]), body=[Expr(value=Constant(value='Extract symbol definitions from SCIP index.\n\n    Yields definition occurrences (roles & 1 != 0) or first occurrence per symbol\n    as fallback.\n\n    Parameters\n    ----------\n    index : SCIPIndex\n        Parsed SCIP index.\n\n    Yields\n    ------\n    SymbolDef\n        Symbol definition with range.\n    ', lineno=273, col_offset=4, end_lineno=287, end_col_offset=7), lineno=273, col_offset=4, end_lineno=287, end_col_offset=7), For(target=Name(id='doc', ctx=Store(), lineno=288, col_offset=8, end_lineno=288, end_col_offset=11), iter=Attribute(value=Name(id='index', ctx=Load(), lineno=288, col_offset=15, end_lineno=288, end_col_offset=20), attr='documents', ctx=Load(), lineno=288, col_offset=15, end_lineno=288, end_col_offset=30), body=[AnnAssign(target=Name(id='first_by_symbol', ctx=Store(), lineno=290, col_offset=8, end_lineno=290, end_col_offset=23), annotation=Subscript(value=Name(id='dict', ctx=Load(), lineno=290, col_offset=25, end_lineno=290, end_col_offset=29), slice=Tuple(elts=[Name(id='str', ctx=Load(), lineno=290, col_offset=30, end_lineno=290, end_col_offset=33), Name(id='Occurrence', ctx=Load(), lineno=290, col_offset=35, end_lineno=290, end_col_offset=45)], ctx=Load(), lineno=290, col_offset=30, end_lineno=290, end_col_offset=45), ctx=Load(), lineno=290, col_offset=25, end_lineno=290, end_col_offset=46), value=Dict(lineno=290, col_offset=49, end_lineno=290, end_col_offset=51), simple=1, lineno=290, col_offset=8, end_lineno=290, end_col_offset=51), AnnAssign(target=Name(id='definitions', ctx=Store(), lineno=291, col_offset=8, end_lineno=291, end_col_offset=19), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=291, col_offset=21, end_lineno=291, end_col_offset=25), slice=Name(id='SymbolDef', ctx=Load(), lineno=291, col_offset=26, end_lineno=291, end_col_offset=35), ctx=Load(), lineno=291, col_offset=21, end_lineno=291, end_col_offset=36), value=List(ctx=Load(), lineno=291, col_offset=39, end_lineno=291, end_col_offset=41), simple=1, lineno=291, col_offset=8, end_lineno=291, end_col_offset=41), For(target=Name(id='occ', ctx=Store(), lineno=293, col_offset=12, end_lineno=293, end_col_offset=15), iter=Attribute(value=Name(id='doc', ctx=Load(), lineno=293, col_offset=19, end_lineno=293, end_col_offset=22), attr='occurrences', ctx=Load(), lineno=293, col_offset=19, end_lineno=293, end_col_offset=34), body=[Assign(targets=[Name(id='is_def', ctx=Store(), lineno=294, col_offset=12, end_lineno=294, end_col_offset=18)], value=Compare(left=BinOp(left=Attribute(value=Name(id='occ', ctx=Load(), lineno=294, col_offset=22, end_lineno=294, end_col_offset=25), attr='roles', ctx=Load(), lineno=294, col_offset=22, end_lineno=294, end_col_offset=31), op=BitAnd(), right=Constant(value=1, lineno=294, col_offset=34, end_lineno=294, end_col_offset=35), lineno=294, col_offset=22, end_lineno=294, end_col_offset=35), ops=[NotEq()], comparators=[Constant(value=0, lineno=294, col_offset=40, end_lineno=294, end_col_offset=41)], lineno=294, col_offset=21, end_lineno=294, end_col_offset=41), lineno=294, col_offset=12, end_lineno=294, end_col_offset=41), If(test=Name(id='is_def', ctx=Load(), lineno=295, col_offset=15, end_lineno=295, end_col_offset=21), body=[Assign(targets=[Tuple(elts=[Name(id='sl', ctx=Store(), lineno=296, col_offset=16, end_lineno=296, end_col_offset=18), Name(id='sc', ctx=Store(), lineno=296, col_offset=20, end_lineno=296, end_col_offset=22), Name(id='el', ctx=Store(), lineno=296, col_offset=24, end_lineno=296, end_col_offset=26), Name(id='ec', ctx=Store(), lineno=296, col_offset=28, end_lineno=296, end_col_offset=30)], ctx=Store(), lineno=296, col_offset=16, end_lineno=296, end_col_offset=30)], value=Attribute(value=Name(id='occ', ctx=Load(), lineno=296, col_offset=33, end_lineno=296, end_col_offset=36), attr='range', ctx=Load(), lineno=296, col_offset=33, end_lineno=296, end_col_offset=42), lineno=296, col_offset=16, end_lineno=296, end_col_offset=42), Expr(value=Call(func=Attribute(value=Name(id='definitions', ctx=Load(), lineno=297, col_offset=16, end_lineno=297, end_col_offset=27), attr='append', ctx=Load(), lineno=297, col_offset=16, end_lineno=297, end_col_offset=34), args=[Call(func=Name(id='SymbolDef', ctx=Load(), lineno=298, col_offset=20, end_lineno=298, end_col_offset=29), keywords=[keyword(arg='symbol', value=Attribute(value=Name(id='occ', ctx=Load(), lineno=299, col_offset=31, end_lineno=299, end_col_offset=34), attr='symbol', ctx=Load(), lineno=299, col_offset=31, end_lineno=299, end_col_offset=41), lineno=299, col_offset=24, end_lineno=299, end_col_offset=41), keyword(arg='path', value=Attribute(value=Name(id='doc', ctx=Load(), lineno=300, col_offset=29, end_lineno=300, end_col_offset=32), attr='relative_path', ctx=Load(), lineno=300, col_offset=29, end_lineno=300, end_col_offset=46), lineno=300, col_offset=24, end_lineno=300, end_col_offset=46), keyword(arg='range', value=Call(func=Name(id='Range', ctx=Load(), lineno=301, col_offset=30, end_lineno=301, end_col_offset=35), args=[Name(id='sl', ctx=Load(), lineno=301, col_offset=36, end_lineno=301, end_col_offset=38), Name(id='sc', ctx=Load(), lineno=301, col_offset=40, end_lineno=301, end_col_offset=42), Name(id='el', ctx=Load(), lineno=301, col_offset=44, end_lineno=301, end_col_offset=46), Name(id='ec', ctx=Load(), lineno=301, col_offset=48, end_lineno=301, end_col_offset=50)], lineno=301, col_offset=30, end_lineno=301, end_col_offset=51), lineno=301, col_offset=24, end_lineno=301, end_col_offset=51), keyword(arg='language', value=Attribute(value=Name(id='doc', ctx=Load(), lineno=302, col_offset=33, end_lineno=302, end_col_offset=36), attr='language', ctx=Load(), lineno=302, col_offset=33, end_lineno=302, end_col_offset=45), lineno=302, col_offset=24, end_lineno=302, end_col_offset=45)], lineno=298, col_offset=20, end_lineno=303, end_col_offset=21)], lineno=297, col_offset=16, end_lineno=304, end_col_offset=17), lineno=297, col_offset=16, end_lineno=304, end_col_offset=17)], lineno=295, col_offset=12, end_lineno=304, end_col_offset=17), If(test=Compare(left=Attribute(value=Name(id='occ', ctx=Load(), lineno=305, col_offset=15, end_lineno=305, end_col_offset=18), attr='symbol', ctx=Load(), lineno=305, col_offset=15, end_lineno=305, end_col_offset=25), ops=[NotIn()], comparators=[Name(id='first_by_symbol', ctx=Load(), lineno=305, col_offset=33, end_lineno=305, end_col_offset=48)], lineno=305, col_offset=15, end_lineno=305, end_col_offset=48), body=[Assign(targets=[Subscript(value=Name(id='first_by_symbol', ctx=Load(), lineno=306, col_offset=16, end_lineno=306, end_col_offset=31), slice=Attribute(value=Name(id='occ', ctx=Load(), lineno=306, col_offset=32, end_lineno=306, end_col_offset=35), attr='symbol', ctx=Load(), lineno=306, col_offset=32, end_lineno=306, end_col_offset=42), ctx=Store(), lineno=306, col_offset=16, end_lineno=306, end_col_offset=43)], value=Name(id='occ', ctx=Load(), lineno=306, col_offset=46, end_lineno=306, end_col_offset=49), lineno=306, col_offset=16, end_lineno=306, end_col_offset=49)], lineno=305, col_offset=12, end_lineno=306, end_col_offset=49)], lineno=293, col_offset=8, end_lineno=306, end_col_offset=49), If(test=Name(id='definitions', ctx=Load(), lineno=309, col_offset=11, end_lineno=309, end_col_offset=22), body=[Expr(value=YieldFrom(value=Name(id='definitions', ctx=Load(), lineno=310, col_offset=23, end_lineno=310, end_col_offset=34), lineno=310, col_offset=12, end_lineno=310, end_col_offset=34), lineno=310, col_offset=12, end_lineno=310, end_col_offset=34)], orelse=[For(target=Name(id='occ', ctx=Store(), lineno=312, col_offset=16, end_lineno=312, end_col_offset=19), iter=Call(func=Attribute(value=Name(id='first_by_symbol', ctx=Load(), lineno=312, col_offset=23, end_lineno=312, end_col_offset=38), attr='values', ctx=Load(), lineno=312, col_offset=23, end_lineno=312, end_col_offset=45), lineno=312, col_offset=23, end_lineno=312, end_col_offset=47), body=[Assign(targets=[Tuple(elts=[Name(id='sl', ctx=Store(), lineno=313, col_offset=16, end_lineno=313, end_col_offset=18), Name(id='sc', ctx=Store(), lineno=313, col_offset=20, end_lineno=313, end_col_offset=22), Name(id='el', ctx=Store(), lineno=313, col_offset=24, end_lineno=313, end_col_offset=26), Name(id='ec', ctx=Store(), lineno=313, col_offset=28, end_lineno=313, end_col_offset=30)], ctx=Store(), lineno=313, col_offset=16, end_lineno=313, end_col_offset=30)], value=Attribute(value=Name(id='occ', ctx=Load(), lineno=313, col_offset=33, end_lineno=313, end_col_offset=36), attr='range', ctx=Load(), lineno=313, col_offset=33, end_lineno=313, end_col_offset=42), lineno=313, col_offset=16, end_lineno=313, end_col_offset=42), Expr(value=Yield(value=Call(func=Name(id='SymbolDef', ctx=Load(), lineno=314, col_offset=22, end_lineno=314, end_col_offset=31), keywords=[keyword(arg='symbol', value=Attribute(value=Name(id='occ', ctx=Load(), lineno=315, col_offset=27, end_lineno=315, end_col_offset=30), attr='symbol', ctx=Load(), lineno=315, col_offset=27, end_lineno=315, end_col_offset=37), lineno=315, col_offset=20, end_lineno=315, end_col_offset=37), keyword(arg='path', value=Attribute(value=Name(id='doc', ctx=Load(), lineno=316, col_offset=25, end_lineno=316, end_col_offset=28), attr='relative_path', ctx=Load(), lineno=316, col_offset=25, end_lineno=316, end_col_offset=42), lineno=316, col_offset=20, end_lineno=316, end_col_offset=42), keyword(arg='range', value=Call(func=Name(id='Range', ctx=Load(), lineno=317, col_offset=26, end_lineno=317, end_col_offset=31), args=[Name(id='sl', ctx=Load(), lineno=317, col_offset=32, end_lineno=317, end_col_offset=34), Name(id='sc', ctx=Load(), lineno=317, col_offset=36, end_lineno=317, end_col_offset=38), Name(id='el', ctx=Load(), lineno=317, col_offset=40, end_lineno=317, end_col_offset=42), Name(id='ec', ctx=Load(), lineno=317, col_offset=44, end_lineno=317, end_col_offset=46)], lineno=317, col_offset=26, end_lineno=317, end_col_offset=47), lineno=317, col_offset=20, end_lineno=317, end_col_offset=47), keyword(arg='language', value=Attribute(value=Name(id='doc', ctx=Load(), lineno=318, col_offset=29, end_lineno=318, end_col_offset=32), attr='language', ctx=Load(), lineno=318, col_offset=29, end_lineno=318, end_col_offset=41), lineno=318, col_offset=20, end_lineno=318, end_col_offset=41)], lineno=314, col_offset=22, end_lineno=319, end_col_offset=17), lineno=314, col_offset=16, end_lineno=319, end_col_offset=17), lineno=314, col_offset=16, end_lineno=319, end_col_offset=17)], lineno=312, col_offset=12, end_lineno=319, end_col_offset=17)], lineno=309, col_offset=8, end_lineno=319, end_col_offset=17)], lineno=288, col_offset=4, end_lineno=319, end_col_offset=17)], returns=Subscript(value=Name(id='Iterable', ctx=Load(), lineno=272, col_offset=45, end_lineno=272, end_col_offset=53), slice=Name(id='SymbolDef', ctx=Load(), lineno=272, col_offset=54, end_lineno=272, end_col_offset=63), ctx=Load(), lineno=272, col_offset=45, end_lineno=272, end_col_offset=64), lineno=272, col_offset=0, end_lineno=319, end_col_offset=17), FunctionDef(name='get_top_level_definitions', args=arguments(args=[arg(arg='definitions', annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=322, col_offset=43, end_lineno=322, end_col_offset=47), slice=Name(id='SymbolDef', ctx=Load(), lineno=322, col_offset=48, end_lineno=322, end_col_offset=57), ctx=Load(), lineno=322, col_offset=43, end_lineno=322, end_col_offset=58), lineno=322, col_offset=30, end_lineno=322, end_col_offset=58)]), body=[Expr(value=Constant(value='Filter to top-level definitions (not nested inside others).\n\n    Parameters\n    ----------\n    definitions : list[SymbolDef]\n        All symbol definitions for a file.\n\n    Returns\n    -------\n    list[SymbolDef]\n        Top-level definitions only.\n    ', lineno=323, col_offset=4, end_lineno=334, end_col_offset=7), lineno=323, col_offset=4, end_lineno=334, end_col_offset=7), FunctionDef(name='contains', args=arguments(args=[arg(arg='def1', annotation=Name(id='SymbolDef', ctx=Load(), lineno=337, col_offset=23, end_lineno=337, end_col_offset=32), lineno=337, col_offset=17, end_lineno=337, end_col_offset=32), arg(arg='def2', annotation=Name(id='SymbolDef', ctx=Load(), lineno=337, col_offset=40, end_lineno=337, end_col_offset=49), lineno=337, col_offset=34, end_lineno=337, end_col_offset=49)]), body=[Assign(targets=[Tuple(elts=[Name(id='r1', ctx=Store(), lineno=338, col_offset=8, end_lineno=338, end_col_offset=10), Name(id='r2', ctx=Store(), lineno=338, col_offset=12, end_lineno=338, end_col_offset=14)], ctx=Store(), lineno=338, col_offset=8, end_lineno=338, end_col_offset=14)], value=Tuple(elts=[Attribute(value=Name(id='def1', ctx=Load(), lineno=338, col_offset=17, end_lineno=338, end_col_offset=21), attr='range', ctx=Load(), lineno=338, col_offset=17, end_lineno=338, end_col_offset=27), Attribute(value=Name(id='def2', ctx=Load(), lineno=338, col_offset=29, end_lineno=338, end_col_offset=33), attr='range', ctx=Load(), lineno=338, col_offset=29, end_lineno=338, end_col_offset=39)], ctx=Load(), lineno=338, col_offset=17, end_lineno=338, end_col_offset=39), lineno=338, col_offset=8, end_lineno=338, end_col_offset=39), Return(value=BoolOp(op=And(), values=[Compare(left=Attribute(value=Name(id='r1', ctx=Load(), lineno=340, col_offset=12, end_lineno=340, end_col_offset=14), attr='start_line', ctx=Load(), lineno=340, col_offset=12, end_lineno=340, end_col_offset=25), ops=[LtE()], comparators=[Attribute(value=Name(id='r2', ctx=Load(), lineno=340, col_offset=29, end_lineno=340, end_col_offset=31), attr='start_line', ctx=Load(), lineno=340, col_offset=29, end_lineno=340, end_col_offset=42)], lineno=340, col_offset=12, end_lineno=340, end_col_offset=42), Compare(left=Attribute(value=Name(id='r1', ctx=Load(), lineno=341, col_offset=16, end_lineno=341, end_col_offset=18), attr='end_line', ctx=Load(), lineno=341, col_offset=16, end_lineno=341, end_col_offset=27), ops=[GtE()], comparators=[Attribute(value=Name(id='r2', ctx=Load(), lineno=341, col_offset=31, end_lineno=341, end_col_offset=33), attr='end_line', ctx=Load(), lineno=341, col_offset=31, end_lineno=341, end_col_offset=42)], lineno=341, col_offset=16, end_lineno=341, end_col_offset=42), UnaryOp(op=Not(), operand=BoolOp(op=And(), values=[Compare(left=Attribute(value=Name(id='r1', ctx=Load(), lineno=343, col_offset=16, end_lineno=343, end_col_offset=18), attr='start_line', ctx=Load(), lineno=343, col_offset=16, end_lineno=343, end_col_offset=29), ops=[Eq()], comparators=[Attribute(value=Name(id='r2', ctx=Load(), lineno=343, col_offset=33, end_lineno=343, end_col_offset=35), attr='start_line', ctx=Load(), lineno=343, col_offset=33, end_lineno=343, end_col_offset=46)], lineno=343, col_offset=16, end_lineno=343, end_col_offset=46), Compare(left=Attribute(value=Name(id='r1', ctx=Load(), lineno=344, col_offset=20, end_lineno=344, end_col_offset=22), attr='start_character', ctx=Load(), lineno=344, col_offset=20, end_lineno=344, end_col_offset=38), ops=[Eq()], comparators=[Attribute(value=Name(id='r2', ctx=Load(), lineno=344, col_offset=42, end_lineno=344, end_col_offset=44), attr='start_character', ctx=Load(), lineno=344, col_offset=42, end_lineno=344, end_col_offset=60)], lineno=344, col_offset=20, end_lineno=344, end_col_offset=60), Compare(left=Attribute(value=Name(id='r1', ctx=Load(), lineno=345, col_offset=20, end_lineno=345, end_col_offset=22), attr='end_line', ctx=Load(), lineno=345, col_offset=20, end_lineno=345, end_col_offset=31), ops=[Eq()], comparators=[Attribute(value=Name(id='r2', ctx=Load(), lineno=345, col_offset=35, end_lineno=345, end_col_offset=37), attr='end_line', ctx=Load(), lineno=345, col_offset=35, end_lineno=345, end_col_offset=46)], lineno=345, col_offset=20, end_lineno=345, end_col_offset=46), Compare(left=Attribute(value=Name(id='r1', ctx=Load(), lineno=346, col_offset=20, end_lineno=346, end_col_offset=22), attr='end_character', ctx=Load(), lineno=346, col_offset=20, end_lineno=346, end_col_offset=36), ops=[Eq()], comparators=[Attribute(value=Name(id='r2', ctx=Load(), lineno=346, col_offset=40, end_lineno=346, end_col_offset=42), attr='end_character', ctx=Load(), lineno=346, col_offset=40, end_lineno=346, end_col_offset=56)], lineno=346, col_offset=20, end_lineno=346, end_col_offset=56)], lineno=343, col_offset=16, end_lineno=346, end_col_offset=56), lineno=342, col_offset=16, end_lineno=347, end_col_offset=13)], lineno=340, col_offset=12, end_lineno=347, end_col_offset=13), lineno=339, col_offset=8, end_lineno=348, end_col_offset=9)], returns=Name(id='bool', ctx=Load(), lineno=337, col_offset=54, end_lineno=337, end_col_offset=58), lineno=337, col_offset=4, end_lineno=348, end_col_offset=9), Assign(targets=[Name(id='top_level', ctx=Store(), lineno=350, col_offset=4, end_lineno=350, end_col_offset=13)], value=List(ctx=Load(), lineno=350, col_offset=16, end_lineno=350, end_col_offset=18), lineno=350, col_offset=4, end_lineno=350, end_col_offset=18), For(target=Tuple(elts=[Name(id='i', ctx=Store(), lineno=351, col_offset=8, end_lineno=351, end_col_offset=9), Name(id='def1', ctx=Store(), lineno=351, col_offset=11, end_lineno=351, end_col_offset=15)], ctx=Store(), lineno=351, col_offset=8, end_lineno=351, end_col_offset=15), iter=Call(func=Name(id='enumerate', ctx=Load(), lineno=351, col_offset=19, end_lineno=351, end_col_offset=28), args=[Name(id='definitions', ctx=Load(), lineno=351, col_offset=29, end_lineno=351, end_col_offset=40)], lineno=351, col_offset=19, end_lineno=351, end_col_offset=41), body=[Assign(targets=[Name(id='is_nested', ctx=Store(), lineno=352, col_offset=8, end_lineno=352, end_col_offset=17)], value=Call(func=Name(id='any', ctx=Load(), lineno=352, col_offset=20, end_lineno=352, end_col_offset=23), args=[GeneratorExp(elt=Call(func=Name(id='contains', ctx=Load(), lineno=352, col_offset=24, end_lineno=352, end_col_offset=32), args=[Name(id='def2', ctx=Load(), lineno=352, col_offset=33, end_lineno=352, end_col_offset=37), Name(id='def1', ctx=Load(), lineno=352, col_offset=39, end_lineno=352, end_col_offset=43)], lineno=352, col_offset=24, end_lineno=352, end_col_offset=44), generators=[comprehension(target=Tuple(elts=[Name(id='j', ctx=Store(), lineno=352, col_offset=49, end_lineno=352, end_col_offset=50), Name(id='def2', ctx=Store(), lineno=352, col_offset=52, end_lineno=352, end_col_offset=56)], ctx=Store(), lineno=352, col_offset=49, end_lineno=352, end_col_offset=56), iter=Call(func=Name(id='enumerate', ctx=Load(), lineno=352, col_offset=60, end_lineno=352, end_col_offset=69), args=[Name(id='definitions', ctx=Load(), lineno=352, col_offset=70, end_lineno=352, end_col_offset=81)], lineno=352, col_offset=60, end_lineno=352, end_col_offset=82), ifs=[Compare(left=Name(id='i', ctx=Load(), lineno=352, col_offset=86, end_lineno=352, end_col_offset=87), ops=[NotEq()], comparators=[Name(id='j', ctx=Load(), lineno=352, col_offset=91, end_lineno=352, end_col_offset=92)], lineno=352, col_offset=86, end_lineno=352, end_col_offset=92)], is_async=0)], lineno=352, col_offset=23, end_lineno=352, end_col_offset=93)], lineno=352, col_offset=20, end_lineno=352, end_col_offset=93), lineno=352, col_offset=8, end_lineno=352, end_col_offset=93), If(test=UnaryOp(op=Not(), operand=Name(id='is_nested', ctx=Load(), lineno=353, col_offset=15, end_lineno=353, end_col_offset=24), lineno=353, col_offset=11, end_lineno=353, end_col_offset=24), body=[Expr(value=Call(func=Attribute(value=Name(id='top_level', ctx=Load(), lineno=354, col_offset=12, end_lineno=354, end_col_offset=21), attr='append', ctx=Load(), lineno=354, col_offset=12, end_lineno=354, end_col_offset=28), args=[Name(id='def1', ctx=Load(), lineno=354, col_offset=29, end_lineno=354, end_col_offset=33)], lineno=354, col_offset=12, end_lineno=354, end_col_offset=34), lineno=354, col_offset=12, end_lineno=354, end_col_offset=34)], lineno=353, col_offset=8, end_lineno=354, end_col_offset=34)], lineno=351, col_offset=4, end_lineno=354, end_col_offset=34), Return(value=Call(func=Name(id='sorted', ctx=Load(), lineno=356, col_offset=11, end_lineno=356, end_col_offset=17), args=[Name(id='top_level', ctx=Load(), lineno=356, col_offset=18, end_lineno=356, end_col_offset=27)], keywords=[keyword(arg='key', value=Lambda(args=arguments(args=[arg(arg='d', lineno=356, col_offset=40, end_lineno=356, end_col_offset=41)]), body=Tuple(elts=[Attribute(value=Attribute(value=Name(id='d', ctx=Load(), lineno=356, col_offset=44, end_lineno=356, end_col_offset=45), attr='range', ctx=Load(), lineno=356, col_offset=44, end_lineno=356, end_col_offset=51), attr='start_line', ctx=Load(), lineno=356, col_offset=44, end_lineno=356, end_col_offset=62), Attribute(value=Attribute(value=Name(id='d', ctx=Load(), lineno=356, col_offset=64, end_lineno=356, end_col_offset=65), attr='range', ctx=Load(), lineno=356, col_offset=64, end_lineno=356, end_col_offset=71), attr='start_character', ctx=Load(), lineno=356, col_offset=64, end_lineno=356, end_col_offset=87)], ctx=Load(), lineno=356, col_offset=43, end_lineno=356, end_col_offset=88), lineno=356, col_offset=33, end_lineno=356, end_col_offset=88), lineno=356, col_offset=29, end_lineno=356, end_col_offset=88)], lineno=356, col_offset=11, end_lineno=356, end_col_offset=89), lineno=356, col_offset=4, end_lineno=356, end_col_offset=89)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=322, col_offset=63, end_lineno=322, end_col_offset=67), slice=Name(id='SymbolDef', ctx=Load(), lineno=322, col_offset=68, end_lineno=322, end_col_offset=77), ctx=Load(), lineno=322, col_offset=63, end_lineno=322, end_col_offset=78), lineno=322, col_offset=0, end_lineno=356, end_col_offset=89), Assign(targets=[Name(id='__all__', ctx=Store(), lineno=359, col_offset=0, end_lineno=359, end_col_offset=7)], value=List(elts=[Constant(value='Document', lineno=360, col_offset=4, end_lineno=360, end_col_offset=14), Constant(value='Occurrence', lineno=361, col_offset=4, end_lineno=361, end_col_offset=16), Constant(value='Range', lineno=362, col_offset=4, end_lineno=362, end_col_offset=11), Constant(value='SCIPIndex', lineno=363, col_offset=4, end_lineno=363, end_col_offset=15), Constant(value='SymbolDef', lineno=364, col_offset=4, end_lineno=364, end_col_offset=15), Constant(value='extract_definitions', lineno=365, col_offset=4, end_lineno=365, end_col_offset=25), Constant(value='get_top_level_definitions', lineno=366, col_offset=4, end_lineno=366, end_col_offset=31), Constant(value='parse_scip_json', lineno=367, col_offset=4, end_lineno=367, end_col_offset=21)], ctx=Load(), lineno=359, col_offset=10, end_lineno=368, end_col_offset=1), lineno=359, col_offset=0, end_lineno=368, end_col_offset=1)])