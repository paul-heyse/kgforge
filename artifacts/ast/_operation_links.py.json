Module(body=[Expr(value=Constant(value='Utilities for constructing MkDocs anchors to OpenAPI operations.', lineno=1, col_offset=0, end_lineno=1, end_col_offset=70), lineno=1, col_offset=0, end_lineno=1, end_col_offset=70), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=3, col_offset=23, end_lineno=3, end_col_offset=34)], level=0, lineno=3, col_offset=0, end_lineno=3, end_col_offset=34), Import(names=[alias(name='os', lineno=5, col_offset=7, end_lineno=5, end_col_offset=9)], lineno=5, col_offset=0, end_lineno=5, end_col_offset=9), ImportFrom(module='typing', names=[alias(name='cast', lineno=6, col_offset=19, end_lineno=6, end_col_offset=23)], level=0, lineno=6, col_offset=0, end_lineno=6, end_col_offset=23), ImportFrom(module='urllib.parse', names=[alias(name='quote', lineno=7, col_offset=25, end_lineno=7, end_col_offset=30)], level=0, lineno=7, col_offset=0, end_lineno=7, end_col_offset=30), Assign(targets=[Name(id='CLI_SPEC_DOC', ctx=Store(), lineno=9, col_offset=0, end_lineno=9, end_col_offset=12)], value=Constant(value='api/openapi-cli.md', lineno=9, col_offset=15, end_lineno=9, end_col_offset=35), lineno=9, col_offset=0, end_lineno=9, end_col_offset=35), Assign(targets=[Name(id='HTTP_SPEC_DOC', ctx=Store(), lineno=10, col_offset=0, end_lineno=10, end_col_offset=13)], value=Constant(value='api/index.md', lineno=10, col_offset=16, end_lineno=10, end_col_offset=30), lineno=10, col_offset=0, end_lineno=10, end_col_offset=30), FunctionDef(name='_normalize_spec_path', args=arguments(args=[arg(arg='spec_path', annotation=Name(id='object', ctx=Load(), lineno=13, col_offset=36, end_lineno=13, end_col_offset=42), lineno=13, col_offset=25, end_lineno=13, end_col_offset=42)]), body=[Expr(value=Constant(value='Return a string representation for ``spec_path`` when possible.\n\n    Parameters\n    ----------\n    spec_path : object\n        Specification file path to normalize.\n\n    Returns\n    -------\n    str | None\n        Normalized string path when ``spec_path`` can be converted to a file system\n        path, otherwise ``None``.\n    ', lineno=14, col_offset=4, end_lineno=26, end_col_offset=7), lineno=14, col_offset=4, end_lineno=26, end_col_offset=7), If(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=27, col_offset=7, end_lineno=27, end_col_offset=17), args=[Name(id='spec_path', ctx=Load(), lineno=27, col_offset=18, end_lineno=27, end_col_offset=27), Tuple(elts=[Name(id='str', ctx=Load(), lineno=27, col_offset=30, end_lineno=27, end_col_offset=33), Name(id='bytes', ctx=Load(), lineno=27, col_offset=35, end_lineno=27, end_col_offset=40), Attribute(value=Name(id='os', ctx=Load(), lineno=27, col_offset=42, end_lineno=27, end_col_offset=44), attr='PathLike', ctx=Load(), lineno=27, col_offset=42, end_lineno=27, end_col_offset=53)], ctx=Load(), lineno=27, col_offset=29, end_lineno=27, end_col_offset=54)], lineno=27, col_offset=7, end_lineno=27, end_col_offset=55), body=[Assign(targets=[Name(id='resolved', ctx=Store(), lineno=28, col_offset=8, end_lineno=28, end_col_offset=16)], value=Call(func=Attribute(value=Name(id='os', ctx=Load(), lineno=28, col_offset=19, end_lineno=28, end_col_offset=21), attr='fspath', ctx=Load(), lineno=28, col_offset=19, end_lineno=28, end_col_offset=28), args=[Name(id='spec_path', ctx=Load(), lineno=28, col_offset=29, end_lineno=28, end_col_offset=38)], lineno=28, col_offset=19, end_lineno=28, end_col_offset=39), lineno=28, col_offset=8, end_lineno=28, end_col_offset=39)], orelse=[If(test=Call(func=Name(id='hasattr', ctx=Load(), lineno=29, col_offset=9, end_lineno=29, end_col_offset=16), args=[Name(id='spec_path', ctx=Load(), lineno=29, col_offset=17, end_lineno=29, end_col_offset=26), Constant(value='__fspath__', lineno=29, col_offset=28, end_lineno=29, end_col_offset=40)], lineno=29, col_offset=9, end_lineno=29, end_col_offset=41), body=[Assign(targets=[Name(id='pathlike', ctx=Store(), lineno=30, col_offset=8, end_lineno=30, end_col_offset=16)], value=Call(func=Name(id='cast', ctx=Load(), lineno=30, col_offset=19, end_lineno=30, end_col_offset=23), args=[Constant(value='os.PathLike[str] | os.PathLike[bytes]', lineno=30, col_offset=24, end_lineno=30, end_col_offset=63), Name(id='spec_path', ctx=Load(), lineno=30, col_offset=65, end_lineno=30, end_col_offset=74)], lineno=30, col_offset=19, end_lineno=30, end_col_offset=75), lineno=30, col_offset=8, end_lineno=30, end_col_offset=75), Assign(targets=[Name(id='resolved', ctx=Store(), lineno=31, col_offset=8, end_lineno=31, end_col_offset=16)], value=Call(func=Attribute(value=Name(id='os', ctx=Load(), lineno=31, col_offset=19, end_lineno=31, end_col_offset=21), attr='fspath', ctx=Load(), lineno=31, col_offset=19, end_lineno=31, end_col_offset=28), args=[Name(id='pathlike', ctx=Load(), lineno=31, col_offset=29, end_lineno=31, end_col_offset=37)], lineno=31, col_offset=19, end_lineno=31, end_col_offset=38), lineno=31, col_offset=8, end_lineno=31, end_col_offset=38)], orelse=[Return(value=Constant(value=None, lineno=33, col_offset=15, end_lineno=33, end_col_offset=19), lineno=33, col_offset=8, end_lineno=33, end_col_offset=19)], lineno=29, col_offset=4, end_lineno=33, end_col_offset=19)], lineno=27, col_offset=4, end_lineno=33, end_col_offset=19), If(test=UnaryOp(op=Not(), operand=Name(id='resolved', ctx=Load(), lineno=34, col_offset=11, end_lineno=34, end_col_offset=19), lineno=34, col_offset=7, end_lineno=34, end_col_offset=19), body=[Return(value=Constant(value=None, lineno=35, col_offset=15, end_lineno=35, end_col_offset=19), lineno=35, col_offset=8, end_lineno=35, end_col_offset=19)], lineno=34, col_offset=4, end_lineno=35, end_col_offset=19), Return(value=Call(func=Name(id='str', ctx=Load(), lineno=36, col_offset=11, end_lineno=36, end_col_offset=14), args=[Name(id='resolved', ctx=Load(), lineno=36, col_offset=15, end_lineno=36, end_col_offset=23)], lineno=36, col_offset=11, end_lineno=36, end_col_offset=24), lineno=36, col_offset=4, end_lineno=36, end_col_offset=24)], returns=BinOp(left=Name(id='str', ctx=Load(), lineno=13, col_offset=47, end_lineno=13, end_col_offset=50), op=BitOr(), right=Constant(value=None, lineno=13, col_offset=53, end_lineno=13, end_col_offset=57), lineno=13, col_offset=47, end_lineno=13, end_col_offset=57), lineno=13, col_offset=0, end_lineno=36, end_col_offset=24), FunctionDef(name='build_operation_href', args=arguments(args=[arg(arg='spec_path', annotation=Name(id='object', ctx=Load(), lineno=39, col_offset=36, end_lineno=39, end_col_offset=42), lineno=39, col_offset=25, end_lineno=39, end_col_offset=42), arg(arg='operation_id', annotation=Name(id='str', ctx=Load(), lineno=39, col_offset=58, end_lineno=39, end_col_offset=61), lineno=39, col_offset=44, end_lineno=39, end_col_offset=61)]), body=[Expr(value=Constant(value='Return a documentation href for the given OpenAPI operation.\n\n    Parameters\n    ----------\n    spec_path : object\n        Specification file path.\n    operation_id : str\n        OpenAPI operation identifier.\n\n    Returns\n    -------\n    str | None\n        Fully-qualified anchor URL pointing to the operation in the rendered\n        specification, or ``None`` when the specification cannot be resolved.\n    ', lineno=40, col_offset=4, end_lineno=54, end_col_offset=7), lineno=40, col_offset=4, end_lineno=54, end_col_offset=7), If(test=UnaryOp(op=Not(), operand=Name(id='operation_id', ctx=Load(), lineno=55, col_offset=11, end_lineno=55, end_col_offset=23), lineno=55, col_offset=7, end_lineno=55, end_col_offset=23), body=[Return(value=Constant(value=None, lineno=56, col_offset=15, end_lineno=56, end_col_offset=19), lineno=56, col_offset=8, end_lineno=56, end_col_offset=19)], lineno=55, col_offset=4, end_lineno=56, end_col_offset=19), Assign(targets=[Name(id='resolved_spec', ctx=Store(), lineno=58, col_offset=4, end_lineno=58, end_col_offset=17)], value=Call(func=Name(id='_normalize_spec_path', ctx=Load(), lineno=58, col_offset=20, end_lineno=58, end_col_offset=40), args=[Name(id='spec_path', ctx=Load(), lineno=58, col_offset=41, end_lineno=58, end_col_offset=50)], lineno=58, col_offset=20, end_lineno=58, end_col_offset=51), lineno=58, col_offset=4, end_lineno=58, end_col_offset=51), If(test=Compare(left=Name(id='resolved_spec', ctx=Load(), lineno=59, col_offset=7, end_lineno=59, end_col_offset=20), ops=[Is()], comparators=[Constant(value=None, lineno=59, col_offset=24, end_lineno=59, end_col_offset=28)], lineno=59, col_offset=7, end_lineno=59, end_col_offset=28), body=[Return(value=Constant(value=None, lineno=60, col_offset=15, end_lineno=60, end_col_offset=19), lineno=60, col_offset=8, end_lineno=60, end_col_offset=19)], lineno=59, col_offset=4, end_lineno=60, end_col_offset=19), If(test=Call(func=Attribute(value=Name(id='resolved_spec', ctx=Load(), lineno=62, col_offset=7, end_lineno=62, end_col_offset=20), attr='endswith', ctx=Load(), lineno=62, col_offset=7, end_lineno=62, end_col_offset=29), args=[Constant(value='openapi-cli.yaml', lineno=62, col_offset=30, end_lineno=62, end_col_offset=48)], lineno=62, col_offset=7, end_lineno=62, end_col_offset=49), body=[Assign(targets=[Name(id='target', ctx=Store(), lineno=63, col_offset=8, end_lineno=63, end_col_offset=14)], value=Name(id='CLI_SPEC_DOC', ctx=Load(), lineno=63, col_offset=17, end_lineno=63, end_col_offset=29), lineno=63, col_offset=8, end_lineno=63, end_col_offset=29)], orelse=[If(test=Call(func=Attribute(value=Name(id='resolved_spec', ctx=Load(), lineno=64, col_offset=9, end_lineno=64, end_col_offset=22), attr='endswith', ctx=Load(), lineno=64, col_offset=9, end_lineno=64, end_col_offset=31), args=[Constant(value='openapi.yaml', lineno=64, col_offset=32, end_lineno=64, end_col_offset=46)], lineno=64, col_offset=9, end_lineno=64, end_col_offset=47), body=[Assign(targets=[Name(id='target', ctx=Store(), lineno=65, col_offset=8, end_lineno=65, end_col_offset=14)], value=Name(id='HTTP_SPEC_DOC', ctx=Load(), lineno=65, col_offset=17, end_lineno=65, end_col_offset=30), lineno=65, col_offset=8, end_lineno=65, end_col_offset=30)], orelse=[Return(value=Constant(value=None, lineno=67, col_offset=15, end_lineno=67, end_col_offset=19), lineno=67, col_offset=8, end_lineno=67, end_col_offset=19)], lineno=64, col_offset=4, end_lineno=67, end_col_offset=19)], lineno=62, col_offset=4, end_lineno=67, end_col_offset=19), Assign(targets=[Name(id='encoded_operation', ctx=Store(), lineno=69, col_offset=4, end_lineno=69, end_col_offset=21)], value=Call(func=Name(id='quote', ctx=Load(), lineno=69, col_offset=24, end_lineno=69, end_col_offset=29), args=[Name(id='operation_id', ctx=Load(), lineno=69, col_offset=30, end_lineno=69, end_col_offset=42)], keywords=[keyword(arg='safe', value=Constant(value='', lineno=69, col_offset=49, end_lineno=69, end_col_offset=51), lineno=69, col_offset=44, end_lineno=69, end_col_offset=51)], lineno=69, col_offset=24, end_lineno=69, end_col_offset=52), lineno=69, col_offset=4, end_lineno=69, end_col_offset=52), Return(value=JoinedStr(values=[FormattedValue(value=Name(id='target', ctx=Load(), lineno=70, col_offset=14, end_lineno=70, end_col_offset=20), conversion=-1, lineno=70, col_offset=13, end_lineno=70, end_col_offset=21), Constant(value='#operation/', lineno=70, col_offset=21, end_lineno=70, end_col_offset=32), FormattedValue(value=Name(id='encoded_operation', ctx=Load(), lineno=70, col_offset=33, end_lineno=70, end_col_offset=50), conversion=-1, lineno=70, col_offset=32, end_lineno=70, end_col_offset=51)], lineno=70, col_offset=11, end_lineno=70, end_col_offset=52), lineno=70, col_offset=4, end_lineno=70, end_col_offset=52)], returns=BinOp(left=Name(id='str', ctx=Load(), lineno=39, col_offset=66, end_lineno=39, end_col_offset=69), op=BitOr(), right=Constant(value=None, lineno=39, col_offset=72, end_lineno=39, end_col_offset=76), lineno=39, col_offset=66, end_lineno=39, end_col_offset=76), lineno=39, col_offset=0, end_lineno=70, end_col_offset=52)])