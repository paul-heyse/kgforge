Module(body=[ImportFrom(module='__future__', names=[alias(name='annotations', lineno=1, col_offset=23, end_lineno=1, end_col_offset=34)], level=0, lineno=1, col_offset=0, end_lineno=1, end_col_offset=34), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=3, col_offset=20, end_lineno=3, end_col_offset=24)], level=0, lineno=3, col_offset=0, end_lineno=3, end_col_offset=24), ImportFrom(module='typing', names=[alias(name='Any', lineno=4, col_offset=19, end_lineno=4, end_col_offset=22)], level=0, lineno=4, col_offset=0, end_lineno=4, end_col_offset=22), Import(names=[alias(name='pytest', lineno=6, col_offset=7, end_lineno=6, end_col_offset=13)], lineno=6, col_offset=0, end_lineno=6, end_col_offset=13), ImportFrom(module='codeintel_rev.io.faiss_manager', names=[alias(name='FAISSManager', lineno=7, col_offset=43, end_lineno=7, end_col_offset=55)], level=0, lineno=7, col_offset=0, end_lineno=7, end_col_offset=55), ImportFrom(module='tests.conftest', names=[alias(name='FAISS_MODULE', lineno=9, col_offset=27, end_lineno=9, end_col_offset=39), alias(name='HAS_FAISS_SUPPORT', lineno=9, col_offset=41, end_lineno=9, end_col_offset=58)], level=0, lineno=9, col_offset=0, end_lineno=9, end_col_offset=58), If(test=UnaryOp(op=Not(), operand=Name(id='HAS_FAISS_SUPPORT', ctx=Load(), lineno=11, col_offset=7, end_lineno=11, end_col_offset=24), lineno=11, col_offset=3, end_lineno=11, end_col_offset=24), body=[Assign(targets=[Name(id='pytestmark', ctx=Store(), lineno=12, col_offset=4, end_lineno=12, end_col_offset=14)], value=Call(func=Attribute(value=Attribute(value=Name(id='pytest', ctx=Load(), lineno=12, col_offset=17, end_lineno=12, end_col_offset=23), attr='mark', ctx=Load(), lineno=12, col_offset=17, end_lineno=12, end_col_offset=28), attr='skip', ctx=Load(), lineno=12, col_offset=17, end_lineno=12, end_col_offset=33), keywords=[keyword(arg='reason', value=Constant(value='FAISS bindings unavailable on this host', lineno=13, col_offset=15, end_lineno=13, end_col_offset=56), lineno=13, col_offset=8, end_lineno=13, end_col_offset=56)], lineno=12, col_offset=17, end_lineno=14, end_col_offset=5), lineno=12, col_offset=4, end_lineno=14, end_col_offset=5)], lineno=11, col_offset=0, end_lineno=14, end_col_offset=5), If(test=Compare(left=Name(id='FAISS_MODULE', ctx=Load(), lineno=16, col_offset=3, end_lineno=16, end_col_offset=15), ops=[Is()], comparators=[Constant(value=None, lineno=16, col_offset=19, end_lineno=16, end_col_offset=23)], lineno=16, col_offset=3, end_lineno=16, end_col_offset=23), body=[Expr(value=Call(func=Attribute(value=Name(id='pytest', ctx=Load(), lineno=17, col_offset=4, end_lineno=17, end_col_offset=10), attr='skip', ctx=Load(), lineno=17, col_offset=4, end_lineno=17, end_col_offset=15), args=[Constant(value='FAISS bindings unavailable on this host', lineno=17, col_offset=16, end_lineno=17, end_col_offset=57)], keywords=[keyword(arg='allow_module_level', value=Constant(value=True, lineno=17, col_offset=78, end_lineno=17, end_col_offset=82), lineno=17, col_offset=59, end_lineno=17, end_col_offset=82)], lineno=17, col_offset=4, end_lineno=17, end_col_offset=83), lineno=17, col_offset=4, end_lineno=17, end_col_offset=83)], lineno=16, col_offset=0, end_lineno=17, end_col_offset=83), AnnAssign(target=Name(id='faiss_module', ctx=Store(), lineno=19, col_offset=0, end_lineno=19, end_col_offset=12), annotation=Name(id='Any', ctx=Load(), lineno=19, col_offset=14, end_lineno=19, end_col_offset=17), value=Name(id='FAISS_MODULE', ctx=Load(), lineno=19, col_offset=20, end_lineno=19, end_col_offset=32), simple=1, lineno=19, col_offset=0, end_lineno=19, end_col_offset=32), ClassDef(name='_SentinelGpuIndex', body=[Pass(lineno=23, col_offset=4, end_lineno=23, end_col_offset=8)], lineno=22, col_offset=0, end_lineno=23, end_col_offset=8), FunctionDef(name='faiss_manager', args=arguments(args=[arg(arg='tmp_path', annotation=Name(id='Path', ctx=Load(), lineno=27, col_offset=28, end_lineno=27, end_col_offset=32), lineno=27, col_offset=18, end_lineno=27, end_col_offset=32), arg(arg='monkeypatch', annotation=Attribute(value=Name(id='pytest', ctx=Load(), lineno=27, col_offset=47, end_lineno=27, end_col_offset=53), attr='MonkeyPatch', ctx=Load(), lineno=27, col_offset=47, end_lineno=27, end_col_offset=65), lineno=27, col_offset=34, end_lineno=27, end_col_offset=65)]), body=[Assign(targets=[Name(id='manager', ctx=Store(), lineno=28, col_offset=4, end_lineno=28, end_col_offset=11)], value=Call(func=Name(id='FAISSManager', ctx=Load(), lineno=28, col_offset=14, end_lineno=28, end_col_offset=26), keywords=[keyword(arg='index_path', value=BinOp(left=Name(id='tmp_path', ctx=Load(), lineno=28, col_offset=38, end_lineno=28, end_col_offset=46), op=Div(), right=Constant(value='index.faiss', lineno=28, col_offset=49, end_lineno=28, end_col_offset=62), lineno=28, col_offset=38, end_lineno=28, end_col_offset=62), lineno=28, col_offset=27, end_lineno=28, end_col_offset=62), keyword(arg='use_cuvs', value=Constant(value=False, lineno=28, col_offset=73, end_lineno=28, end_col_offset=78), lineno=28, col_offset=64, end_lineno=28, end_col_offset=78)], lineno=28, col_offset=14, end_lineno=28, end_col_offset=79), lineno=28, col_offset=4, end_lineno=28, end_col_offset=79), Assign(targets=[Attribute(value=Name(id='manager', ctx=Load(), lineno=30, col_offset=4, end_lineno=30, end_col_offset=11), attr='cpu_index', ctx=Store(), lineno=30, col_offset=4, end_lineno=30, end_col_offset=21)], value=Call(func=Attribute(value=Name(id='faiss_module', ctx=Load(), lineno=30, col_offset=24, end_lineno=30, end_col_offset=36), attr='IndexFlatIP', ctx=Load(), lineno=30, col_offset=24, end_lineno=30, end_col_offset=48), args=[Constant(value=2, lineno=30, col_offset=49, end_lineno=30, end_col_offset=50)], lineno=30, col_offset=24, end_lineno=30, end_col_offset=51), lineno=30, col_offset=4, end_lineno=30, end_col_offset=51), ClassDef(name='DummyGpuClonerOptions', body=[FunctionDef(name='__init__', args=arguments(args=[arg(arg='self', lineno=33, col_offset=21, end_lineno=33, end_col_offset=25)]), body=[Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=34, col_offset=12, end_lineno=34, end_col_offset=16), attr='useFloat16', ctx=Store(), lineno=34, col_offset=12, end_lineno=34, end_col_offset=27)], value=Constant(value=False, lineno=34, col_offset=30, end_lineno=34, end_col_offset=35), lineno=34, col_offset=12, end_lineno=34, end_col_offset=35), Assign(targets=[Attribute(value=Name(id='self', ctx=Load(), lineno=35, col_offset=12, end_lineno=35, end_col_offset=16), attr='use_cuvs', ctx=Store(), lineno=35, col_offset=12, end_lineno=35, end_col_offset=25)], value=Constant(value=False, lineno=35, col_offset=28, end_lineno=35, end_col_offset=33), lineno=35, col_offset=12, end_lineno=35, end_col_offset=33)], returns=Constant(value=None, lineno=33, col_offset=30, end_lineno=33, end_col_offset=34), lineno=33, col_offset=8, end_lineno=35, end_col_offset=33)], lineno=32, col_offset=4, end_lineno=35, end_col_offset=33), Expr(value=Call(func=Attribute(value=Name(id='monkeypatch', ctx=Load(), lineno=37, col_offset=4, end_lineno=37, end_col_offset=15), attr='setattr', ctx=Load(), lineno=37, col_offset=4, end_lineno=37, end_col_offset=23), args=[Name(id='faiss_module', ctx=Load(), lineno=37, col_offset=24, end_lineno=37, end_col_offset=36), Constant(value='GpuClonerOptions', lineno=37, col_offset=38, end_lineno=37, end_col_offset=56), Name(id='DummyGpuClonerOptions', ctx=Load(), lineno=37, col_offset=58, end_lineno=37, end_col_offset=79)], keywords=[keyword(arg='raising', value=Constant(value=False, lineno=37, col_offset=89, end_lineno=37, end_col_offset=94), lineno=37, col_offset=81, end_lineno=37, end_col_offset=94)], lineno=37, col_offset=4, end_lineno=37, end_col_offset=95), lineno=37, col_offset=4, end_lineno=37, end_col_offset=95), Return(value=Name(id='manager', ctx=Load(), lineno=38, col_offset=11, end_lineno=38, end_col_offset=18), lineno=38, col_offset=4, end_lineno=38, end_col_offset=18)], decorator_list=[Attribute(value=Name(id='pytest', ctx=Load(), lineno=26, col_offset=1, end_lineno=26, end_col_offset=7), attr='fixture', ctx=Load(), lineno=26, col_offset=1, end_lineno=26, end_col_offset=15)], returns=Name(id='FAISSManager', ctx=Load(), lineno=27, col_offset=70, end_lineno=27, end_col_offset=82), lineno=27, col_offset=0, end_lineno=38, end_col_offset=18), FunctionDef(name='test_clone_to_gpu_success', args=arguments(args=[arg(arg='monkeypatch', annotation=Attribute(value=Name(id='pytest', ctx=Load(), lineno=41, col_offset=43, end_lineno=41, end_col_offset=49), attr='MonkeyPatch', ctx=Load(), lineno=41, col_offset=43, end_lineno=41, end_col_offset=61), lineno=41, col_offset=30, end_lineno=41, end_col_offset=61), arg(arg='faiss_manager', annotation=Name(id='FAISSManager', ctx=Load(), lineno=41, col_offset=78, end_lineno=41, end_col_offset=90), lineno=41, col_offset=63, end_lineno=41, end_col_offset=90)]), body=[Expr(value=Constant(value='GPU cloning succeeds when FAISS GPU helpers work.', lineno=42, col_offset=4, end_lineno=42, end_col_offset=59), lineno=42, col_offset=4, end_lineno=42, end_col_offset=59), Assign(targets=[Name(id='gpu_resources', ctx=Store(), lineno=43, col_offset=4, end_lineno=43, end_col_offset=17)], value=Call(func=Name(id='object', ctx=Load(), lineno=43, col_offset=20, end_lineno=43, end_col_offset=26), lineno=43, col_offset=20, end_lineno=43, end_col_offset=28), lineno=43, col_offset=4, end_lineno=43, end_col_offset=28), Assign(targets=[Name(id='gpu_index', ctx=Store(), lineno=44, col_offset=4, end_lineno=44, end_col_offset=13)], value=Call(func=Name(id='_SentinelGpuIndex', ctx=Load(), lineno=44, col_offset=16, end_lineno=44, end_col_offset=33), lineno=44, col_offset=16, end_lineno=44, end_col_offset=35), lineno=44, col_offset=4, end_lineno=44, end_col_offset=35), Expr(value=Call(func=Attribute(value=Name(id='monkeypatch', ctx=Load(), lineno=46, col_offset=4, end_lineno=46, end_col_offset=15), attr='setattr', ctx=Load(), lineno=46, col_offset=4, end_lineno=46, end_col_offset=23), args=[Name(id='faiss_module', ctx=Load(), lineno=46, col_offset=24, end_lineno=46, end_col_offset=36), Constant(value='StandardGpuResources', lineno=46, col_offset=38, end_lineno=46, end_col_offset=60), Lambda(args=arguments(), body=Name(id='gpu_resources', ctx=Load(), lineno=46, col_offset=70, end_lineno=46, end_col_offset=83), lineno=46, col_offset=62, end_lineno=46, end_col_offset=83)], keywords=[keyword(arg='raising', value=Constant(value=False, lineno=46, col_offset=93, end_lineno=46, end_col_offset=98), lineno=46, col_offset=85, end_lineno=46, end_col_offset=98)], lineno=46, col_offset=4, end_lineno=46, end_col_offset=99), lineno=46, col_offset=4, end_lineno=46, end_col_offset=99), FunctionDef(name='fake_index_cpu_to_gpu', args=arguments(args=[arg(arg='resources', annotation=Name(id='object', ctx=Load(), lineno=49, col_offset=19, end_lineno=49, end_col_offset=25), lineno=49, col_offset=8, end_lineno=49, end_col_offset=25), arg(arg='device', annotation=Name(id='int', ctx=Load(), lineno=49, col_offset=35, end_lineno=49, end_col_offset=38), lineno=49, col_offset=27, end_lineno=49, end_col_offset=38), arg(arg='cpu_index', annotation=Name(id='object', ctx=Load(), lineno=49, col_offset=51, end_lineno=49, end_col_offset=57), lineno=49, col_offset=40, end_lineno=49, end_col_offset=57), arg(arg='options', annotation=Name(id='object', ctx=Load(), lineno=49, col_offset=68, end_lineno=49, end_col_offset=74), lineno=49, col_offset=59, end_lineno=49, end_col_offset=74)]), body=[Assert(test=Compare(left=Name(id='resources', ctx=Load(), lineno=51, col_offset=15, end_lineno=51, end_col_offset=24), ops=[Is()], comparators=[Name(id='gpu_resources', ctx=Load(), lineno=51, col_offset=28, end_lineno=51, end_col_offset=41)], lineno=51, col_offset=15, end_lineno=51, end_col_offset=41), lineno=51, col_offset=8, end_lineno=51, end_col_offset=41), Assert(test=Compare(left=Name(id='cpu_index', ctx=Load(), lineno=52, col_offset=15, end_lineno=52, end_col_offset=24), ops=[Is()], comparators=[Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=52, col_offset=28, end_lineno=52, end_col_offset=41), attr='cpu_index', ctx=Load(), lineno=52, col_offset=28, end_lineno=52, end_col_offset=51)], lineno=52, col_offset=15, end_lineno=52, end_col_offset=51), lineno=52, col_offset=8, end_lineno=52, end_col_offset=51), Assert(test=Compare(left=Name(id='device', ctx=Load(), lineno=53, col_offset=15, end_lineno=53, end_col_offset=21), ops=[Eq()], comparators=[Constant(value=0, lineno=53, col_offset=25, end_lineno=53, end_col_offset=26)], lineno=53, col_offset=15, end_lineno=53, end_col_offset=26), lineno=53, col_offset=8, end_lineno=53, end_col_offset=26), Assert(test=Call(func=Name(id='isinstance', ctx=Load(), lineno=54, col_offset=15, end_lineno=54, end_col_offset=25), args=[Name(id='options', ctx=Load(), lineno=54, col_offset=26, end_lineno=54, end_col_offset=33), Attribute(value=Name(id='faiss_module', ctx=Load(), lineno=54, col_offset=35, end_lineno=54, end_col_offset=47), attr='GpuClonerOptions', ctx=Load(), lineno=54, col_offset=35, end_lineno=54, end_col_offset=64)], lineno=54, col_offset=15, end_lineno=54, end_col_offset=65), lineno=54, col_offset=8, end_lineno=54, end_col_offset=65), Return(value=Name(id='gpu_index', ctx=Load(), lineno=55, col_offset=15, end_lineno=55, end_col_offset=24), lineno=55, col_offset=8, end_lineno=55, end_col_offset=24)], returns=Name(id='object', ctx=Load(), lineno=50, col_offset=9, end_lineno=50, end_col_offset=15), lineno=48, col_offset=4, end_lineno=55, end_col_offset=24), Expr(value=Call(func=Attribute(value=Name(id='monkeypatch', ctx=Load(), lineno=57, col_offset=4, end_lineno=57, end_col_offset=15), attr='setattr', ctx=Load(), lineno=57, col_offset=4, end_lineno=57, end_col_offset=23), args=[Name(id='faiss_module', ctx=Load(), lineno=57, col_offset=24, end_lineno=57, end_col_offset=36), Constant(value='index_cpu_to_gpu', lineno=57, col_offset=38, end_lineno=57, end_col_offset=56), Name(id='fake_index_cpu_to_gpu', ctx=Load(), lineno=57, col_offset=58, end_lineno=57, end_col_offset=79)], keywords=[keyword(arg='raising', value=Constant(value=False, lineno=57, col_offset=89, end_lineno=57, end_col_offset=94), lineno=57, col_offset=81, end_lineno=57, end_col_offset=94)], lineno=57, col_offset=4, end_lineno=57, end_col_offset=95), lineno=57, col_offset=4, end_lineno=57, end_col_offset=95), Assign(targets=[Name(id='success', ctx=Store(), lineno=59, col_offset=4, end_lineno=59, end_col_offset=11)], value=Call(func=Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=59, col_offset=14, end_lineno=59, end_col_offset=27), attr='clone_to_gpu', ctx=Load(), lineno=59, col_offset=14, end_lineno=59, end_col_offset=40), lineno=59, col_offset=14, end_lineno=59, end_col_offset=42), lineno=59, col_offset=4, end_lineno=59, end_col_offset=42), Assert(test=Compare(left=Name(id='success', ctx=Load(), lineno=61, col_offset=11, end_lineno=61, end_col_offset=18), ops=[Is()], comparators=[Constant(value=True, lineno=61, col_offset=22, end_lineno=61, end_col_offset=26)], lineno=61, col_offset=11, end_lineno=61, end_col_offset=26), lineno=61, col_offset=4, end_lineno=61, end_col_offset=26), Assert(test=Compare(left=Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=62, col_offset=11, end_lineno=62, end_col_offset=24), attr='gpu_index', ctx=Load(), lineno=62, col_offset=11, end_lineno=62, end_col_offset=34), ops=[Is()], comparators=[Name(id='gpu_index', ctx=Load(), lineno=62, col_offset=38, end_lineno=62, end_col_offset=47)], lineno=62, col_offset=11, end_lineno=62, end_col_offset=47), lineno=62, col_offset=4, end_lineno=62, end_col_offset=47), Assert(test=Compare(left=Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=63, col_offset=11, end_lineno=63, end_col_offset=24), attr='gpu_resources', ctx=Load(), lineno=63, col_offset=11, end_lineno=63, end_col_offset=38), ops=[Is()], comparators=[Name(id='gpu_resources', ctx=Load(), lineno=63, col_offset=42, end_lineno=63, end_col_offset=55)], lineno=63, col_offset=11, end_lineno=63, end_col_offset=55), lineno=63, col_offset=4, end_lineno=63, end_col_offset=55), Assert(test=Compare(left=Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=64, col_offset=11, end_lineno=64, end_col_offset=24), attr='gpu_disabled_reason', ctx=Load(), lineno=64, col_offset=11, end_lineno=64, end_col_offset=44), ops=[Is()], comparators=[Constant(value=None, lineno=64, col_offset=48, end_lineno=64, end_col_offset=52)], lineno=64, col_offset=11, end_lineno=64, end_col_offset=52), lineno=64, col_offset=4, end_lineno=64, end_col_offset=52)], returns=Constant(value=None, lineno=41, col_offset=95, end_lineno=41, end_col_offset=99), lineno=41, col_offset=0, end_lineno=64, end_col_offset=52), FunctionDef(name='test_clone_to_gpu_falls_back', args=arguments(args=[arg(arg='monkeypatch', annotation=Attribute(value=Name(id='pytest', ctx=Load(), lineno=68, col_offset=17, end_lineno=68, end_col_offset=23), attr='MonkeyPatch', ctx=Load(), lineno=68, col_offset=17, end_lineno=68, end_col_offset=35), lineno=68, col_offset=4, end_lineno=68, end_col_offset=35), arg(arg='faiss_manager', annotation=Name(id='FAISSManager', ctx=Load(), lineno=68, col_offset=52, end_lineno=68, end_col_offset=64), lineno=68, col_offset=37, end_lineno=68, end_col_offset=64)]), body=[Expr(value=Constant(value='GPU cloning failure is logged and returns False without raising.', lineno=70, col_offset=4, end_lineno=70, end_col_offset=74), lineno=70, col_offset=4, end_lineno=70, end_col_offset=74), FunctionDef(name='failing_resources', args=arguments(), body=[Assign(targets=[Name(id='msg', ctx=Store(), lineno=73, col_offset=8, end_lineno=73, end_col_offset=11)], value=Constant(value='CUDA unavailable', lineno=73, col_offset=14, end_lineno=73, end_col_offset=32), lineno=73, col_offset=8, end_lineno=73, end_col_offset=32), Raise(exc=Call(func=Name(id='RuntimeError', ctx=Load(), lineno=74, col_offset=14, end_lineno=74, end_col_offset=26), args=[Name(id='msg', ctx=Load(), lineno=74, col_offset=27, end_lineno=74, end_col_offset=30)], lineno=74, col_offset=14, end_lineno=74, end_col_offset=31), lineno=74, col_offset=8, end_lineno=74, end_col_offset=31)], returns=Constant(value=None, lineno=72, col_offset=31, end_lineno=72, end_col_offset=35), lineno=72, col_offset=4, end_lineno=74, end_col_offset=31), Expr(value=Call(func=Attribute(value=Name(id='monkeypatch', ctx=Load(), lineno=76, col_offset=4, end_lineno=76, end_col_offset=15), attr='setattr', ctx=Load(), lineno=76, col_offset=4, end_lineno=76, end_col_offset=23), args=[Name(id='faiss_module', ctx=Load(), lineno=76, col_offset=24, end_lineno=76, end_col_offset=36), Constant(value='StandardGpuResources', lineno=76, col_offset=38, end_lineno=76, end_col_offset=60), Name(id='failing_resources', ctx=Load(), lineno=76, col_offset=62, end_lineno=76, end_col_offset=79)], keywords=[keyword(arg='raising', value=Constant(value=False, lineno=76, col_offset=89, end_lineno=76, end_col_offset=94), lineno=76, col_offset=81, end_lineno=76, end_col_offset=94)], lineno=76, col_offset=4, end_lineno=76, end_col_offset=95), lineno=76, col_offset=4, end_lineno=76, end_col_offset=95), Assign(targets=[Name(id='success', ctx=Store(), lineno=78, col_offset=4, end_lineno=78, end_col_offset=11)], value=Call(func=Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=78, col_offset=14, end_lineno=78, end_col_offset=27), attr='clone_to_gpu', ctx=Load(), lineno=78, col_offset=14, end_lineno=78, end_col_offset=40), lineno=78, col_offset=14, end_lineno=78, end_col_offset=42), lineno=78, col_offset=4, end_lineno=78, end_col_offset=42), Assert(test=Compare(left=Name(id='success', ctx=Load(), lineno=80, col_offset=11, end_lineno=80, end_col_offset=18), ops=[Is()], comparators=[Constant(value=False, lineno=80, col_offset=22, end_lineno=80, end_col_offset=27)], lineno=80, col_offset=11, end_lineno=80, end_col_offset=27), lineno=80, col_offset=4, end_lineno=80, end_col_offset=27), Assert(test=Compare(left=Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=81, col_offset=11, end_lineno=81, end_col_offset=24), attr='gpu_index', ctx=Load(), lineno=81, col_offset=11, end_lineno=81, end_col_offset=34), ops=[Is()], comparators=[Constant(value=None, lineno=81, col_offset=38, end_lineno=81, end_col_offset=42)], lineno=81, col_offset=11, end_lineno=81, end_col_offset=42), lineno=81, col_offset=4, end_lineno=81, end_col_offset=42), Assert(test=Compare(left=Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=82, col_offset=11, end_lineno=82, end_col_offset=24), attr='gpu_resources', ctx=Load(), lineno=82, col_offset=11, end_lineno=82, end_col_offset=38), ops=[Is()], comparators=[Constant(value=None, lineno=82, col_offset=42, end_lineno=82, end_col_offset=46)], lineno=82, col_offset=11, end_lineno=82, end_col_offset=46), lineno=82, col_offset=4, end_lineno=82, end_col_offset=46), Assert(test=Compare(left=Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=83, col_offset=11, end_lineno=83, end_col_offset=24), attr='gpu_disabled_reason', ctx=Load(), lineno=83, col_offset=11, end_lineno=83, end_col_offset=44), ops=[IsNot()], comparators=[Constant(value=None, lineno=83, col_offset=52, end_lineno=83, end_col_offset=56)], lineno=83, col_offset=11, end_lineno=83, end_col_offset=56), lineno=83, col_offset=4, end_lineno=83, end_col_offset=56), Assert(test=Compare(left=Constant(value='CUDA unavailable', lineno=84, col_offset=11, end_lineno=84, end_col_offset=29), ops=[In()], comparators=[Attribute(value=Name(id='faiss_manager', ctx=Load(), lineno=84, col_offset=33, end_lineno=84, end_col_offset=46), attr='gpu_disabled_reason', ctx=Load(), lineno=84, col_offset=33, end_lineno=84, end_col_offset=66)], lineno=84, col_offset=11, end_lineno=84, end_col_offset=66), lineno=84, col_offset=4, end_lineno=84, end_col_offset=66)], returns=Constant(value=None, lineno=69, col_offset=5, end_lineno=69, end_col_offset=9), lineno=67, col_offset=0, end_lineno=84, end_col_offset=66)])