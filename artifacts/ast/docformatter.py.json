Module(body=[Expr(value=Constant(value='Overview of docformatter.\n\nThis module bundles docformatter logic for the kgfoundry stack. It groups related helpers so\ndownstream packages can import a single cohesive namespace. Refer to the functions and classes below\nfor implementation specifics.\n', lineno=1, col_offset=0, end_lineno=6, end_col_offset=3), lineno=1, col_offset=0, end_lineno=6, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=8, col_offset=23, end_lineno=8, end_col_offset=34)], level=0, lineno=8, col_offset=0, end_lineno=8, end_col_offset=34), Import(names=[alias(name='sys', lineno=10, col_offset=7, end_lineno=10, end_col_offset=10)], lineno=10, col_offset=0, end_lineno=10, end_col_offset=10), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=11, col_offset=20, end_lineno=11, end_col_offset=24)], level=0, lineno=11, col_offset=0, end_lineno=11, end_col_offset=24), ImportFrom(module='tools', names=[alias(name='ToolExecutionError', lineno=13, col_offset=18, end_lineno=13, end_col_offset=36), alias(name='get_logger', lineno=13, col_offset=38, end_lineno=13, end_col_offset=48), alias(name='run_tool', lineno=13, col_offset=50, end_lineno=13, end_col_offset=58)], level=0, lineno=13, col_offset=0, end_lineno=13, end_col_offset=58), Assign(targets=[Name(id='LOGGER', ctx=Store(), lineno=15, col_offset=0, end_lineno=15, end_col_offset=6)], value=Call(func=Name(id='get_logger', ctx=Load(), lineno=15, col_offset=9, end_lineno=15, end_col_offset=19), args=[Name(id='__name__', ctx=Load(), lineno=15, col_offset=20, end_lineno=15, end_col_offset=28)], lineno=15, col_offset=9, end_lineno=15, end_col_offset=29), lineno=15, col_offset=0, end_lineno=15, end_col_offset=29), FunctionDef(name='git_diff_names', args=arguments(), body=[Expr(value=Constant(value='Compute git diff names.\n\n    Carry out the git diff names operation for the surrounding component. Generated documentation highlights how this helper collaborates with neighbouring utilities. Callers rely on the routine to remain stable across releases.\n\n    Returns\n    -------\n    set[str]\n        Set of changed file names.\n\n    Raises\n    ------\n    SystemExit\n        If git command execution fails.\n\n    Examples\n    --------\n    >>> from tools.hooks.docformatter import git_diff_names\n    >>> result = git_diff_names()\n    >>> result  # doctest: +ELLIPSIS\n    ', lineno=19, col_offset=4, end_lineno=38, end_col_offset=7), lineno=19, col_offset=4, end_lineno=38, end_col_offset=7), Try(body=[Assign(targets=[Name(id='result', ctx=Store(), lineno=40, col_offset=8, end_lineno=40, end_col_offset=14)], value=Call(func=Name(id='run_tool', ctx=Load(), lineno=40, col_offset=17, end_lineno=40, end_col_offset=25), args=[List(elts=[Constant(value='git', lineno=40, col_offset=27, end_lineno=40, end_col_offset=32), Constant(value='diff', lineno=40, col_offset=34, end_lineno=40, end_col_offset=40), Constant(value='--name-only', lineno=40, col_offset=42, end_lineno=40, end_col_offset=55)], ctx=Load(), lineno=40, col_offset=26, end_lineno=40, end_col_offset=56)], keywords=[keyword(arg='timeout', value=Constant(value=10.0, lineno=40, col_offset=66, end_lineno=40, end_col_offset=70), lineno=40, col_offset=58, end_lineno=40, end_col_offset=70), keyword(arg='check', value=Constant(value=True, lineno=40, col_offset=78, end_lineno=40, end_col_offset=82), lineno=40, col_offset=72, end_lineno=40, end_col_offset=82)], lineno=40, col_offset=17, end_lineno=40, end_col_offset=83), lineno=40, col_offset=8, end_lineno=40, end_col_offset=83), Return(value=SetComp(elt=Name(id='line', ctx=Load(), lineno=41, col_offset=16, end_lineno=41, end_col_offset=20), generators=[comprehension(target=Name(id='line', ctx=Store(), lineno=41, col_offset=25, end_lineno=41, end_col_offset=29), iter=Call(func=Attribute(value=Attribute(value=Name(id='result', ctx=Load(), lineno=41, col_offset=33, end_lineno=41, end_col_offset=39), attr='stdout', ctx=Load(), lineno=41, col_offset=33, end_lineno=41, end_col_offset=46), attr='splitlines', ctx=Load(), lineno=41, col_offset=33, end_lineno=41, end_col_offset=57), lineno=41, col_offset=33, end_lineno=41, end_col_offset=59), ifs=[Call(func=Attribute(value=Name(id='line', ctx=Load(), lineno=41, col_offset=63, end_lineno=41, end_col_offset=67), attr='strip', ctx=Load(), lineno=41, col_offset=63, end_lineno=41, end_col_offset=73), lineno=41, col_offset=63, end_lineno=41, end_col_offset=75)], is_async=0)], lineno=41, col_offset=15, end_lineno=41, end_col_offset=76), lineno=41, col_offset=8, end_lineno=41, end_col_offset=76)], handlers=[ExceptHandler(type=Name(id='ToolExecutionError', ctx=Load(), lineno=42, col_offset=11, end_lineno=42, end_col_offset=29), name='exc', body=[Expr(value=Call(func=Attribute(value=Name(id='LOGGER', ctx=Load(), lineno=43, col_offset=8, end_lineno=43, end_col_offset=14), attr='exception', ctx=Load(), lineno=43, col_offset=8, end_lineno=43, end_col_offset=24), args=[Constant(value='Failed to get git diff names', lineno=43, col_offset=25, end_lineno=43, end_col_offset=55)], lineno=43, col_offset=8, end_lineno=43, end_col_offset=56), lineno=43, col_offset=8, end_lineno=43, end_col_offset=56), Raise(exc=Call(func=Name(id='SystemExit', ctx=Load(), lineno=44, col_offset=14, end_lineno=44, end_col_offset=24), args=[IfExp(test=Compare(left=Attribute(value=Name(id='exc', ctx=Load(), lineno=44, col_offset=43, end_lineno=44, end_col_offset=46), attr='returncode', ctx=Load(), lineno=44, col_offset=43, end_lineno=44, end_col_offset=57), ops=[IsNot()], comparators=[Constant(value=None, lineno=44, col_offset=65, end_lineno=44, end_col_offset=69)], lineno=44, col_offset=43, end_lineno=44, end_col_offset=69), body=Attribute(value=Name(id='exc', ctx=Load(), lineno=44, col_offset=25, end_lineno=44, end_col_offset=28), attr='returncode', ctx=Load(), lineno=44, col_offset=25, end_lineno=44, end_col_offset=39), orelse=Constant(value=1, lineno=44, col_offset=75, end_lineno=44, end_col_offset=76), lineno=44, col_offset=25, end_lineno=44, end_col_offset=76)], lineno=44, col_offset=14, end_lineno=44, end_col_offset=77), cause=Name(id='exc', ctx=Load(), lineno=44, col_offset=83, end_lineno=44, end_col_offset=86), lineno=44, col_offset=8, end_lineno=44, end_col_offset=86)], lineno=42, col_offset=4, end_lineno=44, end_col_offset=86)], lineno=39, col_offset=4, end_lineno=44, end_col_offset=86)], returns=Subscript(value=Name(id='set', ctx=Load(), lineno=18, col_offset=24, end_lineno=18, end_col_offset=27), slice=Name(id='str', ctx=Load(), lineno=18, col_offset=28, end_lineno=18, end_col_offset=31), ctx=Load(), lineno=18, col_offset=24, end_lineno=18, end_col_offset=32), lineno=18, col_offset=0, end_lineno=44, end_col_offset=86), FunctionDef(name='main', args=arguments(), body=[Expr(value=Constant(value='Compute main.\n\n    Carry out the main operation for the surrounding component. Generated documentation highlights how this helper collaborates with neighbouring utilities. Callers rely on the routine to remain stable across releases.\n\n    Returns\n    -------\n    int\n        Description of return value.\n\n    Examples\n    --------\n    >>> from tools.hooks.docformatter import main\n    >>> result = main()\n    >>> result  # doctest: +ELLIPSIS\n    ', lineno=48, col_offset=4, end_lineno=62, end_col_offset=7), lineno=48, col_offset=4, end_lineno=62, end_col_offset=7), Try(body=[Assign(targets=[Name(id='repo_result', ctx=Store(), lineno=64, col_offset=8, end_lineno=64, end_col_offset=19)], value=Call(func=Name(id='run_tool', ctx=Load(), lineno=64, col_offset=22, end_lineno=64, end_col_offset=30), args=[List(elts=[Constant(value='git', lineno=64, col_offset=32, end_lineno=64, end_col_offset=37), Constant(value='rev-parse', lineno=64, col_offset=39, end_lineno=64, end_col_offset=50), Constant(value='--show-toplevel', lineno=64, col_offset=52, end_lineno=64, end_col_offset=69)], ctx=Load(), lineno=64, col_offset=31, end_lineno=64, end_col_offset=70)], keywords=[keyword(arg='timeout', value=Constant(value=10.0, lineno=64, col_offset=80, end_lineno=64, end_col_offset=84), lineno=64, col_offset=72, end_lineno=64, end_col_offset=84), keyword(arg='check', value=Constant(value=True, lineno=64, col_offset=92, end_lineno=64, end_col_offset=96), lineno=64, col_offset=86, end_lineno=64, end_col_offset=96)], lineno=64, col_offset=22, end_lineno=64, end_col_offset=97), lineno=64, col_offset=8, end_lineno=64, end_col_offset=97), Assign(targets=[Name(id='repo', ctx=Store(), lineno=65, col_offset=8, end_lineno=65, end_col_offset=12)], value=Call(func=Attribute(value=Attribute(value=Name(id='repo_result', ctx=Load(), lineno=65, col_offset=15, end_lineno=65, end_col_offset=26), attr='stdout', ctx=Load(), lineno=65, col_offset=15, end_lineno=65, end_col_offset=33), attr='strip', ctx=Load(), lineno=65, col_offset=15, end_lineno=65, end_col_offset=39), lineno=65, col_offset=15, end_lineno=65, end_col_offset=41), lineno=65, col_offset=8, end_lineno=65, end_col_offset=41)], handlers=[ExceptHandler(type=Name(id='ToolExecutionError', ctx=Load(), lineno=66, col_offset=11, end_lineno=66, end_col_offset=29), name='exc', body=[Expr(value=Call(func=Attribute(value=Name(id='LOGGER', ctx=Load(), lineno=67, col_offset=8, end_lineno=67, end_col_offset=14), attr='exception', ctx=Load(), lineno=67, col_offset=8, end_lineno=67, end_col_offset=24), args=[Constant(value='Failed to resolve git repository root', lineno=67, col_offset=25, end_lineno=67, end_col_offset=64)], lineno=67, col_offset=8, end_lineno=67, end_col_offset=65), lineno=67, col_offset=8, end_lineno=67, end_col_offset=65), Return(value=IfExp(test=Compare(left=Attribute(value=Name(id='exc', ctx=Load(), lineno=68, col_offset=33, end_lineno=68, end_col_offset=36), attr='returncode', ctx=Load(), lineno=68, col_offset=33, end_lineno=68, end_col_offset=47), ops=[IsNot()], comparators=[Constant(value=None, lineno=68, col_offset=55, end_lineno=68, end_col_offset=59)], lineno=68, col_offset=33, end_lineno=68, end_col_offset=59), body=Attribute(value=Name(id='exc', ctx=Load(), lineno=68, col_offset=15, end_lineno=68, end_col_offset=18), attr='returncode', ctx=Load(), lineno=68, col_offset=15, end_lineno=68, end_col_offset=29), orelse=Constant(value=1, lineno=68, col_offset=65, end_lineno=68, end_col_offset=66), lineno=68, col_offset=15, end_lineno=68, end_col_offset=66), lineno=68, col_offset=8, end_lineno=68, end_col_offset=66)], lineno=66, col_offset=4, end_lineno=68, end_col_offset=66)], lineno=63, col_offset=4, end_lineno=68, end_col_offset=66), Assign(targets=[Name(id='before', ctx=Store(), lineno=70, col_offset=4, end_lineno=70, end_col_offset=10)], value=Call(func=Name(id='git_diff_names', ctx=Load(), lineno=70, col_offset=13, end_lineno=70, end_col_offset=27), lineno=70, col_offset=13, end_lineno=70, end_col_offset=29), lineno=70, col_offset=4, end_lineno=70, end_col_offset=29), Assign(targets=[Name(id='cmd', ctx=Store(), lineno=72, col_offset=4, end_lineno=72, end_col_offset=7)], value=List(elts=[Attribute(value=Name(id='sys', ctx=Load(), lineno=73, col_offset=8, end_lineno=73, end_col_offset=11), attr='executable', ctx=Load(), lineno=73, col_offset=8, end_lineno=73, end_col_offset=22), Constant(value='-m', lineno=74, col_offset=8, end_lineno=74, end_col_offset=12), Constant(value='docformatter', lineno=75, col_offset=8, end_lineno=75, end_col_offset=22), Constant(value='--in-place', lineno=76, col_offset=8, end_lineno=76, end_col_offset=20), Constant(value='--wrap-summaries=100', lineno=77, col_offset=8, end_lineno=77, end_col_offset=30), Constant(value='--wrap-descriptions=100', lineno=78, col_offset=8, end_lineno=78, end_col_offset=33), Constant(value='-r', lineno=79, col_offset=8, end_lineno=79, end_col_offset=12), Constant(value='src', lineno=80, col_offset=8, end_lineno=80, end_col_offset=13)], ctx=Load(), lineno=72, col_offset=10, end_lineno=81, end_col_offset=5), lineno=72, col_offset=4, end_lineno=81, end_col_offset=5), Try(body=[Assign(targets=[Name(id='result', ctx=Store(), lineno=83, col_offset=8, end_lineno=83, end_col_offset=14)], value=Call(func=Name(id='run_tool', ctx=Load(), lineno=83, col_offset=17, end_lineno=83, end_col_offset=25), args=[Name(id='cmd', ctx=Load(), lineno=83, col_offset=26, end_lineno=83, end_col_offset=29)], keywords=[keyword(arg='timeout', value=Constant(value=20.0, lineno=83, col_offset=39, end_lineno=83, end_col_offset=43), lineno=83, col_offset=31, end_lineno=83, end_col_offset=43), keyword(arg='cwd', value=Call(func=Name(id='Path', ctx=Load(), lineno=83, col_offset=49, end_lineno=83, end_col_offset=53), args=[Name(id='repo', ctx=Load(), lineno=83, col_offset=54, end_lineno=83, end_col_offset=58)], lineno=83, col_offset=49, end_lineno=83, end_col_offset=59), lineno=83, col_offset=45, end_lineno=83, end_col_offset=59), keyword(arg='check', value=Constant(value=False, lineno=83, col_offset=67, end_lineno=83, end_col_offset=72), lineno=83, col_offset=61, end_lineno=83, end_col_offset=72)], lineno=83, col_offset=17, end_lineno=83, end_col_offset=73), lineno=83, col_offset=8, end_lineno=83, end_col_offset=73)], handlers=[ExceptHandler(type=Name(id='ToolExecutionError', ctx=Load(), lineno=84, col_offset=11, end_lineno=84, end_col_offset=29), name='exc', body=[Expr(value=Call(func=Attribute(value=Name(id='LOGGER', ctx=Load(), lineno=85, col_offset=8, end_lineno=85, end_col_offset=14), attr='exception', ctx=Load(), lineno=85, col_offset=8, end_lineno=85, end_col_offset=24), args=[Constant(value='docformatter execution failed', lineno=85, col_offset=25, end_lineno=85, end_col_offset=56)], lineno=85, col_offset=8, end_lineno=85, end_col_offset=57), lineno=85, col_offset=8, end_lineno=85, end_col_offset=57), Return(value=IfExp(test=Compare(left=Attribute(value=Name(id='exc', ctx=Load(), lineno=86, col_offset=33, end_lineno=86, end_col_offset=36), attr='returncode', ctx=Load(), lineno=86, col_offset=33, end_lineno=86, end_col_offset=47), ops=[IsNot()], comparators=[Constant(value=None, lineno=86, col_offset=55, end_lineno=86, end_col_offset=59)], lineno=86, col_offset=33, end_lineno=86, end_col_offset=59), body=Attribute(value=Name(id='exc', ctx=Load(), lineno=86, col_offset=15, end_lineno=86, end_col_offset=18), attr='returncode', ctx=Load(), lineno=86, col_offset=15, end_lineno=86, end_col_offset=29), orelse=Constant(value=1, lineno=86, col_offset=65, end_lineno=86, end_col_offset=66), lineno=86, col_offset=15, end_lineno=86, end_col_offset=66), lineno=86, col_offset=8, end_lineno=86, end_col_offset=66)], lineno=84, col_offset=4, end_lineno=86, end_col_offset=66)], lineno=82, col_offset=4, end_lineno=86, end_col_offset=66), If(test=Compare(left=Attribute(value=Name(id='result', ctx=Load(), lineno=88, col_offset=7, end_lineno=88, end_col_offset=13), attr='returncode', ctx=Load(), lineno=88, col_offset=7, end_lineno=88, end_col_offset=24), ops=[NotIn()], comparators=[Set(elts=[Constant(value=0, lineno=88, col_offset=33, end_lineno=88, end_col_offset=34), Constant(value=3, lineno=88, col_offset=36, end_lineno=88, end_col_offset=37)], lineno=88, col_offset=32, end_lineno=88, end_col_offset=38)], lineno=88, col_offset=7, end_lineno=88, end_col_offset=38), body=[Return(value=Attribute(value=Name(id='result', ctx=Load(), lineno=89, col_offset=15, end_lineno=89, end_col_offset=21), attr='returncode', ctx=Load(), lineno=89, col_offset=15, end_lineno=89, end_col_offset=32), lineno=89, col_offset=8, end_lineno=89, end_col_offset=32)], lineno=88, col_offset=4, end_lineno=89, end_col_offset=32), Assign(targets=[Name(id='after', ctx=Store(), lineno=91, col_offset=4, end_lineno=91, end_col_offset=9)], value=Call(func=Name(id='git_diff_names', ctx=Load(), lineno=91, col_offset=12, end_lineno=91, end_col_offset=26), lineno=91, col_offset=12, end_lineno=91, end_col_offset=28), lineno=91, col_offset=4, end_lineno=91, end_col_offset=28), Assign(targets=[Name(id='changed', ctx=Store(), lineno=92, col_offset=4, end_lineno=92, end_col_offset=11)], value=Call(func=Name(id='sorted', ctx=Load(), lineno=92, col_offset=14, end_lineno=92, end_col_offset=20), args=[BinOp(left=Name(id='after', ctx=Load(), lineno=92, col_offset=21, end_lineno=92, end_col_offset=26), op=Sub(), right=Name(id='before', ctx=Load(), lineno=92, col_offset=29, end_lineno=92, end_col_offset=35), lineno=92, col_offset=21, end_lineno=92, end_col_offset=35)], lineno=92, col_offset=14, end_lineno=92, end_col_offset=36), lineno=92, col_offset=4, end_lineno=92, end_col_offset=36), If(test=Name(id='changed', ctx=Load(), lineno=93, col_offset=7, end_lineno=93, end_col_offset=14), body=[Expr(value=Call(func=Attribute(value=Name(id='LOGGER', ctx=Load(), lineno=94, col_offset=8, end_lineno=94, end_col_offset=14), attr='info', ctx=Load(), lineno=94, col_offset=8, end_lineno=94, end_col_offset=19), args=[Constant(value='docformatter updated:', lineno=94, col_offset=20, end_lineno=94, end_col_offset=43)], lineno=94, col_offset=8, end_lineno=94, end_col_offset=44), lineno=94, col_offset=8, end_lineno=94, end_col_offset=44), For(target=Name(id='path', ctx=Store(), lineno=95, col_offset=12, end_lineno=95, end_col_offset=16), iter=Name(id='changed', ctx=Load(), lineno=95, col_offset=20, end_lineno=95, end_col_offset=27), body=[Expr(value=Call(func=Attribute(value=Name(id='LOGGER', ctx=Load(), lineno=96, col_offset=12, end_lineno=96, end_col_offset=18), attr='info', ctx=Load(), lineno=96, col_offset=12, end_lineno=96, end_col_offset=23), args=[Constant(value='  %s', lineno=96, col_offset=24, end_lineno=96, end_col_offset=30), Name(id='path', ctx=Load(), lineno=96, col_offset=32, end_lineno=96, end_col_offset=36)], lineno=96, col_offset=12, end_lineno=96, end_col_offset=37), lineno=96, col_offset=12, end_lineno=96, end_col_offset=37)], lineno=95, col_offset=8, end_lineno=96, end_col_offset=37)], lineno=93, col_offset=4, end_lineno=96, end_col_offset=37), Return(value=Constant(value=0, lineno=97, col_offset=11, end_lineno=97, end_col_offset=12), lineno=97, col_offset=4, end_lineno=97, end_col_offset=12)], returns=Name(id='int', ctx=Load(), lineno=47, col_offset=14, end_lineno=47, end_col_offset=17), lineno=47, col_offset=0, end_lineno=97, end_col_offset=12), If(test=Compare(left=Name(id='__name__', ctx=Load(), lineno=100, col_offset=3, end_lineno=100, end_col_offset=11), ops=[Eq()], comparators=[Constant(value='__main__', lineno=100, col_offset=15, end_lineno=100, end_col_offset=25)], lineno=100, col_offset=3, end_lineno=100, end_col_offset=25), body=[Raise(exc=Call(func=Name(id='SystemExit', ctx=Load(), lineno=101, col_offset=10, end_lineno=101, end_col_offset=20), args=[Call(func=Name(id='main', ctx=Load(), lineno=101, col_offset=21, end_lineno=101, end_col_offset=25), lineno=101, col_offset=21, end_lineno=101, end_col_offset=27)], lineno=101, col_offset=10, end_lineno=101, end_col_offset=28), lineno=101, col_offset=4, end_lineno=101, end_col_offset=28)], lineno=100, col_offset=0, end_lineno=101, end_col_offset=28)])