Module(body=[Expr(value=Constant(value='Public API for navmap repair operations with typed configuration.\n\nThis module provides the new typed configuration-based API for navmap repairs, wrapping existing\nfunctions while maintaining backward compatibility.\n', lineno=1, col_offset=0, end_lineno=5, end_col_offset=3), lineno=1, col_offset=0, end_lineno=5, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=7, col_offset=23, end_lineno=7, end_col_offset=34)], level=0, lineno=7, col_offset=0, end_lineno=7, end_col_offset=34), Import(names=[alias(name='warnings', lineno=9, col_offset=7, end_lineno=9, end_col_offset=15)], lineno=9, col_offset=0, end_lineno=9, end_col_offset=15), ImportFrom(module='typing', names=[alias(name='TYPE_CHECKING', lineno=10, col_offset=19, end_lineno=10, end_col_offset=32), alias(name='Protocol', lineno=10, col_offset=34, end_lineno=10, end_col_offset=42), alias(name='cast', lineno=10, col_offset=44, end_lineno=10, end_col_offset=48)], level=0, lineno=10, col_offset=0, end_lineno=10, end_col_offset=48), ImportFrom(module='tools.navmap', names=[alias(name='repair_navmaps', lineno=12, col_offset=25, end_lineno=12, end_col_offset=39)], level=0, lineno=12, col_offset=0, end_lineno=12, end_col_offset=39), ImportFrom(module='tools.navmap.repair_navmaps', names=[alias(name='RepairExecutionConfig', lineno=13, col_offset=40, end_lineno=13, end_col_offset=61)], level=0, lineno=13, col_offset=0, end_lineno=13, end_col_offset=61), If(test=Name(id='TYPE_CHECKING', ctx=Load(), lineno=15, col_offset=3, end_lineno=15, end_col_offset=16), body=[ImportFrom(module='pathlib', names=[alias(name='Path', lineno=16, col_offset=24, end_lineno=16, end_col_offset=28)], level=0, lineno=16, col_offset=4, end_lineno=16, end_col_offset=28), ImportFrom(module='tools.navmap.build_navmap', names=[alias(name='ModuleInfo', lineno=18, col_offset=42, end_lineno=18, end_col_offset=52)], level=0, lineno=18, col_offset=4, end_lineno=18, end_col_offset=52), ImportFrom(module='tools.navmap.config', names=[alias(name='NavmapRepairOptions', lineno=19, col_offset=36, end_lineno=19, end_col_offset=55)], level=0, lineno=19, col_offset=4, end_lineno=19, end_col_offset=55)], lineno=15, col_offset=0, end_lineno=19, end_col_offset=55), ClassDef(name='ModuleInfoProtocol', bases=[Name(id='Protocol', ctx=Load(), lineno=22, col_offset=25, end_lineno=22, end_col_offset=33)], body=[Expr(value=Constant(value='Protocol interface for ModuleInfo at runtime.', lineno=23, col_offset=4, end_lineno=23, end_col_offset=55), lineno=23, col_offset=4, end_lineno=23, end_col_offset=55), FunctionDef(name='path', args=arguments(args=[arg(arg='self', lineno=26, col_offset=13, end_lineno=26, end_col_offset=17)]), body=[Expr(value=Constant(value='Absolute path to the module.', lineno=27, col_offset=8, end_lineno=27, end_col_offset=42), lineno=27, col_offset=8, end_lineno=27, end_col_offset=42), Expr(value=Constant(value=Ellipsis, lineno=28, col_offset=8, end_lineno=28, end_col_offset=11), lineno=28, col_offset=8, end_lineno=28, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=25, col_offset=5, end_lineno=25, end_col_offset=13)], returns=Name(id='Path', ctx=Load(), lineno=26, col_offset=22, end_lineno=26, end_col_offset=26), lineno=26, col_offset=4, end_lineno=28, end_col_offset=11), FunctionDef(name='module', args=arguments(args=[arg(arg='self', lineno=31, col_offset=15, end_lineno=31, end_col_offset=19)]), body=[Expr(value=Constant(value='Dotted module name.', lineno=32, col_offset=8, end_lineno=32, end_col_offset=33), lineno=32, col_offset=8, end_lineno=32, end_col_offset=33), Expr(value=Constant(value=Ellipsis, lineno=33, col_offset=8, end_lineno=33, end_col_offset=11), lineno=33, col_offset=8, end_lineno=33, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=30, col_offset=5, end_lineno=30, end_col_offset=13)], returns=Name(id='str', ctx=Load(), lineno=31, col_offset=24, end_lineno=31, end_col_offset=27), lineno=31, col_offset=4, end_lineno=33, end_col_offset=11)], lineno=22, col_offset=0, end_lineno=33, end_col_offset=11), ClassDef(name='NavmapRepairOptionsProtocol', bases=[Name(id='Protocol', ctx=Load(), lineno=36, col_offset=34, end_lineno=36, end_col_offset=42)], body=[Expr(value=Constant(value='Protocol interface for NavmapRepairOptions at runtime.', lineno=37, col_offset=4, end_lineno=37, end_col_offset=64), lineno=37, col_offset=4, end_lineno=37, end_col_offset=64), FunctionDef(name='root', args=arguments(args=[arg(arg='self', lineno=40, col_offset=13, end_lineno=40, end_col_offset=17)]), body=[Expr(value=Constant(value='Root directory for navmap traversal.', lineno=41, col_offset=8, end_lineno=41, end_col_offset=50), lineno=41, col_offset=8, end_lineno=41, end_col_offset=50), Expr(value=Constant(value=Ellipsis, lineno=42, col_offset=8, end_lineno=42, end_col_offset=11), lineno=42, col_offset=8, end_lineno=42, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=39, col_offset=5, end_lineno=39, end_col_offset=13)], returns=BinOp(left=Name(id='Path', ctx=Load(), lineno=40, col_offset=22, end_lineno=40, end_col_offset=26), op=BitOr(), right=Constant(value=None, lineno=40, col_offset=29, end_lineno=40, end_col_offset=33), lineno=40, col_offset=22, end_lineno=40, end_col_offset=33), lineno=40, col_offset=4, end_lineno=42, end_col_offset=11), FunctionDef(name='apply', args=arguments(args=[arg(arg='self', lineno=45, col_offset=14, end_lineno=45, end_col_offset=18)]), body=[Expr(value=Constant(value='Whether repairs should be written to disk.', lineno=46, col_offset=8, end_lineno=46, end_col_offset=56), lineno=46, col_offset=8, end_lineno=46, end_col_offset=56), Expr(value=Constant(value=Ellipsis, lineno=47, col_offset=8, end_lineno=47, end_col_offset=11), lineno=47, col_offset=8, end_lineno=47, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=44, col_offset=5, end_lineno=44, end_col_offset=13)], returns=Name(id='bool', ctx=Load(), lineno=45, col_offset=23, end_lineno=45, end_col_offset=27), lineno=45, col_offset=4, end_lineno=47, end_col_offset=11), FunctionDef(name='emit_json', args=arguments(args=[arg(arg='self', lineno=50, col_offset=18, end_lineno=50, end_col_offset=22)]), body=[Expr(value=Constant(value='Whether execution emits JSON output.', lineno=51, col_offset=8, end_lineno=51, end_col_offset=50), lineno=51, col_offset=8, end_lineno=51, end_col_offset=50), Expr(value=Constant(value=Ellipsis, lineno=52, col_offset=8, end_lineno=52, end_col_offset=11), lineno=52, col_offset=8, end_lineno=52, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=49, col_offset=5, end_lineno=49, end_col_offset=13)], returns=Name(id='bool', ctx=Load(), lineno=50, col_offset=27, end_lineno=50, end_col_offset=31), lineno=50, col_offset=4, end_lineno=52, end_col_offset=11)], lineno=36, col_offset=0, end_lineno=52, end_col_offset=11), ClassDef(name='RepairResultProtocol', bases=[Name(id='Protocol', ctx=Load(), lineno=55, col_offset=27, end_lineno=55, end_col_offset=35)], body=[Expr(value=Constant(value='Protocol interface for RepairResult at runtime.', lineno=56, col_offset=4, end_lineno=56, end_col_offset=57), lineno=56, col_offset=4, end_lineno=56, end_col_offset=57), FunctionDef(name='module', args=arguments(args=[arg(arg='self', lineno=59, col_offset=15, end_lineno=59, end_col_offset=19)]), body=[Expr(value=Constant(value='Return module path.', lineno=60, col_offset=8, end_lineno=60, end_col_offset=33), lineno=60, col_offset=8, end_lineno=60, end_col_offset=33), Expr(value=Constant(value=Ellipsis, lineno=61, col_offset=8, end_lineno=61, end_col_offset=11), lineno=61, col_offset=8, end_lineno=61, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=58, col_offset=5, end_lineno=58, end_col_offset=13)], returns=Name(id='Path', ctx=Load(), lineno=59, col_offset=24, end_lineno=59, end_col_offset=28), lineno=59, col_offset=4, end_lineno=61, end_col_offset=11), FunctionDef(name='messages', args=arguments(args=[arg(arg='self', lineno=64, col_offset=17, end_lineno=64, end_col_offset=21)]), body=[Expr(value=Constant(value='Return repair messages.', lineno=65, col_offset=8, end_lineno=65, end_col_offset=37), lineno=65, col_offset=8, end_lineno=65, end_col_offset=37), Expr(value=Constant(value=Ellipsis, lineno=66, col_offset=8, end_lineno=66, end_col_offset=11), lineno=66, col_offset=8, end_lineno=66, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=63, col_offset=5, end_lineno=63, end_col_offset=13)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=64, col_offset=26, end_lineno=64, end_col_offset=30), slice=Name(id='str', ctx=Load(), lineno=64, col_offset=31, end_lineno=64, end_col_offset=34), ctx=Load(), lineno=64, col_offset=26, end_lineno=64, end_col_offset=35), lineno=64, col_offset=4, end_lineno=66, end_col_offset=11), FunctionDef(name='changed', args=arguments(args=[arg(arg='self', lineno=69, col_offset=16, end_lineno=69, end_col_offset=20)]), body=[Expr(value=Constant(value='Return whether changes were made.', lineno=70, col_offset=8, end_lineno=70, end_col_offset=47), lineno=70, col_offset=8, end_lineno=70, end_col_offset=47), Expr(value=Constant(value=Ellipsis, lineno=71, col_offset=8, end_lineno=71, end_col_offset=11), lineno=71, col_offset=8, end_lineno=71, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=68, col_offset=5, end_lineno=68, end_col_offset=13)], returns=Name(id='bool', ctx=Load(), lineno=69, col_offset=25, end_lineno=69, end_col_offset=29), lineno=69, col_offset=4, end_lineno=71, end_col_offset=11), FunctionDef(name='applied', args=arguments(args=[arg(arg='self', lineno=74, col_offset=16, end_lineno=74, end_col_offset=20)]), body=[Expr(value=Constant(value='Return whether changes were applied.', lineno=75, col_offset=8, end_lineno=75, end_col_offset=50), lineno=75, col_offset=8, end_lineno=75, end_col_offset=50), Expr(value=Constant(value=Ellipsis, lineno=76, col_offset=8, end_lineno=76, end_col_offset=11), lineno=76, col_offset=8, end_lineno=76, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=73, col_offset=5, end_lineno=73, end_col_offset=13)], returns=Name(id='bool', ctx=Load(), lineno=74, col_offset=25, end_lineno=74, end_col_offset=29), lineno=74, col_offset=4, end_lineno=76, end_col_offset=11)], lineno=55, col_offset=0, end_lineno=76, end_col_offset=11), ClassDef(name='RepairExecutionConfigProtocol', bases=[Name(id='Protocol', ctx=Load(), lineno=79, col_offset=36, end_lineno=79, end_col_offset=44)], body=[Expr(value=Constant(value='Protocol interface for RepairExecutionConfig at runtime.', lineno=80, col_offset=4, end_lineno=80, end_col_offset=66), lineno=80, col_offset=4, end_lineno=80, end_col_offset=66), FunctionDef(name='apply_changes', args=arguments(args=[arg(arg='self', lineno=83, col_offset=22, end_lineno=83, end_col_offset=26)]), body=[Expr(value=Constant(value='Return whether to apply changes.', lineno=84, col_offset=8, end_lineno=84, end_col_offset=46), lineno=84, col_offset=8, end_lineno=84, end_col_offset=46), Expr(value=Constant(value=Ellipsis, lineno=85, col_offset=8, end_lineno=85, end_col_offset=11), lineno=85, col_offset=8, end_lineno=85, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=82, col_offset=5, end_lineno=82, end_col_offset=13)], returns=Name(id='bool', ctx=Load(), lineno=83, col_offset=31, end_lineno=83, end_col_offset=35), lineno=83, col_offset=4, end_lineno=85, end_col_offset=11), FunctionDef(name='emit_json', args=arguments(args=[arg(arg='self', lineno=88, col_offset=18, end_lineno=88, end_col_offset=22)]), body=[Expr(value=Constant(value='Return whether to emit JSON output.', lineno=89, col_offset=8, end_lineno=89, end_col_offset=49), lineno=89, col_offset=8, end_lineno=89, end_col_offset=49), Expr(value=Constant(value=Ellipsis, lineno=90, col_offset=8, end_lineno=90, end_col_offset=11), lineno=90, col_offset=8, end_lineno=90, end_col_offset=11)], decorator_list=[Name(id='property', ctx=Load(), lineno=87, col_offset=5, end_lineno=87, end_col_offset=13)], returns=Name(id='bool', ctx=Load(), lineno=88, col_offset=27, end_lineno=88, end_col_offset=31), lineno=88, col_offset=4, end_lineno=90, end_col_offset=11)], lineno=79, col_offset=0, end_lineno=90, end_col_offset=11), FunctionDef(name='repair_module_with_config', args=arguments(args=[arg(arg='info', annotation=Name(id='ModuleInfoProtocol', ctx=Load(), lineno=94, col_offset=10, end_lineno=94, end_col_offset=28), lineno=94, col_offset=4, end_lineno=94, end_col_offset=28)], kwonlyargs=[arg(arg='options', annotation=Name(id='NavmapRepairOptionsProtocol', ctx=Load(), lineno=96, col_offset=13, end_lineno=96, end_col_offset=40), lineno=96, col_offset=4, end_lineno=96, end_col_offset=40)], kw_defaults=[None]), body=[Expr(value=Constant(value="Repair a module's navmap metadata with typed configuration.\n\n    This is the new public API for module repair that accepts a typed\n    configuration object instead of boolean positional arguments.\n\n    Parameters\n    ----------\n    info : ModuleInfoProtocol\n        Metadata describing the target module discovered by ``build_navmap``.\n    options : NavmapRepairOptionsProtocol\n        Typed configuration controlling repair behavior.\n\n    Returns\n    -------\n    RepairResultProtocol\n        Outcome describing emitted messages alongside change and apply flags.\n\n    Examples\n    --------\n    >>> from tools.navmap.config import NavmapRepairOptions\n    >>> options = NavmapRepairOptions(apply=True)\n    >>> # result = repair_module_with_config(module_info, options=options)\n    ", lineno=98, col_offset=4, end_lineno=120, end_col_offset=7), lineno=98, col_offset=4, end_lineno=120, end_col_offset=7), Assign(targets=[Name(id='typed_options', ctx=Store(), lineno=121, col_offset=4, end_lineno=121, end_col_offset=17)], value=Call(func=Name(id='cast', ctx=Load(), lineno=121, col_offset=20, end_lineno=121, end_col_offset=24), args=[Constant(value='NavmapRepairOptions', lineno=121, col_offset=25, end_lineno=121, end_col_offset=46), Name(id='options', ctx=Load(), lineno=121, col_offset=48, end_lineno=121, end_col_offset=55)], lineno=121, col_offset=20, end_lineno=121, end_col_offset=56), lineno=121, col_offset=4, end_lineno=121, end_col_offset=56), Assign(targets=[Name(id='execution', ctx=Store(), lineno=122, col_offset=4, end_lineno=122, end_col_offset=13)], value=Call(func=Name(id='RepairExecutionConfig', ctx=Load(), lineno=122, col_offset=16, end_lineno=122, end_col_offset=37), keywords=[keyword(arg='apply_changes', value=Attribute(value=Name(id='typed_options', ctx=Load(), lineno=123, col_offset=22, end_lineno=123, end_col_offset=35), attr='apply', ctx=Load(), lineno=123, col_offset=22, end_lineno=123, end_col_offset=41), lineno=123, col_offset=8, end_lineno=123, end_col_offset=41), keyword(arg='emit_json', value=Attribute(value=Name(id='typed_options', ctx=Load(), lineno=124, col_offset=18, end_lineno=124, end_col_offset=31), attr='emit_json', ctx=Load(), lineno=124, col_offset=18, end_lineno=124, end_col_offset=41), lineno=124, col_offset=8, end_lineno=124, end_col_offset=41)], lineno=122, col_offset=16, end_lineno=125, end_col_offset=5), lineno=122, col_offset=4, end_lineno=125, end_col_offset=5), Assign(targets=[Name(id='typed_info', ctx=Store(), lineno=126, col_offset=4, end_lineno=126, end_col_offset=14)], value=Call(func=Name(id='cast', ctx=Load(), lineno=126, col_offset=17, end_lineno=126, end_col_offset=21), args=[Constant(value='ModuleInfo', lineno=126, col_offset=22, end_lineno=126, end_col_offset=34), Name(id='info', ctx=Load(), lineno=126, col_offset=36, end_lineno=126, end_col_offset=40)], lineno=126, col_offset=17, end_lineno=126, end_col_offset=41), lineno=126, col_offset=4, end_lineno=126, end_col_offset=41), Assign(targets=[Name(id='result', ctx=Store(), lineno=127, col_offset=4, end_lineno=127, end_col_offset=10)], value=Call(func=Attribute(value=Name(id='repair_navmaps', ctx=Load(), lineno=127, col_offset=13, end_lineno=127, end_col_offset=27), attr='repair_module', ctx=Load(), lineno=127, col_offset=13, end_lineno=127, end_col_offset=41), args=[Name(id='typed_info', ctx=Load(), lineno=127, col_offset=42, end_lineno=127, end_col_offset=52)], keywords=[keyword(arg='execution', value=Name(id='execution', ctx=Load(), lineno=127, col_offset=64, end_lineno=127, end_col_offset=73), lineno=127, col_offset=54, end_lineno=127, end_col_offset=73)], lineno=127, col_offset=13, end_lineno=127, end_col_offset=74), lineno=127, col_offset=4, end_lineno=127, end_col_offset=74), Return(value=Call(func=Name(id='cast', ctx=Load(), lineno=128, col_offset=11, end_lineno=128, end_col_offset=15), args=[Constant(value='RepairResultProtocol', lineno=128, col_offset=16, end_lineno=128, end_col_offset=38), Name(id='result', ctx=Load(), lineno=128, col_offset=40, end_lineno=128, end_col_offset=46)], lineno=128, col_offset=11, end_lineno=128, end_col_offset=47), lineno=128, col_offset=4, end_lineno=128, end_col_offset=47)], returns=Name(id='RepairResultProtocol', ctx=Load(), lineno=97, col_offset=5, end_lineno=97, end_col_offset=25), lineno=93, col_offset=0, end_lineno=128, end_col_offset=47), FunctionDef(name='repair_all_with_config', args=arguments(kwonlyargs=[arg(arg='root', annotation=BinOp(left=Name(id='Path', ctx=Load(), lineno=133, col_offset=10, end_lineno=133, end_col_offset=14), op=BitOr(), right=Constant(value=None, lineno=133, col_offset=17, end_lineno=133, end_col_offset=21), lineno=133, col_offset=10, end_lineno=133, end_col_offset=21), lineno=133, col_offset=4, end_lineno=133, end_col_offset=21), arg(arg='options', annotation=Name(id='NavmapRepairOptionsProtocol', ctx=Load(), lineno=134, col_offset=13, end_lineno=134, end_col_offset=40), lineno=134, col_offset=4, end_lineno=134, end_col_offset=40)], kw_defaults=[Constant(value=None, lineno=133, col_offset=24, end_lineno=133, end_col_offset=28), None]), body=[Expr(value=Constant(value='Repair every module under a root directory with typed configuration.\n\n    This is the new public API for batch repair that accepts a typed\n    configuration object instead of boolean positional arguments.\n\n    Parameters\n    ----------\n    root : Path | None, optional\n        Directory tree to scan. Defaults to project src/ if None.\n    options : NavmapRepairOptionsProtocol\n        Typed configuration controlling repair behavior (apply, etc.).\n\n    Returns\n    -------\n    list[RepairResultProtocol]\n        List of repair results for all modules found under root.\n\n    Examples\n    --------\n    >>> from pathlib import Path\n    >>> from tools.navmap.config import NavmapRepairOptions\n    >>> options = NavmapRepairOptions(apply=False)\n    >>> # results = repair_all_with_config(root=Path("src"), options=options)\n    ', lineno=136, col_offset=4, end_lineno=159, end_col_offset=7), lineno=136, col_offset=4, end_lineno=159, end_col_offset=7), Assign(targets=[Name(id='typed_options', ctx=Store(), lineno=160, col_offset=4, end_lineno=160, end_col_offset=17)], value=Call(func=Name(id='cast', ctx=Load(), lineno=160, col_offset=20, end_lineno=160, end_col_offset=24), args=[Constant(value='NavmapRepairOptions', lineno=160, col_offset=25, end_lineno=160, end_col_offset=46), Name(id='options', ctx=Load(), lineno=160, col_offset=48, end_lineno=160, end_col_offset=55)], lineno=160, col_offset=20, end_lineno=160, end_col_offset=56), lineno=160, col_offset=4, end_lineno=160, end_col_offset=56), Assign(targets=[Name(id='target_root', ctx=Store(), lineno=161, col_offset=4, end_lineno=161, end_col_offset=15)], value=BoolOp(op=Or(), values=[Name(id='root', ctx=Load(), lineno=161, col_offset=18, end_lineno=161, end_col_offset=22), Attribute(value=Name(id='typed_options', ctx=Load(), lineno=161, col_offset=26, end_lineno=161, end_col_offset=39), attr='root', ctx=Load(), lineno=161, col_offset=26, end_lineno=161, end_col_offset=44), Attribute(value=Name(id='repair_navmaps', ctx=Load(), lineno=161, col_offset=48, end_lineno=161, end_col_offset=62), attr='SRC', ctx=Load(), lineno=161, col_offset=48, end_lineno=161, end_col_offset=66)], lineno=161, col_offset=18, end_lineno=161, end_col_offset=66), lineno=161, col_offset=4, end_lineno=161, end_col_offset=66), Assign(targets=[Name(id='execution', ctx=Store(), lineno=162, col_offset=4, end_lineno=162, end_col_offset=13)], value=Call(func=Name(id='RepairExecutionConfig', ctx=Load(), lineno=162, col_offset=16, end_lineno=162, end_col_offset=37), keywords=[keyword(arg='apply_changes', value=Attribute(value=Name(id='typed_options', ctx=Load(), lineno=163, col_offset=22, end_lineno=163, end_col_offset=35), attr='apply', ctx=Load(), lineno=163, col_offset=22, end_lineno=163, end_col_offset=41), lineno=163, col_offset=8, end_lineno=163, end_col_offset=41), keyword(arg='emit_json', value=Attribute(value=Name(id='typed_options', ctx=Load(), lineno=164, col_offset=18, end_lineno=164, end_col_offset=31), attr='emit_json', ctx=Load(), lineno=164, col_offset=18, end_lineno=164, end_col_offset=41), lineno=164, col_offset=8, end_lineno=164, end_col_offset=41)], lineno=162, col_offset=16, end_lineno=165, end_col_offset=5), lineno=162, col_offset=4, end_lineno=165, end_col_offset=5), Assign(targets=[Name(id='results', ctx=Store(), lineno=166, col_offset=4, end_lineno=166, end_col_offset=11)], value=Call(func=Attribute(value=Name(id='repair_navmaps', ctx=Load(), lineno=166, col_offset=14, end_lineno=166, end_col_offset=28), attr='repair_all', ctx=Load(), lineno=166, col_offset=14, end_lineno=166, end_col_offset=39), args=[Name(id='target_root', ctx=Load(), lineno=166, col_offset=40, end_lineno=166, end_col_offset=51)], keywords=[keyword(arg='execution', value=Name(id='execution', ctx=Load(), lineno=166, col_offset=63, end_lineno=166, end_col_offset=72), lineno=166, col_offset=53, end_lineno=166, end_col_offset=72)], lineno=166, col_offset=14, end_lineno=166, end_col_offset=73), lineno=166, col_offset=4, end_lineno=166, end_col_offset=73), Return(value=Call(func=Name(id='cast', ctx=Load(), lineno=167, col_offset=11, end_lineno=167, end_col_offset=15), args=[Constant(value='list[RepairResultProtocol]', lineno=167, col_offset=16, end_lineno=167, end_col_offset=44), Name(id='results', ctx=Load(), lineno=167, col_offset=46, end_lineno=167, end_col_offset=53)], lineno=167, col_offset=11, end_lineno=167, end_col_offset=54), lineno=167, col_offset=4, end_lineno=167, end_col_offset=54)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=135, col_offset=5, end_lineno=135, end_col_offset=9), slice=Name(id='RepairResultProtocol', ctx=Load(), lineno=135, col_offset=10, end_lineno=135, end_col_offset=30), ctx=Load(), lineno=135, col_offset=5, end_lineno=135, end_col_offset=31), lineno=131, col_offset=0, end_lineno=167, end_col_offset=54), FunctionDef(name='repair_all_legacy', args=arguments(kwonlyargs=[arg(arg='root', annotation=Name(id='Path', ctx=Load(), lineno=170, col_offset=31, end_lineno=170, end_col_offset=35), lineno=170, col_offset=25, end_lineno=170, end_col_offset=35), arg(arg='apply', annotation=Name(id='bool', ctx=Load(), lineno=170, col_offset=44, end_lineno=170, end_col_offset=48), lineno=170, col_offset=37, end_lineno=170, end_col_offset=48)], kw_defaults=[None, None]), body=[Expr(value=Constant(value='Deprecate legacy repair_all API in favor of typed configuration.\n\n    .. deprecated::\n        Use :func:`repair_all_with_config` with typed configuration objects.\n\n    This function is provided for backward compatibility and will be removed\n    in a future release.\n\n    Parameters\n    ----------\n    root : Path\n        Directory tree to scan for modules with navmap metadata.\n    apply : bool\n        When True, write fixes to disk. When False, report changes.\n\n    Returns\n    -------\n    list[RepairResultProtocol]\n        List of repair results for all modules found.\n    ', lineno=171, col_offset=4, end_lineno=190, end_col_offset=7), lineno=171, col_offset=4, end_lineno=190, end_col_offset=7), Assign(targets=[Name(id='msg', ctx=Store(), lineno=191, col_offset=4, end_lineno=191, end_col_offset=7)], value=Constant(value='repair_all_legacy() is deprecated. Use repair_all_with_config(root=..., options=NavmapRepairOptions(...)) instead.', lineno=192, col_offset=8, end_lineno=193, end_col_offset=89), lineno=191, col_offset=4, end_lineno=194, end_col_offset=5), Expr(value=Call(func=Attribute(value=Name(id='warnings', ctx=Load(), lineno=195, col_offset=4, end_lineno=195, end_col_offset=12), attr='warn', ctx=Load(), lineno=195, col_offset=4, end_lineno=195, end_col_offset=17), args=[Name(id='msg', ctx=Load(), lineno=195, col_offset=18, end_lineno=195, end_col_offset=21), Name(id='DeprecationWarning', ctx=Load(), lineno=195, col_offset=23, end_lineno=195, end_col_offset=41)], keywords=[keyword(arg='stacklevel', value=Constant(value=2, lineno=195, col_offset=54, end_lineno=195, end_col_offset=55), lineno=195, col_offset=43, end_lineno=195, end_col_offset=55)], lineno=195, col_offset=4, end_lineno=195, end_col_offset=56), lineno=195, col_offset=4, end_lineno=195, end_col_offset=56), Assign(targets=[Name(id='execution', ctx=Store(), lineno=196, col_offset=4, end_lineno=196, end_col_offset=13)], value=Call(func=Name(id='RepairExecutionConfig', ctx=Load(), lineno=196, col_offset=16, end_lineno=196, end_col_offset=37), keywords=[keyword(arg='apply_changes', value=Name(id='apply', ctx=Load(), lineno=196, col_offset=52, end_lineno=196, end_col_offset=57), lineno=196, col_offset=38, end_lineno=196, end_col_offset=57), keyword(arg='emit_json', value=Constant(value=False, lineno=196, col_offset=69, end_lineno=196, end_col_offset=74), lineno=196, col_offset=59, end_lineno=196, end_col_offset=74)], lineno=196, col_offset=16, end_lineno=196, end_col_offset=75), lineno=196, col_offset=4, end_lineno=196, end_col_offset=75), Assign(targets=[Name(id='results', ctx=Store(), lineno=197, col_offset=4, end_lineno=197, end_col_offset=11)], value=Call(func=Attribute(value=Name(id='repair_navmaps', ctx=Load(), lineno=197, col_offset=14, end_lineno=197, end_col_offset=28), attr='repair_all', ctx=Load(), lineno=197, col_offset=14, end_lineno=197, end_col_offset=39), args=[Name(id='root', ctx=Load(), lineno=197, col_offset=40, end_lineno=197, end_col_offset=44)], keywords=[keyword(arg='execution', value=Name(id='execution', ctx=Load(), lineno=197, col_offset=56, end_lineno=197, end_col_offset=65), lineno=197, col_offset=46, end_lineno=197, end_col_offset=65)], lineno=197, col_offset=14, end_lineno=197, end_col_offset=66), lineno=197, col_offset=4, end_lineno=197, end_col_offset=66), Return(value=Call(func=Name(id='cast', ctx=Load(), lineno=198, col_offset=11, end_lineno=198, end_col_offset=15), args=[Constant(value='list[RepairResultProtocol]', lineno=198, col_offset=16, end_lineno=198, end_col_offset=44), Name(id='results', ctx=Load(), lineno=198, col_offset=46, end_lineno=198, end_col_offset=53)], lineno=198, col_offset=11, end_lineno=198, end_col_offset=54), lineno=198, col_offset=4, end_lineno=198, end_col_offset=54)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=170, col_offset=53, end_lineno=170, end_col_offset=57), slice=Name(id='RepairResultProtocol', ctx=Load(), lineno=170, col_offset=58, end_lineno=170, end_col_offset=78), ctx=Load(), lineno=170, col_offset=53, end_lineno=170, end_col_offset=79), lineno=170, col_offset=0, end_lineno=198, end_col_offset=54), Assign(targets=[Name(id='__all__', ctx=Store(), lineno=201, col_offset=0, end_lineno=201, end_col_offset=7)], value=List(elts=[Constant(value='repair_all_legacy', lineno=202, col_offset=4, end_lineno=202, end_col_offset=23), Constant(value='repair_all_with_config', lineno=203, col_offset=4, end_lineno=203, end_col_offset=28), Constant(value='repair_module_with_config', lineno=204, col_offset=4, end_lineno=204, end_col_offset=31)], ctx=Load(), lineno=201, col_offset=10, end_lineno=205, end_col_offset=1), lineno=201, col_offset=0, end_lineno=205, end_col_offset=1)])