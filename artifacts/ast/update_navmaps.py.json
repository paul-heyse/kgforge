Module(body=[Expr(value=Constant(value='Overview of update navmaps.\n\nThis module bundles update navmaps logic for the kgfoundry stack. It groups related helpers so\ndownstream packages can import a single cohesive namespace. Refer to the functions and classes below\nfor implementation specifics.\n', lineno=1, col_offset=0, end_lineno=6, end_col_offset=3), lineno=1, col_offset=0, end_lineno=6, end_col_offset=3), ImportFrom(module='__future__', names=[alias(name='annotations', lineno=8, col_offset=23, end_lineno=8, end_col_offset=34)], level=0, lineno=8, col_offset=0, end_lineno=8, end_col_offset=34), Import(names=[alias(name='ast', lineno=10, col_offset=7, end_lineno=10, end_col_offset=10)], lineno=10, col_offset=0, end_lineno=10, end_col_offset=10), ImportFrom(module='pathlib', names=[alias(name='Path', lineno=11, col_offset=20, end_lineno=11, end_col_offset=24)], level=0, lineno=11, col_offset=0, end_lineno=11, end_col_offset=24), Assign(targets=[Name(id='ROOT', ctx=Store(), lineno=13, col_offset=0, end_lineno=13, end_col_offset=4)], value=Subscript(value=Attribute(value=Call(func=Attribute(value=Call(func=Name(id='Path', ctx=Load(), lineno=13, col_offset=7, end_lineno=13, end_col_offset=11), args=[Name(id='__file__', ctx=Load(), lineno=13, col_offset=12, end_lineno=13, end_col_offset=20)], lineno=13, col_offset=7, end_lineno=13, end_col_offset=21), attr='resolve', ctx=Load(), lineno=13, col_offset=7, end_lineno=13, end_col_offset=29), lineno=13, col_offset=7, end_lineno=13, end_col_offset=31), attr='parents', ctx=Load(), lineno=13, col_offset=7, end_lineno=13, end_col_offset=39), slice=Constant(value=1, lineno=13, col_offset=40, end_lineno=13, end_col_offset=41), ctx=Load(), lineno=13, col_offset=7, end_lineno=13, end_col_offset=42), lineno=13, col_offset=0, end_lineno=13, end_col_offset=42), Assign(targets=[Name(id='SRC', ctx=Store(), lineno=14, col_offset=0, end_lineno=14, end_col_offset=3)], value=BinOp(left=Name(id='ROOT', ctx=Load(), lineno=14, col_offset=6, end_lineno=14, end_col_offset=10), op=Div(), right=Constant(value='src', lineno=14, col_offset=13, end_lineno=14, end_col_offset=18), lineno=14, col_offset=6, end_lineno=14, end_col_offset=18), lineno=14, col_offset=0, end_lineno=14, end_col_offset=18), FunctionDef(name='iter_python_files', args=arguments(), body=[Expr(value=Constant(value='Compute iter python files.\n\n    Carry out the iter python files operation for the surrounding component. Generated documentation highlights how this helper collaborates with neighbouring utilities. Callers rely on the routine to remain stable across releases.\n\n    Returns\n    -------\n    list[Path]\n        Sorted list of Path objects pointing to Python source files found\n        in the project, excluding directories and non-Python files.\n    ', lineno=18, col_offset=4, end_lineno=27, end_col_offset=7), lineno=18, col_offset=4, end_lineno=27, end_col_offset=7), Assign(targets=[Name(id='search_root', ctx=Store(), lineno=28, col_offset=4, end_lineno=28, end_col_offset=15)], value=IfExp(test=Call(func=Attribute(value=Name(id='SRC', ctx=Load(), lineno=28, col_offset=25, end_lineno=28, end_col_offset=28), attr='exists', ctx=Load(), lineno=28, col_offset=25, end_lineno=28, end_col_offset=35), lineno=28, col_offset=25, end_lineno=28, end_col_offset=37), body=Name(id='SRC', ctx=Load(), lineno=28, col_offset=18, end_lineno=28, end_col_offset=21), orelse=Name(id='ROOT', ctx=Load(), lineno=28, col_offset=43, end_lineno=28, end_col_offset=47), lineno=28, col_offset=18, end_lineno=28, end_col_offset=47), lineno=28, col_offset=4, end_lineno=28, end_col_offset=47), Return(value=Call(func=Name(id='sorted', ctx=Load(), lineno=29, col_offset=11, end_lineno=29, end_col_offset=17), args=[GeneratorExp(elt=Name(id='path', ctx=Load(), lineno=29, col_offset=18, end_lineno=29, end_col_offset=22), generators=[comprehension(target=Name(id='path', ctx=Store(), lineno=29, col_offset=27, end_lineno=29, end_col_offset=31), iter=Call(func=Attribute(value=Name(id='search_root', ctx=Load(), lineno=29, col_offset=35, end_lineno=29, end_col_offset=46), attr='rglob', ctx=Load(), lineno=29, col_offset=35, end_lineno=29, end_col_offset=52), args=[Constant(value='*.py', lineno=29, col_offset=53, end_lineno=29, end_col_offset=59)], lineno=29, col_offset=35, end_lineno=29, end_col_offset=60), ifs=[Call(func=Attribute(value=Name(id='path', ctx=Load(), lineno=29, col_offset=64, end_lineno=29, end_col_offset=68), attr='is_file', ctx=Load(), lineno=29, col_offset=64, end_lineno=29, end_col_offset=76), lineno=29, col_offset=64, end_lineno=29, end_col_offset=78)], is_async=0)], lineno=29, col_offset=17, end_lineno=29, end_col_offset=79)], lineno=29, col_offset=11, end_lineno=29, end_col_offset=79), lineno=29, col_offset=4, end_lineno=29, end_col_offset=79)], returns=Subscript(value=Name(id='list', ctx=Load(), lineno=17, col_offset=27, end_lineno=17, end_col_offset=31), slice=Name(id='Path', ctx=Load(), lineno=17, col_offset=32, end_lineno=17, end_col_offset=36), ctx=Load(), lineno=17, col_offset=27, end_lineno=17, end_col_offset=37), lineno=17, col_offset=0, end_lineno=29, end_col_offset=79), FunctionDef(name='module_docstring', args=arguments(args=[arg(arg='path', annotation=Name(id='Path', ctx=Load(), lineno=32, col_offset=27, end_lineno=32, end_col_offset=31), lineno=32, col_offset=21, end_lineno=32, end_col_offset=31)]), body=[Expr(value=Constant(value='Compute module docstring.\n\n    Carry out the module docstring operation for the surrounding component. Generated documentation highlights how this helper collaborates with neighbouring utilities. Callers rely on the routine to remain stable across releases.\n\n    Parameters\n    ----------\n    path : Path\n        Description for ``path``.\n\n    Returns\n    -------\n    str | None\n        Description of return value.\n\n    Examples\n    --------\n    >>> from tools.update_navmaps import module_docstring\n    >>> result = module_docstring(...)\n    >>> result  # doctest: +ELLIPSIS\n    ', lineno=33, col_offset=4, end_lineno=52, end_col_offset=7), lineno=33, col_offset=4, end_lineno=52, end_col_offset=7), Try(body=[Assign(targets=[Name(id='tree', ctx=Store(), lineno=54, col_offset=8, end_lineno=54, end_col_offset=12)], value=Call(func=Attribute(value=Name(id='ast', ctx=Load(), lineno=54, col_offset=15, end_lineno=54, end_col_offset=18), attr='parse', ctx=Load(), lineno=54, col_offset=15, end_lineno=54, end_col_offset=24), args=[Call(func=Attribute(value=Name(id='path', ctx=Load(), lineno=54, col_offset=25, end_lineno=54, end_col_offset=29), attr='read_text', ctx=Load(), lineno=54, col_offset=25, end_lineno=54, end_col_offset=39), keywords=[keyword(arg='encoding', value=Constant(value='utf-8', lineno=54, col_offset=49, end_lineno=54, end_col_offset=56), lineno=54, col_offset=40, end_lineno=54, end_col_offset=56)], lineno=54, col_offset=25, end_lineno=54, end_col_offset=57)], lineno=54, col_offset=15, end_lineno=54, end_col_offset=58), lineno=54, col_offset=8, end_lineno=54, end_col_offset=58)], handlers=[ExceptHandler(type=Name(id='UnicodeDecodeError', ctx=Load(), lineno=55, col_offset=11, end_lineno=55, end_col_offset=29), body=[Return(value=Constant(value=None, lineno=56, col_offset=15, end_lineno=56, end_col_offset=19), lineno=56, col_offset=8, end_lineno=56, end_col_offset=19)], lineno=55, col_offset=4, end_lineno=56, end_col_offset=19)], lineno=53, col_offset=4, end_lineno=56, end_col_offset=19), Return(value=Call(func=Attribute(value=Name(id='ast', ctx=Load(), lineno=57, col_offset=11, end_lineno=57, end_col_offset=14), attr='get_docstring', ctx=Load(), lineno=57, col_offset=11, end_lineno=57, end_col_offset=28), args=[Name(id='tree', ctx=Load(), lineno=57, col_offset=29, end_lineno=57, end_col_offset=33)], lineno=57, col_offset=11, end_lineno=57, end_col_offset=34), lineno=57, col_offset=4, end_lineno=57, end_col_offset=34)], returns=BinOp(left=Name(id='str', ctx=Load(), lineno=32, col_offset=36, end_lineno=32, end_col_offset=39), op=BitOr(), right=Constant(value=None, lineno=32, col_offset=42, end_lineno=32, end_col_offset=46), lineno=32, col_offset=36, end_lineno=32, end_col_offset=46), lineno=32, col_offset=0, end_lineno=57, end_col_offset=34), FunctionDef(name='main', args=arguments(), body=[Expr(value=Constant(value='Compute main.\n\n    Carry out the main operation for the surrounding component. Generated documentation highlights how this helper collaborates with neighbouring utilities. Callers rely on the routine to remain stable across releases.\n\n    Raises\n    ------\n    SystemExit\n        Raised when validation fails.\n\n    Examples\n    --------\n    >>> from tools.update_navmaps import main\n    >>> main()  # doctest: +ELLIPSIS\n    ', lineno=61, col_offset=4, end_lineno=74, end_col_offset=7), lineno=61, col_offset=4, end_lineno=74, end_col_offset=7), AnnAssign(target=Name(id='offenders', ctx=Store(), lineno=75, col_offset=4, end_lineno=75, end_col_offset=13), annotation=Subscript(value=Name(id='list', ctx=Load(), lineno=75, col_offset=15, end_lineno=75, end_col_offset=19), slice=Name(id='Path', ctx=Load(), lineno=75, col_offset=20, end_lineno=75, end_col_offset=24), ctx=Load(), lineno=75, col_offset=15, end_lineno=75, end_col_offset=25), value=List(ctx=Load(), lineno=75, col_offset=28, end_lineno=75, end_col_offset=30), simple=1, lineno=75, col_offset=4, end_lineno=75, end_col_offset=30), For(target=Name(id='file_path', ctx=Store(), lineno=76, col_offset=8, end_lineno=76, end_col_offset=17), iter=Call(func=Name(id='iter_python_files', ctx=Load(), lineno=76, col_offset=21, end_lineno=76, end_col_offset=38), lineno=76, col_offset=21, end_lineno=76, end_col_offset=40), body=[Assign(targets=[Name(id='doc', ctx=Store(), lineno=77, col_offset=8, end_lineno=77, end_col_offset=11)], value=Call(func=Name(id='module_docstring', ctx=Load(), lineno=77, col_offset=14, end_lineno=77, end_col_offset=30), args=[Name(id='file_path', ctx=Load(), lineno=77, col_offset=31, end_lineno=77, end_col_offset=40)], lineno=77, col_offset=14, end_lineno=77, end_col_offset=41), lineno=77, col_offset=8, end_lineno=77, end_col_offset=41), If(test=BoolOp(op=And(), values=[Name(id='doc', ctx=Load(), lineno=78, col_offset=11, end_lineno=78, end_col_offset=14), Compare(left=Constant(value='NavMap:', lineno=78, col_offset=19, end_lineno=78, end_col_offset=28), ops=[In()], comparators=[Name(id='doc', ctx=Load(), lineno=78, col_offset=32, end_lineno=78, end_col_offset=35)], lineno=78, col_offset=19, end_lineno=78, end_col_offset=35)], lineno=78, col_offset=11, end_lineno=78, end_col_offset=35), body=[Expr(value=Call(func=Attribute(value=Name(id='offenders', ctx=Load(), lineno=79, col_offset=12, end_lineno=79, end_col_offset=21), attr='append', ctx=Load(), lineno=79, col_offset=12, end_lineno=79, end_col_offset=28), args=[Name(id='file_path', ctx=Load(), lineno=79, col_offset=29, end_lineno=79, end_col_offset=38)], lineno=79, col_offset=12, end_lineno=79, end_col_offset=39), lineno=79, col_offset=12, end_lineno=79, end_col_offset=39)], lineno=78, col_offset=8, end_lineno=79, end_col_offset=39)], lineno=76, col_offset=4, end_lineno=79, end_col_offset=39), If(test=Name(id='offenders', ctx=Load(), lineno=80, col_offset=7, end_lineno=80, end_col_offset=16), body=[Assign(targets=[Name(id='joined', ctx=Store(), lineno=81, col_offset=8, end_lineno=81, end_col_offset=14)], value=Call(func=Attribute(value=Constant(value='\n', lineno=81, col_offset=17, end_lineno=81, end_col_offset=21), attr='join', ctx=Load(), lineno=81, col_offset=17, end_lineno=81, end_col_offset=26), args=[GeneratorExp(elt=Call(func=Name(id='str', ctx=Load(), lineno=81, col_offset=27, end_lineno=81, end_col_offset=30), args=[Name(id='path', ctx=Load(), lineno=81, col_offset=31, end_lineno=81, end_col_offset=35)], lineno=81, col_offset=27, end_lineno=81, end_col_offset=36), generators=[comprehension(target=Name(id='path', ctx=Store(), lineno=81, col_offset=41, end_lineno=81, end_col_offset=45), iter=Name(id='offenders', ctx=Load(), lineno=81, col_offset=49, end_lineno=81, end_col_offset=58), is_async=0)], lineno=81, col_offset=26, end_lineno=81, end_col_offset=59)], lineno=81, col_offset=17, end_lineno=81, end_col_offset=59), lineno=81, col_offset=8, end_lineno=81, end_col_offset=59), Assign(targets=[Name(id='message', ctx=Store(), lineno=82, col_offset=8, end_lineno=82, end_col_offset=15)], value=JoinedStr(values=[Constant(value="Module docstrings must not contain 'NavMap:' sections. Found violations in:\n", lineno=83, col_offset=14, end_lineno=83, end_col_offset=91), FormattedValue(value=Name(id='joined', ctx=Load(), lineno=83, col_offset=92, end_lineno=83, end_col_offset=98), conversion=-1, lineno=83, col_offset=91, end_lineno=83, end_col_offset=99)], lineno=83, col_offset=12, end_lineno=83, end_col_offset=100), lineno=82, col_offset=8, end_lineno=84, end_col_offset=9), Raise(exc=Call(func=Name(id='SystemExit', ctx=Load(), lineno=85, col_offset=14, end_lineno=85, end_col_offset=24), args=[Name(id='message', ctx=Load(), lineno=85, col_offset=25, end_lineno=85, end_col_offset=32)], lineno=85, col_offset=14, end_lineno=85, end_col_offset=33), lineno=85, col_offset=8, end_lineno=85, end_col_offset=33)], lineno=80, col_offset=4, end_lineno=85, end_col_offset=33)], returns=Constant(value=None, lineno=60, col_offset=14, end_lineno=60, end_col_offset=18), lineno=60, col_offset=0, end_lineno=85, end_col_offset=33), If(test=Compare(left=Name(id='__name__', ctx=Load(), lineno=88, col_offset=3, end_lineno=88, end_col_offset=11), ops=[Eq()], comparators=[Constant(value='__main__', lineno=88, col_offset=15, end_lineno=88, end_col_offset=25)], lineno=88, col_offset=3, end_lineno=88, end_col_offset=25), body=[Expr(value=Call(func=Name(id='main', ctx=Load(), lineno=89, col_offset=4, end_lineno=89, end_col_offset=8), lineno=89, col_offset=4, end_lineno=89, end_col_offset=10), lineno=89, col_offset=4, end_lineno=89, end_col_offset=10)], lineno=88, col_offset=0, end_lineno=89, end_col_offset=10)])