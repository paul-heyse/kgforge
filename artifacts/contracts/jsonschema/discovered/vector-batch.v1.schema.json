{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://kgfoundry.dev/schema/vector-ingestion/vector-batch.v1.json",
  "title": "Vector Batch Payload",
  "description": "Dense vector ingestion payload consumed by the FAISS index CLI.",
  "type": "array",
  "minItems": 1,
  "maxItems": 1000000,
  "items": {
    "type": "object",
    "required": ["key", "vector"],
    "additionalProperties": false,
    "properties": {
      "key": {
        "type": "string",
        "description": "Unique identifier for the vector row (e.g., document or chunk ID).",
        "minLength": 1,
        "maxLength": 1024
      },
      "vector": {
        "type": "array",
        "description": "Dense embedding values that will be coerced to float32.",
        "minItems": 1,
        "maxItems": 4096,
        "items": {
          "type": "number"
        }
      }
    }
  },
  "examples": [
    [
      {
        "key": "doc_001",
        "vector": [0.12, 0.34, 0.56]
      },
      {
        "key": "doc_002",
        "vector": [0.98, 0.76, 0.54]
      }
    ]
  ]
}

